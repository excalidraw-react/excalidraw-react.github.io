var mI=i=>{throw TypeError(i)};var tI=(i,g,j)=>g.has(i)?mI("Cannot add the same private member more than once"):g instanceof WeakSet?g.add(i):g.set(i,j);(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))et(rt);new MutationObserver(rt=>{for(const It of rt)if(It.type==="childList")for(const _t of It.addedNodes)_t.tagName==="LINK"&&_t.rel==="modulepreload"&&et(_t)}).observe(document,{childList:!0,subtree:!0});function j(rt){const It={};return rt.integrity&&(It.integrity=rt.integrity),rt.referrerPolicy&&(It.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?It.credentials="include":rt.crossOrigin==="anonymous"?It.credentials="omit":It.credentials="same-origin",It}function et(rt){if(rt.ep)return;rt.ep=!0;const It=j(rt);fetch(rt.href,It)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,g,j){this.props=i,this.context=g,this.refs=D$1,this.updater=j||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,g){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,g,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,g,j){this.props=i,this.context=g,this.refs=D$1,this.updater=j||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,g,j){var et,rt={},It=null,_t=null;if(g!=null)for(et in g.ref!==void 0&&(_t=g.ref),g.key!==void 0&&(It=""+g.key),g)J.call(g,et)&&!L$1.hasOwnProperty(et)&&(rt[et]=g[et]);var gn=arguments.length-2;if(gn===1)rt.children=j;else if(1<gn){for(var Xn=Array(gn),En=0;En<gn;En++)Xn[En]=arguments[En+2];rt.children=Xn}if(i&&i.defaultProps)for(et in gn=i.defaultProps,gn)rt[et]===void 0&&(rt[et]=gn[et]);return{$$typeof:l$2,type:i,key:It,ref:_t,props:rt,_owner:K$1.current}}function N$1(i,g){return{$$typeof:l$2,type:i.type,key:g,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape(i){var g={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(j){return g[j]})}var P$2=/\/+/g;function Q$1(i,g){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):g.toString(36)}function R$1(i,g,j,et,rt){var It=typeof i;(It==="undefined"||It==="boolean")&&(i=null);var _t=!1;if(i===null)_t=!0;else switch(It){case"string":case"number":_t=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:_t=!0}}if(_t)return _t=i,rt=rt(_t),i=et===""?"."+Q$1(_t,0):et,I$1(rt)?(j="",i!=null&&(j=i.replace(P$2,"$&/")+"/"),R$1(rt,g,j,"",function(En){return En})):rt!=null&&(O$1(rt)&&(rt=N$1(rt,j+(!rt.key||_t&&_t.key===rt.key?"":(""+rt.key).replace(P$2,"$&/")+"/")+i)),g.push(rt)),1;if(_t=0,et=et===""?".":et+":",I$1(i))for(var gn=0;gn<i.length;gn++){It=i[gn];var Xn=et+Q$1(It,gn);_t+=R$1(It,g,j,Xn,rt)}else if(Xn=A$1(i),typeof Xn=="function")for(i=Xn.call(i),gn=0;!(It=i.next()).done;)It=It.value,Xn=et+Q$1(It,gn++),_t+=R$1(It,g,j,Xn,rt);else if(It==="object")throw g=String(i),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return _t}function S$1(i,g,j){if(i==null)return i;var et=[],rt=0;return R$1(i,et,"","",function(It){return g.call(j,It,rt++)}),et}function T$1(i){if(i._status===-1){var g=i._result;g=g(),g.then(function(j){(i._status===0||i._status===-1)&&(i._status=1,i._result=j)},function(j){(i._status===0||i._status===-1)&&(i._status=2,i._result=j)}),i._status===-1&&(i._status=0,i._result=g)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,g,j){S$1(i,function(){g.apply(this,arguments)},j)},count:function(i){var g=0;return S$1(i,function(){g++}),g},toArray:function(i){return S$1(i,function(g){return g})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,g,j){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var et=C$1({},i.props),rt=i.key,It=i.ref,_t=i._owner;if(g!=null){if(g.ref!==void 0&&(It=g.ref,_t=K$1.current),g.key!==void 0&&(rt=""+g.key),i.type&&i.type.defaultProps)var gn=i.type.defaultProps;for(Xn in g)J.call(g,Xn)&&!L$1.hasOwnProperty(Xn)&&(et[Xn]=g[Xn]===void 0&&gn!==void 0?gn[Xn]:g[Xn])}var Xn=arguments.length-2;if(Xn===1)et.children=j;else if(1<Xn){gn=Array(Xn);for(var En=0;En<Xn;En++)gn[En]=arguments[En+2];et.children=gn}return{$$typeof:l$2,type:i.type,key:rt,ref:It,props:et,_owner:_t}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var g=M$1.bind(null,i);return g.type=i,g};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,g){return{$$typeof:x,type:i,compare:g===void 0?null:g}};react_production_min.startTransition=function(i){var g=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=g}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,g){return U$1.current.useCallback(i,g)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,g){return U$1.current.useEffect(i,g)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,g,j){return U$1.current.useImperativeHandle(i,g,j)};react_production_min.useInsertionEffect=function(i,g){return U$1.current.useInsertionEffect(i,g)};react_production_min.useLayoutEffect=function(i,g){return U$1.current.useLayoutEffect(i,g)};react_production_min.useMemo=function(i,g){return U$1.current.useMemo(i,g)};react_production_min.useReducer=function(i,g,j){return U$1.current.useReducer(i,g,j)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,g,j){return U$1.current.useSyncExternalStore(i,g,j)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(i,g,j){var et,rt={},It=null,_t=null;j!==void 0&&(It=""+j),g.key!==void 0&&(It=""+g.key),g.ref!==void 0&&(_t=g.ref);for(et in g)m$2.call(g,et)&&!p$2.hasOwnProperty(et)&&(rt[et]=g[et]);if(i&&i.defaultProps)for(et in g=i.defaultProps,g)rt[et]===void 0&&(rt[et]=g[et]);return{$$typeof:k$1,type:i,key:It,ref:_t,props:rt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function g(qt,Ut){var Kt=qt.length;qt.push(Ut);e:for(;0<Kt;){var yt=Kt-1>>>1,Ot=qt[yt];if(0<rt(Ot,Ut))qt[yt]=Ut,qt[Kt]=Ot,Kt=yt;else break e}}function j(qt){return qt.length===0?null:qt[0]}function et(qt){if(qt.length===0)return null;var Ut=qt[0],Kt=qt.pop();if(Kt!==Ut){qt[0]=Kt;e:for(var yt=0,Ot=qt.length,Gt=Ot>>>1;yt<Gt;){var Ct=2*(yt+1)-1,Xt=qt[Ct],ut=Ct+1,ft=qt[ut];if(0>rt(Xt,Kt))ut<Ot&&0>rt(ft,Xt)?(qt[yt]=ft,qt[ut]=Kt,yt=ut):(qt[yt]=Xt,qt[Ct]=Kt,yt=Ct);else if(ut<Ot&&0>rt(ft,Kt))qt[yt]=ft,qt[ut]=Kt,yt=ut;else break e}}return Ut}function rt(qt,Ut){var Kt=qt.sortIndex-Ut.sortIndex;return Kt!==0?Kt:qt.id-Ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var It=performance;i.unstable_now=function(){return It.now()}}else{var _t=Date,gn=_t.now();i.unstable_now=function(){return _t.now()-gn}}var Xn=[],En=[],zn=1,er=null,tr=3,$t=!1,Vt=!1,_=!1,Et=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function nt(qt){for(var Ut=j(En);Ut!==null;){if(Ut.callback===null)et(En);else if(Ut.startTime<=qt)et(En),Ut.sortIndex=Ut.expirationTime,g(Xn,Ut);else break;Ut=j(En)}}function ht(qt){if(_=!1,nt(qt),!Vt)if(j(Xn)!==null)Vt=!0,pn(Bt);else{var Ut=j(En);Ut!==null&&mn(ht,Ut.startTime-qt)}}function Bt(qt,Ut){Vt=!1,_&&(_=!1,ot(xt),xt=-1),$t=!0;var Kt=tr;try{for(nt(Ut),er=j(Xn);er!==null&&(!(er.expirationTime>Ut)||qt&&!Nt());){var yt=er.callback;if(typeof yt=="function"){er.callback=null,tr=er.priorityLevel;var Ot=yt(er.expirationTime<=Ut);Ut=i.unstable_now(),typeof Ot=="function"?er.callback=Ot:er===j(Xn)&&et(Xn),nt(Ut)}else et(Xn);er=j(Xn)}if(er!==null)var Gt=!0;else{var Ct=j(En);Ct!==null&&mn(ht,Ct.startTime-Ut),Gt=!1}return Gt}finally{er=null,tr=Kt,$t=!1}}var st=!1,tt=null,xt=-1,St=5,Zt=-1;function Nt(){return!(i.unstable_now()-Zt<St)}function dt(){if(tt!==null){var qt=i.unstable_now();Zt=qt;var Ut=!0;try{Ut=tt(!0,qt)}finally{Ut?Yt():(st=!1,tt=null)}}else st=!1}var Yt;if(typeof it=="function")Yt=function(){it(dt)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,bn=sn.port2;sn.port1.onmessage=dt,Yt=function(){bn.postMessage(null)}}else Yt=function(){Et(dt,0)};function pn(qt){tt=qt,st||(st=!0,Yt())}function mn(qt,Ut){xt=Et(function(){qt(i.unstable_now())},Ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(qt){qt.callback=null},i.unstable_continueExecution=function(){Vt||$t||(Vt=!0,pn(Bt))},i.unstable_forceFrameRate=function(qt){0>qt||125<qt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<qt?Math.floor(1e3/qt):5},i.unstable_getCurrentPriorityLevel=function(){return tr},i.unstable_getFirstCallbackNode=function(){return j(Xn)},i.unstable_next=function(qt){switch(tr){case 1:case 2:case 3:var Ut=3;break;default:Ut=tr}var Kt=tr;tr=Ut;try{return qt()}finally{tr=Kt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(qt,Ut){switch(qt){case 1:case 2:case 3:case 4:case 5:break;default:qt=3}var Kt=tr;tr=qt;try{return Ut()}finally{tr=Kt}},i.unstable_scheduleCallback=function(qt,Ut,Kt){var yt=i.unstable_now();switch(typeof Kt=="object"&&Kt!==null?(Kt=Kt.delay,Kt=typeof Kt=="number"&&0<Kt?yt+Kt:yt):Kt=yt,qt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=Kt+Ot,qt={id:zn++,callback:Ut,priorityLevel:qt,startTime:Kt,expirationTime:Ot,sortIndex:-1},Kt>yt?(qt.sortIndex=Kt,g(En,qt),j(Xn)===null&&qt===j(En)&&(_?(ot(xt),xt=-1):_=!0,mn(ht,Kt-yt))):(qt.sortIndex=Ot,g(Xn,qt),Vt||$t||(Vt=!0,pn(Bt))),qt},i.unstable_shouldYield=Nt,i.unstable_wrapCallback=function(qt){var Ut=tr;return function(){var Kt=tr;tr=Ut;try{return qt.apply(this,arguments)}finally{tr=Kt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+i,j=1;j<arguments.length;j++)g+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+i+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,g){ha(i,g),ha(i+"Capture",g)}function ha(i,g){for(ea[i]=g,i=0;i<g.length;i++)da.add(g[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,g,j,et){if(j!==null&&j.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return et?!1:j!==null?!j.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,g,j,et){if(g===null||typeof g>"u"||pa(i,g,j,et))return!0;if(et)return!1;if(j!==null)switch(j.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v$1(i,g,j,et,rt,It,_t){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=et,this.attributeNamespace=rt,this.mustUseProperty=j,this.propertyName=i,this.type=g,this.sanitizeURL=It,this.removeEmptyString=_t}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var g=i[0];z[g]=new v$1(g,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var g=i.replace(ra,sa);z[g]=new v$1(g,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,g,j,et){var rt=z.hasOwnProperty(g)?z[g]:null;(rt!==null?rt.type!==0:et||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(qa(g,j,rt,et)&&(j=null),et||rt===null?oa(g)&&(j===null?i.removeAttribute(g):i.setAttribute(g,""+j)):rt.mustUseProperty?i[rt.propertyName]=j===null?rt.type===3?!1:"":j:(g=rt.attributeName,et=rt.attributeNamespace,j===null?i.removeAttribute(g):(rt=rt.type,j=rt===3||rt===4&&j===!0?"":""+j,et?i.setAttributeNS(et,g,j):i.setAttribute(g,j))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(j){var g=j.stack.trim().match(/\n( *(at )?)/);La=g&&g[1]||""}return`
`+La+i}var Na=!1;function Oa(i,g){if(!i||Na)return"";Na=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(En){var et=En}Reflect.construct(i,[],g)}else{try{g.call()}catch(En){et=En}i.call(g.prototype)}else{try{throw Error()}catch(En){et=En}i()}}catch(En){if(En&&et&&typeof En.stack=="string"){for(var rt=En.stack.split(`
`),It=et.stack.split(`
`),_t=rt.length-1,gn=It.length-1;1<=_t&&0<=gn&&rt[_t]!==It[gn];)gn--;for(;1<=_t&&0<=gn;_t--,gn--)if(rt[_t]!==It[gn]){if(_t!==1||gn!==1)do if(_t--,gn--,0>gn||rt[_t]!==It[gn]){var Xn=`
`+rt[_t].replace(" at new "," at ");return i.displayName&&Xn.includes("<anonymous>")&&(Xn=Xn.replace("<anonymous>",i.displayName)),Xn}while(1<=_t&&0<=gn);break}}}finally{Na=!1,Error.prepareStackTrace=j}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var g=i.render;return i=i.displayName,i||(i=g.displayName||g.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return g=i.displayName||null,g!==null?g:Qa(i.type)||"Memo";case Ha:g=i._payload,i=i._init;try{return Qa(i(g))}catch{}}return null}function Ra(i){var g=i.type;switch(i.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=g.render,i=i.displayName||i.name||"",g.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(g);case 8:return g===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var g=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ua(i){var g=Ta(i)?"checked":"value",j=Object.getOwnPropertyDescriptor(i.constructor.prototype,g),et=""+i[g];if(!i.hasOwnProperty(g)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var rt=j.get,It=j.set;return Object.defineProperty(i,g,{configurable:!0,get:function(){return rt.call(this)},set:function(_t){et=""+_t,It.call(this,_t)}}),Object.defineProperty(i,g,{enumerable:j.enumerable}),{getValue:function(){return et},setValue:function(_t){et=""+_t},stopTracking:function(){i._valueTracker=null,delete i[g]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var g=i._valueTracker;if(!g)return!0;var j=g.getValue(),et="";return i&&(et=Ta(i)?i.checked?"true":"false":i.value),i=et,i!==j?(g.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,g){var j=g.checked;return A({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??i._wrapperState.initialChecked})}function Za(i,g){var j=g.defaultValue==null?"":g.defaultValue,et=g.checked!=null?g.checked:g.defaultChecked;j=Sa(g.value!=null?g.value:j),i._wrapperState={initialChecked:et,initialValue:j,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ab(i,g){g=g.checked,g!=null&&ta(i,"checked",g,!1)}function bb(i,g){ab(i,g);var j=Sa(g.value),et=g.type;if(j!=null)et==="number"?(j===0&&i.value===""||i.value!=j)&&(i.value=""+j):i.value!==""+j&&(i.value=""+j);else if(et==="submit"||et==="reset"){i.removeAttribute("value");return}g.hasOwnProperty("value")?cb(i,g.type,j):g.hasOwnProperty("defaultValue")&&cb(i,g.type,Sa(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(i.defaultChecked=!!g.defaultChecked)}function db(i,g,j){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var et=g.type;if(!(et!=="submit"&&et!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+i._wrapperState.initialValue,j||g===i.value||(i.value=g),i.defaultValue=g}j=i.name,j!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,j!==""&&(i.name=j)}function cb(i,g,j){(g!=="number"||Xa(i.ownerDocument)!==i)&&(j==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+j&&(i.defaultValue=""+j))}var eb=Array.isArray;function fb(i,g,j,et){if(i=i.options,g){g={};for(var rt=0;rt<j.length;rt++)g["$"+j[rt]]=!0;for(j=0;j<i.length;j++)rt=g.hasOwnProperty("$"+i[j].value),i[j].selected!==rt&&(i[j].selected=rt),rt&&et&&(i[j].defaultSelected=!0)}else{for(j=""+Sa(j),g=null,rt=0;rt<i.length;rt++){if(i[rt].value===j){i[rt].selected=!0,et&&(i[rt].defaultSelected=!0);return}g!==null||i[rt].disabled||(g=i[rt])}g!==null&&(g.selected=!0)}}function gb(i,g){if(g.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},g,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,g){var j=g.value;if(j==null){if(j=g.children,g=g.defaultValue,j!=null){if(g!=null)throw Error(p$1(92));if(eb(j)){if(1<j.length)throw Error(p$1(93));j=j[0]}g=j}g==null&&(g=""),j=g}i._wrapperState={initialValue:Sa(j)}}function ib(i,g){var j=Sa(g.value),et=Sa(g.defaultValue);j!=null&&(j=""+j,j!==i.value&&(i.value=j),g.defaultValue==null&&i.defaultValue!==j&&(i.defaultValue=j)),et!=null&&(i.defaultValue=""+et)}function jb(i){var g=i.textContent;g===i._wrapperState.initialValue&&g!==""&&g!==null&&(i.value=g)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,g){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(g):i==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,j,et,rt){MSApp.execUnsafeLocalFunction(function(){return i(g,j,et,rt)})}:i}(function(i,g){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=g;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;g.firstChild;)i.appendChild(g.firstChild)}});function ob(i,g){if(g){var j=i.firstChild;if(j&&j===i.lastChild&&j.nodeType===3){j.nodeValue=g;return}}i.textContent=g}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(g){g=g+i.charAt(0).toUpperCase()+i.substring(1),pb[g]=pb[i]})});function rb(i,g,j){return g==null||typeof g=="boolean"||g===""?"":j||typeof g!="number"||g===0||pb.hasOwnProperty(i)&&pb[i]?(""+g).trim():g+"px"}function sb(i,g){i=i.style;for(var j in g)if(g.hasOwnProperty(j)){var et=j.indexOf("--")===0,rt=rb(j,g[j],et);j==="float"&&(j="cssFloat"),et?i.setProperty(j,rt):i[j]=rt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,g){if(g){if(tb[i]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(p$1(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(p$1(61))}if(g.style!=null&&typeof g.style!="object")throw Error(p$1(62))}}function vb(i,g){if(i.indexOf("-")===-1)return typeof g.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var g=i.stateNode;g&&(g=Db(g),yb(i.stateNode,i.type,g))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,g=Ab;if(Ab=zb=null,Bb(i),g)for(i=0;i<g.length;i++)Bb(g[i])}}function Gb(i,g){return i(g)}function Hb(){}var Ib=!1;function Jb(i,g,j){if(Ib)return i(g,j);Ib=!0;try{return Gb(i,g,j)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,g){var j=i.stateNode;if(j===null)return null;var et=Db(j);if(et===null)return null;j=et[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(i=i.type,et=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!et;break e;default:i=!1}if(i)return null;if(j&&typeof j!="function")throw Error(p$1(231,g,typeof j));return j}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,g,j,et,rt,It,_t,gn,Xn){var En=Array.prototype.slice.call(arguments,3);try{g.apply(j,En)}catch(zn){this.onError(zn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,g,j,et,rt,It,_t,gn,Xn){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,g,j,et,rt,It,_t,gn,Xn){if(Tb.apply(this,arguments),Ob){if(Ob){var En=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=En)}}function Vb(i){var g=i,j=i;if(i.alternate)for(;g.return;)g=g.return;else{i=g;do g=i,g.flags&4098&&(j=g.return),i=g.return;while(i)}return g.tag===3?j:null}function Wb(i){if(i.tag===13){var g=i.memoizedState;if(g===null&&(i=i.alternate,i!==null&&(g=i.memoizedState)),g!==null)return g.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var g=i.alternate;if(!g){if(g=Vb(i),g===null)throw Error(p$1(188));return g!==i?null:i}for(var j=i,et=g;;){var rt=j.return;if(rt===null)break;var It=rt.alternate;if(It===null){if(et=rt.return,et!==null){j=et;continue}break}if(rt.child===It.child){for(It=rt.child;It;){if(It===j)return Xb(rt),i;if(It===et)return Xb(rt),g;It=It.sibling}throw Error(p$1(188))}if(j.return!==et.return)j=rt,et=It;else{for(var _t=!1,gn=rt.child;gn;){if(gn===j){_t=!0,j=rt,et=It;break}if(gn===et){_t=!0,et=rt,j=It;break}gn=gn.sibling}if(!_t){for(gn=It.child;gn;){if(gn===j){_t=!0,j=It,et=rt;break}if(gn===et){_t=!0,et=It,j=rt;break}gn=gn.sibling}if(!_t)throw Error(p$1(189))}}if(j.alternate!==et)throw Error(p$1(190))}if(j.tag!==3)throw Error(p$1(188));return j.stateNode.current===j?i:g}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var g=$b(i);if(g!==null)return g;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,g){var j=i.pendingLanes;if(j===0)return 0;var et=0,rt=i.suspendedLanes,It=i.pingedLanes,_t=j&268435455;if(_t!==0){var gn=_t&~rt;gn!==0?et=tc(gn):(It&=_t,It!==0&&(et=tc(It)))}else _t=j&~rt,_t!==0?et=tc(_t):It!==0&&(et=tc(It));if(et===0)return 0;if(g!==0&&g!==et&&!(g&rt)&&(rt=et&-et,It=g&-g,rt>=It||rt===16&&(It&4194240)!==0))return g;if(et&4&&(et|=j&16),g=i.entangledLanes,g!==0)for(i=i.entanglements,g&=et;0<g;)j=31-oc(g),rt=1<<j,et|=i[j],g&=~rt;return et}function vc(i,g){switch(i){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,g){for(var j=i.suspendedLanes,et=i.pingedLanes,rt=i.expirationTimes,It=i.pendingLanes;0<It;){var _t=31-oc(It),gn=1<<_t,Xn=rt[_t];Xn===-1?(!(gn&j)||gn&et)&&(rt[_t]=vc(gn,g)):Xn<=g&&(i.expiredLanes|=gn),It&=~gn}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var g=[],j=0;31>j;j++)g.push(i);return g}function Ac(i,g,j){i.pendingLanes|=g,g!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,g=31-oc(g),i[g]=j}function Bc(i,g){var j=i.pendingLanes&~g;i.pendingLanes=g,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=g,i.mutableReadLanes&=g,i.entangledLanes&=g,g=i.entanglements;var et=i.eventTimes;for(i=i.expirationTimes;0<j;){var rt=31-oc(j),It=1<<rt;g[rt]=0,et[rt]=-1,i[rt]=-1,j&=~It}}function Cc(i,g){var j=i.entangledLanes|=g;for(i=i.entanglements;j;){var et=31-oc(j),rt=1<<et;rt&g|i[et]&g&&(i[et]|=g),j&=~rt}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,g){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(g.pointerId)}}function Tc(i,g,j,et,rt,It){return i===null||i.nativeEvent!==It?(i={blockedOn:g,domEventName:j,eventSystemFlags:et,nativeEvent:It,targetContainers:[rt]},g!==null&&(g=Cb(g),g!==null&&Fc(g)),i):(i.eventSystemFlags|=et,g=i.targetContainers,rt!==null&&g.indexOf(rt)===-1&&g.push(rt),i)}function Uc(i,g,j,et,rt){switch(g){case"focusin":return Lc=Tc(Lc,i,g,j,et,rt),!0;case"dragenter":return Mc=Tc(Mc,i,g,j,et,rt),!0;case"mouseover":return Nc=Tc(Nc,i,g,j,et,rt),!0;case"pointerover":var It=rt.pointerId;return Oc.set(It,Tc(Oc.get(It)||null,i,g,j,et,rt)),!0;case"gotpointercapture":return It=rt.pointerId,Pc.set(It,Tc(Pc.get(It)||null,i,g,j,et,rt)),!0}return!1}function Vc(i){var g=Wc(i.target);if(g!==null){var j=Vb(g);if(j!==null){if(g=j.tag,g===13){if(g=Wb(j),g!==null){i.blockedOn=g,Ic(i.priority,function(){Gc(j)});return}}else if(g===3&&j.stateNode.current.memoizedState.isDehydrated){i.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var g=i.targetContainers;0<g.length;){var j=Yc(i.domEventName,i.eventSystemFlags,g[0],i.nativeEvent);if(j===null){j=i.nativeEvent;var et=new j.constructor(j.type,j);wb=et,j.target.dispatchEvent(et),wb=null}else return g=Cb(j),g!==null&&Fc(g),i.blockedOn=j,!1;g.shift()}return!0}function Zc(i,g,j){Xc(i)&&j.delete(g)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,g){i.blockedOn===g&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function g(rt){return ad(rt,i)}if(0<Kc.length){ad(Kc[0],i);for(var j=1;j<Kc.length;j++){var et=Kc[j];et.blockedOn===i&&(et.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(g),Pc.forEach(g),j=0;j<Qc.length;j++)et=Qc[j],et.blockedOn===i&&(et.blockedOn=null);for(;0<Qc.length&&(j=Qc[0],j.blockedOn===null);)Vc(j),j.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,g,j,et){var rt=C,It=cd.transition;cd.transition=null;try{C=1,fd(i,g,j,et)}finally{C=rt,cd.transition=It}}function gd(i,g,j,et){var rt=C,It=cd.transition;cd.transition=null;try{C=4,fd(i,g,j,et)}finally{C=rt,cd.transition=It}}function fd(i,g,j,et){if(dd){var rt=Yc(i,g,j,et);if(rt===null)hd(i,g,et,id,j),Sc(i,et);else if(Uc(rt,i,g,j,et))et.stopPropagation();else if(Sc(i,et),g&4&&-1<Rc.indexOf(i)){for(;rt!==null;){var It=Cb(rt);if(It!==null&&Ec(It),It=Yc(i,g,j,et),It===null&&hd(i,g,et,id,j),It===rt)break;rt=It}rt!==null&&et.stopPropagation()}else hd(i,g,et,null,j)}}var id=null;function Yc(i,g,j,et){if(id=null,i=xb(et),i=Wc(i),i!==null)if(g=Vb(i),g===null)i=null;else if(j=g.tag,j===13){if(i=Wb(g),i!==null)return i;i=null}else if(j===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;i=null}else g!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,g=ld,j=g.length,et,rt="value"in kd?kd.value:kd.textContent,It=rt.length;for(i=0;i<j&&g[i]===rt[i];i++);var _t=j-i;for(et=1;et<=_t&&g[j-et]===rt[It-et];et++);return md=rt.slice(i,1<et?1-et:void 0)}function od(i){var g=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&g===13&&(i=13)):i=g,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function g(j,et,rt,It,_t){this._reactName=j,this._targetInst=rt,this.type=et,this.nativeEvent=It,this.target=_t,this.currentTarget=null;for(var gn in i)i.hasOwnProperty(gn)&&(j=i[gn],this[gn]=j?j(It):It[gn]);return this.isDefaultPrevented=(It.defaultPrevented!=null?It.defaultPrevented:It.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),g}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(i):(i=Od[i])?!!g[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var g=Md[i.key]||i.key;if(g!=="Unidentified")return g}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,g){switch(i){case"keyup":return $d.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,g){switch(i){case"compositionend":return he(g);case"keypress":return g.which!==32?null:(fe=!0,ee);case"textInput":return i=g.data,i===ee&&fe?null:i;default:return null}}function ke(i,g){if(ie)return i==="compositionend"||!ae&&ge(i,g)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return de&&g.locale!=="ko"?null:g.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var g=i&&i.nodeName&&i.nodeName.toLowerCase();return g==="input"?!!le[i.type]:g==="textarea"}function ne(i,g,j,et){Eb(et),g=oe(g,"onChange"),0<g.length&&(j=new td("onChange","change",null,j,et),i.push({event:j,listeners:g}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var g=ue(i);if(Wa(g))return i}function ve(i,g){if(i==="change")return g}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var g=[];ne(g,qe,i,xb(i)),Jb(re,g)}}function Ce(i,g,j){i==="focusin"?(Ae(),pe=g,qe=j,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,g){if(i==="click")return te(g)}function Fe(i,g){if(i==="input"||i==="change")return te(g)}function Ge(i,g){return i===g&&(i!==0||1/i===1/g)||i!==i&&g!==g}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,g){if(He(i,g))return!0;if(typeof i!="object"||i===null||typeof g!="object"||g===null)return!1;var j=Object.keys(i),et=Object.keys(g);if(j.length!==et.length)return!1;for(et=0;et<j.length;et++){var rt=j[et];if(!ja.call(g,rt)||!He(i[rt],g[rt]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,g){var j=Je(i);i=0;for(var et;j;){if(j.nodeType===3){if(et=i+j.textContent.length,i<=g&&et>=g)return{node:j,offset:g-i};i=et}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=Je(j)}}function Le(i,g){return i&&g?i===g?!0:i&&i.nodeType===3?!1:g&&g.nodeType===3?Le(i,g.parentNode):"contains"in i?i.contains(g):i.compareDocumentPosition?!!(i.compareDocumentPosition(g)&16):!1:!1}function Me(){for(var i=window,g=Xa();g instanceof i.HTMLIFrameElement;){try{var j=typeof g.contentWindow.location.href=="string"}catch{j=!1}if(j)i=g.contentWindow;else break;g=Xa(i.document)}return g}function Ne(i){var g=i&&i.nodeName&&i.nodeName.toLowerCase();return g&&(g==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||g==="textarea"||i.contentEditable==="true")}function Oe(i){var g=Me(),j=i.focusedElem,et=i.selectionRange;if(g!==j&&j&&j.ownerDocument&&Le(j.ownerDocument.documentElement,j)){if(et!==null&&Ne(j)){if(g=et.start,i=et.end,i===void 0&&(i=g),"selectionStart"in j)j.selectionStart=g,j.selectionEnd=Math.min(i,j.value.length);else if(i=(g=j.ownerDocument||document)&&g.defaultView||window,i.getSelection){i=i.getSelection();var rt=j.textContent.length,It=Math.min(et.start,rt);et=et.end===void 0?It:Math.min(et.end,rt),!i.extend&&It>et&&(rt=et,et=It,It=rt),rt=Ke(j,It);var _t=Ke(j,et);rt&&_t&&(i.rangeCount!==1||i.anchorNode!==rt.node||i.anchorOffset!==rt.offset||i.focusNode!==_t.node||i.focusOffset!==_t.offset)&&(g=g.createRange(),g.setStart(rt.node,rt.offset),i.removeAllRanges(),It>et?(i.addRange(g),i.extend(_t.node,_t.offset)):(g.setEnd(_t.node,_t.offset),i.addRange(g)))}}for(g=[],i=j;i=i.parentNode;)i.nodeType===1&&g.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<g.length;j++)i=g[j],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,g,j){var et=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Te||Qe==null||Qe!==Xa(et)||(et=Qe,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe(Re,"onSelect"),0<et.length&&(g=new td("onSelect","select",null,g,j),i.push({event:g,listeners:et}),g.target=Qe)))}function Ve(i,g){var j={};return j[i.toLowerCase()]=g.toLowerCase(),j["Webkit"+i]="webkit"+g,j["Moz"+i]="moz"+g,j}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var g=We[i],j;for(j in g)if(g.hasOwnProperty(j)&&j in Ye)return Xe[i]=g[j];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,g){df.set(i,g),fa(g,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,g,j){var et=i.type||"unknown-event";i.currentTarget=j,Ub(et,g,void 0,i),i.currentTarget=null}function se(i,g){g=(g&4)!==0;for(var j=0;j<i.length;j++){var et=i[j],rt=et.event;et=et.listeners;e:{var It=void 0;if(g)for(var _t=et.length-1;0<=_t;_t--){var gn=et[_t],Xn=gn.instance,En=gn.currentTarget;if(gn=gn.listener,Xn!==It&&rt.isPropagationStopped())break e;nf(rt,gn,En),It=Xn}else for(_t=0;_t<et.length;_t++){if(gn=et[_t],Xn=gn.instance,En=gn.currentTarget,gn=gn.listener,Xn!==It&&rt.isPropagationStopped())break e;nf(rt,gn,En),It=Xn}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,g){var j=g[of];j===void 0&&(j=g[of]=new Set);var et=i+"__bubble";j.has(et)||(pf(g,i,2,!1),j.add(et))}function qf(i,g,j){var et=0;g&&(et|=4),pf(j,i,et,g)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(j){j!=="selectionchange"&&(mf.has(j)||qf(j,!1,i),qf(j,!0,i))});var g=i.nodeType===9?i:i.ownerDocument;g===null||g[rf]||(g[rf]=!0,qf("selectionchange",!1,g))}}function pf(i,g,j,et){switch(jd(g)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}j=rt.bind(null,g,j,i),rt=void 0,!Lb||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(rt=!0),et?rt!==void 0?i.addEventListener(g,j,{capture:!0,passive:rt}):i.addEventListener(g,j,!0):rt!==void 0?i.addEventListener(g,j,{passive:rt}):i.addEventListener(g,j,!1)}function hd(i,g,j,et,rt){var It=et;if(!(g&1)&&!(g&2)&&et!==null)e:for(;;){if(et===null)return;var _t=et.tag;if(_t===3||_t===4){var gn=et.stateNode.containerInfo;if(gn===rt||gn.nodeType===8&&gn.parentNode===rt)break;if(_t===4)for(_t=et.return;_t!==null;){var Xn=_t.tag;if((Xn===3||Xn===4)&&(Xn=_t.stateNode.containerInfo,Xn===rt||Xn.nodeType===8&&Xn.parentNode===rt))return;_t=_t.return}for(;gn!==null;){if(_t=Wc(gn),_t===null)return;if(Xn=_t.tag,Xn===5||Xn===6){et=It=_t;continue e}gn=gn.parentNode}}et=et.return}Jb(function(){var En=It,zn=xb(j),er=[];e:{var tr=df.get(i);if(tr!==void 0){var $t=td,Vt=i;switch(i){case"keypress":if(od(j)===0)break e;case"keydown":case"keyup":$t=Rd;break;case"focusin":Vt="focus",$t=Fd;break;case"focusout":Vt="blur",$t=Fd;break;case"beforeblur":case"afterblur":$t=Fd;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=Vd;break;case $e:case af:case bf:$t=Hd;break;case cf:$t=Xd;break;case"scroll":$t=vd;break;case"wheel":$t=Zd;break;case"copy":case"cut":case"paste":$t=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=Td}var _=(g&4)!==0,Et=!_&&i==="scroll",ot=_?tr!==null?tr+"Capture":null:tr;_=[];for(var it=En,nt;it!==null;){nt=it;var ht=nt.stateNode;if(nt.tag===5&&ht!==null&&(nt=ht,ot!==null&&(ht=Kb(it,ot),ht!=null&&_.push(tf(it,ht,nt)))),Et)break;it=it.return}0<_.length&&(tr=new $t(tr,Vt,null,j,zn),er.push({event:tr,listeners:_}))}}if(!(g&7)){e:{if(tr=i==="mouseover"||i==="pointerover",$t=i==="mouseout"||i==="pointerout",tr&&j!==wb&&(Vt=j.relatedTarget||j.fromElement)&&(Wc(Vt)||Vt[uf]))break e;if(($t||tr)&&(tr=zn.window===zn?zn:(tr=zn.ownerDocument)?tr.defaultView||tr.parentWindow:window,$t?(Vt=j.relatedTarget||j.toElement,$t=En,Vt=Vt?Wc(Vt):null,Vt!==null&&(Et=Vb(Vt),Vt!==Et||Vt.tag!==5&&Vt.tag!==6)&&(Vt=null)):($t=null,Vt=En),$t!==Vt)){if(_=Bd,ht="onMouseLeave",ot="onMouseEnter",it="mouse",(i==="pointerout"||i==="pointerover")&&(_=Td,ht="onPointerLeave",ot="onPointerEnter",it="pointer"),Et=$t==null?tr:ue($t),nt=Vt==null?tr:ue(Vt),tr=new _(ht,it+"leave",$t,j,zn),tr.target=Et,tr.relatedTarget=nt,ht=null,Wc(zn)===En&&(_=new _(ot,it+"enter",Vt,j,zn),_.target=nt,_.relatedTarget=Et,ht=_),Et=ht,$t&&Vt)t:{for(_=$t,ot=Vt,it=0,nt=_;nt;nt=vf(nt))it++;for(nt=0,ht=ot;ht;ht=vf(ht))nt++;for(;0<it-nt;)_=vf(_),it--;for(;0<nt-it;)ot=vf(ot),nt--;for(;it--;){if(_===ot||ot!==null&&_===ot.alternate)break t;_=vf(_),ot=vf(ot)}_=null}else _=null;$t!==null&&wf(er,tr,$t,_,!1),Vt!==null&&Et!==null&&wf(er,Et,Vt,_,!0)}}e:{if(tr=En?ue(En):window,$t=tr.nodeName&&tr.nodeName.toLowerCase(),$t==="select"||$t==="input"&&tr.type==="file")var Bt=ve;else if(me(tr))if(we)Bt=Fe;else{Bt=De;var st=Ce}else($t=tr.nodeName)&&$t.toLowerCase()==="input"&&(tr.type==="checkbox"||tr.type==="radio")&&(Bt=Ee);if(Bt&&(Bt=Bt(i,En))){ne(er,Bt,j,zn);break e}st&&st(i,tr,En),i==="focusout"&&(st=tr._wrapperState)&&st.controlled&&tr.type==="number"&&cb(tr,"number",tr.value)}switch(st=En?ue(En):window,i){case"focusin":(me(st)||st.contentEditable==="true")&&(Qe=st,Re=En,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(er,j,zn);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(er,j,zn)}var tt;if(ae)e:{switch(i){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else ie?ge(i,j)&&(xt="onCompositionEnd"):i==="keydown"&&j.keyCode===229&&(xt="onCompositionStart");xt&&(de&&j.locale!=="ko"&&(ie||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ie&&(tt=nd()):(kd=zn,ld="value"in kd?kd.value:kd.textContent,ie=!0)),st=oe(En,xt),0<st.length&&(xt=new Ld(xt,i,null,j,zn),er.push({event:xt,listeners:st}),tt?xt.data=tt:(tt=he(j),tt!==null&&(xt.data=tt)))),(tt=ce?je(i,j):ke(i,j))&&(En=oe(En,"onBeforeInput"),0<En.length&&(zn=new Ld("onBeforeInput","beforeinput",null,j,zn),er.push({event:zn,listeners:En}),zn.data=tt))}se(er,g)})}function tf(i,g,j){return{instance:i,listener:g,currentTarget:j}}function oe(i,g){for(var j=g+"Capture",et=[];i!==null;){var rt=i,It=rt.stateNode;rt.tag===5&&It!==null&&(rt=It,It=Kb(i,j),It!=null&&et.unshift(tf(i,It,rt)),It=Kb(i,g),It!=null&&et.push(tf(i,It,rt))),i=i.return}return et}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,g,j,et,rt){for(var It=g._reactName,_t=[];j!==null&&j!==et;){var gn=j,Xn=gn.alternate,En=gn.stateNode;if(Xn!==null&&Xn===et)break;gn.tag===5&&En!==null&&(gn=En,rt?(Xn=Kb(j,It),Xn!=null&&_t.unshift(tf(j,Xn,gn))):rt||(Xn=Kb(j,It),Xn!=null&&_t.push(tf(j,Xn,gn)))),j=j.return}_t.length!==0&&i.push({event:g,listeners:_t})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,g,j){if(g=zf(g),zf(i)!==g&&j)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,g){return i==="textarea"||i==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,g){var j=g,et=0;do{var rt=j.nextSibling;if(i.removeChild(j),rt&&rt.nodeType===8)if(j=rt.data,j==="/$"){if(et===0){i.removeChild(rt),bd(g);return}et--}else j!=="$"&&j!=="$?"&&j!=="$!"||et++;j=rt}while(j);bd(g)}function Lf(i){for(;i!=null;i=i.nextSibling){var g=i.nodeType;if(g===1||g===3)break;if(g===8){if(g=i.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var g=0;i;){if(i.nodeType===8){var j=i.data;if(j==="$"||j==="$!"||j==="$?"){if(g===0)return i;g--}else j==="/$"&&g++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var g=i[Of];if(g)return g;for(var j=i.parentNode;j;){if(g=j[uf]||j[Of]){if(j=g.alternate,g.child!==null||j!==null&&j.child!==null)for(i=Mf(i);i!==null;){if(j=i[Of])return j;i=Mf(i)}return g}i=j,j=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,g){Tf++,Sf[Tf]=i.current,i.current=g}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,g){var j=i.type.contextTypes;if(!j)return Vf;var et=i.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===g)return et.__reactInternalMemoizedMaskedChildContext;var rt={},It;for(It in j)rt[It]=g[It];return et&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,g,j){if(H.current!==Vf)throw Error(p$1(168));G(H,g),G(Wf,j)}function bg(i,g,j){var et=i.stateNode;if(g=g.childContextTypes,typeof et.getChildContext!="function")return j;et=et.getChildContext();for(var rt in et)if(!(rt in g))throw Error(p$1(108,Ra(i)||"Unknown",rt));return A({},j,et)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,g,j){var et=i.stateNode;if(!et)throw Error(p$1(169));j?(i=bg(i,g,Xf),et.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,j)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,g=C;try{var j=eg;for(C=1;i<j.length;i++){var et=j[i];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),rt}finally{C=g,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,g){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=g}function ug(i,g,j){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var et=rg;i=sg;var rt=32-oc(et)-1;et&=~(1<<rt),j+=1;var It=32-oc(g)+rt;if(30<It){var _t=rt-rt%5;It=(et&(1<<_t)-1).toString(32),et>>=_t,rt-=_t,rg=1<<32-oc(g)+rt|j<<rt|et,sg=It+i}else rg=1<<It|j<<rt|et,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,g){var j=Bg(5,null,null,0);j.elementType="DELETED",j.stateNode=g,j.return=i,g=i.deletions,g===null?(i.deletions=[j],i.flags|=16):g.push(j)}function Cg(i,g){switch(i.tag){case 5:var j=i.type;return g=g.nodeType!==1||j.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(i.stateNode=g,xg=i,yg=Lf(g.firstChild),!0):!1;case 6:return g=i.pendingProps===""||g.nodeType!==3?null:g,g!==null?(i.stateNode=g,xg=i,yg=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(j=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:g,treeContext:j,retryLane:1073741824},j=Bg(18,null,null,0),j.stateNode=g,j.return=i,i.child=j,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var g=yg;if(g){var j=g;if(!Cg(i,g)){if(Dg(i))throw Error(p$1(418));g=Lf(j.nextSibling);var et=xg;g&&Cg(i,g)?Ag(et,j):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var g;if((g=i.tag!==3)&&!(g=i.tag!==5)&&(g=i.type,g=g!=="head"&&g!=="body"&&!Ef(i.type,i.memoizedProps)),g&&(g=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;g;)Ag(i,g),g=Lf(g.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,g=0;i;){if(i.nodeType===8){var j=i.data;if(j==="/$"){if(g===0){yg=Lf(i.nextSibling);break e}g--}else j!=="$"&&j!=="$!"&&j!=="$?"||g++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,g,j){if(i=j.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(p$1(309));var et=j.stateNode}if(!et)throw Error(p$1(147,i));var rt=et,It=""+i;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===It?g.ref:(g=function(_t){var gn=rt.refs;_t===null?delete gn[It]:gn[It]=_t},g._stringRef=It,g)}if(typeof i!="string")throw Error(p$1(284));if(!j._owner)throw Error(p$1(290,i))}return i}function Mg(i,g){throw i=Object.prototype.toString.call(g),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":i))}function Ng(i){var g=i._init;return g(i._payload)}function Og(i){function g(ot,it){if(i){var nt=ot.deletions;nt===null?(ot.deletions=[it],ot.flags|=16):nt.push(it)}}function j(ot,it){if(!i)return null;for(;it!==null;)g(ot,it),it=it.sibling;return null}function et(ot,it){for(ot=new Map;it!==null;)it.key!==null?ot.set(it.key,it):ot.set(it.index,it),it=it.sibling;return ot}function rt(ot,it){return ot=Pg(ot,it),ot.index=0,ot.sibling=null,ot}function It(ot,it,nt){return ot.index=nt,i?(nt=ot.alternate,nt!==null?(nt=nt.index,nt<it?(ot.flags|=2,it):nt):(ot.flags|=2,it)):(ot.flags|=1048576,it)}function _t(ot){return i&&ot.alternate===null&&(ot.flags|=2),ot}function gn(ot,it,nt,ht){return it===null||it.tag!==6?(it=Qg(nt,ot.mode,ht),it.return=ot,it):(it=rt(it,nt),it.return=ot,it)}function Xn(ot,it,nt,ht){var Bt=nt.type;return Bt===ya?zn(ot,it,nt.props.children,ht,nt.key):it!==null&&(it.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&Ng(Bt)===it.type)?(ht=rt(it,nt.props),ht.ref=Lg(ot,it,nt),ht.return=ot,ht):(ht=Rg(nt.type,nt.key,nt.props,null,ot.mode,ht),ht.ref=Lg(ot,it,nt),ht.return=ot,ht)}function En(ot,it,nt,ht){return it===null||it.tag!==4||it.stateNode.containerInfo!==nt.containerInfo||it.stateNode.implementation!==nt.implementation?(it=Sg(nt,ot.mode,ht),it.return=ot,it):(it=rt(it,nt.children||[]),it.return=ot,it)}function zn(ot,it,nt,ht,Bt){return it===null||it.tag!==7?(it=Tg(nt,ot.mode,ht,Bt),it.return=ot,it):(it=rt(it,nt),it.return=ot,it)}function er(ot,it,nt){if(typeof it=="string"&&it!==""||typeof it=="number")return it=Qg(""+it,ot.mode,nt),it.return=ot,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return nt=Rg(it.type,it.key,it.props,null,ot.mode,nt),nt.ref=Lg(ot,null,it),nt.return=ot,nt;case wa:return it=Sg(it,ot.mode,nt),it.return=ot,it;case Ha:var ht=it._init;return er(ot,ht(it._payload),nt)}if(eb(it)||Ka(it))return it=Tg(it,ot.mode,nt,null),it.return=ot,it;Mg(ot,it)}return null}function tr(ot,it,nt,ht){var Bt=it!==null?it.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number")return Bt!==null?null:gn(ot,it,""+nt,ht);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:return nt.key===Bt?Xn(ot,it,nt,ht):null;case wa:return nt.key===Bt?En(ot,it,nt,ht):null;case Ha:return Bt=nt._init,tr(ot,it,Bt(nt._payload),ht)}if(eb(nt)||Ka(nt))return Bt!==null?null:zn(ot,it,nt,ht,null);Mg(ot,nt)}return null}function $t(ot,it,nt,ht,Bt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ot=ot.get(nt)||null,gn(it,ot,""+ht,Bt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ot=ot.get(ht.key===null?nt:ht.key)||null,Xn(it,ot,ht,Bt);case wa:return ot=ot.get(ht.key===null?nt:ht.key)||null,En(it,ot,ht,Bt);case Ha:var st=ht._init;return $t(ot,it,nt,st(ht._payload),Bt)}if(eb(ht)||Ka(ht))return ot=ot.get(nt)||null,zn(it,ot,ht,Bt,null);Mg(it,ht)}return null}function Vt(ot,it,nt,ht){for(var Bt=null,st=null,tt=it,xt=it=0,St=null;tt!==null&&xt<nt.length;xt++){tt.index>xt?(St=tt,tt=null):St=tt.sibling;var Zt=tr(ot,tt,nt[xt],ht);if(Zt===null){tt===null&&(tt=St);break}i&&tt&&Zt.alternate===null&&g(ot,tt),it=It(Zt,it,xt),st===null?Bt=Zt:st.sibling=Zt,st=Zt,tt=St}if(xt===nt.length)return j(ot,tt),I&&tg(ot,xt),Bt;if(tt===null){for(;xt<nt.length;xt++)tt=er(ot,nt[xt],ht),tt!==null&&(it=It(tt,it,xt),st===null?Bt=tt:st.sibling=tt,st=tt);return I&&tg(ot,xt),Bt}for(tt=et(ot,tt);xt<nt.length;xt++)St=$t(tt,ot,xt,nt[xt],ht),St!==null&&(i&&St.alternate!==null&&tt.delete(St.key===null?xt:St.key),it=It(St,it,xt),st===null?Bt=St:st.sibling=St,st=St);return i&&tt.forEach(function(Nt){return g(ot,Nt)}),I&&tg(ot,xt),Bt}function _(ot,it,nt,ht){var Bt=Ka(nt);if(typeof Bt!="function")throw Error(p$1(150));if(nt=Bt.call(nt),nt==null)throw Error(p$1(151));for(var st=Bt=null,tt=it,xt=it=0,St=null,Zt=nt.next();tt!==null&&!Zt.done;xt++,Zt=nt.next()){tt.index>xt?(St=tt,tt=null):St=tt.sibling;var Nt=tr(ot,tt,Zt.value,ht);if(Nt===null){tt===null&&(tt=St);break}i&&tt&&Nt.alternate===null&&g(ot,tt),it=It(Nt,it,xt),st===null?Bt=Nt:st.sibling=Nt,st=Nt,tt=St}if(Zt.done)return j(ot,tt),I&&tg(ot,xt),Bt;if(tt===null){for(;!Zt.done;xt++,Zt=nt.next())Zt=er(ot,Zt.value,ht),Zt!==null&&(it=It(Zt,it,xt),st===null?Bt=Zt:st.sibling=Zt,st=Zt);return I&&tg(ot,xt),Bt}for(tt=et(ot,tt);!Zt.done;xt++,Zt=nt.next())Zt=$t(tt,ot,xt,Zt.value,ht),Zt!==null&&(i&&Zt.alternate!==null&&tt.delete(Zt.key===null?xt:Zt.key),it=It(Zt,it,xt),st===null?Bt=Zt:st.sibling=Zt,st=Zt);return i&&tt.forEach(function(dt){return g(ot,dt)}),I&&tg(ot,xt),Bt}function Et(ot,it,nt,ht){if(typeof nt=="object"&&nt!==null&&nt.type===ya&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case va:e:{for(var Bt=nt.key,st=it;st!==null;){if(st.key===Bt){if(Bt=nt.type,Bt===ya){if(st.tag===7){j(ot,st.sibling),it=rt(st,nt.props.children),it.return=ot,ot=it;break e}}else if(st.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Ha&&Ng(Bt)===st.type){j(ot,st.sibling),it=rt(st,nt.props),it.ref=Lg(ot,st,nt),it.return=ot,ot=it;break e}j(ot,st);break}else g(ot,st);st=st.sibling}nt.type===ya?(it=Tg(nt.props.children,ot.mode,ht,nt.key),it.return=ot,ot=it):(ht=Rg(nt.type,nt.key,nt.props,null,ot.mode,ht),ht.ref=Lg(ot,it,nt),ht.return=ot,ot=ht)}return _t(ot);case wa:e:{for(st=nt.key;it!==null;){if(it.key===st)if(it.tag===4&&it.stateNode.containerInfo===nt.containerInfo&&it.stateNode.implementation===nt.implementation){j(ot,it.sibling),it=rt(it,nt.children||[]),it.return=ot,ot=it;break e}else{j(ot,it);break}else g(ot,it);it=it.sibling}it=Sg(nt,ot.mode,ht),it.return=ot,ot=it}return _t(ot);case Ha:return st=nt._init,Et(ot,it,st(nt._payload),ht)}if(eb(nt))return Vt(ot,it,nt,ht);if(Ka(nt))return _(ot,it,nt,ht);Mg(ot,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,it!==null&&it.tag===6?(j(ot,it.sibling),it=rt(it,nt),it.return=ot,ot=it):(j(ot,it),it=Qg(nt,ot.mode,ht),it.return=ot,ot=it),_t(ot)):j(ot,it)}return Et}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var g=Wg.current;E(Wg),i._currentValue=g}function bh(i,g,j){for(;i!==null;){var et=i.alternate;if((i.childLanes&g)!==g?(i.childLanes|=g,et!==null&&(et.childLanes|=g)):et!==null&&(et.childLanes&g)!==g&&(et.childLanes|=g),i===j)break;i=i.return}}function ch(i,g){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&g&&(dh=!0),i.firstContext=null)}function eh(i){var g=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:g,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return g}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,g,j,et){var rt=g.interleaved;return rt===null?(j.next=j,gh(g)):(j.next=rt.next,rt.next=j),g.interleaved=j,ih(i,et)}function ih(i,g){i.lanes|=g;var j=i.alternate;for(j!==null&&(j.lanes|=g),j=i,i=i.return;i!==null;)i.childLanes|=g,j=i.alternate,j!==null&&(j.childLanes|=g),j=i,i=i.return;return j.tag===3?j.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,g){i=i.updateQueue,g.updateQueue===i&&(g.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,g){return{eventTime:i,lane:g,tag:0,payload:null,callback:null,next:null}}function nh(i,g,j){var et=i.updateQueue;if(et===null)return null;if(et=et.shared,K&2){var rt=et.pending;return rt===null?g.next=g:(g.next=rt.next,rt.next=g),et.pending=g,ih(i,j)}return rt=et.interleaved,rt===null?(g.next=g,gh(et)):(g.next=rt.next,rt.next=g),et.interleaved=g,ih(i,j)}function oh(i,g,j){if(g=g.updateQueue,g!==null&&(g=g.shared,(j&4194240)!==0)){var et=g.lanes;et&=i.pendingLanes,j|=et,g.lanes=j,Cc(i,j)}}function ph(i,g){var j=i.updateQueue,et=i.alternate;if(et!==null&&(et=et.updateQueue,j===et)){var rt=null,It=null;if(j=j.firstBaseUpdate,j!==null){do{var _t={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};It===null?rt=It=_t:It=It.next=_t,j=j.next}while(j!==null);It===null?rt=It=g:It=It.next=g}else rt=It=g;j={baseState:et.baseState,firstBaseUpdate:rt,lastBaseUpdate:It,shared:et.shared,effects:et.effects},i.updateQueue=j;return}i=j.lastBaseUpdate,i===null?j.firstBaseUpdate=g:i.next=g,j.lastBaseUpdate=g}function qh(i,g,j,et){var rt=i.updateQueue;jh=!1;var It=rt.firstBaseUpdate,_t=rt.lastBaseUpdate,gn=rt.shared.pending;if(gn!==null){rt.shared.pending=null;var Xn=gn,En=Xn.next;Xn.next=null,_t===null?It=En:_t.next=En,_t=Xn;var zn=i.alternate;zn!==null&&(zn=zn.updateQueue,gn=zn.lastBaseUpdate,gn!==_t&&(gn===null?zn.firstBaseUpdate=En:gn.next=En,zn.lastBaseUpdate=Xn))}if(It!==null){var er=rt.baseState;_t=0,zn=En=Xn=null,gn=It;do{var tr=gn.lane,$t=gn.eventTime;if((et&tr)===tr){zn!==null&&(zn=zn.next={eventTime:$t,lane:0,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null});e:{var Vt=i,_=gn;switch(tr=g,$t=j,_.tag){case 1:if(Vt=_.payload,typeof Vt=="function"){er=Vt.call($t,er,tr);break e}er=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=_.payload,tr=typeof Vt=="function"?Vt.call($t,er,tr):Vt,tr==null)break e;er=A({},er,tr);break e;case 2:jh=!0}}gn.callback!==null&&gn.lane!==0&&(i.flags|=64,tr=rt.effects,tr===null?rt.effects=[gn]:tr.push(gn))}else $t={eventTime:$t,lane:tr,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null},zn===null?(En=zn=$t,Xn=er):zn=zn.next=$t,_t|=tr;if(gn=gn.next,gn===null){if(gn=rt.shared.pending,gn===null)break;tr=gn,gn=tr.next,tr.next=null,rt.lastBaseUpdate=tr,rt.shared.pending=null}}while(!0);if(zn===null&&(Xn=er),rt.baseState=Xn,rt.firstBaseUpdate=En,rt.lastBaseUpdate=zn,g=rt.shared.interleaved,g!==null){rt=g;do _t|=rt.lane,rt=rt.next;while(rt!==g)}else It===null&&(rt.shared.lanes=0);rh|=_t,i.lanes=_t,i.memoizedState=er}}function sh(i,g,j){if(i=g.effects,g.effects=null,i!==null)for(g=0;g<i.length;g++){var et=i[g],rt=et.callback;if(rt!==null){if(et.callback=null,et=j,typeof rt!="function")throw Error(p$1(191,rt));rt.call(et)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,g){switch(G(wh,g),G(vh,i),G(uh,th),i=g.nodeType,i){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lb(null,"");break;default:i=i===8?g.parentNode:g,g=i.namespaceURI||null,i=i.tagName,g=lb(g,i)}E(uh),G(uh,g)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var g=xh(uh.current),j=lb(g,i.type);g!==j&&(G(vh,i),G(uh,j))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var g=i;g!==null;){if(g.tag===13){var j=g.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(i,g){if(g===null)return!1;for(var j=0;j<g.length&&j<i.length;j++)if(!He(i[j],g[j]))return!1;return!0}function Nh(i,g,j,et,rt,It){if(Hh=It,M=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=j(et,rt),Jh){It=0;do{if(Jh=!1,Kh=0,25<=It)throw Error(p$1(301));It+=1,O=N=null,g.updateQueue=null,Fh.current=Qh,i=j(et,rt)}while(Jh)}if(Fh.current=Rh,g=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,g)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var g=O===null?M.memoizedState:O.next;if(g!==null)O=g,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,g){return typeof g=="function"?g(i):g}function Wh(i){var g=Uh(),j=g.queue;if(j===null)throw Error(p$1(311));j.lastRenderedReducer=i;var et=N,rt=et.baseQueue,It=j.pending;if(It!==null){if(rt!==null){var _t=rt.next;rt.next=It.next,It.next=_t}et.baseQueue=rt=It,j.pending=null}if(rt!==null){It=rt.next,et=et.baseState;var gn=_t=null,Xn=null,En=It;do{var zn=En.lane;if((Hh&zn)===zn)Xn!==null&&(Xn=Xn.next={lane:0,action:En.action,hasEagerState:En.hasEagerState,eagerState:En.eagerState,next:null}),et=En.hasEagerState?En.eagerState:i(et,En.action);else{var er={lane:zn,action:En.action,hasEagerState:En.hasEagerState,eagerState:En.eagerState,next:null};Xn===null?(gn=Xn=er,_t=et):Xn=Xn.next=er,M.lanes|=zn,rh|=zn}En=En.next}while(En!==null&&En!==It);Xn===null?_t=et:Xn.next=gn,He(et,g.memoizedState)||(dh=!0),g.memoizedState=et,g.baseState=_t,g.baseQueue=Xn,j.lastRenderedState=et}if(i=j.interleaved,i!==null){rt=i;do It=rt.lane,M.lanes|=It,rh|=It,rt=rt.next;while(rt!==i)}else rt===null&&(j.lanes=0);return[g.memoizedState,j.dispatch]}function Xh(i){var g=Uh(),j=g.queue;if(j===null)throw Error(p$1(311));j.lastRenderedReducer=i;var et=j.dispatch,rt=j.pending,It=g.memoizedState;if(rt!==null){j.pending=null;var _t=rt=rt.next;do It=i(It,_t.action),_t=_t.next;while(_t!==rt);He(It,g.memoizedState)||(dh=!0),g.memoizedState=It,g.baseQueue===null&&(g.baseState=It),j.lastRenderedState=It}return[It,et]}function Yh(){}function Zh(i,g){var j=M,et=Uh(),rt=g(),It=!He(et.memoizedState,rt);if(It&&(et.memoizedState=rt,dh=!0),et=et.queue,$h(ai.bind(null,j,et,i),[i]),et.getSnapshot!==g||It||O!==null&&O.memoizedState.tag&1){if(j.flags|=2048,bi(9,ci.bind(null,j,et,rt,g),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(j,g,rt)}return rt}function di(i,g,j){i.flags|=16384,i={getSnapshot:g,value:j},g=M.updateQueue,g===null?(g={lastEffect:null,stores:null},M.updateQueue=g,g.stores=[i]):(j=g.stores,j===null?g.stores=[i]:j.push(i))}function ci(i,g,j,et){g.value=j,g.getSnapshot=et,ei(g)&&fi(i)}function ai(i,g,j){return j(function(){ei(g)&&fi(i)})}function ei(i){var g=i.getSnapshot;i=i.value;try{var j=g();return!He(i,j)}catch{return!0}}function fi(i){var g=ih(i,1);g!==null&&gi(g,i,1,-1)}function hi(i){var g=Th();return typeof i=="function"&&(i=i()),g.memoizedState=g.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},g.queue=i,i=i.dispatch=ii.bind(null,M,i),[g.memoizedState,i]}function bi(i,g,j,et){return i={tag:i,create:g,destroy:j,deps:et,next:null},g=M.updateQueue,g===null?(g={lastEffect:null,stores:null},M.updateQueue=g,g.lastEffect=i.next=i):(j=g.lastEffect,j===null?g.lastEffect=i.next=i:(et=j.next,j.next=i,i.next=et,g.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,g,j,et){var rt=Th();M.flags|=i,rt.memoizedState=bi(1|g,j,void 0,et===void 0?null:et)}function li(i,g,j,et){var rt=Uh();et=et===void 0?null:et;var It=void 0;if(N!==null){var _t=N.memoizedState;if(It=_t.destroy,et!==null&&Mh(et,_t.deps)){rt.memoizedState=bi(g,j,It,et);return}}M.flags|=i,rt.memoizedState=bi(1|g,j,It,et)}function mi(i,g){return ki(8390656,8,i,g)}function $h(i,g){return li(2048,8,i,g)}function ni(i,g){return li(4,2,i,g)}function oi(i,g){return li(4,4,i,g)}function pi(i,g){if(typeof g=="function")return i=i(),g(i),function(){g(null)};if(g!=null)return i=i(),g.current=i,function(){g.current=null}}function qi(i,g,j){return j=j!=null?j.concat([i]):null,li(4,4,pi.bind(null,g,i),j)}function ri(){}function si(i,g){var j=Uh();g=g===void 0?null:g;var et=j.memoizedState;return et!==null&&g!==null&&Mh(g,et[1])?et[0]:(j.memoizedState=[i,g],i)}function ti(i,g){var j=Uh();g=g===void 0?null:g;var et=j.memoizedState;return et!==null&&g!==null&&Mh(g,et[1])?et[0]:(i=i(),j.memoizedState=[i,g],i)}function ui(i,g,j){return Hh&21?(He(j,g)||(j=yc(),M.lanes|=j,rh|=j,i.baseState=!0),g):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=j)}function vi(i,g){var j=C;C=j!==0&&4>j?j:4,i(!0);var et=Gh.transition;Gh.transition={};try{i(!1),g()}finally{C=j,Gh.transition=et}}function wi(){return Uh().memoizedState}function xi(i,g,j){var et=yi(i);if(j={lane:et,action:j,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(g,j);else if(j=hh(i,g,j,et),j!==null){var rt=R();gi(j,i,et,rt),Bi(j,g,et)}}function ii(i,g,j){var et=yi(i),rt={lane:et,action:j,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(g,rt);else{var It=i.alternate;if(i.lanes===0&&(It===null||It.lanes===0)&&(It=g.lastRenderedReducer,It!==null))try{var _t=g.lastRenderedState,gn=It(_t,j);if(rt.hasEagerState=!0,rt.eagerState=gn,He(gn,_t)){var Xn=g.interleaved;Xn===null?(rt.next=rt,gh(g)):(rt.next=Xn.next,Xn.next=rt),g.interleaved=rt;return}}catch{}finally{}j=hh(i,g,rt,et),j!==null&&(rt=R(),gi(j,i,et,rt),Bi(j,g,et))}}function zi(i){var g=i.alternate;return i===M||g!==null&&g===M}function Ai(i,g){Jh=Ih=!0;var j=i.pending;j===null?g.next=g:(g.next=j.next,j.next=g),i.pending=g}function Bi(i,g,j){if(j&4194240){var et=g.lanes;et&=i.pendingLanes,j|=et,g.lanes=j,Cc(i,j)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,g){return Th().memoizedState=[i,g===void 0?null:g],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,g,j){return j=j!=null?j.concat([i]):null,ki(4194308,4,pi.bind(null,g,i),j)},useLayoutEffect:function(i,g){return ki(4194308,4,i,g)},useInsertionEffect:function(i,g){return ki(4,2,i,g)},useMemo:function(i,g){var j=Th();return g=g===void 0?null:g,i=i(),j.memoizedState=[i,g],i},useReducer:function(i,g,j){var et=Th();return g=j!==void 0?j(g):g,et.memoizedState=et.baseState=g,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},et.queue=i,i=i.dispatch=xi.bind(null,M,i),[et.memoizedState,i]},useRef:function(i){var g=Th();return i={current:i},g.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),g=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[g,i]},useMutableSource:function(){},useSyncExternalStore:function(i,g,j){var et=M,rt=Th();if(I){if(j===void 0)throw Error(p$1(407));j=j()}else{if(j=g(),Q===null)throw Error(p$1(349));Hh&30||di(et,g,j)}rt.memoizedState=j;var It={value:j,getSnapshot:g};return rt.queue=It,mi(ai.bind(null,et,It,i),[i]),et.flags|=2048,bi(9,ci.bind(null,et,It,j,g),void 0,null),j},useId:function(){var i=Th(),g=Q.identifierPrefix;if(I){var j=sg,et=rg;j=(et&~(1<<32-oc(et)-1)).toString(32)+j,g=":"+g+"R"+j,j=Kh++,0<j&&(g+="H"+j.toString(32)),g+=":"}else j=Lh++,g=":"+g+"r"+j.toString(32)+":";return i.memoizedState=g},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var g=Uh();return ui(g,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],g=Uh().memoizedState;return[i,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var g=Uh();return N===null?g.memoizedState=i:ui(g,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],g=Uh().memoizedState;return[i,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,g){if(i&&i.defaultProps){g=A({},g),i=i.defaultProps;for(var j in i)g[j]===void 0&&(g[j]=i[j]);return g}return g}function Di(i,g,j,et){g=i.memoizedState,j=j(et,g),j=j==null?g:A({},g,j),i.memoizedState=j,i.lanes===0&&(i.updateQueue.baseState=j)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,g,j){i=i._reactInternals;var et=R(),rt=yi(i),It=mh(et,rt);It.payload=g,j!=null&&(It.callback=j),g=nh(i,It,rt),g!==null&&(gi(g,i,rt,et),oh(g,i,rt))},enqueueReplaceState:function(i,g,j){i=i._reactInternals;var et=R(),rt=yi(i),It=mh(et,rt);It.tag=1,It.payload=g,j!=null&&(It.callback=j),g=nh(i,It,rt),g!==null&&(gi(g,i,rt,et),oh(g,i,rt))},enqueueForceUpdate:function(i,g){i=i._reactInternals;var j=R(),et=yi(i),rt=mh(j,et);rt.tag=2,g!=null&&(rt.callback=g),g=nh(i,rt,et),g!==null&&(gi(g,i,et,j),oh(g,i,et))}};function Fi(i,g,j,et,rt,It,_t){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(et,It,_t):g.prototype&&g.prototype.isPureReactComponent?!Ie(j,et)||!Ie(rt,It):!0}function Gi(i,g,j){var et=!1,rt=Vf,It=g.contextType;return typeof It=="object"&&It!==null?It=eh(It):(rt=Zf(g)?Xf:H.current,et=g.contextTypes,It=(et=et!=null)?Yf(i,rt):Vf),g=new g(j,It),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ei,i.stateNode=g,g._reactInternals=i,et&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=rt,i.__reactInternalMemoizedMaskedChildContext=It),g}function Hi(i,g,j,et){i=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(j,et),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(j,et),g.state!==i&&Ei.enqueueReplaceState(g,g.state,null)}function Ii(i,g,j,et){var rt=i.stateNode;rt.props=j,rt.state=i.memoizedState,rt.refs={},kh(i);var It=g.contextType;typeof It=="object"&&It!==null?rt.context=eh(It):(It=Zf(g)?Xf:H.current,rt.context=Yf(i,It)),rt.state=i.memoizedState,It=g.getDerivedStateFromProps,typeof It=="function"&&(Di(i,g,It,j),rt.state=i.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(g=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),g!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(i,j,rt,et),rt.state=i.memoizedState),typeof rt.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,g){try{var j="",et=g;do j+=Pa(et),et=et.return;while(et);var rt=j}catch(It){rt=`
Error generating stack: `+It.message+`
`+It.stack}return{value:i,source:g,stack:rt,digest:null}}function Ki(i,g,j){return{value:i,source:null,stack:j??null,digest:g??null}}function Li(i,g){try{console.error(g.value)}catch(j){setTimeout(function(){throw j})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,g,j){j=mh(-1,j),j.tag=3,j.payload={element:null};var et=g.value;return j.callback=function(){Oi||(Oi=!0,Pi=et),Li(i,g)},j}function Qi(i,g,j){j=mh(-1,j),j.tag=3;var et=i.type.getDerivedStateFromError;if(typeof et=="function"){var rt=g.value;j.payload=function(){return et(rt)},j.callback=function(){Li(i,g)}}var It=i.stateNode;return It!==null&&typeof It.componentDidCatch=="function"&&(j.callback=function(){Li(i,g),typeof et!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var _t=g.stack;this.componentDidCatch(g.value,{componentStack:_t!==null?_t:""})}),j}function Si(i,g,j){var et=i.pingCache;if(et===null){et=i.pingCache=new Mi;var rt=new Set;et.set(g,rt)}else rt=et.get(g),rt===void 0&&(rt=new Set,et.set(g,rt));rt.has(j)||(rt.add(j),i=Ti.bind(null,i,g,j),g.then(i,i))}function Ui(i){do{var g;if((g=i.tag===13)&&(g=i.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return i;i=i.return}while(i!==null);return null}function Vi(i,g,j,et,rt){return i.mode&1?(i.flags|=65536,i.lanes=rt,i):(i===g?i.flags|=65536:(i.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(g=mh(-1,1),g.tag=2,nh(j,g,1))),j.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,g,j,et){g.child=i===null?Vg(g,null,j,et):Ug(g,i.child,j,et)}function Yi(i,g,j,et,rt){j=j.render;var It=g.ref;return ch(g,rt),et=Nh(i,g,j,et,It,rt),j=Sh(),i!==null&&!dh?(g.updateQueue=i.updateQueue,g.flags&=-2053,i.lanes&=~rt,Zi(i,g,rt)):(I&&j&&vg(g),g.flags|=1,Xi(i,g,et,rt),g.child)}function $i(i,g,j,et,rt){if(i===null){var It=j.type;return typeof It=="function"&&!aj(It)&&It.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(g.tag=15,g.type=It,bj(i,g,It,et,rt)):(i=Rg(j.type,null,et,g,g.mode,rt),i.ref=g.ref,i.return=g,g.child=i)}if(It=i.child,!(i.lanes&rt)){var _t=It.memoizedProps;if(j=j.compare,j=j!==null?j:Ie,j(_t,et)&&i.ref===g.ref)return Zi(i,g,rt)}return g.flags|=1,i=Pg(It,et),i.ref=g.ref,i.return=g,g.child=i}function bj(i,g,j,et,rt){if(i!==null){var It=i.memoizedProps;if(Ie(It,et)&&i.ref===g.ref)if(dh=!1,g.pendingProps=et=It,(i.lanes&rt)!==0)i.flags&131072&&(dh=!0);else return g.lanes=i.lanes,Zi(i,g,rt)}return cj(i,g,j,et,rt)}function dj(i,g,j){var et=g.pendingProps,rt=et.children,It=i!==null?i.memoizedState:null;if(et.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=j;else{if(!(j&1073741824))return i=It!==null?It.baseLanes|j:j,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:i,cachePool:null,transitions:null},g.updateQueue=null,G(ej,fj),fj|=i,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=It!==null?It.baseLanes:j,G(ej,fj),fj|=et}else It!==null?(et=It.baseLanes|j,g.memoizedState=null):et=j,G(ej,fj),fj|=et;return Xi(i,g,rt,j),g.child}function gj(i,g){var j=g.ref;(i===null&&j!==null||i!==null&&i.ref!==j)&&(g.flags|=512,g.flags|=2097152)}function cj(i,g,j,et,rt){var It=Zf(j)?Xf:H.current;return It=Yf(g,It),ch(g,rt),j=Nh(i,g,j,et,It,rt),et=Sh(),i!==null&&!dh?(g.updateQueue=i.updateQueue,g.flags&=-2053,i.lanes&=~rt,Zi(i,g,rt)):(I&&et&&vg(g),g.flags|=1,Xi(i,g,j,rt),g.child)}function hj(i,g,j,et,rt){if(Zf(j)){var It=!0;cg(g)}else It=!1;if(ch(g,rt),g.stateNode===null)ij(i,g),Gi(g,j,et),Ii(g,j,et,rt),et=!0;else if(i===null){var _t=g.stateNode,gn=g.memoizedProps;_t.props=gn;var Xn=_t.context,En=j.contextType;typeof En=="object"&&En!==null?En=eh(En):(En=Zf(j)?Xf:H.current,En=Yf(g,En));var zn=j.getDerivedStateFromProps,er=typeof zn=="function"||typeof _t.getSnapshotBeforeUpdate=="function";er||typeof _t.UNSAFE_componentWillReceiveProps!="function"&&typeof _t.componentWillReceiveProps!="function"||(gn!==et||Xn!==En)&&Hi(g,_t,et,En),jh=!1;var tr=g.memoizedState;_t.state=tr,qh(g,et,_t,rt),Xn=g.memoizedState,gn!==et||tr!==Xn||Wf.current||jh?(typeof zn=="function"&&(Di(g,j,zn,et),Xn=g.memoizedState),(gn=jh||Fi(g,j,gn,et,tr,Xn,En))?(er||typeof _t.UNSAFE_componentWillMount!="function"&&typeof _t.componentWillMount!="function"||(typeof _t.componentWillMount=="function"&&_t.componentWillMount(),typeof _t.UNSAFE_componentWillMount=="function"&&_t.UNSAFE_componentWillMount()),typeof _t.componentDidMount=="function"&&(g.flags|=4194308)):(typeof _t.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=et,g.memoizedState=Xn),_t.props=et,_t.state=Xn,_t.context=En,et=gn):(typeof _t.componentDidMount=="function"&&(g.flags|=4194308),et=!1)}else{_t=g.stateNode,lh(i,g),gn=g.memoizedProps,En=g.type===g.elementType?gn:Ci(g.type,gn),_t.props=En,er=g.pendingProps,tr=_t.context,Xn=j.contextType,typeof Xn=="object"&&Xn!==null?Xn=eh(Xn):(Xn=Zf(j)?Xf:H.current,Xn=Yf(g,Xn));var $t=j.getDerivedStateFromProps;(zn=typeof $t=="function"||typeof _t.getSnapshotBeforeUpdate=="function")||typeof _t.UNSAFE_componentWillReceiveProps!="function"&&typeof _t.componentWillReceiveProps!="function"||(gn!==er||tr!==Xn)&&Hi(g,_t,et,Xn),jh=!1,tr=g.memoizedState,_t.state=tr,qh(g,et,_t,rt);var Vt=g.memoizedState;gn!==er||tr!==Vt||Wf.current||jh?(typeof $t=="function"&&(Di(g,j,$t,et),Vt=g.memoizedState),(En=jh||Fi(g,j,En,et,tr,Vt,Xn)||!1)?(zn||typeof _t.UNSAFE_componentWillUpdate!="function"&&typeof _t.componentWillUpdate!="function"||(typeof _t.componentWillUpdate=="function"&&_t.componentWillUpdate(et,Vt,Xn),typeof _t.UNSAFE_componentWillUpdate=="function"&&_t.UNSAFE_componentWillUpdate(et,Vt,Xn)),typeof _t.componentDidUpdate=="function"&&(g.flags|=4),typeof _t.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof _t.componentDidUpdate!="function"||gn===i.memoizedProps&&tr===i.memoizedState||(g.flags|=4),typeof _t.getSnapshotBeforeUpdate!="function"||gn===i.memoizedProps&&tr===i.memoizedState||(g.flags|=1024),g.memoizedProps=et,g.memoizedState=Vt),_t.props=et,_t.state=Vt,_t.context=Xn,et=En):(typeof _t.componentDidUpdate!="function"||gn===i.memoizedProps&&tr===i.memoizedState||(g.flags|=4),typeof _t.getSnapshotBeforeUpdate!="function"||gn===i.memoizedProps&&tr===i.memoizedState||(g.flags|=1024),et=!1)}return jj(i,g,j,et,It,rt)}function jj(i,g,j,et,rt,It){gj(i,g);var _t=(g.flags&128)!==0;if(!et&&!_t)return rt&&dg(g,j,!1),Zi(i,g,It);et=g.stateNode,Wi.current=g;var gn=_t&&typeof j.getDerivedStateFromError!="function"?null:et.render();return g.flags|=1,i!==null&&_t?(g.child=Ug(g,i.child,null,It),g.child=Ug(g,null,gn,It)):Xi(i,g,gn,It),g.memoizedState=et.state,rt&&dg(g,j,!0),g.child}function kj(i){var g=i.stateNode;g.pendingContext?ag(i,g.pendingContext,g.pendingContext!==g.context):g.context&&ag(i,g.context,!1),yh(i,g.containerInfo)}function lj(i,g,j,et,rt){return Ig(),Jg(rt),g.flags|=256,Xi(i,g,j,et),g.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,g,j){var et=g.pendingProps,rt=L.current,It=!1,_t=(g.flags&128)!==0,gn;if((gn=_t)||(gn=i!==null&&i.memoizedState===null?!1:(rt&2)!==0),gn?(It=!0,g.flags&=-129):(i===null||i.memoizedState!==null)&&(rt|=1),G(L,rt&1),i===null)return Eg(g),i=g.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(g.mode&1?i.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(_t=et.children,i=et.fallback,It?(et=g.mode,It=g.child,_t={mode:"hidden",children:_t},!(et&1)&&It!==null?(It.childLanes=0,It.pendingProps=_t):It=pj(_t,et,0,null),i=Tg(i,et,j,null),It.return=g,i.return=g,It.sibling=i,g.child=It,g.child.memoizedState=nj(j),g.memoizedState=mj,i):qj(g,_t));if(rt=i.memoizedState,rt!==null&&(gn=rt.dehydrated,gn!==null))return rj(i,g,_t,et,gn,rt,j);if(It){It=et.fallback,_t=g.mode,rt=i.child,gn=rt.sibling;var Xn={mode:"hidden",children:et.children};return!(_t&1)&&g.child!==rt?(et=g.child,et.childLanes=0,et.pendingProps=Xn,g.deletions=null):(et=Pg(rt,Xn),et.subtreeFlags=rt.subtreeFlags&14680064),gn!==null?It=Pg(gn,It):(It=Tg(It,_t,j,null),It.flags|=2),It.return=g,et.return=g,et.sibling=It,g.child=et,et=It,It=g.child,_t=i.child.memoizedState,_t=_t===null?nj(j):{baseLanes:_t.baseLanes|j,cachePool:null,transitions:_t.transitions},It.memoizedState=_t,It.childLanes=i.childLanes&~j,g.memoizedState=mj,et}return It=i.child,i=It.sibling,et=Pg(It,{mode:"visible",children:et.children}),!(g.mode&1)&&(et.lanes=j),et.return=g,et.sibling=null,i!==null&&(j=g.deletions,j===null?(g.deletions=[i],g.flags|=16):j.push(i)),g.child=et,g.memoizedState=null,et}function qj(i,g){return g=pj({mode:"visible",children:g},i.mode,0,null),g.return=i,i.child=g}function sj(i,g,j,et){return et!==null&&Jg(et),Ug(g,i.child,null,j),i=qj(g,g.pendingProps.children),i.flags|=2,g.memoizedState=null,i}function rj(i,g,j,et,rt,It,_t){if(j)return g.flags&256?(g.flags&=-257,et=Ki(Error(p$1(422))),sj(i,g,_t,et)):g.memoizedState!==null?(g.child=i.child,g.flags|=128,null):(It=et.fallback,rt=g.mode,et=pj({mode:"visible",children:et.children},rt,0,null),It=Tg(It,rt,_t,null),It.flags|=2,et.return=g,It.return=g,et.sibling=It,g.child=et,g.mode&1&&Ug(g,i.child,null,_t),g.child.memoizedState=nj(_t),g.memoizedState=mj,It);if(!(g.mode&1))return sj(i,g,_t,null);if(rt.data==="$!"){if(et=rt.nextSibling&&rt.nextSibling.dataset,et)var gn=et.dgst;return et=gn,It=Error(p$1(419)),et=Ki(It,et,void 0),sj(i,g,_t,et)}if(gn=(_t&i.childLanes)!==0,dh||gn){if(et=Q,et!==null){switch(_t&-_t){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(et.suspendedLanes|_t)?0:rt,rt!==0&&rt!==It.retryLane&&(It.retryLane=rt,ih(i,rt),gi(et,i,rt,-1))}return tj(),et=Ki(Error(p$1(421))),sj(i,g,_t,et)}return rt.data==="$?"?(g.flags|=128,g.child=i.child,g=uj.bind(null,i),rt._reactRetry=g,null):(i=It.treeContext,yg=Lf(rt.nextSibling),xg=g,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=g),g=qj(g,et.children),g.flags|=4096,g)}function vj(i,g,j){i.lanes|=g;var et=i.alternate;et!==null&&(et.lanes|=g),bh(i.return,g,j)}function wj(i,g,j,et,rt){var It=i.memoizedState;It===null?i.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:et,tail:j,tailMode:rt}:(It.isBackwards=g,It.rendering=null,It.renderingStartTime=0,It.last=et,It.tail=j,It.tailMode=rt)}function xj(i,g,j){var et=g.pendingProps,rt=et.revealOrder,It=et.tail;if(Xi(i,g,et.children,j),et=L.current,et&2)et=et&1|2,g.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=g.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,j,g);else if(i.tag===19)vj(i,j,g);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===g)break e;for(;i.sibling===null;){if(i.return===null||i.return===g)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}et&=1}if(G(L,et),!(g.mode&1))g.memoizedState=null;else switch(rt){case"forwards":for(j=g.child,rt=null;j!==null;)i=j.alternate,i!==null&&Ch(i)===null&&(rt=j),j=j.sibling;j=rt,j===null?(rt=g.child,g.child=null):(rt=j.sibling,j.sibling=null),wj(g,!1,rt,j,It);break;case"backwards":for(j=null,rt=g.child,g.child=null;rt!==null;){if(i=rt.alternate,i!==null&&Ch(i)===null){g.child=rt;break}i=rt.sibling,rt.sibling=j,j=rt,rt=i}wj(g,!0,j,null,It);break;case"together":wj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function ij(i,g){!(g.mode&1)&&i!==null&&(i.alternate=null,g.alternate=null,g.flags|=2)}function Zi(i,g,j){if(i!==null&&(g.dependencies=i.dependencies),rh|=g.lanes,!(j&g.childLanes))return null;if(i!==null&&g.child!==i.child)throw Error(p$1(153));if(g.child!==null){for(i=g.child,j=Pg(i,i.pendingProps),g.child=j,j.return=g;i.sibling!==null;)i=i.sibling,j=j.sibling=Pg(i,i.pendingProps),j.return=g;j.sibling=null}return g.child}function yj(i,g,j){switch(g.tag){case 3:kj(g),Ig();break;case 5:Ah(g);break;case 1:Zf(g.type)&&cg(g);break;case 4:yh(g,g.stateNode.containerInfo);break;case 10:var et=g.type._context,rt=g.memoizedProps.value;G(Wg,et._currentValue),et._currentValue=rt;break;case 13:if(et=g.memoizedState,et!==null)return et.dehydrated!==null?(G(L,L.current&1),g.flags|=128,null):j&g.child.childLanes?oj(i,g,j):(G(L,L.current&1),i=Zi(i,g,j),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(et=(j&g.childLanes)!==0,i.flags&128){if(et)return xj(i,g,j);g.flags|=128}if(rt=g.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G(L,L.current),et)break;return null;case 22:case 23:return g.lanes=0,dj(i,g,j)}return Zi(i,g,j)}var zj,Aj,Bj,Cj;zj=function(i,g){for(var j=g.child;j!==null;){if(j.tag===5||j.tag===6)i.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===g)break;for(;j.sibling===null;){if(j.return===null||j.return===g)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};Aj=function(){};Bj=function(i,g,j,et){var rt=i.memoizedProps;if(rt!==et){i=g.stateNode,xh(uh.current);var It=null;switch(j){case"input":rt=Ya(i,rt),et=Ya(i,et),It=[];break;case"select":rt=A({},rt,{value:void 0}),et=A({},et,{value:void 0}),It=[];break;case"textarea":rt=gb(i,rt),et=gb(i,et),It=[];break;default:typeof rt.onClick!="function"&&typeof et.onClick=="function"&&(i.onclick=Bf)}ub(j,et);var _t;j=null;for(En in rt)if(!et.hasOwnProperty(En)&&rt.hasOwnProperty(En)&&rt[En]!=null)if(En==="style"){var gn=rt[En];for(_t in gn)gn.hasOwnProperty(_t)&&(j||(j={}),j[_t]="")}else En!=="dangerouslySetInnerHTML"&&En!=="children"&&En!=="suppressContentEditableWarning"&&En!=="suppressHydrationWarning"&&En!=="autoFocus"&&(ea.hasOwnProperty(En)?It||(It=[]):(It=It||[]).push(En,null));for(En in et){var Xn=et[En];if(gn=rt!=null?rt[En]:void 0,et.hasOwnProperty(En)&&Xn!==gn&&(Xn!=null||gn!=null))if(En==="style")if(gn){for(_t in gn)!gn.hasOwnProperty(_t)||Xn&&Xn.hasOwnProperty(_t)||(j||(j={}),j[_t]="");for(_t in Xn)Xn.hasOwnProperty(_t)&&gn[_t]!==Xn[_t]&&(j||(j={}),j[_t]=Xn[_t])}else j||(It||(It=[]),It.push(En,j)),j=Xn;else En==="dangerouslySetInnerHTML"?(Xn=Xn?Xn.__html:void 0,gn=gn?gn.__html:void 0,Xn!=null&&gn!==Xn&&(It=It||[]).push(En,Xn)):En==="children"?typeof Xn!="string"&&typeof Xn!="number"||(It=It||[]).push(En,""+Xn):En!=="suppressContentEditableWarning"&&En!=="suppressHydrationWarning"&&(ea.hasOwnProperty(En)?(Xn!=null&&En==="onScroll"&&D("scroll",i),It||gn===Xn||(It=[])):(It=It||[]).push(En,Xn))}j&&(It=It||[]).push("style",j);var En=It;(g.updateQueue=En)&&(g.flags|=4)}};Cj=function(i,g,j,et){j!==et&&(g.flags|=4)};function Dj(i,g){if(!I)switch(i.tailMode){case"hidden":g=i.tail;for(var j=null;g!==null;)g.alternate!==null&&(j=g),g=g.sibling;j===null?i.tail=null:j.sibling=null;break;case"collapsed":j=i.tail;for(var et=null;j!==null;)j.alternate!==null&&(et=j),j=j.sibling;et===null?g||i.tail===null?i.tail=null:i.tail.sibling=null:et.sibling=null}}function S(i){var g=i.alternate!==null&&i.alternate.child===i.child,j=0,et=0;if(g)for(var rt=i.child;rt!==null;)j|=rt.lanes|rt.childLanes,et|=rt.subtreeFlags&14680064,et|=rt.flags&14680064,rt.return=i,rt=rt.sibling;else for(rt=i.child;rt!==null;)j|=rt.lanes|rt.childLanes,et|=rt.subtreeFlags,et|=rt.flags,rt.return=i,rt=rt.sibling;return i.subtreeFlags|=et,i.childLanes=j,g}function Ej(i,g,j){var et=g.pendingProps;switch(wg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(g),null;case 1:return Zf(g.type)&&$f(),S(g),null;case 3:return et=g.stateNode,zh(),E(Wf),E(H),Eh(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(i===null||i.child===null)&&(Gg(g)?g.flags|=4:i===null||i.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,g),S(g),null;case 5:Bh(g);var rt=xh(wh.current);if(j=g.type,i!==null&&g.stateNode!=null)Bj(i,g,j,et,rt),i.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!et){if(g.stateNode===null)throw Error(p$1(166));return S(g),null}if(i=xh(uh.current),Gg(g)){et=g.stateNode,j=g.type;var It=g.memoizedProps;switch(et[Of]=g,et[Pf]=It,i=(g.mode&1)!==0,j){case"dialog":D("cancel",et),D("close",et);break;case"iframe":case"object":case"embed":D("load",et);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],et);break;case"source":D("error",et);break;case"img":case"image":case"link":D("error",et),D("load",et);break;case"details":D("toggle",et);break;case"input":Za(et,It),D("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!It.multiple},D("invalid",et);break;case"textarea":hb(et,It),D("invalid",et)}ub(j,It),rt=null;for(var _t in It)if(It.hasOwnProperty(_t)){var gn=It[_t];_t==="children"?typeof gn=="string"?et.textContent!==gn&&(It.suppressHydrationWarning!==!0&&Af(et.textContent,gn,i),rt=["children",gn]):typeof gn=="number"&&et.textContent!==""+gn&&(It.suppressHydrationWarning!==!0&&Af(et.textContent,gn,i),rt=["children",""+gn]):ea.hasOwnProperty(_t)&&gn!=null&&_t==="onScroll"&&D("scroll",et)}switch(j){case"input":Va(et),db(et,It,!0);break;case"textarea":Va(et),jb(et);break;case"select":case"option":break;default:typeof It.onClick=="function"&&(et.onclick=Bf)}et=rt,g.updateQueue=et,et!==null&&(g.flags|=4)}else{_t=rt.nodeType===9?rt:rt.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(j)),i==="http://www.w3.org/1999/xhtml"?j==="script"?(i=_t.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof et.is=="string"?i=_t.createElement(j,{is:et.is}):(i=_t.createElement(j),j==="select"&&(_t=i,et.multiple?_t.multiple=!0:et.size&&(_t.size=et.size))):i=_t.createElementNS(i,j),i[Of]=g,i[Pf]=et,zj(i,g,!1,!1),g.stateNode=i;e:{switch(_t=vb(j,et),j){case"dialog":D("cancel",i),D("close",i),rt=et;break;case"iframe":case"object":case"embed":D("load",i),rt=et;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],i);rt=et;break;case"source":D("error",i),rt=et;break;case"img":case"image":case"link":D("error",i),D("load",i),rt=et;break;case"details":D("toggle",i),rt=et;break;case"input":Za(i,et),rt=Ya(i,et),D("invalid",i);break;case"option":rt=et;break;case"select":i._wrapperState={wasMultiple:!!et.multiple},rt=A({},et,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,et),rt=gb(i,et),D("invalid",i);break;default:rt=et}ub(j,rt),gn=rt;for(It in gn)if(gn.hasOwnProperty(It)){var Xn=gn[It];It==="style"?sb(i,Xn):It==="dangerouslySetInnerHTML"?(Xn=Xn?Xn.__html:void 0,Xn!=null&&nb(i,Xn)):It==="children"?typeof Xn=="string"?(j!=="textarea"||Xn!=="")&&ob(i,Xn):typeof Xn=="number"&&ob(i,""+Xn):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(ea.hasOwnProperty(It)?Xn!=null&&It==="onScroll"&&D("scroll",i):Xn!=null&&ta(i,It,Xn,_t))}switch(j){case"input":Va(i),db(i,et,!1);break;case"textarea":Va(i),jb(i);break;case"option":et.value!=null&&i.setAttribute("value",""+Sa(et.value));break;case"select":i.multiple=!!et.multiple,It=et.value,It!=null?fb(i,!!et.multiple,It,!1):et.defaultValue!=null&&fb(i,!!et.multiple,et.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(i.onclick=Bf)}switch(j){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return S(g),null;case 6:if(i&&g.stateNode!=null)Cj(i,g,i.memoizedProps,et);else{if(typeof et!="string"&&g.stateNode===null)throw Error(p$1(166));if(j=xh(wh.current),xh(uh.current),Gg(g)){if(et=g.stateNode,j=g.memoizedProps,et[Of]=g,(It=et.nodeValue!==j)&&(i=xg,i!==null))switch(i.tag){case 3:Af(et.nodeValue,j,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,j,(i.mode&1)!==0)}It&&(g.flags|=4)}else et=(j.nodeType===9?j:j.ownerDocument).createTextNode(et),et[Of]=g,g.stateNode=et}return S(g),null;case 13:if(E(L),et=g.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&g.mode&1&&!(g.flags&128))Hg(),Ig(),g.flags|=98560,It=!1;else if(It=Gg(g),et!==null&&et.dehydrated!==null){if(i===null){if(!It)throw Error(p$1(318));if(It=g.memoizedState,It=It!==null?It.dehydrated:null,!It)throw Error(p$1(317));It[Of]=g}else Ig(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;S(g),It=!1}else zg!==null&&(Fj(zg),zg=null),It=!0;if(!It)return g.flags&65536?g:null}return g.flags&128?(g.lanes=j,g):(et=et!==null,et!==(i!==null&&i.memoizedState!==null)&&et&&(g.child.flags|=8192,g.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),g.updateQueue!==null&&(g.flags|=4),S(g),null);case 4:return zh(),Aj(i,g),i===null&&sf(g.stateNode.containerInfo),S(g),null;case 10:return ah(g.type._context),S(g),null;case 17:return Zf(g.type)&&$f(),S(g),null;case 19:if(E(L),It=g.memoizedState,It===null)return S(g),null;if(et=(g.flags&128)!==0,_t=It.rendering,_t===null)if(et)Dj(It,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=g.child;i!==null;){if(_t=Ch(i),_t!==null){for(g.flags|=128,Dj(It,!1),et=_t.updateQueue,et!==null&&(g.updateQueue=et,g.flags|=4),g.subtreeFlags=0,et=j,j=g.child;j!==null;)It=j,i=et,It.flags&=14680066,_t=It.alternate,_t===null?(It.childLanes=0,It.lanes=i,It.child=null,It.subtreeFlags=0,It.memoizedProps=null,It.memoizedState=null,It.updateQueue=null,It.dependencies=null,It.stateNode=null):(It.childLanes=_t.childLanes,It.lanes=_t.lanes,It.child=_t.child,It.subtreeFlags=0,It.deletions=null,It.memoizedProps=_t.memoizedProps,It.memoizedState=_t.memoizedState,It.updateQueue=_t.updateQueue,It.type=_t.type,i=_t.dependencies,It.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),j=j.sibling;return G(L,L.current&1|2),g.child}i=i.sibling}It.tail!==null&&B()>Gj&&(g.flags|=128,et=!0,Dj(It,!1),g.lanes=4194304)}else{if(!et)if(i=Ch(_t),i!==null){if(g.flags|=128,et=!0,j=i.updateQueue,j!==null&&(g.updateQueue=j,g.flags|=4),Dj(It,!0),It.tail===null&&It.tailMode==="hidden"&&!_t.alternate&&!I)return S(g),null}else 2*B()-It.renderingStartTime>Gj&&j!==1073741824&&(g.flags|=128,et=!0,Dj(It,!1),g.lanes=4194304);It.isBackwards?(_t.sibling=g.child,g.child=_t):(j=It.last,j!==null?j.sibling=_t:g.child=_t,It.last=_t)}return It.tail!==null?(g=It.tail,It.rendering=g,It.tail=g.sibling,It.renderingStartTime=B(),g.sibling=null,j=L.current,G(L,et?j&1|2:j&1),g):(S(g),null);case 22:case 23:return Hj(),et=g.memoizedState!==null,i!==null&&i.memoizedState!==null!==et&&(g.flags|=8192),et&&g.mode&1?fj&1073741824&&(S(g),g.subtreeFlags&6&&(g.flags|=8192)):S(g),null;case 24:return null;case 25:return null}throw Error(p$1(156,g.tag))}function Ij(i,g){switch(wg(g),g.tag){case 1:return Zf(g.type)&&$f(),i=g.flags,i&65536?(g.flags=i&-65537|128,g):null;case 3:return zh(),E(Wf),E(H),Eh(),i=g.flags,i&65536&&!(i&128)?(g.flags=i&-65537|128,g):null;case 5:return Bh(g),null;case 13:if(E(L),i=g.memoizedState,i!==null&&i.dehydrated!==null){if(g.alternate===null)throw Error(p$1(340));Ig()}return i=g.flags,i&65536?(g.flags=i&-65537|128,g):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(g.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,g){var j=i.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(et){W(i,g,et)}else j.current=null}function Mj(i,g,j){try{j()}catch(et){W(i,g,et)}}var Nj=!1;function Oj(i,g){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var j={start:i.selectionStart,end:i.selectionEnd};else e:{j=(j=i.ownerDocument)&&j.defaultView||window;var et=j.getSelection&&j.getSelection();if(et&&et.rangeCount!==0){j=et.anchorNode;var rt=et.anchorOffset,It=et.focusNode;et=et.focusOffset;try{j.nodeType,It.nodeType}catch{j=null;break e}var _t=0,gn=-1,Xn=-1,En=0,zn=0,er=i,tr=null;t:for(;;){for(var $t;er!==j||rt!==0&&er.nodeType!==3||(gn=_t+rt),er!==It||et!==0&&er.nodeType!==3||(Xn=_t+et),er.nodeType===3&&(_t+=er.nodeValue.length),($t=er.firstChild)!==null;)tr=er,er=$t;for(;;){if(er===i)break t;if(tr===j&&++En===rt&&(gn=_t),tr===It&&++zn===et&&(Xn=_t),($t=er.nextSibling)!==null)break;er=tr,tr=er.parentNode}er=$t}j=gn===-1||Xn===-1?null:{start:gn,end:Xn}}else j=null}j=j||{start:0,end:0}}else j=null;for(Df={focusedElem:i,selectionRange:j},dd=!1,V=g;V!==null;)if(g=V,i=g.child,(g.subtreeFlags&1028)!==0&&i!==null)i.return=g,V=i;else for(;V!==null;){g=V;try{var Vt=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(Vt!==null){var _=Vt.memoizedProps,Et=Vt.memoizedState,ot=g.stateNode,it=ot.getSnapshotBeforeUpdate(g.elementType===g.type?_:Ci(g.type,_),Et);ot.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var nt=g.stateNode.containerInfo;nt.nodeType===1?nt.textContent="":nt.nodeType===9&&nt.documentElement&&nt.removeChild(nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ht){W(g,g.return,ht)}if(i=g.sibling,i!==null){i.return=g.return,V=i;break}V=g.return}return Vt=Nj,Nj=!1,Vt}function Pj(i,g,j){var et=g.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var rt=et=et.next;do{if((rt.tag&i)===i){var It=rt.destroy;rt.destroy=void 0,It!==void 0&&Mj(g,j,It)}rt=rt.next}while(rt!==et)}}function Qj(i,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var j=g=g.next;do{if((j.tag&i)===i){var et=j.create;j.destroy=et()}j=j.next}while(j!==g)}}function Rj(i){var g=i.ref;if(g!==null){var j=i.stateNode;switch(i.tag){case 5:i=j;break;default:i=j}typeof g=="function"?g(i):g.current=i}}function Sj(i){var g=i.alternate;g!==null&&(i.alternate=null,Sj(g)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(g=i.stateNode,g!==null&&(delete g[Of],delete g[Pf],delete g[of],delete g[Qf],delete g[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,g,j){var et=i.tag;if(et===5||et===6)i=i.stateNode,g?j.nodeType===8?j.parentNode.insertBefore(i,g):j.insertBefore(i,g):(j.nodeType===8?(g=j.parentNode,g.insertBefore(i,j)):(g=j,g.appendChild(i)),j=j._reactRootContainer,j!=null||g.onclick!==null||(g.onclick=Bf));else if(et!==4&&(i=i.child,i!==null))for(Vj(i,g,j),i=i.sibling;i!==null;)Vj(i,g,j),i=i.sibling}function Wj(i,g,j){var et=i.tag;if(et===5||et===6)i=i.stateNode,g?j.insertBefore(i,g):j.appendChild(i);else if(et!==4&&(i=i.child,i!==null))for(Wj(i,g,j),i=i.sibling;i!==null;)Wj(i,g,j),i=i.sibling}var X=null,Xj=!1;function Yj(i,g,j){for(j=j.child;j!==null;)Zj(i,g,j),j=j.sibling}function Zj(i,g,j){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,j)}catch{}switch(j.tag){case 5:U||Lj(j,g);case 6:var et=X,rt=Xj;X=null,Yj(i,g,j),X=et,Xj=rt,X!==null&&(Xj?(i=X,j=j.stateNode,i.nodeType===8?i.parentNode.removeChild(j):i.removeChild(j)):X.removeChild(j.stateNode));break;case 18:X!==null&&(Xj?(i=X,j=j.stateNode,i.nodeType===8?Kf(i.parentNode,j):i.nodeType===1&&Kf(i,j),bd(i)):Kf(X,j.stateNode));break;case 4:et=X,rt=Xj,X=j.stateNode.containerInfo,Xj=!0,Yj(i,g,j),X=et,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U&&(et=j.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){rt=et=et.next;do{var It=rt,_t=It.destroy;It=It.tag,_t!==void 0&&(It&2||It&4)&&Mj(j,g,_t),rt=rt.next}while(rt!==et)}Yj(i,g,j);break;case 1:if(!U&&(Lj(j,g),et=j.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=j.memoizedProps,et.state=j.memoizedState,et.componentWillUnmount()}catch(gn){W(j,g,gn)}Yj(i,g,j);break;case 21:Yj(i,g,j);break;case 22:j.mode&1?(U=(et=U)||j.memoizedState!==null,Yj(i,g,j),U=et):Yj(i,g,j);break;default:Yj(i,g,j)}}function ak(i){var g=i.updateQueue;if(g!==null){i.updateQueue=null;var j=i.stateNode;j===null&&(j=i.stateNode=new Kj),g.forEach(function(et){var rt=bk.bind(null,i,et);j.has(et)||(j.add(et),et.then(rt,rt))})}}function ck(i,g){var j=g.deletions;if(j!==null)for(var et=0;et<j.length;et++){var rt=j[et];try{var It=i,_t=g,gn=_t;e:for(;gn!==null;){switch(gn.tag){case 5:X=gn.stateNode,Xj=!1;break e;case 3:X=gn.stateNode.containerInfo,Xj=!0;break e;case 4:X=gn.stateNode.containerInfo,Xj=!0;break e}gn=gn.return}if(X===null)throw Error(p$1(160));Zj(It,_t,rt),X=null,Xj=!1;var Xn=rt.alternate;Xn!==null&&(Xn.return=null),rt.return=null}catch(En){W(rt,g,En)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)dk(g,i),g=g.sibling}function dk(i,g){var j=i.alternate,et=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(g,i),ek(i),et&4){try{Pj(3,i,i.return),Qj(3,i)}catch(_){W(i,i.return,_)}try{Pj(5,i,i.return)}catch(_){W(i,i.return,_)}}break;case 1:ck(g,i),ek(i),et&512&&j!==null&&Lj(j,j.return);break;case 5:if(ck(g,i),ek(i),et&512&&j!==null&&Lj(j,j.return),i.flags&32){var rt=i.stateNode;try{ob(rt,"")}catch(_){W(i,i.return,_)}}if(et&4&&(rt=i.stateNode,rt!=null)){var It=i.memoizedProps,_t=j!==null?j.memoizedProps:It,gn=i.type,Xn=i.updateQueue;if(i.updateQueue=null,Xn!==null)try{gn==="input"&&It.type==="radio"&&It.name!=null&&ab(rt,It),vb(gn,_t);var En=vb(gn,It);for(_t=0;_t<Xn.length;_t+=2){var zn=Xn[_t],er=Xn[_t+1];zn==="style"?sb(rt,er):zn==="dangerouslySetInnerHTML"?nb(rt,er):zn==="children"?ob(rt,er):ta(rt,zn,er,En)}switch(gn){case"input":bb(rt,It);break;case"textarea":ib(rt,It);break;case"select":var tr=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!It.multiple;var $t=It.value;$t!=null?fb(rt,!!It.multiple,$t,!1):tr!==!!It.multiple&&(It.defaultValue!=null?fb(rt,!!It.multiple,It.defaultValue,!0):fb(rt,!!It.multiple,It.multiple?[]:"",!1))}rt[Pf]=It}catch(_){W(i,i.return,_)}}break;case 6:if(ck(g,i),ek(i),et&4){if(i.stateNode===null)throw Error(p$1(162));rt=i.stateNode,It=i.memoizedProps;try{rt.nodeValue=It}catch(_){W(i,i.return,_)}}break;case 3:if(ck(g,i),ek(i),et&4&&j!==null&&j.memoizedState.isDehydrated)try{bd(g.containerInfo)}catch(_){W(i,i.return,_)}break;case 4:ck(g,i),ek(i);break;case 13:ck(g,i),ek(i),rt=i.child,rt.flags&8192&&(It=rt.memoizedState!==null,rt.stateNode.isHidden=It,!It||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B())),et&4&&ak(i);break;case 22:if(zn=j!==null&&j.memoizedState!==null,i.mode&1?(U=(En=U)||zn,ck(g,i),U=En):ck(g,i),ek(i),et&8192){if(En=i.memoizedState!==null,(i.stateNode.isHidden=En)&&!zn&&i.mode&1)for(V=i,zn=i.child;zn!==null;){for(er=V=zn;V!==null;){switch(tr=V,$t=tr.child,tr.tag){case 0:case 11:case 14:case 15:Pj(4,tr,tr.return);break;case 1:Lj(tr,tr.return);var Vt=tr.stateNode;if(typeof Vt.componentWillUnmount=="function"){et=tr,j=tr.return;try{g=et,Vt.props=g.memoizedProps,Vt.state=g.memoizedState,Vt.componentWillUnmount()}catch(_){W(et,j,_)}}break;case 5:Lj(tr,tr.return);break;case 22:if(tr.memoizedState!==null){gk(er);continue}}$t!==null?($t.return=tr,V=$t):gk(er)}zn=zn.sibling}e:for(zn=null,er=i;;){if(er.tag===5){if(zn===null){zn=er;try{rt=er.stateNode,En?(It=rt.style,typeof It.setProperty=="function"?It.setProperty("display","none","important"):It.display="none"):(gn=er.stateNode,Xn=er.memoizedProps.style,_t=Xn!=null&&Xn.hasOwnProperty("display")?Xn.display:null,gn.style.display=rb("display",_t))}catch(_){W(i,i.return,_)}}}else if(er.tag===6){if(zn===null)try{er.stateNode.nodeValue=En?"":er.memoizedProps}catch(_){W(i,i.return,_)}}else if((er.tag!==22&&er.tag!==23||er.memoizedState===null||er===i)&&er.child!==null){er.child.return=er,er=er.child;continue}if(er===i)break e;for(;er.sibling===null;){if(er.return===null||er.return===i)break e;zn===er&&(zn=null),er=er.return}zn===er&&(zn=null),er.sibling.return=er.return,er=er.sibling}}break;case 19:ck(g,i),ek(i),et&4&&ak(i);break;case 21:break;default:ck(g,i),ek(i)}}function ek(i){var g=i.flags;if(g&2){try{e:{for(var j=i.return;j!==null;){if(Tj(j)){var et=j;break e}j=j.return}throw Error(p$1(160))}switch(et.tag){case 5:var rt=et.stateNode;et.flags&32&&(ob(rt,""),et.flags&=-33);var It=Uj(i);Wj(i,It,rt);break;case 3:case 4:var _t=et.stateNode.containerInfo,gn=Uj(i);Vj(i,gn,_t);break;default:throw Error(p$1(161))}}catch(Xn){W(i,i.return,Xn)}i.flags&=-3}g&4096&&(i.flags&=-4097)}function hk(i,g,j){V=i,ik(i)}function ik(i,g,j){for(var et=(i.mode&1)!==0;V!==null;){var rt=V,It=rt.child;if(rt.tag===22&&et){var _t=rt.memoizedState!==null||Jj;if(!_t){var gn=rt.alternate,Xn=gn!==null&&gn.memoizedState!==null||U;gn=Jj;var En=U;if(Jj=_t,(U=Xn)&&!En)for(V=rt;V!==null;)_t=V,Xn=_t.child,_t.tag===22&&_t.memoizedState!==null?jk(rt):Xn!==null?(Xn.return=_t,V=Xn):jk(rt);for(;It!==null;)V=It,ik(It),It=It.sibling;V=rt,Jj=gn,U=En}kk(i)}else rt.subtreeFlags&8772&&It!==null?(It.return=rt,V=It):kk(i)}}function kk(i){for(;V!==null;){var g=V;if(g.flags&8772){var j=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:U||Qj(5,g);break;case 1:var et=g.stateNode;if(g.flags&4&&!U)if(j===null)et.componentDidMount();else{var rt=g.elementType===g.type?j.memoizedProps:Ci(g.type,j.memoizedProps);et.componentDidUpdate(rt,j.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var It=g.updateQueue;It!==null&&sh(g,It,et);break;case 3:var _t=g.updateQueue;if(_t!==null){if(j=null,g.child!==null)switch(g.child.tag){case 5:j=g.child.stateNode;break;case 1:j=g.child.stateNode}sh(g,_t,j)}break;case 5:var gn=g.stateNode;if(j===null&&g.flags&4){j=gn;var Xn=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Xn.autoFocus&&j.focus();break;case"img":Xn.src&&(j.src=Xn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var En=g.alternate;if(En!==null){var zn=En.memoizedState;if(zn!==null){var er=zn.dehydrated;er!==null&&bd(er)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||g.flags&512&&Rj(g)}catch(tr){W(g,g.return,tr)}}if(g===i){V=null;break}if(j=g.sibling,j!==null){j.return=g.return,V=j;break}V=g.return}}function gk(i){for(;V!==null;){var g=V;if(g===i){V=null;break}var j=g.sibling;if(j!==null){j.return=g.return,V=j;break}V=g.return}}function jk(i){for(;V!==null;){var g=V;try{switch(g.tag){case 0:case 11:case 15:var j=g.return;try{Qj(4,g)}catch(Xn){W(g,j,Xn)}break;case 1:var et=g.stateNode;if(typeof et.componentDidMount=="function"){var rt=g.return;try{et.componentDidMount()}catch(Xn){W(g,rt,Xn)}}var It=g.return;try{Rj(g)}catch(Xn){W(g,It,Xn)}break;case 5:var _t=g.return;try{Rj(g)}catch(Xn){W(g,_t,Xn)}}}catch(Xn){W(g,g.return,Xn)}if(g===i){V=null;break}var gn=g.sibling;if(gn!==null){gn.return=g.return,V=gn;break}V=g.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,g,j,et){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,j,et),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=j),T===4&&Ck(i,Z)),Dk(i,et),j===1&&K===0&&!(g.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,g){var j=i.callbackNode;wc(i,g);var et=uc(i,i===Q?Z:0);if(et===0)j!==null&&bc(j),i.callbackNode=null,i.callbackPriority=0;else if(g=et&-et,i.callbackPriority!==g){if(j!=null&&bc(j),g===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),j=null;else{switch(Dc(et)){case 1:j=fc;break;case 4:j=gc;break;case 16:j=hc;break;case 536870912:j=jc;break;default:j=hc}j=Fk(j,Gk.bind(null,i))}i.callbackPriority=g,i.callbackNode=j}}function Gk(i,g){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var j=i.callbackNode;if(Hk()&&i.callbackNode!==j)return null;var et=uc(i,i===Q?Z:0);if(et===0)return null;if(et&30||et&i.expiredLanes||g)g=Ik(i,et);else{g=et;var rt=K;K|=2;var It=Jk();(Q!==i||Z!==g)&&(uk=null,Gj=B()+500,Kk(i,g));do try{Lk();break}catch(gn){Mk(i,gn)}while(!0);$g(),mk.current=It,K=rt,Y!==null?g=0:(Q=null,Z=0,g=T)}if(g!==0){if(g===2&&(rt=xc(i),rt!==0&&(et=rt,g=Nk(i,rt))),g===1)throw j=pk,Kk(i,0),Ck(i,et),Dk(i,B()),j;if(g===6)Ck(i,et);else{if(rt=i.current.alternate,!(et&30)&&!Ok(rt)&&(g=Ik(i,et),g===2&&(It=xc(i),It!==0&&(et=It,g=Nk(i,It))),g===1))throw j=pk,Kk(i,0),Ck(i,et),Dk(i,B()),j;switch(i.finishedWork=rt,i.finishedLanes=et,g){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,et),(et&130023424)===et&&(g=fk+500-B(),10<g)){if(uc(i,0)!==0)break;if(rt=i.suspendedLanes,(rt&et)!==et){R(),i.pingedLanes|=i.suspendedLanes&rt;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),g);break}Pk(i,tk,uk);break;case 4:if(Ck(i,et),(et&4194240)===et)break;for(g=i.eventTimes,rt=-1;0<et;){var _t=31-oc(et);It=1<<_t,_t=g[_t],_t>rt&&(rt=_t),et&=~It}if(et=rt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*lk(et/1960))-et,10<et){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),et);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===j?Gk.bind(null,i):null}function Nk(i,g){var j=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,g).flags|=256),i=Ik(i,g),i!==2&&(g=tk,tk=j,g!==null&&Fj(g)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var g=i;;){if(g.flags&16384){var j=g.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var et=0;et<j.length;et++){var rt=j[et],It=rt.getSnapshot;rt=rt.value;try{if(!He(It(),rt))return!1}catch{return!1}}}if(j=g.child,g.subtreeFlags&16384&&j!==null)j.return=g,g=j;else{if(g===i)break;for(;g.sibling===null;){if(g.return===null||g.return===i)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ck(i,g){for(g&=~rk,g&=~qk,i.suspendedLanes|=g,i.pingedLanes&=~g,i=i.expirationTimes;0<g;){var j=31-oc(g),et=1<<j;i[j]=-1,g&=~et}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var g=uc(i,0);if(!(g&1))return Dk(i,B()),null;var j=Ik(i,g);if(i.tag!==0&&j===2){var et=xc(i);et!==0&&(g=et,j=Nk(i,et))}if(j===1)throw j=pk,Kk(i,0),Ck(i,g),Dk(i,B()),j;if(j===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=g,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,g){var j=K;K|=1;try{return i(g)}finally{K=j,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var g=K;K|=1;var j=ok.transition,et=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=et,ok.transition=j,K=g,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,g){i.finishedWork=null,i.finishedLanes=0;var j=i.timeoutHandle;if(j!==-1&&(i.timeoutHandle=-1,Gf(j)),Y!==null)for(j=Y.return;j!==null;){var et=j;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(et);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(et.type._context);break;case 22:case 23:Hj()}j=j.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=g,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(g=0;g<fh.length;g++)if(j=fh[g],et=j.interleaved,et!==null){j.interleaved=null;var rt=et.next,It=j.pending;if(It!==null){var _t=It.next;It.next=rt,et.next=_t}j.pending=et}fh=null}return i}function Mk(i,g){do{var j=Y;try{if($g(),Fh.current=Rh,Ih){for(var et=M.memoizedState;et!==null;){var rt=et.queue;rt!==null&&(rt.pending=null),et=et.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,j===null||j.return===null){T=1,pk=g,Y=null;break}e:{var It=i,_t=j.return,gn=j,Xn=g;if(g=Z,gn.flags|=32768,Xn!==null&&typeof Xn=="object"&&typeof Xn.then=="function"){var En=Xn,zn=gn,er=zn.tag;if(!(zn.mode&1)&&(er===0||er===11||er===15)){var tr=zn.alternate;tr?(zn.updateQueue=tr.updateQueue,zn.memoizedState=tr.memoizedState,zn.lanes=tr.lanes):(zn.updateQueue=null,zn.memoizedState=null)}var $t=Ui(_t);if($t!==null){$t.flags&=-257,Vi($t,_t,gn,It,g),$t.mode&1&&Si(It,En,g),g=$t,Xn=En;var Vt=g.updateQueue;if(Vt===null){var _=new Set;_.add(Xn),g.updateQueue=_}else Vt.add(Xn);break e}else{if(!(g&1)){Si(It,En,g),tj();break e}Xn=Error(p$1(426))}}else if(I&&gn.mode&1){var Et=Ui(_t);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Vi(Et,_t,gn,It,g),Jg(Ji(Xn,gn));break e}}It=Xn=Ji(Xn,gn),T!==4&&(T=2),sk===null?sk=[It]:sk.push(It),It=_t;do{switch(It.tag){case 3:It.flags|=65536,g&=-g,It.lanes|=g;var ot=Ni(It,Xn,g);ph(It,ot);break e;case 1:gn=Xn;var it=It.type,nt=It.stateNode;if(!(It.flags&128)&&(typeof it.getDerivedStateFromError=="function"||nt!==null&&typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt)))){It.flags|=65536,g&=-g,It.lanes|=g;var ht=Qi(It,gn,g);ph(It,ht);break e}}It=It.return}while(It!==null)}Sk(j)}catch(Bt){g=Bt,Y===j&&j!==null&&(Y=j=j.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,g){var j=K;K|=2;var et=Jk();(Q!==i||Z!==g)&&(uk=null,Kk(i,g));do try{Tk();break}catch(rt){Mk(i,rt)}while(!0);if($g(),K=j,mk.current=et,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var g=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,g===null?Sk(i):Y=g,nk.current=null}function Sk(i){var g=i;do{var j=g.alternate;if(i=g.return,g.flags&32768){if(j=Ij(j,g),j!==null){j.flags&=32767,Y=j;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(j=Ej(j,g,fj),j!==null){Y=j;return}if(g=g.sibling,g!==null){Y=g;return}Y=g=i}while(g!==null);T===0&&(T=5)}function Pk(i,g,j){var et=C,rt=ok.transition;try{ok.transition=null,C=1,Wk(i,g,j,et)}finally{ok.transition=rt,C=et}return null}function Wk(i,g,j,et){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));j=i.finishedWork;var rt=i.finishedLanes;if(j===null)return null;if(i.finishedWork=null,i.finishedLanes=0,j===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var It=j.lanes|j.childLanes;if(Bc(i,It),i===Q&&(Y=Q=null,Z=0),!(j.subtreeFlags&2064)&&!(j.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),It=(j.flags&15990)!==0,j.subtreeFlags&15990||It){It=ok.transition,ok.transition=null;var _t=C;C=1;var gn=K;K|=4,nk.current=null,Oj(i,j),dk(j,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=j,hk(j),dc(),K=gn,C=_t,ok.transition=It}else i.current=j;if(vk&&(vk=!1,wk=i,xk=rt),It=i.pendingLanes,It===0&&(Ri=null),mc(j.stateNode),Dk(i,B()),g!==null)for(et=i.onRecoverableError,j=0;j<g.length;j++)rt=g[j],et(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),It=i.pendingLanes,It&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),g=ok.transition,j=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var et=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var rt=K;for(K|=4,V=i.current;V!==null;){var It=V,_t=It.child;if(V.flags&16){var gn=It.deletions;if(gn!==null){for(var Xn=0;Xn<gn.length;Xn++){var En=gn[Xn];for(V=En;V!==null;){var zn=V;switch(zn.tag){case 0:case 11:case 15:Pj(8,zn,It)}var er=zn.child;if(er!==null)er.return=zn,V=er;else for(;V!==null;){zn=V;var tr=zn.sibling,$t=zn.return;if(Sj(zn),zn===En){V=null;break}if(tr!==null){tr.return=$t,V=tr;break}V=$t}}}var Vt=It.alternate;if(Vt!==null){var _=Vt.child;if(_!==null){Vt.child=null;do{var Et=_.sibling;_.sibling=null,_=Et}while(_!==null)}}V=It}}if(It.subtreeFlags&2064&&_t!==null)_t.return=It,V=_t;else e:for(;V!==null;){if(It=V,It.flags&2048)switch(It.tag){case 0:case 11:case 15:Pj(9,It,It.return)}var ot=It.sibling;if(ot!==null){ot.return=It.return,V=ot;break e}V=It.return}}var it=i.current;for(V=it;V!==null;){_t=V;var nt=_t.child;if(_t.subtreeFlags&2064&&nt!==null)nt.return=_t,V=nt;else e:for(_t=it;V!==null;){if(gn=V,gn.flags&2048)try{switch(gn.tag){case 0:case 11:case 15:Qj(9,gn)}}catch(Bt){W(gn,gn.return,Bt)}if(gn===_t){V=null;break e}var ht=gn.sibling;if(ht!==null){ht.return=gn.return,V=ht;break e}V=gn.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}et=!0}return et}finally{C=j,ok.transition=g}}return!1}function Xk(i,g,j){g=Ji(j,g),g=Ni(i,g,1),i=nh(i,g,1),g=R(),i!==null&&(Ac(i,1,g),Dk(i,g))}function W(i,g,j){if(i.tag===3)Xk(i,i,j);else for(;g!==null;){if(g.tag===3){Xk(g,i,j);break}else if(g.tag===1){var et=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Ri===null||!Ri.has(et))){i=Ji(j,i),i=Qi(g,i,1),g=nh(g,i,1),i=R(),g!==null&&(Ac(g,1,i),Dk(g,i));break}}g=g.return}}function Ti(i,g,j){var et=i.pingCache;et!==null&&et.delete(g),g=R(),i.pingedLanes|=i.suspendedLanes&j,Q===i&&(Z&j)===j&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=j),Dk(i,g)}function Yk(i,g){g===0&&(i.mode&1?(g=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):g=1);var j=R();i=ih(i,g),i!==null&&(Ac(i,g,j),Dk(i,j))}function uj(i){var g=i.memoizedState,j=0;g!==null&&(j=g.retryLane),Yk(i,j)}function bk(i,g){var j=0;switch(i.tag){case 13:var et=i.stateNode,rt=i.memoizedState;rt!==null&&(j=rt.retryLane);break;case 19:et=i.stateNode;break;default:throw Error(p$1(314))}et!==null&&et.delete(g),Yk(i,j)}var Vk;Vk=function(i,g,j){if(i!==null)if(i.memoizedProps!==g.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&j)&&!(g.flags&128))return dh=!1,yj(i,g,j);dh=!!(i.flags&131072)}else dh=!1,I&&g.flags&1048576&&ug(g,ng,g.index);switch(g.lanes=0,g.tag){case 2:var et=g.type;ij(i,g),i=g.pendingProps;var rt=Yf(g,H.current);ch(g,j),rt=Nh(null,g,et,i,rt,j);var It=Sh();return g.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Zf(et)?(It=!0,cg(g)):It=!1,g.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh(g),rt.updater=Ei,g.stateNode=rt,rt._reactInternals=g,Ii(g,et,i,j),g=jj(null,g,et,!0,It,j)):(g.tag=0,I&&It&&vg(g),Xi(null,g,rt,j),g=g.child),g;case 16:et=g.elementType;e:{switch(ij(i,g),i=g.pendingProps,rt=et._init,et=rt(et._payload),g.type=et,rt=g.tag=Zk(et),i=Ci(et,i),rt){case 0:g=cj(null,g,et,i,j);break e;case 1:g=hj(null,g,et,i,j);break e;case 11:g=Yi(null,g,et,i,j);break e;case 14:g=$i(null,g,et,Ci(et.type,i),j);break e}throw Error(p$1(306,et,""))}return g;case 0:return et=g.type,rt=g.pendingProps,rt=g.elementType===et?rt:Ci(et,rt),cj(i,g,et,rt,j);case 1:return et=g.type,rt=g.pendingProps,rt=g.elementType===et?rt:Ci(et,rt),hj(i,g,et,rt,j);case 3:e:{if(kj(g),i===null)throw Error(p$1(387));et=g.pendingProps,It=g.memoizedState,rt=It.element,lh(i,g),qh(g,et,null,j);var _t=g.memoizedState;if(et=_t.element,It.isDehydrated)if(It={element:et,isDehydrated:!1,cache:_t.cache,pendingSuspenseBoundaries:_t.pendingSuspenseBoundaries,transitions:_t.transitions},g.updateQueue.baseState=It,g.memoizedState=It,g.flags&256){rt=Ji(Error(p$1(423)),g),g=lj(i,g,et,j,rt);break e}else if(et!==rt){rt=Ji(Error(p$1(424)),g),g=lj(i,g,et,j,rt);break e}else for(yg=Lf(g.stateNode.containerInfo.firstChild),xg=g,I=!0,zg=null,j=Vg(g,null,et,j),g.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Ig(),et===rt){g=Zi(i,g,j);break e}Xi(i,g,et,j)}g=g.child}return g;case 5:return Ah(g),i===null&&Eg(g),et=g.type,rt=g.pendingProps,It=i!==null?i.memoizedProps:null,_t=rt.children,Ef(et,rt)?_t=null:It!==null&&Ef(et,It)&&(g.flags|=32),gj(i,g),Xi(i,g,_t,j),g.child;case 6:return i===null&&Eg(g),null;case 13:return oj(i,g,j);case 4:return yh(g,g.stateNode.containerInfo),et=g.pendingProps,i===null?g.child=Ug(g,null,et,j):Xi(i,g,et,j),g.child;case 11:return et=g.type,rt=g.pendingProps,rt=g.elementType===et?rt:Ci(et,rt),Yi(i,g,et,rt,j);case 7:return Xi(i,g,g.pendingProps,j),g.child;case 8:return Xi(i,g,g.pendingProps.children,j),g.child;case 12:return Xi(i,g,g.pendingProps.children,j),g.child;case 10:e:{if(et=g.type._context,rt=g.pendingProps,It=g.memoizedProps,_t=rt.value,G(Wg,et._currentValue),et._currentValue=_t,It!==null)if(He(It.value,_t)){if(It.children===rt.children&&!Wf.current){g=Zi(i,g,j);break e}}else for(It=g.child,It!==null&&(It.return=g);It!==null;){var gn=It.dependencies;if(gn!==null){_t=It.child;for(var Xn=gn.firstContext;Xn!==null;){if(Xn.context===et){if(It.tag===1){Xn=mh(-1,j&-j),Xn.tag=2;var En=It.updateQueue;if(En!==null){En=En.shared;var zn=En.pending;zn===null?Xn.next=Xn:(Xn.next=zn.next,zn.next=Xn),En.pending=Xn}}It.lanes|=j,Xn=It.alternate,Xn!==null&&(Xn.lanes|=j),bh(It.return,j,g),gn.lanes|=j;break}Xn=Xn.next}}else if(It.tag===10)_t=It.type===g.type?null:It.child;else if(It.tag===18){if(_t=It.return,_t===null)throw Error(p$1(341));_t.lanes|=j,gn=_t.alternate,gn!==null&&(gn.lanes|=j),bh(_t,j,g),_t=It.sibling}else _t=It.child;if(_t!==null)_t.return=It;else for(_t=It;_t!==null;){if(_t===g){_t=null;break}if(It=_t.sibling,It!==null){It.return=_t.return,_t=It;break}_t=_t.return}It=_t}Xi(i,g,rt.children,j),g=g.child}return g;case 9:return rt=g.type,et=g.pendingProps.children,ch(g,j),rt=eh(rt),et=et(rt),g.flags|=1,Xi(i,g,et,j),g.child;case 14:return et=g.type,rt=Ci(et,g.pendingProps),rt=Ci(et.type,rt),$i(i,g,et,rt,j);case 15:return bj(i,g,g.type,g.pendingProps,j);case 17:return et=g.type,rt=g.pendingProps,rt=g.elementType===et?rt:Ci(et,rt),ij(i,g),g.tag=1,Zf(et)?(i=!0,cg(g)):i=!1,ch(g,j),Gi(g,et,rt),Ii(g,et,rt,j),jj(null,g,et,!0,i,j);case 19:return xj(i,g,j);case 22:return dj(i,g,j)}throw Error(p$1(156,g.tag))};function Fk(i,g){return ac(i,g)}function $k(i,g,j,et){this.tag=i,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,g,j,et){return new $k(i,g,j,et)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,g){var j=i.alternate;return j===null?(j=Bg(i.tag,g,i.key,i.mode),j.elementType=i.elementType,j.type=i.type,j.stateNode=i.stateNode,j.alternate=i,i.alternate=j):(j.pendingProps=g,j.type=i.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=i.flags&14680064,j.childLanes=i.childLanes,j.lanes=i.lanes,j.child=i.child,j.memoizedProps=i.memoizedProps,j.memoizedState=i.memoizedState,j.updateQueue=i.updateQueue,g=i.dependencies,j.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},j.sibling=i.sibling,j.index=i.index,j.ref=i.ref,j}function Rg(i,g,j,et,rt,It){var _t=2;if(et=i,typeof i=="function")aj(i)&&(_t=1);else if(typeof i=="string")_t=5;else e:switch(i){case ya:return Tg(j.children,rt,It,g);case za:_t=8,rt|=8;break;case Aa:return i=Bg(12,j,g,rt|2),i.elementType=Aa,i.lanes=It,i;case Ea:return i=Bg(13,j,g,rt),i.elementType=Ea,i.lanes=It,i;case Fa:return i=Bg(19,j,g,rt),i.elementType=Fa,i.lanes=It,i;case Ia:return pj(j,rt,It,g);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:_t=10;break e;case Ca:_t=9;break e;case Da:_t=11;break e;case Ga:_t=14;break e;case Ha:_t=16,et=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return g=Bg(_t,j,g,rt),g.elementType=i,g.type=et,g.lanes=It,g}function Tg(i,g,j,et){return i=Bg(7,i,et,g),i.lanes=j,i}function pj(i,g,j,et){return i=Bg(22,i,et,g),i.elementType=Ia,i.lanes=j,i.stateNode={isHidden:!1},i}function Qg(i,g,j){return i=Bg(6,i,null,g),i.lanes=j,i}function Sg(i,g,j){return g=Bg(4,i.children!==null?i.children:[],i.key,g),g.lanes=j,g.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},g}function al(i,g,j,et,rt){this.tag=g,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=et,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(i,g,j,et,rt,It,_t,gn,Xn){return i=new al(i,g,j,gn,Xn),g===1?(g=1,It===!0&&(g|=8)):g=0,It=Bg(3,null,null,g),i.current=It,It.stateNode=i,It.memoizedState={element:et,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(It),i}function cl(i,g,j){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:et==null?null:""+et,children:i,containerInfo:g,implementation:j}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var g=i;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Zf(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(p$1(171))}if(i.tag===1){var j=i.type;if(Zf(j))return bg(i,j,g)}return g}function el(i,g,j,et,rt,It,_t,gn,Xn){return i=bl(j,et,!0,i,rt,It,_t,gn,Xn),i.context=dl(null),j=i.current,et=R(),rt=yi(j),It=mh(et,rt),It.callback=g??null,nh(j,It,rt),i.current.lanes=rt,Ac(i,rt,et),Dk(i,et),i}function fl(i,g,j,et){var rt=g.current,It=R(),_t=yi(rt);return j=dl(j),g.context===null?g.context=j:g.pendingContext=j,g=mh(It,_t),g.payload={element:i},et=et===void 0?null:et,et!==null&&(g.callback=et),i=nh(rt,g,_t),i!==null&&(gi(i,rt,_t,It),oh(i,rt,_t)),_t}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,g){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var j=i.retryLane;i.retryLane=j!==0&&j<g?j:g}}function il(i,g){hl(i,g),(i=i.alternate)&&hl(i,g)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var g=this._internalRoot;if(g===null)throw Error(p$1(409));fl(i,g,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var g=i.containerInfo;Rk(function(){fl(null,i,null,null)}),g[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var g=Hc();i={blockedOn:null,target:i,priority:g};for(var j=0;j<Qc.length&&g!==0&&g<Qc[j].priority;j++);Qc.splice(j,0,i),j===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,g,j,et,rt){if(rt){if(typeof et=="function"){var It=et;et=function(){var En=gl(_t);It.call(En)}}var _t=el(g,et,i,0,null,!1,!1,"",pl);return i._reactRootContainer=_t,i[uf]=_t.current,sf(i.nodeType===8?i.parentNode:i),Rk(),_t}for(;rt=i.lastChild;)i.removeChild(rt);if(typeof et=="function"){var gn=et;et=function(){var En=gl(Xn);gn.call(En)}}var Xn=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=Xn,i[uf]=Xn.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(g,Xn,j,et)}),Xn}function rl(i,g,j,et,rt){var It=j._reactRootContainer;if(It){var _t=It;if(typeof rt=="function"){var gn=rt;rt=function(){var Xn=gl(_t);gn.call(Xn)}}fl(g,_t,i,rt)}else _t=ql(j,g,i,rt,et);return gl(_t)}Ec=function(i){switch(i.tag){case 3:var g=i.stateNode;if(g.current.memoizedState.isDehydrated){var j=tc(g.pendingLanes);j!==0&&(Cc(g,j|1),Dk(g,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var et=ih(i,1);if(et!==null){var rt=R();gi(et,i,1,rt)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var g=ih(i,134217728);if(g!==null){var j=R();gi(g,i,134217728,j)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var g=yi(i),j=ih(i,g);if(j!==null){var et=R();gi(j,i,g,et)}il(i,g)}};Hc=function(){return C};Ic=function(i,g){var j=C;try{return C=i,g()}finally{C=j}};yb=function(i,g,j){switch(g){case"input":if(bb(i,j),g=j.name,j.type==="radio"&&g!=null){for(j=i;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<j.length;g++){var et=j[g];if(et!==i&&et.form===i.form){var rt=Db(et);if(!rt)throw Error(p$1(90));Wa(et),bb(et,rt)}}}break;case"textarea":ib(i,j);break;case"select":g=j.value,g!=null&&fb(i,!!j.multiple,g,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,g){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(g))throw Error(p$1(200));return cl(i,g,null,j)};reactDom_production_min.createRoot=function(i,g){if(!nl(i))throw Error(p$1(299));var j=!1,et="",rt=kl;return g!=null&&(g.unstable_strictMode===!0&&(j=!0),g.identifierPrefix!==void 0&&(et=g.identifierPrefix),g.onRecoverableError!==void 0&&(rt=g.onRecoverableError)),g=bl(i,1,!1,null,null,j,!1,et,rt),i[uf]=g.current,sf(i.nodeType===8?i.parentNode:i),new ll(g)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var g=i._reactInternals;if(g===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(g),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,g,j){if(!ol(g))throw Error(p$1(200));return rl(null,i,g,!0,j)};reactDom_production_min.hydrateRoot=function(i,g,j){if(!nl(i))throw Error(p$1(405));var et=j!=null&&j.hydratedSources||null,rt=!1,It="",_t=kl;if(j!=null&&(j.unstable_strictMode===!0&&(rt=!0),j.identifierPrefix!==void 0&&(It=j.identifierPrefix),j.onRecoverableError!==void 0&&(_t=j.onRecoverableError)),g=el(g,null,i,1,j??null,rt,!1,It,_t),i[uf]=g.current,sf(i),et)for(i=0;i<et.length;i++)j=et[i],rt=j._getVersion,rt=rt(j._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[j,rt]:g.mutableSourceEagerHydrationData.push(j,rt);return new ml(g)};reactDom_production_min.render=function(i,g,j){if(!ol(g))throw Error(p$1(200));return rl(null,i,g,!1,j)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,g,j,et){if(!ol(j))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,g,j,!1,et)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var main={exports:{}},excalidrawWithPreact_production_min={exports:{}};/*! For license information please see excalidraw-with-preact.production.min.js.LICENSE.txt */(function(i,g){(function(j,et){i.exports=et(reactExports,jsxRuntimeExports,reactDomExports)})(self,function(j,et,rt){return function(){var It,_t,gn,Xn,En={5779:function($t,Vt){Vt.N=void 0;var _=/^([^\w]*)(javascript|data|vbscript)/im,Et=/&#(\w+)(^\w|;)?/g,ot=/&(newline|tab);/gi,it=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,nt=/^.+(:|&colon;)/gim,ht=[".","/"];Vt.N=function(Bt){var st,tt=(st=Bt||"",st.replace(Et,function(Zt,Nt){return String.fromCharCode(Nt)})).replace(ot,"").replace(it,"").trim();if(!tt)return"about:blank";if(function(Zt){return ht.indexOf(Zt[0])>-1}(tt))return tt;var xt=tt.match(nt);if(!xt)return tt;var St=xt[0];return _.test(St)?"about:blank":tt}},7217:function($t,Vt,_){function Et(ot,it,{checkForDefaultPrevented:nt=!0}={}){return function(ht){if(ot==null||ot(ht),nt===!1||!ht.defaultPrevented)return it==null?void 0:it(ht)}}_.d(Vt,{M:function(){return Et}})},9335:function($t,Vt,_){_.d(Vt,{F:function(){return ot},e:function(){return it}});var Et=_(9787);function ot(...nt){return ht=>nt.forEach(Bt=>function(st,tt){typeof st=="function"?st(tt):st!=null&&(st.current=tt)}(Bt,ht))}function it(...nt){return(0,Et.useCallback)(ot(...nt),nt)}},1267:function($t,Vt,_){_.d(Vt,{b:function(){return ot}});var Et=_(9787);function ot(nt,ht=[]){let Bt=[];const st=()=>{const tt=Bt.map(xt=>(0,Et.createContext)(xt));return function(xt){const St=(xt==null?void 0:xt[nt])||tt;return(0,Et.useMemo)(()=>({[`__scope${nt}`]:{...xt,[nt]:St}}),[xt,St])}};return st.scopeName=nt,[function(tt,xt){const St=(0,Et.createContext)(xt),Zt=Bt.length;function Nt(dt){const{scope:Yt,children:sn,...bn}=dt,pn=(Yt==null?void 0:Yt[nt][Zt])||St,mn=(0,Et.useMemo)(()=>bn,Object.values(bn));return(0,Et.createElement)(pn.Provider,{value:mn},sn)}return Bt=[...Bt,xt],Nt.displayName=tt+"Provider",[Nt,function(dt,Yt){const sn=(Yt==null?void 0:Yt[nt][Zt])||St,bn=(0,Et.useContext)(sn);if(bn)return bn;if(xt!==void 0)return xt;throw new Error(`\`${dt}\` must be used within \`${tt}\``)}]},it(st,...ht)]}function it(...nt){const ht=nt[0];if(nt.length===1)return ht;const Bt=()=>{const st=nt.map(tt=>({useScope:tt(),scopeName:tt.scopeName}));return function(tt){const xt=st.reduce((St,{useScope:Zt,scopeName:Nt})=>({...St,...Zt(tt)[`__scope${Nt}`]}),{});return(0,Et.useMemo)(()=>({[`__scope${ht.scopeName}`]:xt}),[xt])}};return Bt.scopeName=ht.scopeName,Bt}},5622:function($t,Vt,_){_.d(Vt,{M:function(){return ht}});var Et=_(9787),ot=_(3348);const it=Et.useId||(()=>{});let nt=0;function ht(Bt){const[st,tt]=Et.useState(it());return(0,ot.b)(()=>{Bt||tt(xt=>xt??String(nt++))},[Bt]),Bt||(st?`radix-${st}`:"")}},1483:function($t,Vt,_){_.d(Vt,{z:function(){return ht}});var Et=_(9787),ot=_(5156),it=_(9335),nt=_(3348);const ht=st=>{const{present:tt,children:xt}=st,St=function(dt){const[Yt,sn]=(0,Et.useState)(),bn=(0,Et.useRef)({}),pn=(0,Et.useRef)(dt),mn=(0,Et.useRef)("none"),qt=dt?"mounted":"unmounted",[Ut,Kt]=function(yt,Ot){return(0,Et.useReducer)((Gt,Ct)=>{const Xt=Ot[Gt][Ct];return Xt??Gt},yt)}(qt,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,Et.useEffect)(()=>{const yt=Bt(bn.current);mn.current=Ut==="mounted"?yt:"none"},[Ut]),(0,nt.b)(()=>{const yt=bn.current,Ot=pn.current;if(Ot!==dt){const Gt=mn.current,Ct=Bt(yt);dt?Kt("MOUNT"):Ct==="none"||(yt==null?void 0:yt.display)==="none"?Kt("UNMOUNT"):Kt(Ot&&Gt!==Ct?"ANIMATION_OUT":"UNMOUNT"),pn.current=dt}},[dt,Kt]),(0,nt.b)(()=>{if(Yt){const yt=Gt=>{const Ct=Bt(bn.current).includes(Gt.animationName);Gt.target===Yt&&Ct&&(0,ot.flushSync)(()=>Kt("ANIMATION_END"))},Ot=Gt=>{Gt.target===Yt&&(mn.current=Bt(bn.current))};return Yt.addEventListener("animationstart",Ot),Yt.addEventListener("animationcancel",yt),Yt.addEventListener("animationend",yt),()=>{Yt.removeEventListener("animationstart",Ot),Yt.removeEventListener("animationcancel",yt),Yt.removeEventListener("animationend",yt)}}Kt("ANIMATION_END")},[Yt,Kt]),{isPresent:["mounted","unmountSuspended"].includes(Ut),ref:(0,Et.useCallback)(yt=>{yt&&(bn.current=getComputedStyle(yt)),sn(yt)},[])}}(tt),Zt=typeof xt=="function"?xt({present:St.isPresent}):Et.Children.only(xt),Nt=(0,it.e)(St.ref,Zt.ref);return typeof xt=="function"||St.isPresent?(0,Et.cloneElement)(Zt,{ref:Nt}):null};function Bt(st){return(st==null?void 0:st.animationName)||"none"}ht.displayName="Presence"},3119:function($t,Vt,_){_.d(Vt,{WV:function(){return ht},jH:function(){return Bt}});var Et=_(11),ot=_(9787),it=_(5156),nt=_(4801);const ht=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((st,tt)=>{const xt=(0,ot.forwardRef)((St,Zt)=>{const{asChild:Nt,...dt}=St,Yt=Nt?nt.g7:tt;return(0,ot.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,ot.createElement)(Yt,(0,Et.Z)({},dt,{ref:Zt}))});return xt.displayName=`Primitive.${tt}`,{...st,[tt]:xt}},{});function Bt(st,tt){st&&(0,it.flushSync)(()=>st.dispatchEvent(tt))}},4801:function($t,Vt,_){_.d(Vt,{g7:function(){return nt}});var Et=_(11),ot=_(9787),it=_(9335);const nt=(0,ot.forwardRef)((xt,St)=>{const{children:Zt,...Nt}=xt,dt=ot.Children.toArray(Zt),Yt=dt.find(st);if(Yt){const sn=Yt.props.children,bn=dt.map(pn=>pn===Yt?ot.Children.count(sn)>1?ot.Children.only(null):(0,ot.isValidElement)(sn)?sn.props.children:null:pn);return(0,ot.createElement)(ht,(0,Et.Z)({},Nt,{ref:St}),(0,ot.isValidElement)(sn)?(0,ot.cloneElement)(sn,void 0,bn):null)}return(0,ot.createElement)(ht,(0,Et.Z)({},Nt,{ref:St}),Zt)});nt.displayName="Slot";const ht=(0,ot.forwardRef)((xt,St)=>{const{children:Zt,...Nt}=xt;return(0,ot.isValidElement)(Zt)?(0,ot.cloneElement)(Zt,{...tt(Nt,Zt.props),ref:(0,it.F)(St,Zt.ref)}):ot.Children.count(Zt)>1?ot.Children.only(null):null});ht.displayName="SlotClone";const Bt=({children:xt})=>(0,ot.createElement)(ot.Fragment,null,xt);function st(xt){return(0,ot.isValidElement)(xt)&&xt.type===Bt}function tt(xt,St){const Zt={...St};for(const Nt in St){const dt=xt[Nt],Yt=St[Nt];/^on[A-Z]/.test(Nt)?dt&&Yt?Zt[Nt]=(...sn)=>{Yt(...sn),dt(...sn)}:dt&&(Zt[Nt]=dt):Nt==="style"?Zt[Nt]={...dt,...Yt}:Nt==="className"&&(Zt[Nt]=[dt,Yt].filter(Boolean).join(" "))}return{...xt,...Zt}}},3060:function($t,Vt,_){_.d(Vt,{W:function(){return ot}});var Et=_(9787);function ot(it){const nt=(0,Et.useRef)(it);return(0,Et.useEffect)(()=>{nt.current=it}),(0,Et.useMemo)(()=>(...ht)=>{var Bt;return(Bt=nt.current)===null||Bt===void 0?void 0:Bt.call(nt,...ht)},[])}},2673:function($t,Vt,_){_.d(Vt,{T:function(){return it}});var Et=_(9787),ot=_(3060);function it({prop:nt,defaultProp:ht,onChange:Bt=()=>{}}){const[st,tt]=function({defaultProp:Nt,onChange:dt}){const Yt=(0,Et.useState)(Nt),[sn]=Yt,bn=(0,Et.useRef)(sn),pn=(0,ot.W)(dt);return(0,Et.useEffect)(()=>{bn.current!==sn&&(pn(sn),bn.current=sn)},[sn,bn,pn]),Yt}({defaultProp:ht,onChange:Bt}),xt=nt!==void 0,St=xt?nt:st,Zt=(0,ot.W)(Bt);return[St,(0,Et.useCallback)(Nt=>{if(xt){const dt=Nt,Yt=typeof Nt=="function"?dt(nt):Nt;Yt!==nt&&Zt(Yt)}else tt(Nt)},[xt,nt,tt,Zt])]}},3348:function($t,Vt,_){_.d(Vt,{b:function(){return ot}});var Et=_(9787);const ot=globalThis!=null&&globalThis.document?Et.useLayoutEffect:()=>{}},45:function($t,Vt,_){function Et(it){var nt,ht,Bt="";if(typeof it=="string"||typeof it=="number")Bt+=it;else if(typeof it=="object")if(Array.isArray(it))for(nt=0;nt<it.length;nt++)it[nt]&&(ht=Et(it[nt]))&&(Bt&&(Bt+=" "),Bt+=ht);else for(nt in it)it[nt]&&(Bt&&(Bt+=" "),Bt+=nt);return Bt}function ot(){for(var it,nt,ht=0,Bt="";ht<arguments.length;)(it=arguments[ht++])&&(nt=Et(it))&&(Bt&&(Bt+=" "),Bt+=nt);return Bt}_.d(Vt,{Z:function(){return ot}})},6233:function($t,Vt){var _;_=function(Et){Et.version="0.3.0";var ot=function(){for(var ht=0,Bt=new Array(256),st=0;st!=256;++st)ht=1&(ht=1&(ht=1&(ht=1&(ht=1&(ht=1&(ht=1&(ht=1&(ht=st)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1)?-306674912^ht>>>1:ht>>>1,Bt[st]=ht;return typeof Int32Array<"u"?new Int32Array(Bt):Bt}(),it=typeof Buffer<"u";function nt(ht){for(var Bt=-1,st=0,tt=ht.length-7;st<tt;)Bt=(Bt=(Bt=(Bt=(Bt=(Bt=(Bt=(Bt=Bt>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])];for(;st<tt+7;)Bt=Bt>>>8^ot[255&(Bt^ht[st++])];return-1^Bt}Et.table=ot,Et.bstr=function(ht){if(ht.length>32768&&it)return nt(new Buffer(ht));for(var Bt=-1,st=ht.length-1,tt=0;tt<st;)Bt=ot[255&(Bt^ht.charCodeAt(tt++))]^Bt>>>8,Bt=ot[255&(Bt^ht.charCodeAt(tt++))]^Bt>>>8;return tt===st&&(Bt=Bt>>>8^ot[255&(Bt^ht.charCodeAt(tt))]),-1^Bt},Et.buf=function(ht){if(ht.length>1e4)return nt(ht);for(var Bt=-1,st=0,tt=ht.length-3;st<tt;)Bt=(Bt=(Bt=(Bt=Bt>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])])>>>8^ot[255&(Bt^ht[st++])];for(;st<tt+3;)Bt=Bt>>>8^ot[255&(Bt^ht[st++])];return-1^Bt},Et.str=function(ht){for(var Bt,st,tt=-1,xt=0,St=ht.length;xt<St;)(Bt=ht.charCodeAt(xt++))<128?tt=tt>>>8^ot[255&(tt^Bt)]:Bt<2048?tt=(tt=tt>>>8^ot[255&(tt^(192|Bt>>6&31))])>>>8^ot[255&(tt^(128|63&Bt))]:Bt>=55296&&Bt<57344?(Bt=64+(1023&Bt),st=1023&ht.charCodeAt(xt++),tt=(tt=(tt=(tt=tt>>>8^ot[255&(tt^(240|Bt>>8&7))])>>>8^ot[255&(tt^(128|Bt>>2&63))])>>>8^ot[255&(tt^(128|st>>6&15|3&Bt))])>>>8^ot[255&(tt^(128|63&st))]):tt=(tt=(tt=tt>>>8^ot[255&(tt^(224|Bt>>12&15))])>>>8^ot[255&(tt^(128|Bt>>6&63))])>>>8^ot[255&(tt^(128|63&Bt))];return-1^tt}},_(typeof DO_NOT_EXPORT_CRC>"u"?Vt:{})},200:function($t,Vt,_){var Et="Expected a function",ot=/^\s+|\s+$/g,it=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,Bt=parseInt,st=typeof _.g=="object"&&_.g&&_.g.Object===Object&&_.g,tt=typeof self=="object"&&self&&self.Object===Object&&self,xt=st||tt||Function("return this")(),St=Object.prototype.toString,Zt=Math.max,Nt=Math.min,dt=function(){return xt.Date.now()};function Yt(pn,mn,qt){var Ut,Kt,yt,Ot,Gt,Ct,Xt=0,ut=!1,ft=!1,$=!0;if(typeof pn!="function")throw new TypeError(Et);function wt(Qt){var Ft=Ut,At=Kt;return Ut=Kt=void 0,Xt=Qt,Ot=pn.apply(At,Ft)}function gt(Qt){return Xt=Qt,Gt=setTimeout(pt,mn),ut?wt(Qt):Ot}function lt(Qt){var Ft=Qt-Ct;return Ct===void 0||Ft>=mn||Ft<0||ft&&Qt-Xt>=yt}function pt(){var Qt=dt();if(lt(Qt))return vt(Qt);Gt=setTimeout(pt,function(Ft){var At=mn-(Ft-Ct);return ft?Nt(At,yt-(Ft-Xt)):At}(Qt))}function vt(Qt){return Gt=void 0,$&&Ut?wt(Qt):(Ut=Kt=void 0,Ot)}function zt(){var Qt=dt(),Ft=lt(Qt);if(Ut=arguments,Kt=this,Ct=Qt,Ft){if(Gt===void 0)return gt(Ct);if(ft)return Gt=setTimeout(pt,mn),wt(Ct)}return Gt===void 0&&(Gt=setTimeout(pt,mn)),Ot}return mn=bn(mn)||0,sn(qt)&&(ut=!!qt.leading,yt=(ft="maxWait"in qt)?Zt(bn(qt.maxWait)||0,mn):yt,$="trailing"in qt?!!qt.trailing:$),zt.cancel=function(){Gt!==void 0&&clearTimeout(Gt),Xt=0,Ut=Ct=Kt=Gt=void 0},zt.flush=function(){return Gt===void 0?Ot:vt(dt())},zt}function sn(pn){var mn=typeof pn;return!!pn&&(mn=="object"||mn=="function")}function bn(pn){if(typeof pn=="number")return pn;if(function(Ut){return typeof Ut=="symbol"||function(Kt){return!!Kt&&typeof Kt=="object"}(Ut)&&St.call(Ut)=="[object Symbol]"}(pn))return NaN;if(sn(pn)){var mn=typeof pn.valueOf=="function"?pn.valueOf():pn;pn=sn(mn)?mn+"":mn}if(typeof pn!="string")return pn===0?pn:+pn;pn=pn.replace(ot,"");var qt=nt.test(pn);return qt||ht.test(pn)?Bt(pn.slice(2),qt?2:8):it.test(pn)?NaN:+pn}$t.exports=function(pn,mn,qt){var Ut=!0,Kt=!0;if(typeof pn!="function")throw new TypeError(Et);return sn(qt)&&(Ut="leading"in qt?!!qt.leading:Ut,Kt="trailing"in qt?!!qt.trailing:Kt),Yt(pn,mn,{leading:Ut,maxWait:mn,trailing:Kt})}},2744:function($t,Vt,_){var Et={};(0,_(9187).assign)(Et,_(4395),_(578),_(2684)),$t.exports=Et},4395:function($t,Vt,_){var Et=_(6193),ot=_(9187),it=_(8592),nt=_(5604),ht=_(249),Bt=Object.prototype.toString;function st(xt){if(!(this instanceof st))return new st(xt);this.options=ot.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},xt||{});var St=this.options;St.raw&&St.windowBits>0?St.windowBits=-St.windowBits:St.gzip&&St.windowBits>0&&St.windowBits<16&&(St.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ht,this.strm.avail_out=0;var Zt=Et.deflateInit2(this.strm,St.level,St.method,St.windowBits,St.memLevel,St.strategy);if(Zt!==0)throw new Error(nt[Zt]);if(St.header&&Et.deflateSetHeader(this.strm,St.header),St.dictionary){var Nt;if(Nt=typeof St.dictionary=="string"?it.string2buf(St.dictionary):Bt.call(St.dictionary)==="[object ArrayBuffer]"?new Uint8Array(St.dictionary):St.dictionary,(Zt=Et.deflateSetDictionary(this.strm,Nt))!==0)throw new Error(nt[Zt]);this._dict_set=!0}}function tt(xt,St){var Zt=new st(St);if(Zt.push(xt,!0),Zt.err)throw Zt.msg||nt[Zt.err];return Zt.result}st.prototype.push=function(xt,St){var Zt,Nt,dt=this.strm,Yt=this.options.chunkSize;if(this.ended)return!1;Nt=St===~~St?St:St===!0?4:0,typeof xt=="string"?dt.input=it.string2buf(xt):Bt.call(xt)==="[object ArrayBuffer]"?dt.input=new Uint8Array(xt):dt.input=xt,dt.next_in=0,dt.avail_in=dt.input.length;do{if(dt.avail_out===0&&(dt.output=new ot.Buf8(Yt),dt.next_out=0,dt.avail_out=Yt),(Zt=Et.deflate(dt,Nt))!==1&&Zt!==0)return this.onEnd(Zt),this.ended=!0,!1;dt.avail_out!==0&&(dt.avail_in!==0||Nt!==4&&Nt!==2)||(this.options.to==="string"?this.onData(it.buf2binstring(ot.shrinkBuf(dt.output,dt.next_out))):this.onData(ot.shrinkBuf(dt.output,dt.next_out)))}while((dt.avail_in>0||dt.avail_out===0)&&Zt!==1);return Nt===4?(Zt=Et.deflateEnd(this.strm),this.onEnd(Zt),this.ended=!0,Zt===0):Nt!==2||(this.onEnd(0),dt.avail_out=0,!0)},st.prototype.onData=function(xt){this.chunks.push(xt)},st.prototype.onEnd=function(xt){xt===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ot.flattenChunks(this.chunks)),this.chunks=[],this.err=xt,this.msg=this.strm.msg},Vt.Deflate=st,Vt.deflate=tt,Vt.deflateRaw=function(xt,St){return(St=St||{}).raw=!0,tt(xt,St)},Vt.gzip=function(xt,St){return(St=St||{}).gzip=!0,tt(xt,St)}},578:function($t,Vt,_){var Et=_(7823),ot=_(9187),it=_(8592),nt=_(2684),ht=_(5604),Bt=_(249),st=_(9968),tt=Object.prototype.toString;function xt(Zt){if(!(this instanceof xt))return new xt(Zt);this.options=ot.assign({chunkSize:16384,windowBits:0,to:""},Zt||{});var Nt=this.options;Nt.raw&&Nt.windowBits>=0&&Nt.windowBits<16&&(Nt.windowBits=-Nt.windowBits,Nt.windowBits===0&&(Nt.windowBits=-15)),!(Nt.windowBits>=0&&Nt.windowBits<16)||Zt&&Zt.windowBits||(Nt.windowBits+=32),Nt.windowBits>15&&Nt.windowBits<48&&!(15&Nt.windowBits)&&(Nt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bt,this.strm.avail_out=0;var dt=Et.inflateInit2(this.strm,Nt.windowBits);if(dt!==nt.Z_OK)throw new Error(ht[dt]);if(this.header=new st,Et.inflateGetHeader(this.strm,this.header),Nt.dictionary&&(typeof Nt.dictionary=="string"?Nt.dictionary=it.string2buf(Nt.dictionary):tt.call(Nt.dictionary)==="[object ArrayBuffer]"&&(Nt.dictionary=new Uint8Array(Nt.dictionary)),Nt.raw&&(dt=Et.inflateSetDictionary(this.strm,Nt.dictionary))!==nt.Z_OK))throw new Error(ht[dt])}function St(Zt,Nt){var dt=new xt(Nt);if(dt.push(Zt,!0),dt.err)throw dt.msg||ht[dt.err];return dt.result}xt.prototype.push=function(Zt,Nt){var dt,Yt,sn,bn,pn,mn=this.strm,qt=this.options.chunkSize,Ut=this.options.dictionary,Kt=!1;if(this.ended)return!1;Yt=Nt===~~Nt?Nt:Nt===!0?nt.Z_FINISH:nt.Z_NO_FLUSH,typeof Zt=="string"?mn.input=it.binstring2buf(Zt):tt.call(Zt)==="[object ArrayBuffer]"?mn.input=new Uint8Array(Zt):mn.input=Zt,mn.next_in=0,mn.avail_in=mn.input.length;do{if(mn.avail_out===0&&(mn.output=new ot.Buf8(qt),mn.next_out=0,mn.avail_out=qt),(dt=Et.inflate(mn,nt.Z_NO_FLUSH))===nt.Z_NEED_DICT&&Ut&&(dt=Et.inflateSetDictionary(this.strm,Ut)),dt===nt.Z_BUF_ERROR&&Kt===!0&&(dt=nt.Z_OK,Kt=!1),dt!==nt.Z_STREAM_END&&dt!==nt.Z_OK)return this.onEnd(dt),this.ended=!0,!1;mn.next_out&&(mn.avail_out!==0&&dt!==nt.Z_STREAM_END&&(mn.avail_in!==0||Yt!==nt.Z_FINISH&&Yt!==nt.Z_SYNC_FLUSH)||(this.options.to==="string"?(sn=it.utf8border(mn.output,mn.next_out),bn=mn.next_out-sn,pn=it.buf2string(mn.output,sn),mn.next_out=bn,mn.avail_out=qt-bn,bn&&ot.arraySet(mn.output,mn.output,sn,bn,0),this.onData(pn)):this.onData(ot.shrinkBuf(mn.output,mn.next_out)))),mn.avail_in===0&&mn.avail_out===0&&(Kt=!0)}while((mn.avail_in>0||mn.avail_out===0)&&dt!==nt.Z_STREAM_END);return dt===nt.Z_STREAM_END&&(Yt=nt.Z_FINISH),Yt===nt.Z_FINISH?(dt=Et.inflateEnd(this.strm),this.onEnd(dt),this.ended=!0,dt===nt.Z_OK):Yt!==nt.Z_SYNC_FLUSH||(this.onEnd(nt.Z_OK),mn.avail_out=0,!0)},xt.prototype.onData=function(Zt){this.chunks.push(Zt)},xt.prototype.onEnd=function(Zt){Zt===nt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ot.flattenChunks(this.chunks)),this.chunks=[],this.err=Zt,this.msg=this.strm.msg},Vt.Inflate=xt,Vt.inflate=St,Vt.inflateRaw=function(Zt,Nt){return(Nt=Nt||{}).raw=!0,St(Zt,Nt)},Vt.ungzip=St},9187:function($t,Vt){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Et(nt,ht){return Object.prototype.hasOwnProperty.call(nt,ht)}Vt.assign=function(nt){for(var ht=Array.prototype.slice.call(arguments,1);ht.length;){var Bt=ht.shift();if(Bt){if(typeof Bt!="object")throw new TypeError(Bt+"must be non-object");for(var st in Bt)Et(Bt,st)&&(nt[st]=Bt[st])}}return nt},Vt.shrinkBuf=function(nt,ht){return nt.length===ht?nt:nt.subarray?nt.subarray(0,ht):(nt.length=ht,nt)};var ot={arraySet:function(nt,ht,Bt,st,tt){if(ht.subarray&&nt.subarray)nt.set(ht.subarray(Bt,Bt+st),tt);else for(var xt=0;xt<st;xt++)nt[tt+xt]=ht[Bt+xt]},flattenChunks:function(nt){var ht,Bt,st,tt,xt,St;for(st=0,ht=0,Bt=nt.length;ht<Bt;ht++)st+=nt[ht].length;for(St=new Uint8Array(st),tt=0,ht=0,Bt=nt.length;ht<Bt;ht++)xt=nt[ht],St.set(xt,tt),tt+=xt.length;return St}},it={arraySet:function(nt,ht,Bt,st,tt){for(var xt=0;xt<st;xt++)nt[tt+xt]=ht[Bt+xt]},flattenChunks:function(nt){return[].concat.apply([],nt)}};Vt.setTyped=function(nt){nt?(Vt.Buf8=Uint8Array,Vt.Buf16=Uint16Array,Vt.Buf32=Int32Array,Vt.assign(Vt,ot)):(Vt.Buf8=Array,Vt.Buf16=Array,Vt.Buf32=Array,Vt.assign(Vt,it))},Vt.setTyped(_)},8592:function($t,Vt,_){var Et=_(9187),ot=!0,it=!0;try{String.fromCharCode.apply(null,[0])}catch{ot=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{it=!1}for(var nt=new Et.Buf8(256),ht=0;ht<256;ht++)nt[ht]=ht>=252?6:ht>=248?5:ht>=240?4:ht>=224?3:ht>=192?2:1;function Bt(st,tt){if(tt<65534&&(st.subarray&&it||!st.subarray&&ot))return String.fromCharCode.apply(null,Et.shrinkBuf(st,tt));for(var xt="",St=0;St<tt;St++)xt+=String.fromCharCode(st[St]);return xt}nt[254]=nt[254]=1,Vt.string2buf=function(st){var tt,xt,St,Zt,Nt,dt=st.length,Yt=0;for(Zt=0;Zt<dt;Zt++)(64512&(xt=st.charCodeAt(Zt)))==55296&&Zt+1<dt&&(64512&(St=st.charCodeAt(Zt+1)))==56320&&(xt=65536+(xt-55296<<10)+(St-56320),Zt++),Yt+=xt<128?1:xt<2048?2:xt<65536?3:4;for(tt=new Et.Buf8(Yt),Nt=0,Zt=0;Nt<Yt;Zt++)(64512&(xt=st.charCodeAt(Zt)))==55296&&Zt+1<dt&&(64512&(St=st.charCodeAt(Zt+1)))==56320&&(xt=65536+(xt-55296<<10)+(St-56320),Zt++),xt<128?tt[Nt++]=xt:xt<2048?(tt[Nt++]=192|xt>>>6,tt[Nt++]=128|63&xt):xt<65536?(tt[Nt++]=224|xt>>>12,tt[Nt++]=128|xt>>>6&63,tt[Nt++]=128|63&xt):(tt[Nt++]=240|xt>>>18,tt[Nt++]=128|xt>>>12&63,tt[Nt++]=128|xt>>>6&63,tt[Nt++]=128|63&xt);return tt},Vt.buf2binstring=function(st){return Bt(st,st.length)},Vt.binstring2buf=function(st){for(var tt=new Et.Buf8(st.length),xt=0,St=tt.length;xt<St;xt++)tt[xt]=st.charCodeAt(xt);return tt},Vt.buf2string=function(st,tt){var xt,St,Zt,Nt,dt=tt||st.length,Yt=new Array(2*dt);for(St=0,xt=0;xt<dt;)if((Zt=st[xt++])<128)Yt[St++]=Zt;else if((Nt=nt[Zt])>4)Yt[St++]=65533,xt+=Nt-1;else{for(Zt&=Nt===2?31:Nt===3?15:7;Nt>1&&xt<dt;)Zt=Zt<<6|63&st[xt++],Nt--;Nt>1?Yt[St++]=65533:Zt<65536?Yt[St++]=Zt:(Zt-=65536,Yt[St++]=55296|Zt>>10&1023,Yt[St++]=56320|1023&Zt)}return Bt(Yt,St)},Vt.utf8border=function(st,tt){var xt;for((tt=tt||st.length)>st.length&&(tt=st.length),xt=tt-1;xt>=0&&(192&st[xt])==128;)xt--;return xt<0||xt===0?tt:xt+nt[st[xt]]>tt?xt:tt}},3693:function($t){$t.exports=function(Vt,_,Et,ot){for(var it=65535&Vt|0,nt=Vt>>>16&65535|0,ht=0;Et!==0;){Et-=ht=Et>2e3?2e3:Et;do nt=nt+(it=it+_[ot++]|0)|0;while(--ht);it%=65521,nt%=65521}return it|nt<<16|0}},2684:function($t){$t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function($t){var Vt=function(){for(var _,Et=[],ot=0;ot<256;ot++){_=ot;for(var it=0;it<8;it++)_=1&_?3988292384^_>>>1:_>>>1;Et[ot]=_}return Et}();$t.exports=function(_,Et,ot,it){var nt=Vt,ht=it+ot;_^=-1;for(var Bt=it;Bt<ht;Bt++)_=_>>>8^nt[255&(_^Et[Bt])];return-1^_}},6193:function($t,Vt,_){var Et,ot=_(9187),it=_(8676),nt=_(3693),ht=_(8464),Bt=_(5604),st=-2,tt=258,xt=262,St=103,Zt=113,Nt=666;function dt($,wt){return $.msg=Bt[wt],wt}function Yt($){return($<<1)-($>4?9:0)}function sn($){for(var wt=$.length;--wt>=0;)$[wt]=0}function bn($){var wt=$.state,gt=wt.pending;gt>$.avail_out&&(gt=$.avail_out),gt!==0&&(ot.arraySet($.output,wt.pending_buf,wt.pending_out,gt,$.next_out),$.next_out+=gt,wt.pending_out+=gt,$.total_out+=gt,$.avail_out-=gt,wt.pending-=gt,wt.pending===0&&(wt.pending_out=0))}function pn($,wt){it._tr_flush_block($,$.block_start>=0?$.block_start:-1,$.strstart-$.block_start,wt),$.block_start=$.strstart,bn($.strm)}function mn($,wt){$.pending_buf[$.pending++]=wt}function qt($,wt){$.pending_buf[$.pending++]=wt>>>8&255,$.pending_buf[$.pending++]=255&wt}function Ut($,wt){var gt,lt,pt=$.max_chain_length,vt=$.strstart,zt=$.prev_length,Qt=$.nice_match,Ft=$.strstart>$.w_size-xt?$.strstart-($.w_size-xt):0,At=$.window,Tt=$.w_mask,jt=$.prev,un=$.strstart+tt,Jt=At[vt+zt-1],hn=At[vt+zt];$.prev_length>=$.good_match&&(pt>>=2),Qt>$.lookahead&&(Qt=$.lookahead);do if(At[(gt=wt)+zt]===hn&&At[gt+zt-1]===Jt&&At[gt]===At[vt]&&At[++gt]===At[vt+1]){vt+=2,gt++;do;while(At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&At[++vt]===At[++gt]&&vt<un);if(lt=tt-(un-vt),vt=un-tt,lt>zt){if($.match_start=wt,zt=lt,lt>=Qt)break;Jt=At[vt+zt-1],hn=At[vt+zt]}}while((wt=jt[wt&Tt])>Ft&&--pt!=0);return zt<=$.lookahead?zt:$.lookahead}function Kt($){var wt,gt,lt,pt,vt,zt,Qt,Ft,At,Tt,jt=$.w_size;do{if(pt=$.window_size-$.lookahead-$.strstart,$.strstart>=jt+(jt-xt)){ot.arraySet($.window,$.window,jt,jt,0),$.match_start-=jt,$.strstart-=jt,$.block_start-=jt,wt=gt=$.hash_size;do lt=$.head[--wt],$.head[wt]=lt>=jt?lt-jt:0;while(--gt);wt=gt=jt;do lt=$.prev[--wt],$.prev[wt]=lt>=jt?lt-jt:0;while(--gt);pt+=jt}if($.strm.avail_in===0)break;if(zt=$.strm,Qt=$.window,Ft=$.strstart+$.lookahead,At=pt,Tt=void 0,(Tt=zt.avail_in)>At&&(Tt=At),gt=Tt===0?0:(zt.avail_in-=Tt,ot.arraySet(Qt,zt.input,zt.next_in,Tt,Ft),zt.state.wrap===1?zt.adler=nt(zt.adler,Qt,Tt,Ft):zt.state.wrap===2&&(zt.adler=ht(zt.adler,Qt,Tt,Ft)),zt.next_in+=Tt,zt.total_in+=Tt,Tt),$.lookahead+=gt,$.lookahead+$.insert>=3)for(vt=$.strstart-$.insert,$.ins_h=$.window[vt],$.ins_h=($.ins_h<<$.hash_shift^$.window[vt+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[vt+3-1])&$.hash_mask,$.prev[vt&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=vt,vt++,$.insert--,!($.lookahead+$.insert<3)););}while($.lookahead<xt&&$.strm.avail_in!==0)}function yt($,wt){for(var gt,lt;;){if($.lookahead<xt){if(Kt($),$.lookahead<xt&&wt===0)return 1;if($.lookahead===0)break}if(gt=0,$.lookahead>=3&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,gt=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),gt!==0&&$.strstart-gt<=$.w_size-xt&&($.match_length=Ut($,gt)),$.match_length>=3)if(lt=it._tr_tally($,$.strstart-$.match_start,$.match_length-3),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=3){$.match_length--;do $.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,gt=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart;while(--$.match_length!=0);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else lt=it._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(lt&&(pn($,!1),$.strm.avail_out===0))return 1}return $.insert=$.strstart<2?$.strstart:2,wt===4?(pn($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(pn($,!1),$.strm.avail_out===0)?1:2}function Ot($,wt){for(var gt,lt,pt;;){if($.lookahead<xt){if(Kt($),$.lookahead<xt&&wt===0)return 1;if($.lookahead===0)break}if(gt=0,$.lookahead>=3&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,gt=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=2,gt!==0&&$.prev_length<$.max_lazy_match&&$.strstart-gt<=$.w_size-xt&&($.match_length=Ut($,gt),$.match_length<=5&&($.strategy===1||$.match_length===3&&$.strstart-$.match_start>4096)&&($.match_length=2)),$.prev_length>=3&&$.match_length<=$.prev_length){pt=$.strstart+$.lookahead-3,lt=it._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-3),$.lookahead-=$.prev_length-1,$.prev_length-=2;do++$.strstart<=pt&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,gt=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart);while(--$.prev_length!=0);if($.match_available=0,$.match_length=2,$.strstart++,lt&&(pn($,!1),$.strm.avail_out===0))return 1}else if($.match_available){if((lt=it._tr_tally($,0,$.window[$.strstart-1]))&&pn($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return 1}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(lt=it._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<2?$.strstart:2,wt===4?(pn($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(pn($,!1),$.strm.avail_out===0)?1:2}function Gt($,wt,gt,lt,pt){this.good_length=$,this.max_lazy=wt,this.nice_length=gt,this.max_chain=lt,this.func=pt}function Ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ot.Buf16(1146),this.dyn_dtree=new ot.Buf16(122),this.bl_tree=new ot.Buf16(78),sn(this.dyn_ltree),sn(this.dyn_dtree),sn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ot.Buf16(16),this.heap=new ot.Buf16(573),sn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ot.Buf16(573),sn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xt($){var wt;return $&&$.state?($.total_in=$.total_out=0,$.data_type=2,(wt=$.state).pending=0,wt.pending_out=0,wt.wrap<0&&(wt.wrap=-wt.wrap),wt.status=wt.wrap?42:Zt,$.adler=wt.wrap===2?0:1,wt.last_flush=0,it._tr_init(wt),0):dt($,st)}function ut($){var wt,gt=Xt($);return gt===0&&((wt=$.state).window_size=2*wt.w_size,sn(wt.head),wt.max_lazy_match=Et[wt.level].max_lazy,wt.good_match=Et[wt.level].good_length,wt.nice_match=Et[wt.level].nice_length,wt.max_chain_length=Et[wt.level].max_chain,wt.strstart=0,wt.block_start=0,wt.lookahead=0,wt.insert=0,wt.match_length=wt.prev_length=2,wt.match_available=0,wt.ins_h=0),gt}function ft($,wt,gt,lt,pt,vt){if(!$)return st;var zt=1;if(wt===-1&&(wt=6),lt<0?(zt=0,lt=-lt):lt>15&&(zt=2,lt-=16),pt<1||pt>9||gt!==8||lt<8||lt>15||wt<0||wt>9||vt<0||vt>4)return dt($,st);lt===8&&(lt=9);var Qt=new Ct;return $.state=Qt,Qt.strm=$,Qt.wrap=zt,Qt.gzhead=null,Qt.w_bits=lt,Qt.w_size=1<<Qt.w_bits,Qt.w_mask=Qt.w_size-1,Qt.hash_bits=pt+7,Qt.hash_size=1<<Qt.hash_bits,Qt.hash_mask=Qt.hash_size-1,Qt.hash_shift=~~((Qt.hash_bits+3-1)/3),Qt.window=new ot.Buf8(2*Qt.w_size),Qt.head=new ot.Buf16(Qt.hash_size),Qt.prev=new ot.Buf16(Qt.w_size),Qt.lit_bufsize=1<<pt+6,Qt.pending_buf_size=4*Qt.lit_bufsize,Qt.pending_buf=new ot.Buf8(Qt.pending_buf_size),Qt.d_buf=1*Qt.lit_bufsize,Qt.l_buf=3*Qt.lit_bufsize,Qt.level=wt,Qt.strategy=vt,Qt.method=gt,ut($)}Et=[new Gt(0,0,0,0,function($,wt){var gt=65535;for(gt>$.pending_buf_size-5&&(gt=$.pending_buf_size-5);;){if($.lookahead<=1){if(Kt($),$.lookahead===0&&wt===0)return 1;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var lt=$.block_start+gt;if(($.strstart===0||$.strstart>=lt)&&($.lookahead=$.strstart-lt,$.strstart=lt,pn($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-xt&&(pn($,!1),$.strm.avail_out===0))return 1}return $.insert=0,wt===4?(pn($,!0),$.strm.avail_out===0?3:4):($.strstart>$.block_start&&(pn($,!1),$.strm.avail_out),1)}),new Gt(4,4,8,4,yt),new Gt(4,5,16,8,yt),new Gt(4,6,32,32,yt),new Gt(4,4,16,16,Ot),new Gt(8,16,32,32,Ot),new Gt(8,16,128,128,Ot),new Gt(8,32,128,256,Ot),new Gt(32,128,258,1024,Ot),new Gt(32,258,258,4096,Ot)],Vt.deflateInit=function($,wt){return ft($,wt,8,15,8,0)},Vt.deflateInit2=ft,Vt.deflateReset=ut,Vt.deflateResetKeep=Xt,Vt.deflateSetHeader=function($,wt){return $&&$.state?$.state.wrap!==2?st:($.state.gzhead=wt,0):st},Vt.deflate=function($,wt){var gt,lt,pt,vt;if(!$||!$.state||wt>5||wt<0)return $?dt($,st):st;if(lt=$.state,!$.output||!$.input&&$.avail_in!==0||lt.status===Nt&&wt!==4)return dt($,$.avail_out===0?-5:st);if(lt.strm=$,gt=lt.last_flush,lt.last_flush=wt,lt.status===42)if(lt.wrap===2)$.adler=0,mn(lt,31),mn(lt,139),mn(lt,8),lt.gzhead?(mn(lt,(lt.gzhead.text?1:0)+(lt.gzhead.hcrc?2:0)+(lt.gzhead.extra?4:0)+(lt.gzhead.name?8:0)+(lt.gzhead.comment?16:0)),mn(lt,255&lt.gzhead.time),mn(lt,lt.gzhead.time>>8&255),mn(lt,lt.gzhead.time>>16&255),mn(lt,lt.gzhead.time>>24&255),mn(lt,lt.level===9?2:lt.strategy>=2||lt.level<2?4:0),mn(lt,255&lt.gzhead.os),lt.gzhead.extra&&lt.gzhead.extra.length&&(mn(lt,255&lt.gzhead.extra.length),mn(lt,lt.gzhead.extra.length>>8&255)),lt.gzhead.hcrc&&($.adler=ht($.adler,lt.pending_buf,lt.pending,0)),lt.gzindex=0,lt.status=69):(mn(lt,0),mn(lt,0),mn(lt,0),mn(lt,0),mn(lt,0),mn(lt,lt.level===9?2:lt.strategy>=2||lt.level<2?4:0),mn(lt,3),lt.status=Zt);else{var zt=8+(lt.w_bits-8<<4)<<8;zt|=(lt.strategy>=2||lt.level<2?0:lt.level<6?1:lt.level===6?2:3)<<6,lt.strstart!==0&&(zt|=32),zt+=31-zt%31,lt.status=Zt,qt(lt,zt),lt.strstart!==0&&(qt(lt,$.adler>>>16),qt(lt,65535&$.adler)),$.adler=1}if(lt.status===69)if(lt.gzhead.extra){for(pt=lt.pending;lt.gzindex<(65535&lt.gzhead.extra.length)&&(lt.pending!==lt.pending_buf_size||(lt.gzhead.hcrc&&lt.pending>pt&&($.adler=ht($.adler,lt.pending_buf,lt.pending-pt,pt)),bn($),pt=lt.pending,lt.pending!==lt.pending_buf_size));)mn(lt,255&lt.gzhead.extra[lt.gzindex]),lt.gzindex++;lt.gzhead.hcrc&&lt.pending>pt&&($.adler=ht($.adler,lt.pending_buf,lt.pending-pt,pt)),lt.gzindex===lt.gzhead.extra.length&&(lt.gzindex=0,lt.status=73)}else lt.status=73;if(lt.status===73)if(lt.gzhead.name){pt=lt.pending;do{if(lt.pending===lt.pending_buf_size&&(lt.gzhead.hcrc&&lt.pending>pt&&($.adler=ht($.adler,lt.pending_buf,lt.pending-pt,pt)),bn($),pt=lt.pending,lt.pending===lt.pending_buf_size)){vt=1;break}vt=lt.gzindex<lt.gzhead.name.length?255&lt.gzhead.name.charCodeAt(lt.gzindex++):0,mn(lt,vt)}while(vt!==0);lt.gzhead.hcrc&&lt.pending>pt&&($.adler=ht($.adler,lt.pending_buf,lt.pending-pt,pt)),vt===0&&(lt.gzindex=0,lt.status=91)}else lt.status=91;if(lt.status===91)if(lt.gzhead.comment){pt=lt.pending;do{if(lt.pending===lt.pending_buf_size&&(lt.gzhead.hcrc&&lt.pending>pt&&($.adler=ht($.adler,lt.pending_buf,lt.pending-pt,pt)),bn($),pt=lt.pending,lt.pending===lt.pending_buf_size)){vt=1;break}vt=lt.gzindex<lt.gzhead.comment.length?255&lt.gzhead.comment.charCodeAt(lt.gzindex++):0,mn(lt,vt)}while(vt!==0);lt.gzhead.hcrc&&lt.pending>pt&&($.adler=ht($.adler,lt.pending_buf,lt.pending-pt,pt)),vt===0&&(lt.status=St)}else lt.status=St;if(lt.status===St&&(lt.gzhead.hcrc?(lt.pending+2>lt.pending_buf_size&&bn($),lt.pending+2<=lt.pending_buf_size&&(mn(lt,255&$.adler),mn(lt,$.adler>>8&255),$.adler=0,lt.status=Zt)):lt.status=Zt),lt.pending!==0){if(bn($),$.avail_out===0)return lt.last_flush=-1,0}else if($.avail_in===0&&Yt(wt)<=Yt(gt)&&wt!==4)return dt($,-5);if(lt.status===Nt&&$.avail_in!==0)return dt($,-5);if($.avail_in!==0||lt.lookahead!==0||wt!==0&&lt.status!==Nt){var Qt=lt.strategy===2?function(Ft,At){for(var Tt;;){if(Ft.lookahead===0&&(Kt(Ft),Ft.lookahead===0)){if(At===0)return 1;break}if(Ft.match_length=0,Tt=it._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++,Tt&&(pn(Ft,!1),Ft.strm.avail_out===0))return 1}return Ft.insert=0,At===4?(pn(Ft,!0),Ft.strm.avail_out===0?3:4):Ft.last_lit&&(pn(Ft,!1),Ft.strm.avail_out===0)?1:2}(lt,wt):lt.strategy===3?function(Ft,At){for(var Tt,jt,un,Jt,hn=Ft.window;;){if(Ft.lookahead<=tt){if(Kt(Ft),Ft.lookahead<=tt&&At===0)return 1;if(Ft.lookahead===0)break}if(Ft.match_length=0,Ft.lookahead>=3&&Ft.strstart>0&&(jt=hn[un=Ft.strstart-1])===hn[++un]&&jt===hn[++un]&&jt===hn[++un]){Jt=Ft.strstart+tt;do;while(jt===hn[++un]&&jt===hn[++un]&&jt===hn[++un]&&jt===hn[++un]&&jt===hn[++un]&&jt===hn[++un]&&jt===hn[++un]&&jt===hn[++un]&&un<Jt);Ft.match_length=tt-(Jt-un),Ft.match_length>Ft.lookahead&&(Ft.match_length=Ft.lookahead)}if(Ft.match_length>=3?(Tt=it._tr_tally(Ft,1,Ft.match_length-3),Ft.lookahead-=Ft.match_length,Ft.strstart+=Ft.match_length,Ft.match_length=0):(Tt=it._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++),Tt&&(pn(Ft,!1),Ft.strm.avail_out===0))return 1}return Ft.insert=0,At===4?(pn(Ft,!0),Ft.strm.avail_out===0?3:4):Ft.last_lit&&(pn(Ft,!1),Ft.strm.avail_out===0)?1:2}(lt,wt):Et[lt.level].func(lt,wt);if(Qt!==3&&Qt!==4||(lt.status=Nt),Qt===1||Qt===3)return $.avail_out===0&&(lt.last_flush=-1),0;if(Qt===2&&(wt===1?it._tr_align(lt):wt!==5&&(it._tr_stored_block(lt,0,0,!1),wt===3&&(sn(lt.head),lt.lookahead===0&&(lt.strstart=0,lt.block_start=0,lt.insert=0))),bn($),$.avail_out===0))return lt.last_flush=-1,0}return wt!==4?0:lt.wrap<=0?1:(lt.wrap===2?(mn(lt,255&$.adler),mn(lt,$.adler>>8&255),mn(lt,$.adler>>16&255),mn(lt,$.adler>>24&255),mn(lt,255&$.total_in),mn(lt,$.total_in>>8&255),mn(lt,$.total_in>>16&255),mn(lt,$.total_in>>24&255)):(qt(lt,$.adler>>>16),qt(lt,65535&$.adler)),bn($),lt.wrap>0&&(lt.wrap=-lt.wrap),lt.pending!==0?0:1)},Vt.deflateEnd=function($){var wt;return $&&$.state?(wt=$.state.status)!==42&&wt!==69&&wt!==73&&wt!==91&&wt!==St&&wt!==Zt&&wt!==Nt?dt($,st):($.state=null,wt===Zt?dt($,-3):0):st},Vt.deflateSetDictionary=function($,wt){var gt,lt,pt,vt,zt,Qt,Ft,At,Tt=wt.length;if(!$||!$.state||(vt=(gt=$.state).wrap)===2||vt===1&&gt.status!==42||gt.lookahead)return st;for(vt===1&&($.adler=nt($.adler,wt,Tt,0)),gt.wrap=0,Tt>=gt.w_size&&(vt===0&&(sn(gt.head),gt.strstart=0,gt.block_start=0,gt.insert=0),At=new ot.Buf8(gt.w_size),ot.arraySet(At,wt,Tt-gt.w_size,gt.w_size,0),wt=At,Tt=gt.w_size),zt=$.avail_in,Qt=$.next_in,Ft=$.input,$.avail_in=Tt,$.next_in=0,$.input=wt,Kt(gt);gt.lookahead>=3;){lt=gt.strstart,pt=gt.lookahead-2;do gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[lt+3-1])&gt.hash_mask,gt.prev[lt&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=lt,lt++;while(--pt);gt.strstart=lt,gt.lookahead=2,Kt(gt)}return gt.strstart+=gt.lookahead,gt.block_start=gt.strstart,gt.insert=gt.lookahead,gt.lookahead=0,gt.match_length=gt.prev_length=2,gt.match_available=0,$.next_in=Qt,$.input=Ft,$.avail_in=zt,gt.wrap=vt,0},Vt.deflateInfo="pako deflate (from Nodeca project)"},9968:function($t){$t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function($t){$t.exports=function(Vt,_){var Et,ot,it,nt,ht,Bt,st,tt,xt,St,Zt,Nt,dt,Yt,sn,bn,pn,mn,qt,Ut,Kt,yt,Ot,Gt,Ct;Et=Vt.state,ot=Vt.next_in,Gt=Vt.input,it=ot+(Vt.avail_in-5),nt=Vt.next_out,Ct=Vt.output,ht=nt-(_-Vt.avail_out),Bt=nt+(Vt.avail_out-257),st=Et.dmax,tt=Et.wsize,xt=Et.whave,St=Et.wnext,Zt=Et.window,Nt=Et.hold,dt=Et.bits,Yt=Et.lencode,sn=Et.distcode,bn=(1<<Et.lenbits)-1,pn=(1<<Et.distbits)-1;e:do{dt<15&&(Nt+=Gt[ot++]<<dt,dt+=8,Nt+=Gt[ot++]<<dt,dt+=8),mn=Yt[Nt&bn];t:for(;;){if(Nt>>>=qt=mn>>>24,dt-=qt,(qt=mn>>>16&255)===0)Ct[nt++]=65535&mn;else{if(!(16&qt)){if(!(64&qt)){mn=Yt[(65535&mn)+(Nt&(1<<qt)-1)];continue t}if(32&qt){Et.mode=12;break e}Vt.msg="invalid literal/length code",Et.mode=30;break e}Ut=65535&mn,(qt&=15)&&(dt<qt&&(Nt+=Gt[ot++]<<dt,dt+=8),Ut+=Nt&(1<<qt)-1,Nt>>>=qt,dt-=qt),dt<15&&(Nt+=Gt[ot++]<<dt,dt+=8,Nt+=Gt[ot++]<<dt,dt+=8),mn=sn[Nt&pn];n:for(;;){if(Nt>>>=qt=mn>>>24,dt-=qt,!(16&(qt=mn>>>16&255))){if(!(64&qt)){mn=sn[(65535&mn)+(Nt&(1<<qt)-1)];continue n}Vt.msg="invalid distance code",Et.mode=30;break e}if(Kt=65535&mn,dt<(qt&=15)&&(Nt+=Gt[ot++]<<dt,(dt+=8)<qt&&(Nt+=Gt[ot++]<<dt,dt+=8)),(Kt+=Nt&(1<<qt)-1)>st){Vt.msg="invalid distance too far back",Et.mode=30;break e}if(Nt>>>=qt,dt-=qt,Kt>(qt=nt-ht)){if((qt=Kt-qt)>xt&&Et.sane){Vt.msg="invalid distance too far back",Et.mode=30;break e}if(yt=0,Ot=Zt,St===0){if(yt+=tt-qt,qt<Ut){Ut-=qt;do Ct[nt++]=Zt[yt++];while(--qt);yt=nt-Kt,Ot=Ct}}else if(St<qt){if(yt+=tt+St-qt,(qt-=St)<Ut){Ut-=qt;do Ct[nt++]=Zt[yt++];while(--qt);if(yt=0,St<Ut){Ut-=qt=St;do Ct[nt++]=Zt[yt++];while(--qt);yt=nt-Kt,Ot=Ct}}}else if(yt+=St-qt,qt<Ut){Ut-=qt;do Ct[nt++]=Zt[yt++];while(--qt);yt=nt-Kt,Ot=Ct}for(;Ut>2;)Ct[nt++]=Ot[yt++],Ct[nt++]=Ot[yt++],Ct[nt++]=Ot[yt++],Ut-=3;Ut&&(Ct[nt++]=Ot[yt++],Ut>1&&(Ct[nt++]=Ot[yt++]))}else{yt=nt-Kt;do Ct[nt++]=Ct[yt++],Ct[nt++]=Ct[yt++],Ct[nt++]=Ct[yt++],Ut-=3;while(Ut>2);Ut&&(Ct[nt++]=Ct[yt++],Ut>1&&(Ct[nt++]=Ct[yt++]))}break}}break}}while(ot<it&&nt<Bt);ot-=Ut=dt>>3,Nt&=(1<<(dt-=Ut<<3))-1,Vt.next_in=ot,Vt.next_out=nt,Vt.avail_in=ot<it?it-ot+5:5-(ot-it),Vt.avail_out=nt<Bt?Bt-nt+257:257-(nt-Bt),Et.hold=Nt,Et.bits=dt}},7823:function($t,Vt,_){var Et=_(9187),ot=_(3693),it=_(8464),nt=_(9365),ht=_(6446),Bt=-2,st=12,tt=30;function xt(Ut){return(Ut>>>24&255)+(Ut>>>8&65280)+((65280&Ut)<<8)+((255&Ut)<<24)}function St(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Et.Buf16(320),this.work=new Et.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Zt(Ut){var Kt;return Ut&&Ut.state?(Kt=Ut.state,Ut.total_in=Ut.total_out=Kt.total=0,Ut.msg="",Kt.wrap&&(Ut.adler=1&Kt.wrap),Kt.mode=1,Kt.last=0,Kt.havedict=0,Kt.dmax=32768,Kt.head=null,Kt.hold=0,Kt.bits=0,Kt.lencode=Kt.lendyn=new Et.Buf32(852),Kt.distcode=Kt.distdyn=new Et.Buf32(592),Kt.sane=1,Kt.back=-1,0):Bt}function Nt(Ut){var Kt;return Ut&&Ut.state?((Kt=Ut.state).wsize=0,Kt.whave=0,Kt.wnext=0,Zt(Ut)):Bt}function dt(Ut,Kt){var yt,Ot;return Ut&&Ut.state?(Ot=Ut.state,Kt<0?(yt=0,Kt=-Kt):(yt=1+(Kt>>4),Kt<48&&(Kt&=15)),Kt&&(Kt<8||Kt>15)?Bt:(Ot.window!==null&&Ot.wbits!==Kt&&(Ot.window=null),Ot.wrap=yt,Ot.wbits=Kt,Nt(Ut))):Bt}function Yt(Ut,Kt){var yt,Ot;return Ut?(Ot=new St,Ut.state=Ot,Ot.window=null,(yt=dt(Ut,Kt))!==0&&(Ut.state=null),yt):Bt}var sn,bn,pn=!0;function mn(Ut){if(pn){var Kt;for(sn=new Et.Buf32(512),bn=new Et.Buf32(32),Kt=0;Kt<144;)Ut.lens[Kt++]=8;for(;Kt<256;)Ut.lens[Kt++]=9;for(;Kt<280;)Ut.lens[Kt++]=7;for(;Kt<288;)Ut.lens[Kt++]=8;for(ht(1,Ut.lens,0,288,sn,0,Ut.work,{bits:9}),Kt=0;Kt<32;)Ut.lens[Kt++]=5;ht(2,Ut.lens,0,32,bn,0,Ut.work,{bits:5}),pn=!1}Ut.lencode=sn,Ut.lenbits=9,Ut.distcode=bn,Ut.distbits=5}function qt(Ut,Kt,yt,Ot){var Gt,Ct=Ut.state;return Ct.window===null&&(Ct.wsize=1<<Ct.wbits,Ct.wnext=0,Ct.whave=0,Ct.window=new Et.Buf8(Ct.wsize)),Ot>=Ct.wsize?(Et.arraySet(Ct.window,Kt,yt-Ct.wsize,Ct.wsize,0),Ct.wnext=0,Ct.whave=Ct.wsize):((Gt=Ct.wsize-Ct.wnext)>Ot&&(Gt=Ot),Et.arraySet(Ct.window,Kt,yt-Ot,Gt,Ct.wnext),(Ot-=Gt)?(Et.arraySet(Ct.window,Kt,yt-Ot,Ot,0),Ct.wnext=Ot,Ct.whave=Ct.wsize):(Ct.wnext+=Gt,Ct.wnext===Ct.wsize&&(Ct.wnext=0),Ct.whave<Ct.wsize&&(Ct.whave+=Gt))),0}Vt.inflateReset=Nt,Vt.inflateReset2=dt,Vt.inflateResetKeep=Zt,Vt.inflateInit=function(Ut){return Yt(Ut,15)},Vt.inflateInit2=Yt,Vt.inflate=function(Ut,Kt){var yt,Ot,Gt,Ct,Xt,ut,ft,$,wt,gt,lt,pt,vt,zt,Qt,Ft,At,Tt,jt,un,Jt,hn,rn,Mt,an=0,Cn=new Et.Buf8(4),kn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ut||!Ut.state||!Ut.output||!Ut.input&&Ut.avail_in!==0)return Bt;(yt=Ut.state).mode===st&&(yt.mode=13),Xt=Ut.next_out,Gt=Ut.output,ft=Ut.avail_out,Ct=Ut.next_in,Ot=Ut.input,ut=Ut.avail_in,$=yt.hold,wt=yt.bits,gt=ut,lt=ft,hn=0;e:for(;;)switch(yt.mode){case 1:if(yt.wrap===0){yt.mode=13;break}for(;wt<16;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if(2&yt.wrap&&$===35615){yt.check=0,Cn[0]=255&$,Cn[1]=$>>>8&255,yt.check=it(yt.check,Cn,2,0),$=0,wt=0,yt.mode=2;break}if(yt.flags=0,yt.head&&(yt.head.done=!1),!(1&yt.wrap)||(((255&$)<<8)+($>>8))%31){Ut.msg="incorrect header check",yt.mode=tt;break}if((15&$)!=8){Ut.msg="unknown compression method",yt.mode=tt;break}if(wt-=4,Jt=8+(15&($>>>=4)),yt.wbits===0)yt.wbits=Jt;else if(Jt>yt.wbits){Ut.msg="invalid window size",yt.mode=tt;break}yt.dmax=1<<Jt,Ut.adler=yt.check=1,yt.mode=512&$?10:st,$=0,wt=0;break;case 2:for(;wt<16;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if(yt.flags=$,(255&yt.flags)!=8){Ut.msg="unknown compression method",yt.mode=tt;break}if(57344&yt.flags){Ut.msg="unknown header flags set",yt.mode=tt;break}yt.head&&(yt.head.text=$>>8&1),512&yt.flags&&(Cn[0]=255&$,Cn[1]=$>>>8&255,yt.check=it(yt.check,Cn,2,0)),$=0,wt=0,yt.mode=3;case 3:for(;wt<32;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}yt.head&&(yt.head.time=$),512&yt.flags&&(Cn[0]=255&$,Cn[1]=$>>>8&255,Cn[2]=$>>>16&255,Cn[3]=$>>>24&255,yt.check=it(yt.check,Cn,4,0)),$=0,wt=0,yt.mode=4;case 4:for(;wt<16;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}yt.head&&(yt.head.xflags=255&$,yt.head.os=$>>8),512&yt.flags&&(Cn[0]=255&$,Cn[1]=$>>>8&255,yt.check=it(yt.check,Cn,2,0)),$=0,wt=0,yt.mode=5;case 5:if(1024&yt.flags){for(;wt<16;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}yt.length=$,yt.head&&(yt.head.extra_len=$),512&yt.flags&&(Cn[0]=255&$,Cn[1]=$>>>8&255,yt.check=it(yt.check,Cn,2,0)),$=0,wt=0}else yt.head&&(yt.head.extra=null);yt.mode=6;case 6:if(1024&yt.flags&&((pt=yt.length)>ut&&(pt=ut),pt&&(yt.head&&(Jt=yt.head.extra_len-yt.length,yt.head.extra||(yt.head.extra=new Array(yt.head.extra_len)),Et.arraySet(yt.head.extra,Ot,Ct,pt,Jt)),512&yt.flags&&(yt.check=it(yt.check,Ot,pt,Ct)),ut-=pt,Ct+=pt,yt.length-=pt),yt.length))break e;yt.length=0,yt.mode=7;case 7:if(2048&yt.flags){if(ut===0)break e;pt=0;do Jt=Ot[Ct+pt++],yt.head&&Jt&&yt.length<65536&&(yt.head.name+=String.fromCharCode(Jt));while(Jt&&pt<ut);if(512&yt.flags&&(yt.check=it(yt.check,Ot,pt,Ct)),ut-=pt,Ct+=pt,Jt)break e}else yt.head&&(yt.head.name=null);yt.length=0,yt.mode=8;case 8:if(4096&yt.flags){if(ut===0)break e;pt=0;do Jt=Ot[Ct+pt++],yt.head&&Jt&&yt.length<65536&&(yt.head.comment+=String.fromCharCode(Jt));while(Jt&&pt<ut);if(512&yt.flags&&(yt.check=it(yt.check,Ot,pt,Ct)),ut-=pt,Ct+=pt,Jt)break e}else yt.head&&(yt.head.comment=null);yt.mode=9;case 9:if(512&yt.flags){for(;wt<16;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if($!==(65535&yt.check)){Ut.msg="header crc mismatch",yt.mode=tt;break}$=0,wt=0}yt.head&&(yt.head.hcrc=yt.flags>>9&1,yt.head.done=!0),Ut.adler=yt.check=0,yt.mode=st;break;case 10:for(;wt<32;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}Ut.adler=yt.check=xt($),$=0,wt=0,yt.mode=11;case 11:if(yt.havedict===0)return Ut.next_out=Xt,Ut.avail_out=ft,Ut.next_in=Ct,Ut.avail_in=ut,yt.hold=$,yt.bits=wt,2;Ut.adler=yt.check=1,yt.mode=st;case st:if(Kt===5||Kt===6)break e;case 13:if(yt.last){$>>>=7&wt,wt-=7&wt,yt.mode=27;break}for(;wt<3;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}switch(yt.last=1&$,wt-=1,3&($>>>=1)){case 0:yt.mode=14;break;case 1:if(mn(yt),yt.mode=20,Kt===6){$>>>=2,wt-=2;break e}break;case 2:yt.mode=17;break;case 3:Ut.msg="invalid block type",yt.mode=tt}$>>>=2,wt-=2;break;case 14:for($>>>=7&wt,wt-=7&wt;wt<32;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if((65535&$)!=($>>>16^65535)){Ut.msg="invalid stored block lengths",yt.mode=tt;break}if(yt.length=65535&$,$=0,wt=0,yt.mode=15,Kt===6)break e;case 15:yt.mode=16;case 16:if(pt=yt.length){if(pt>ut&&(pt=ut),pt>ft&&(pt=ft),pt===0)break e;Et.arraySet(Gt,Ot,Ct,pt,Xt),ut-=pt,Ct+=pt,ft-=pt,Xt+=pt,yt.length-=pt;break}yt.mode=st;break;case 17:for(;wt<14;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if(yt.nlen=257+(31&$),$>>>=5,wt-=5,yt.ndist=1+(31&$),$>>>=5,wt-=5,yt.ncode=4+(15&$),$>>>=4,wt-=4,yt.nlen>286||yt.ndist>30){Ut.msg="too many length or distance symbols",yt.mode=tt;break}yt.have=0,yt.mode=18;case 18:for(;yt.have<yt.ncode;){for(;wt<3;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}yt.lens[kn[yt.have++]]=7&$,$>>>=3,wt-=3}for(;yt.have<19;)yt.lens[kn[yt.have++]]=0;if(yt.lencode=yt.lendyn,yt.lenbits=7,rn={bits:yt.lenbits},hn=ht(0,yt.lens,0,19,yt.lencode,0,yt.work,rn),yt.lenbits=rn.bits,hn){Ut.msg="invalid code lengths set",yt.mode=tt;break}yt.have=0,yt.mode=19;case 19:for(;yt.have<yt.nlen+yt.ndist;){for(;Ft=(an=yt.lencode[$&(1<<yt.lenbits)-1])>>>16&255,At=65535&an,!((Qt=an>>>24)<=wt);){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if(At<16)$>>>=Qt,wt-=Qt,yt.lens[yt.have++]=At;else{if(At===16){for(Mt=Qt+2;wt<Mt;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if($>>>=Qt,wt-=Qt,yt.have===0){Ut.msg="invalid bit length repeat",yt.mode=tt;break}Jt=yt.lens[yt.have-1],pt=3+(3&$),$>>>=2,wt-=2}else if(At===17){for(Mt=Qt+3;wt<Mt;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}wt-=Qt,Jt=0,pt=3+(7&($>>>=Qt)),$>>>=3,wt-=3}else{for(Mt=Qt+7;wt<Mt;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}wt-=Qt,Jt=0,pt=11+(127&($>>>=Qt)),$>>>=7,wt-=7}if(yt.have+pt>yt.nlen+yt.ndist){Ut.msg="invalid bit length repeat",yt.mode=tt;break}for(;pt--;)yt.lens[yt.have++]=Jt}}if(yt.mode===tt)break;if(yt.lens[256]===0){Ut.msg="invalid code -- missing end-of-block",yt.mode=tt;break}if(yt.lenbits=9,rn={bits:yt.lenbits},hn=ht(1,yt.lens,0,yt.nlen,yt.lencode,0,yt.work,rn),yt.lenbits=rn.bits,hn){Ut.msg="invalid literal/lengths set",yt.mode=tt;break}if(yt.distbits=6,yt.distcode=yt.distdyn,rn={bits:yt.distbits},hn=ht(2,yt.lens,yt.nlen,yt.ndist,yt.distcode,0,yt.work,rn),yt.distbits=rn.bits,hn){Ut.msg="invalid distances set",yt.mode=tt;break}if(yt.mode=20,Kt===6)break e;case 20:yt.mode=21;case 21:if(ut>=6&&ft>=258){Ut.next_out=Xt,Ut.avail_out=ft,Ut.next_in=Ct,Ut.avail_in=ut,yt.hold=$,yt.bits=wt,nt(Ut,lt),Xt=Ut.next_out,Gt=Ut.output,ft=Ut.avail_out,Ct=Ut.next_in,Ot=Ut.input,ut=Ut.avail_in,$=yt.hold,wt=yt.bits,yt.mode===st&&(yt.back=-1);break}for(yt.back=0;Ft=(an=yt.lencode[$&(1<<yt.lenbits)-1])>>>16&255,At=65535&an,!((Qt=an>>>24)<=wt);){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if(Ft&&!(240&Ft)){for(Tt=Qt,jt=Ft,un=At;Ft=(an=yt.lencode[un+(($&(1<<Tt+jt)-1)>>Tt)])>>>16&255,At=65535&an,!(Tt+(Qt=an>>>24)<=wt);){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}$>>>=Tt,wt-=Tt,yt.back+=Tt}if($>>>=Qt,wt-=Qt,yt.back+=Qt,yt.length=At,Ft===0){yt.mode=26;break}if(32&Ft){yt.back=-1,yt.mode=st;break}if(64&Ft){Ut.msg="invalid literal/length code",yt.mode=tt;break}yt.extra=15&Ft,yt.mode=22;case 22:if(yt.extra){for(Mt=yt.extra;wt<Mt;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}yt.length+=$&(1<<yt.extra)-1,$>>>=yt.extra,wt-=yt.extra,yt.back+=yt.extra}yt.was=yt.length,yt.mode=23;case 23:for(;Ft=(an=yt.distcode[$&(1<<yt.distbits)-1])>>>16&255,At=65535&an,!((Qt=an>>>24)<=wt);){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if(!(240&Ft)){for(Tt=Qt,jt=Ft,un=At;Ft=(an=yt.distcode[un+(($&(1<<Tt+jt)-1)>>Tt)])>>>16&255,At=65535&an,!(Tt+(Qt=an>>>24)<=wt);){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}$>>>=Tt,wt-=Tt,yt.back+=Tt}if($>>>=Qt,wt-=Qt,yt.back+=Qt,64&Ft){Ut.msg="invalid distance code",yt.mode=tt;break}yt.offset=At,yt.extra=15&Ft,yt.mode=24;case 24:if(yt.extra){for(Mt=yt.extra;wt<Mt;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}yt.offset+=$&(1<<yt.extra)-1,$>>>=yt.extra,wt-=yt.extra,yt.back+=yt.extra}if(yt.offset>yt.dmax){Ut.msg="invalid distance too far back",yt.mode=tt;break}yt.mode=25;case 25:if(ft===0)break e;if(pt=lt-ft,yt.offset>pt){if((pt=yt.offset-pt)>yt.whave&&yt.sane){Ut.msg="invalid distance too far back",yt.mode=tt;break}pt>yt.wnext?(pt-=yt.wnext,vt=yt.wsize-pt):vt=yt.wnext-pt,pt>yt.length&&(pt=yt.length),zt=yt.window}else zt=Gt,vt=Xt-yt.offset,pt=yt.length;pt>ft&&(pt=ft),ft-=pt,yt.length-=pt;do Gt[Xt++]=zt[vt++];while(--pt);yt.length===0&&(yt.mode=21);break;case 26:if(ft===0)break e;Gt[Xt++]=yt.length,ft--,yt.mode=21;break;case 27:if(yt.wrap){for(;wt<32;){if(ut===0)break e;ut--,$|=Ot[Ct++]<<wt,wt+=8}if(lt-=ft,Ut.total_out+=lt,yt.total+=lt,lt&&(Ut.adler=yt.check=yt.flags?it(yt.check,Gt,lt,Xt-lt):ot(yt.check,Gt,lt,Xt-lt)),lt=ft,(yt.flags?$:xt($))!==yt.check){Ut.msg="incorrect data check",yt.mode=tt;break}$=0,wt=0}yt.mode=28;case 28:if(yt.wrap&&yt.flags){for(;wt<32;){if(ut===0)break e;ut--,$+=Ot[Ct++]<<wt,wt+=8}if($!==(4294967295&yt.total)){Ut.msg="incorrect length check",yt.mode=tt;break}$=0,wt=0}yt.mode=29;case 29:hn=1;break e;case tt:hn=-3;break e;case 31:return-4;default:return Bt}return Ut.next_out=Xt,Ut.avail_out=ft,Ut.next_in=Ct,Ut.avail_in=ut,yt.hold=$,yt.bits=wt,(yt.wsize||lt!==Ut.avail_out&&yt.mode<tt&&(yt.mode<27||Kt!==4))&&qt(Ut,Ut.output,Ut.next_out,lt-Ut.avail_out)?(yt.mode=31,-4):(gt-=Ut.avail_in,lt-=Ut.avail_out,Ut.total_in+=gt,Ut.total_out+=lt,yt.total+=lt,yt.wrap&&lt&&(Ut.adler=yt.check=yt.flags?it(yt.check,Gt,lt,Ut.next_out-lt):ot(yt.check,Gt,lt,Ut.next_out-lt)),Ut.data_type=yt.bits+(yt.last?64:0)+(yt.mode===st?128:0)+(yt.mode===20||yt.mode===15?256:0),(gt===0&&lt===0||Kt===4)&&hn===0&&(hn=-5),hn)},Vt.inflateEnd=function(Ut){if(!Ut||!Ut.state)return Bt;var Kt=Ut.state;return Kt.window&&(Kt.window=null),Ut.state=null,0},Vt.inflateGetHeader=function(Ut,Kt){var yt;return Ut&&Ut.state&&2&(yt=Ut.state).wrap?(yt.head=Kt,Kt.done=!1,0):Bt},Vt.inflateSetDictionary=function(Ut,Kt){var yt,Ot=Kt.length;return Ut&&Ut.state?(yt=Ut.state).wrap!==0&&yt.mode!==11?Bt:yt.mode===11&&ot(1,Kt,Ot,0)!==yt.check?-3:qt(Ut,Kt,Ot,Ot)?(yt.mode=31,-4):(yt.havedict=1,0):Bt},Vt.inflateInfo="pako inflate (from Nodeca project)"},6446:function($t,Vt,_){var Et=_(9187),ot=15,it=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ht=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Bt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];$t.exports=function(st,tt,xt,St,Zt,Nt,dt,Yt){var sn,bn,pn,mn,qt,Ut,Kt,yt,Ot,Gt=Yt.bits,Ct=0,Xt=0,ut=0,ft=0,$=0,wt=0,gt=0,lt=0,pt=0,vt=0,zt=null,Qt=0,Ft=new Et.Buf16(16),At=new Et.Buf16(16),Tt=null,jt=0;for(Ct=0;Ct<=ot;Ct++)Ft[Ct]=0;for(Xt=0;Xt<St;Xt++)Ft[tt[xt+Xt]]++;for($=Gt,ft=ot;ft>=1&&Ft[ft]===0;ft--);if($>ft&&($=ft),ft===0)return Zt[Nt++]=20971520,Zt[Nt++]=20971520,Yt.bits=1,0;for(ut=1;ut<ft&&Ft[ut]===0;ut++);for($<ut&&($=ut),lt=1,Ct=1;Ct<=ot;Ct++)if(lt<<=1,(lt-=Ft[Ct])<0)return-1;if(lt>0&&(st===0||ft!==1))return-1;for(At[1]=0,Ct=1;Ct<ot;Ct++)At[Ct+1]=At[Ct]+Ft[Ct];for(Xt=0;Xt<St;Xt++)tt[xt+Xt]!==0&&(dt[At[tt[xt+Xt]]++]=Xt);if(st===0?(zt=Tt=dt,Ut=19):st===1?(zt=it,Qt-=257,Tt=nt,jt-=257,Ut=256):(zt=ht,Tt=Bt,Ut=-1),vt=0,Xt=0,Ct=ut,qt=Nt,wt=$,gt=0,pn=-1,mn=(pt=1<<$)-1,st===1&&pt>852||st===2&&pt>592)return 1;for(;;){Kt=Ct-gt,dt[Xt]<Ut?(yt=0,Ot=dt[Xt]):dt[Xt]>Ut?(yt=Tt[jt+dt[Xt]],Ot=zt[Qt+dt[Xt]]):(yt=96,Ot=0),sn=1<<Ct-gt,ut=bn=1<<wt;do Zt[qt+(vt>>gt)+(bn-=sn)]=Kt<<24|yt<<16|Ot|0;while(bn!==0);for(sn=1<<Ct-1;vt&sn;)sn>>=1;if(sn!==0?(vt&=sn-1,vt+=sn):vt=0,Xt++,--Ft[Ct]==0){if(Ct===ft)break;Ct=tt[xt+dt[Xt]]}if(Ct>$&&(vt&mn)!==pn){for(gt===0&&(gt=$),qt+=ut,lt=1<<(wt=Ct-gt);wt+gt<ft&&!((lt-=Ft[wt+gt])<=0);)wt++,lt<<=1;if(pt+=1<<wt,st===1&&pt>852||st===2&&pt>592)return 1;Zt[pn=vt&mn]=$<<24|wt<<16|qt-Nt|0}}return vt!==0&&(Zt[qt+vt]=Ct-gt<<24|4194304|0),Yt.bits=$,0}},5604:function($t){$t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function($t,Vt,_){var Et=_(9187);function ot(At){for(var Tt=At.length;--Tt>=0;)At[Tt]=0}var it=256,nt=286,ht=30,Bt=15,st=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],St=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Zt=new Array(576);ot(Zt);var Nt=new Array(60);ot(Nt);var dt=new Array(512);ot(dt);var Yt=new Array(256);ot(Yt);var sn=new Array(29);ot(sn);var bn,pn,mn,qt=new Array(ht);function Ut(At,Tt,jt,un,Jt){this.static_tree=At,this.extra_bits=Tt,this.extra_base=jt,this.elems=un,this.max_length=Jt,this.has_stree=At&&At.length}function Kt(At,Tt){this.dyn_tree=At,this.max_code=0,this.stat_desc=Tt}function yt(At){return At<256?dt[At]:dt[256+(At>>>7)]}function Ot(At,Tt){At.pending_buf[At.pending++]=255&Tt,At.pending_buf[At.pending++]=Tt>>>8&255}function Gt(At,Tt,jt){At.bi_valid>16-jt?(At.bi_buf|=Tt<<At.bi_valid&65535,Ot(At,At.bi_buf),At.bi_buf=Tt>>16-At.bi_valid,At.bi_valid+=jt-16):(At.bi_buf|=Tt<<At.bi_valid&65535,At.bi_valid+=jt)}function Ct(At,Tt,jt){Gt(At,jt[2*Tt],jt[2*Tt+1])}function Xt(At,Tt){var jt=0;do jt|=1&At,At>>>=1,jt<<=1;while(--Tt>0);return jt>>>1}function ut(At,Tt,jt){var un,Jt,hn=new Array(16),rn=0;for(un=1;un<=Bt;un++)hn[un]=rn=rn+jt[un-1]<<1;for(Jt=0;Jt<=Tt;Jt++){var Mt=At[2*Jt+1];Mt!==0&&(At[2*Jt]=Xt(hn[Mt]++,Mt))}}function ft(At){var Tt;for(Tt=0;Tt<nt;Tt++)At.dyn_ltree[2*Tt]=0;for(Tt=0;Tt<ht;Tt++)At.dyn_dtree[2*Tt]=0;for(Tt=0;Tt<19;Tt++)At.bl_tree[2*Tt]=0;At.dyn_ltree[512]=1,At.opt_len=At.static_len=0,At.last_lit=At.matches=0}function $(At){At.bi_valid>8?Ot(At,At.bi_buf):At.bi_valid>0&&(At.pending_buf[At.pending++]=At.bi_buf),At.bi_buf=0,At.bi_valid=0}function wt(At,Tt,jt,un){var Jt=2*Tt,hn=2*jt;return At[Jt]<At[hn]||At[Jt]===At[hn]&&un[Tt]<=un[jt]}function gt(At,Tt,jt){for(var un=At.heap[jt],Jt=jt<<1;Jt<=At.heap_len&&(Jt<At.heap_len&&wt(Tt,At.heap[Jt+1],At.heap[Jt],At.depth)&&Jt++,!wt(Tt,un,At.heap[Jt],At.depth));)At.heap[jt]=At.heap[Jt],jt=Jt,Jt<<=1;At.heap[jt]=un}function lt(At,Tt,jt){var un,Jt,hn,rn,Mt=0;if(At.last_lit!==0)do un=At.pending_buf[At.d_buf+2*Mt]<<8|At.pending_buf[At.d_buf+2*Mt+1],Jt=At.pending_buf[At.l_buf+Mt],Mt++,un===0?Ct(At,Jt,Tt):(Ct(At,(hn=Yt[Jt])+it+1,Tt),(rn=st[hn])!==0&&Gt(At,Jt-=sn[hn],rn),Ct(At,hn=yt(--un),jt),(rn=tt[hn])!==0&&Gt(At,un-=qt[hn],rn));while(Mt<At.last_lit);Ct(At,256,Tt)}function pt(At,Tt){var jt,un,Jt,hn=Tt.dyn_tree,rn=Tt.stat_desc.static_tree,Mt=Tt.stat_desc.has_stree,an=Tt.stat_desc.elems,Cn=-1;for(At.heap_len=0,At.heap_max=573,jt=0;jt<an;jt++)hn[2*jt]!==0?(At.heap[++At.heap_len]=Cn=jt,At.depth[jt]=0):hn[2*jt+1]=0;for(;At.heap_len<2;)hn[2*(Jt=At.heap[++At.heap_len]=Cn<2?++Cn:0)]=1,At.depth[Jt]=0,At.opt_len--,Mt&&(At.static_len-=rn[2*Jt+1]);for(Tt.max_code=Cn,jt=At.heap_len>>1;jt>=1;jt--)gt(At,hn,jt);Jt=an;do jt=At.heap[1],At.heap[1]=At.heap[At.heap_len--],gt(At,hn,1),un=At.heap[1],At.heap[--At.heap_max]=jt,At.heap[--At.heap_max]=un,hn[2*Jt]=hn[2*jt]+hn[2*un],At.depth[Jt]=(At.depth[jt]>=At.depth[un]?At.depth[jt]:At.depth[un])+1,hn[2*jt+1]=hn[2*un+1]=Jt,At.heap[1]=Jt++,gt(At,hn,1);while(At.heap_len>=2);At.heap[--At.heap_max]=At.heap[1],function(kn,jn){var Dn,Fn,vn,Gn,Sn,nn,Qn=jn.dyn_tree,tn=jn.max_code,at=jn.stat_desc.static_tree,ct=jn.stat_desc.has_stree,mt=jn.stat_desc.extra_bits,Wt=jn.stat_desc.extra_base,Rt=jn.stat_desc.max_length,en=0;for(Gn=0;Gn<=Bt;Gn++)kn.bl_count[Gn]=0;for(Qn[2*kn.heap[kn.heap_max]+1]=0,Dn=kn.heap_max+1;Dn<573;Dn++)(Gn=Qn[2*Qn[2*(Fn=kn.heap[Dn])+1]+1]+1)>Rt&&(Gn=Rt,en++),Qn[2*Fn+1]=Gn,Fn>tn||(kn.bl_count[Gn]++,Sn=0,Fn>=Wt&&(Sn=mt[Fn-Wt]),nn=Qn[2*Fn],kn.opt_len+=nn*(Gn+Sn),ct&&(kn.static_len+=nn*(at[2*Fn+1]+Sn)));if(en!==0){do{for(Gn=Rt-1;kn.bl_count[Gn]===0;)Gn--;kn.bl_count[Gn]--,kn.bl_count[Gn+1]+=2,kn.bl_count[Rt]--,en-=2}while(en>0);for(Gn=Rt;Gn!==0;Gn--)for(Fn=kn.bl_count[Gn];Fn!==0;)(vn=kn.heap[--Dn])>tn||(Qn[2*vn+1]!==Gn&&(kn.opt_len+=(Gn-Qn[2*vn+1])*Qn[2*vn],Qn[2*vn+1]=Gn),Fn--)}}(At,Tt),ut(hn,Cn,At.bl_count)}function vt(At,Tt,jt){var un,Jt,hn=-1,rn=Tt[1],Mt=0,an=7,Cn=4;for(rn===0&&(an=138,Cn=3),Tt[2*(jt+1)+1]=65535,un=0;un<=jt;un++)Jt=rn,rn=Tt[2*(un+1)+1],++Mt<an&&Jt===rn||(Mt<Cn?At.bl_tree[2*Jt]+=Mt:Jt!==0?(Jt!==hn&&At.bl_tree[2*Jt]++,At.bl_tree[32]++):Mt<=10?At.bl_tree[34]++:At.bl_tree[36]++,Mt=0,hn=Jt,rn===0?(an=138,Cn=3):Jt===rn?(an=6,Cn=3):(an=7,Cn=4))}function zt(At,Tt,jt){var un,Jt,hn=-1,rn=Tt[1],Mt=0,an=7,Cn=4;for(rn===0&&(an=138,Cn=3),un=0;un<=jt;un++)if(Jt=rn,rn=Tt[2*(un+1)+1],!(++Mt<an&&Jt===rn)){if(Mt<Cn)do Ct(At,Jt,At.bl_tree);while(--Mt!=0);else Jt!==0?(Jt!==hn&&(Ct(At,Jt,At.bl_tree),Mt--),Ct(At,16,At.bl_tree),Gt(At,Mt-3,2)):Mt<=10?(Ct(At,17,At.bl_tree),Gt(At,Mt-3,3)):(Ct(At,18,At.bl_tree),Gt(At,Mt-11,7));Mt=0,hn=Jt,rn===0?(an=138,Cn=3):Jt===rn?(an=6,Cn=3):(an=7,Cn=4)}}ot(qt);var Qt=!1;function Ft(At,Tt,jt,un){Gt(At,0+(un?1:0),3),function(Jt,hn,rn,Mt){$(Jt),Ot(Jt,rn),Ot(Jt,~rn),Et.arraySet(Jt.pending_buf,Jt.window,hn,rn,Jt.pending),Jt.pending+=rn}(At,Tt,jt)}Vt._tr_init=function(At){Qt||(function(){var Tt,jt,un,Jt,hn,rn=new Array(16);for(un=0,Jt=0;Jt<28;Jt++)for(sn[Jt]=un,Tt=0;Tt<1<<st[Jt];Tt++)Yt[un++]=Jt;for(Yt[un-1]=Jt,hn=0,Jt=0;Jt<16;Jt++)for(qt[Jt]=hn,Tt=0;Tt<1<<tt[Jt];Tt++)dt[hn++]=Jt;for(hn>>=7;Jt<ht;Jt++)for(qt[Jt]=hn<<7,Tt=0;Tt<1<<tt[Jt]-7;Tt++)dt[256+hn++]=Jt;for(jt=0;jt<=Bt;jt++)rn[jt]=0;for(Tt=0;Tt<=143;)Zt[2*Tt+1]=8,Tt++,rn[8]++;for(;Tt<=255;)Zt[2*Tt+1]=9,Tt++,rn[9]++;for(;Tt<=279;)Zt[2*Tt+1]=7,Tt++,rn[7]++;for(;Tt<=287;)Zt[2*Tt+1]=8,Tt++,rn[8]++;for(ut(Zt,287,rn),Tt=0;Tt<ht;Tt++)Nt[2*Tt+1]=5,Nt[2*Tt]=Xt(Tt,5);bn=new Ut(Zt,st,257,nt,Bt),pn=new Ut(Nt,tt,0,ht,Bt),mn=new Ut(new Array(0),xt,0,19,7)}(),Qt=!0),At.l_desc=new Kt(At.dyn_ltree,bn),At.d_desc=new Kt(At.dyn_dtree,pn),At.bl_desc=new Kt(At.bl_tree,mn),At.bi_buf=0,At.bi_valid=0,ft(At)},Vt._tr_stored_block=Ft,Vt._tr_flush_block=function(At,Tt,jt,un){var Jt,hn,rn=0;At.level>0?(At.strm.data_type===2&&(At.strm.data_type=function(Mt){var an,Cn=4093624447;for(an=0;an<=31;an++,Cn>>>=1)if(1&Cn&&Mt.dyn_ltree[2*an]!==0)return 0;if(Mt.dyn_ltree[18]!==0||Mt.dyn_ltree[20]!==0||Mt.dyn_ltree[26]!==0)return 1;for(an=32;an<it;an++)if(Mt.dyn_ltree[2*an]!==0)return 1;return 0}(At)),pt(At,At.l_desc),pt(At,At.d_desc),rn=function(Mt){var an;for(vt(Mt,Mt.dyn_ltree,Mt.l_desc.max_code),vt(Mt,Mt.dyn_dtree,Mt.d_desc.max_code),pt(Mt,Mt.bl_desc),an=18;an>=3&&Mt.bl_tree[2*St[an]+1]===0;an--);return Mt.opt_len+=3*(an+1)+5+5+4,an}(At),Jt=At.opt_len+3+7>>>3,(hn=At.static_len+3+7>>>3)<=Jt&&(Jt=hn)):Jt=hn=jt+5,jt+4<=Jt&&Tt!==-1?Ft(At,Tt,jt,un):At.strategy===4||hn===Jt?(Gt(At,2+(un?1:0),3),lt(At,Zt,Nt)):(Gt(At,4+(un?1:0),3),function(Mt,an,Cn,kn){var jn;for(Gt(Mt,an-257,5),Gt(Mt,Cn-1,5),Gt(Mt,kn-4,4),jn=0;jn<kn;jn++)Gt(Mt,Mt.bl_tree[2*St[jn]+1],3);zt(Mt,Mt.dyn_ltree,an-1),zt(Mt,Mt.dyn_dtree,Cn-1)}(At,At.l_desc.max_code+1,At.d_desc.max_code+1,rn+1),lt(At,At.dyn_ltree,At.dyn_dtree)),ft(At),un&&$(At)},Vt._tr_tally=function(At,Tt,jt){return At.pending_buf[At.d_buf+2*At.last_lit]=Tt>>>8&255,At.pending_buf[At.d_buf+2*At.last_lit+1]=255&Tt,At.pending_buf[At.l_buf+At.last_lit]=255&jt,At.last_lit++,Tt===0?At.dyn_ltree[2*jt]++:(At.matches++,Tt--,At.dyn_ltree[2*(Yt[jt]+it+1)]++,At.dyn_dtree[2*yt(Tt)]++),At.last_lit===At.lit_bufsize-1},Vt._tr_align=function(At){Gt(At,2,3),Ct(At,256,Zt),function(Tt){Tt.bi_valid===16?(Ot(Tt,Tt.bi_buf),Tt.bi_buf=0,Tt.bi_valid=0):Tt.bi_valid>=8&&(Tt.pending_buf[Tt.pending++]=255&Tt.bi_buf,Tt.bi_buf>>=8,Tt.bi_valid-=8)}(At)}},249:function($t){$t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function($t){$t.exports=function(Vt){Vt.data&&Vt.name&&(Vt=Vt.data);for(var _=!0,Et="",ot="",it=0;it<Vt.length;it++){var nt=Vt[it];if(_)nt?ot+=String.fromCharCode(nt):_=!1;else{if(!nt)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");Et+=String.fromCharCode(nt)}}return{keyword:ot,text:Et}}},9686:function($t){$t.exports=function(Vt,_){if(Vt=String(Vt),_=String(_),!/^[\x00-\xFF]+$/.test(Vt)||!/^[\x00-\xFF]+$/.test(_))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(Vt.length>=80)throw new Error('Keyword "'+Vt+'" is longer than the 79-character limit imposed by the PNG specification');for(var Et,ot=Vt.length+_.length+1,it=new Uint8Array(ot),nt=0,ht=0;ht<Vt.length;ht++){if(!(Et=Vt.charCodeAt(ht)))throw new Error("0x00 character is not permitted in tEXt keywords");it[nt++]=Et}it[nt++]=0;for(var Bt=0;Bt<_.length;Bt++){if(!(Et=_.charCodeAt(Bt)))throw new Error("0x00 character is not permitted in tEXt content");it[nt++]=Et}return{name:"tEXt",data:it}}},1194:function($t,Vt,_){Vt.encode=_(9686),Vt.decode=_(9066)},3434:function($t,Vt,_){var Et=_(5714),ot=_(6233);$t.exports=function(Bt){var st,tt=8,xt=tt;for(st=0;st<Bt.length;st++)tt+=Bt[st].data.length,tt+=12;var St=new Uint8Array(tt);for(St[0]=137,St[1]=80,St[2]=78,St[3]=71,St[4]=13,St[5]=10,St[6]=26,St[7]=10,st=0;st<Bt.length;st++){var Zt=Bt[st],Nt=Zt.name,dt=Zt.data,Yt=dt.length,sn=[Nt.charCodeAt(0),Nt.charCodeAt(1),Nt.charCodeAt(2),Nt.charCodeAt(3)];ht[0]=Yt,St[xt++]=it[3],St[xt++]=it[2],St[xt++]=it[1],St[xt++]=it[0],St[xt++]=sn[0],St[xt++]=sn[1],St[xt++]=sn[2],St[xt++]=sn[3];for(var bn=0;bn<Yt;)St[xt++]=dt[bn++];var pn=sn.concat(Et(dt)),mn=ot.buf(pn);nt[0]=mn,St[xt++]=it[3],St[xt++]=it[2],St[xt++]=it[1],St[xt++]=it[0]}return St};var it=new Uint8Array(4),nt=new Int32Array(it.buffer),ht=new Uint32Array(it.buffer)},2983:function($t,Vt,_){var Et=_(6233);$t.exports=function(ht){if(ht[0]!==137)throw new Error("Invalid .png file header");if(ht[1]!==80)throw new Error("Invalid .png file header");if(ht[2]!==78)throw new Error("Invalid .png file header");if(ht[3]!==71)throw new Error("Invalid .png file header");if(ht[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(ht[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(ht[6]!==26)throw new Error("Invalid .png file header");if(ht[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var Bt=!1,st=[],tt=8;tt<ht.length;){ot[3]=ht[tt++],ot[2]=ht[tt++],ot[1]=ht[tt++],ot[0]=ht[tt++];var xt=nt[0]+4,St=new Uint8Array(xt);St[0]=ht[tt++],St[1]=ht[tt++],St[2]=ht[tt++],St[3]=ht[tt++];var Zt=String.fromCharCode(St[0])+String.fromCharCode(St[1])+String.fromCharCode(St[2])+String.fromCharCode(St[3]);if(!st.length&&Zt!=="IHDR")throw new Error("IHDR header missing");if(Zt==="IEND"){Bt=!0,st.push({name:Zt,data:new Uint8Array(0)});break}for(var Nt=4;Nt<xt;Nt++)St[Nt]=ht[tt++];ot[3]=ht[tt++],ot[2]=ht[tt++],ot[1]=ht[tt++],ot[0]=ht[tt++];var dt=it[0];if(Et.buf(St)!==dt)throw new Error("CRC values for "+Zt+" header do not match, PNG file is likely corrupted");var Yt=new Uint8Array(St.buffer.slice(4));st.push({name:Zt,data:Yt})}if(!Bt)throw new Error(".png file ended prematurely: no IEND header was found");return st};var ot=new Uint8Array(4),it=new Int32Array(ot.buffer),nt=new Uint32Array(ot.buffer)},1493:function($t,Vt,_){function Et(tt,xt){return Math.pow(tt[0]-xt[0],2)+Math.pow(tt[1]-xt[1],2)}function ot(tt,xt,St){const Zt=Et(xt,St);if(Zt===0)return Et(tt,xt);let Nt=((tt[0]-xt[0])*(St[0]-xt[0])+(tt[1]-xt[1])*(St[1]-xt[1]))/Zt;return Nt=Math.max(0,Math.min(1,Nt)),Et(tt,it(xt,St,Nt))}function it(tt,xt,St){return[tt[0]+(xt[0]-tt[0])*St,tt[1]+(xt[1]-tt[1])*St]}function nt(tt,xt,St,Zt){const Nt=Zt||[];if(function(sn,bn){const pn=sn[bn+0],mn=sn[bn+1],qt=sn[bn+2],Ut=sn[bn+3];let Kt=3*mn[0]-2*pn[0]-Ut[0];Kt*=Kt;let yt=3*mn[1]-2*pn[1]-Ut[1];yt*=yt;let Ot=3*qt[0]-2*Ut[0]-pn[0];Ot*=Ot;let Gt=3*qt[1]-2*Ut[1]-pn[1];return Gt*=Gt,Kt<Ot&&(Kt=Ot),yt<Gt&&(yt=Gt),Kt+yt}(tt,xt)<St){const sn=tt[xt+0];Nt.length?(dt=Nt[Nt.length-1],Yt=sn,Math.sqrt(Et(dt,Yt))>1&&Nt.push(sn)):Nt.push(sn),Nt.push(tt[xt+3])}else{const bn=tt[xt+0],pn=tt[xt+1],mn=tt[xt+2],qt=tt[xt+3],Ut=it(bn,pn,.5),Kt=it(pn,mn,.5),yt=it(mn,qt,.5),Ot=it(Ut,Kt,.5),Gt=it(Kt,yt,.5),Ct=it(Ot,Gt,.5);nt([bn,Ut,Ot,Ct],0,St,Nt),nt([Ct,Gt,yt,qt],0,St,Nt)}var dt,Yt;return Nt}function ht(tt,xt){return Bt(tt,0,tt.length,xt)}function Bt(tt,xt,St,Zt,Nt){const dt=Nt||[],Yt=tt[xt],sn=tt[St-1];let bn=0,pn=1;for(let mn=xt+1;mn<St-1;++mn){const qt=ot(tt[mn],Yt,sn);qt>bn&&(bn=qt,pn=mn)}return Math.sqrt(bn)>Zt?(Bt(tt,xt,pn+1,Zt,dt),Bt(tt,pn,St,Zt,dt)):(dt.length||dt.push(Yt),dt.push(sn)),dt}function st(tt,xt=.15,St){const Zt=[],Nt=(tt.length-1)/3;for(let dt=0;dt<Nt;dt++)nt(tt,3*dt,xt,Zt);return St&&St>0?Bt(Zt,0,Zt.length,St):Zt}_.d(Vt,{og:function(){return ht},sU:function(){return st}})},8128:function($t,Vt,_){function Et(tn,at,ct){if(tn&&tn.length){const[mt,Wt]=at,Rt=Math.PI/180*ct,en=Math.cos(Rt),Pt=Math.sin(Rt);for(const on of tn){const[Bn,yn]=on;on[0]=(Bn-mt)*en-(yn-Wt)*Pt+mt,on[1]=(Bn-mt)*Pt+(yn-Wt)*en+Wt}}}function ot(tn,at){return tn[0]===at[0]&&tn[1]===at[1]}function it(tn,at,ct,mt=1){const Wt=ct,Rt=Math.max(at,.1),en=tn[0]&&tn[0][0]&&typeof tn[0][0]=="number"?[tn]:tn,Pt=[0,0];if(Wt)for(const Bn of en)Et(Bn,Pt,Wt);const on=function(Bn,yn,Wn){const Vn=[];for(const In of Bn){const An=[...In];ot(An[0],An[An.length-1])||An.push([An[0][0],An[0][1]]),An.length>2&&Vn.push(An)}const Hn=[];yn=Math.max(yn,.1);const Zn=[];for(const In of Vn)for(let An=0;An<In.length-1;An++){const On=In[An],_n=In[An+1];if(On[1]!==_n[1]){const or=Math.min(On[1],_n[1]);Zn.push({ymin:or,ymax:Math.max(On[1],_n[1]),x:or===On[1]?On[0]:_n[0],islope:(_n[0]-On[0])/(_n[1]-On[1])})}}if(Zn.sort((In,An)=>In.ymin<An.ymin?-1:In.ymin>An.ymin?1:In.x<An.x?-1:In.x>An.x?1:In.ymax===An.ymax?0:(In.ymax-An.ymax)/Math.abs(In.ymax-An.ymax)),!Zn.length)return Hn;let Kn=[],qn=Zn[0].ymin,sr=0;for(;Kn.length||Zn.length;){if(Zn.length){let In=-1;for(let An=0;An<Zn.length&&!(Zn[An].ymin>qn);An++)In=An;Zn.splice(0,In+1).forEach(An=>{Kn.push({s:qn,edge:An})})}if(Kn=Kn.filter(In=>!(In.edge.ymax<=qn)),Kn.sort((In,An)=>In.edge.x===An.edge.x?0:(In.edge.x-An.edge.x)/Math.abs(In.edge.x-An.edge.x)),(Wn!==1||sr%yn==0)&&Kn.length>1)for(let In=0;In<Kn.length;In+=2){const An=In+1;if(An>=Kn.length)break;const On=Kn[In].edge,_n=Kn[An].edge;Hn.push([[Math.round(On.x),qn],[Math.round(_n.x),qn]])}qn+=Wn,Kn.forEach(In=>{In.edge.x=In.edge.x+Wn*In.edge.islope}),sr++}return Hn}(en,Rt,mt);if(Wt){for(const Bn of en)Et(Bn,Pt,-Wt);(function(Bn,yn,Wn){const Vn=[];Bn.forEach(Hn=>Vn.push(...Hn)),Et(Vn,yn,Wn)})(on,Pt,-Wt)}return on}function nt(tn,at){var ct;const mt=at.hachureAngle+90;let Wt=at.hachureGap;Wt<0&&(Wt=4*at.strokeWidth),Wt=Math.max(Wt,.1);let Rt=1;return at.roughness>=1&&(((ct=at.randomizer)===null||ct===void 0?void 0:ct.next())||Math.random())>.7&&(Rt=Wt),it(tn,Wt,mt,Rt||1)}_.d(Vt,{V:function(){return Qn}});class ht{constructor(at){this.helper=at}fillPolygons(at,ct){return this._fillPolygons(at,ct)}_fillPolygons(at,ct){const mt=nt(at,ct);return{type:"fillSketch",ops:this.renderLines(mt,ct)}}renderLines(at,ct){const mt=[];for(const Wt of at)mt.push(...this.helper.doubleLineOps(Wt[0][0],Wt[0][1],Wt[1][0],Wt[1][1],ct));return mt}}function Bt(tn){const at=tn[0],ct=tn[1];return Math.sqrt(Math.pow(at[0]-ct[0],2)+Math.pow(at[1]-ct[1],2))}class st extends ht{fillPolygons(at,ct){let mt=ct.hachureGap;mt<0&&(mt=4*ct.strokeWidth),mt=Math.max(mt,.1);const Wt=nt(at,Object.assign({},ct,{hachureGap:mt})),Rt=Math.PI/180*ct.hachureAngle,en=[],Pt=.5*mt*Math.cos(Rt),on=.5*mt*Math.sin(Rt);for(const[Bn,yn]of Wt)Bt([Bn,yn])&&en.push([[Bn[0]-Pt,Bn[1]+on],[...yn]],[[Bn[0]+Pt,Bn[1]-on],[...yn]]);return{type:"fillSketch",ops:this.renderLines(en,ct)}}}class tt extends ht{fillPolygons(at,ct){const mt=this._fillPolygons(at,ct),Wt=Object.assign({},ct,{hachureAngle:ct.hachureAngle+90}),Rt=this._fillPolygons(at,Wt);return mt.ops=mt.ops.concat(Rt.ops),mt}}class xt{constructor(at){this.helper=at}fillPolygons(at,ct){const mt=nt(at,ct=Object.assign({},ct,{hachureAngle:0}));return this.dotsOnLines(mt,ct)}dotsOnLines(at,ct){const mt=[];let Wt=ct.hachureGap;Wt<0&&(Wt=4*ct.strokeWidth),Wt=Math.max(Wt,.1);let Rt=ct.fillWeight;Rt<0&&(Rt=ct.strokeWidth/2);const en=Wt/4;for(const Pt of at){const on=Bt(Pt),Bn=on/Wt,yn=Math.ceil(Bn)-1,Wn=on-yn*Wt,Vn=(Pt[0][0]+Pt[1][0])/2-Wt/4,Hn=Math.min(Pt[0][1],Pt[1][1]);for(let Zn=0;Zn<yn;Zn++){const Kn=Hn+Wn+Zn*Wt,qn=Vn-en+2*Math.random()*en,sr=Kn-en+2*Math.random()*en,In=this.helper.ellipse(qn,sr,Rt,Rt,ct);mt.push(...In.ops)}}return{type:"fillSketch",ops:mt}}}class St{constructor(at){this.helper=at}fillPolygons(at,ct){const mt=nt(at,ct);return{type:"fillSketch",ops:this.dashedLine(mt,ct)}}dashedLine(at,ct){const mt=ct.dashOffset<0?ct.hachureGap<0?4*ct.strokeWidth:ct.hachureGap:ct.dashOffset,Wt=ct.dashGap<0?ct.hachureGap<0?4*ct.strokeWidth:ct.hachureGap:ct.dashGap,Rt=[];return at.forEach(en=>{const Pt=Bt(en),on=Math.floor(Pt/(mt+Wt)),Bn=(Pt+Wt-on*(mt+Wt))/2;let yn=en[0],Wn=en[1];yn[0]>Wn[0]&&(yn=en[1],Wn=en[0]);const Vn=Math.atan((Wn[1]-yn[1])/(Wn[0]-yn[0]));for(let Hn=0;Hn<on;Hn++){const Zn=Hn*(mt+Wt),Kn=Zn+mt,qn=[yn[0]+Zn*Math.cos(Vn)+Bn*Math.cos(Vn),yn[1]+Zn*Math.sin(Vn)+Bn*Math.sin(Vn)],sr=[yn[0]+Kn*Math.cos(Vn)+Bn*Math.cos(Vn),yn[1]+Kn*Math.sin(Vn)+Bn*Math.sin(Vn)];Rt.push(...this.helper.doubleLineOps(qn[0],qn[1],sr[0],sr[1],ct))}}),Rt}}class Zt{constructor(at){this.helper=at}fillPolygons(at,ct){const mt=ct.hachureGap<0?4*ct.strokeWidth:ct.hachureGap,Wt=ct.zigzagOffset<0?mt:ct.zigzagOffset,Rt=nt(at,ct=Object.assign({},ct,{hachureGap:mt+Wt}));return{type:"fillSketch",ops:this.zigzagLines(Rt,Wt,ct)}}zigzagLines(at,ct,mt){const Wt=[];return at.forEach(Rt=>{const en=Bt(Rt),Pt=Math.round(en/(2*ct));let on=Rt[0],Bn=Rt[1];on[0]>Bn[0]&&(on=Rt[1],Bn=Rt[0]);const yn=Math.atan((Bn[1]-on[1])/(Bn[0]-on[0]));for(let Wn=0;Wn<Pt;Wn++){const Vn=2*Wn*ct,Hn=2*(Wn+1)*ct,Zn=Math.sqrt(2*Math.pow(ct,2)),Kn=[on[0]+Vn*Math.cos(yn),on[1]+Vn*Math.sin(yn)],qn=[on[0]+Hn*Math.cos(yn),on[1]+Hn*Math.sin(yn)],sr=[Kn[0]+Zn*Math.cos(yn+Math.PI/4),Kn[1]+Zn*Math.sin(yn+Math.PI/4)];Wt.push(...this.helper.doubleLineOps(Kn[0],Kn[1],sr[0],sr[1],mt),...this.helper.doubleLineOps(sr[0],sr[1],qn[0],qn[1],mt))}}),Wt}}const Nt={};var dt=_(8152);const Yt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function sn(tn,at){return tn.type===at}function bn(tn){const at=[],ct=function(en){const Pt=new Array;for(;en!=="";)if(en.match(/^([ \t\r\n,]+)/))en=en.substr(RegExp.$1.length);else if(en.match(/^([aAcChHlLmMqQsStTvVzZ])/))Pt[Pt.length]={type:0,text:RegExp.$1},en=en.substr(RegExp.$1.length);else{if(!en.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];Pt[Pt.length]={type:1,text:`${parseFloat(RegExp.$1)}`},en=en.substr(RegExp.$1.length)}return Pt[Pt.length]={type:2,text:""},Pt}(tn);let mt="BOD",Wt=0,Rt=ct[Wt];for(;!sn(Rt,2);){let en=0;const Pt=[];if(mt==="BOD"){if(Rt.text!=="M"&&Rt.text!=="m")return bn("M0,0"+tn);Wt++,en=Yt[Rt.text],mt=Rt.text}else sn(Rt,1)?en=Yt[mt]:(Wt++,en=Yt[Rt.text],mt=Rt.text);if(!(Wt+en<ct.length))throw new Error("Path data ended short");for(let on=Wt;on<Wt+en;on++){const Bn=ct[on];if(!sn(Bn,1))throw new Error("Param not a number: "+mt+","+Bn.text);Pt[Pt.length]=+Bn.text}if(typeof Yt[mt]!="number")throw new Error("Bad segment: "+mt);{const on={key:mt,data:Pt};at.push(on),Wt+=en,Rt=ct[Wt],mt==="M"&&(mt="L"),mt==="m"&&(mt="l")}}return at}function pn(tn){let at=0,ct=0,mt=0,Wt=0;const Rt=[];for(const{key:en,data:Pt}of tn)switch(en){case"M":Rt.push({key:"M",data:[...Pt]}),[at,ct]=Pt,[mt,Wt]=Pt;break;case"m":at+=Pt[0],ct+=Pt[1],Rt.push({key:"M",data:[at,ct]}),mt=at,Wt=ct;break;case"L":Rt.push({key:"L",data:[...Pt]}),[at,ct]=Pt;break;case"l":at+=Pt[0],ct+=Pt[1],Rt.push({key:"L",data:[at,ct]});break;case"C":Rt.push({key:"C",data:[...Pt]}),at=Pt[4],ct=Pt[5];break;case"c":{const on=Pt.map((Bn,yn)=>yn%2?Bn+ct:Bn+at);Rt.push({key:"C",data:on}),at=on[4],ct=on[5];break}case"Q":Rt.push({key:"Q",data:[...Pt]}),at=Pt[2],ct=Pt[3];break;case"q":{const on=Pt.map((Bn,yn)=>yn%2?Bn+ct:Bn+at);Rt.push({key:"Q",data:on}),at=on[2],ct=on[3];break}case"A":Rt.push({key:"A",data:[...Pt]}),at=Pt[5],ct=Pt[6];break;case"a":at+=Pt[5],ct+=Pt[6],Rt.push({key:"A",data:[Pt[0],Pt[1],Pt[2],Pt[3],Pt[4],at,ct]});break;case"H":Rt.push({key:"H",data:[...Pt]}),at=Pt[0];break;case"h":at+=Pt[0],Rt.push({key:"H",data:[at]});break;case"V":Rt.push({key:"V",data:[...Pt]}),ct=Pt[0];break;case"v":ct+=Pt[0],Rt.push({key:"V",data:[ct]});break;case"S":Rt.push({key:"S",data:[...Pt]}),at=Pt[2],ct=Pt[3];break;case"s":{const on=Pt.map((Bn,yn)=>yn%2?Bn+ct:Bn+at);Rt.push({key:"S",data:on}),at=on[2],ct=on[3];break}case"T":Rt.push({key:"T",data:[...Pt]}),at=Pt[0],ct=Pt[1];break;case"t":at+=Pt[0],ct+=Pt[1],Rt.push({key:"T",data:[at,ct]});break;case"Z":case"z":Rt.push({key:"Z",data:[]}),at=mt,ct=Wt}return Rt}function mn(tn){const at=[];let ct="",mt=0,Wt=0,Rt=0,en=0,Pt=0,on=0;for(const{key:Bn,data:yn}of tn){switch(Bn){case"M":at.push({key:"M",data:[...yn]}),[mt,Wt]=yn,[Rt,en]=yn;break;case"C":at.push({key:"C",data:[...yn]}),mt=yn[4],Wt=yn[5],Pt=yn[2],on=yn[3];break;case"L":at.push({key:"L",data:[...yn]}),[mt,Wt]=yn;break;case"H":mt=yn[0],at.push({key:"L",data:[mt,Wt]});break;case"V":Wt=yn[0],at.push({key:"L",data:[mt,Wt]});break;case"S":{let Wn=0,Vn=0;ct==="C"||ct==="S"?(Wn=mt+(mt-Pt),Vn=Wt+(Wt-on)):(Wn=mt,Vn=Wt),at.push({key:"C",data:[Wn,Vn,...yn]}),Pt=yn[0],on=yn[1],mt=yn[2],Wt=yn[3];break}case"T":{const[Wn,Vn]=yn;let Hn=0,Zn=0;ct==="Q"||ct==="T"?(Hn=mt+(mt-Pt),Zn=Wt+(Wt-on)):(Hn=mt,Zn=Wt);const Kn=mt+2*(Hn-mt)/3,qn=Wt+2*(Zn-Wt)/3,sr=Wn+2*(Hn-Wn)/3,In=Vn+2*(Zn-Vn)/3;at.push({key:"C",data:[Kn,qn,sr,In,Wn,Vn]}),Pt=Hn,on=Zn,mt=Wn,Wt=Vn;break}case"Q":{const[Wn,Vn,Hn,Zn]=yn,Kn=mt+2*(Wn-mt)/3,qn=Wt+2*(Vn-Wt)/3,sr=Hn+2*(Wn-Hn)/3,In=Zn+2*(Vn-Zn)/3;at.push({key:"C",data:[Kn,qn,sr,In,Hn,Zn]}),Pt=Wn,on=Vn,mt=Hn,Wt=Zn;break}case"A":{const Wn=Math.abs(yn[0]),Vn=Math.abs(yn[1]),Hn=yn[2],Zn=yn[3],Kn=yn[4],qn=yn[5],sr=yn[6];Wn===0||Vn===0?(at.push({key:"C",data:[mt,Wt,qn,sr,qn,sr]}),mt=qn,Wt=sr):(mt!==qn||Wt!==sr)&&(Ut(mt,Wt,qn,sr,Wn,Vn,Hn,Zn,Kn).forEach(function(In){at.push({key:"C",data:In})}),mt=qn,Wt=sr);break}case"Z":at.push({key:"Z",data:[]}),mt=Rt,Wt=en}ct=Bn}return at}function qt(tn,at,ct){return[tn*Math.cos(ct)-at*Math.sin(ct),tn*Math.sin(ct)+at*Math.cos(ct)]}function Ut(tn,at,ct,mt,Wt,Rt,en,Pt,on,Bn){const yn=(Wn=en,Math.PI*Wn/180);var Wn;let Vn=[],Hn=0,Zn=0,Kn=0,qn=0;if(Bn)[Hn,Zn,Kn,qn]=Bn;else{[tn,at]=qt(tn,at,-yn),[ct,mt]=qt(ct,mt,-yn);const Xr=(tn-ct)/2,wr=(at-mt)/2;let Jr=Xr*Xr/(Wt*Wt)+wr*wr/(Rt*Rt);Jr>1&&(Jr=Math.sqrt(Jr),Wt*=Jr,Rt*=Jr);const Kr=Wt*Wt,rr=Rt*Rt,Qr=Kr*rr-Kr*wr*wr-rr*Xr*Xr,Ir=Kr*wr*wr+rr*Xr*Xr,xr=(Pt===on?-1:1)*Math.sqrt(Math.abs(Qr/Ir));Kn=xr*Wt*wr/Rt+(tn+ct)/2,qn=xr*-Rt*Xr/Wt+(at+mt)/2,Hn=Math.asin(parseFloat(((at-qn)/Rt).toFixed(9))),Zn=Math.asin(parseFloat(((mt-qn)/Rt).toFixed(9))),tn<Kn&&(Hn=Math.PI-Hn),ct<Kn&&(Zn=Math.PI-Zn),Hn<0&&(Hn=2*Math.PI+Hn),Zn<0&&(Zn=2*Math.PI+Zn),on&&Hn>Zn&&(Hn-=2*Math.PI),!on&&Zn>Hn&&(Zn-=2*Math.PI)}let sr=Zn-Hn;if(Math.abs(sr)>120*Math.PI/180){const Xr=Zn,wr=ct,Jr=mt;Zn=on&&Zn>Hn?Hn+120*Math.PI/180*1:Hn+120*Math.PI/180*-1,Vn=Ut(ct=Kn+Wt*Math.cos(Zn),mt=qn+Rt*Math.sin(Zn),wr,Jr,Wt,Rt,en,0,on,[Zn,Xr,Kn,qn])}sr=Zn-Hn;const In=Math.cos(Hn),An=Math.sin(Hn),On=Math.cos(Zn),_n=Math.sin(Zn),or=Math.tan(sr/4),ir=4/3*Wt*or,mr=4/3*Rt*or,yr=[tn,at],cr=[tn+ir*An,at-mr*In],Ur=[ct+ir*_n,mt-mr*On],Wr=[ct,mt];if(cr[0]=2*yr[0]-cr[0],cr[1]=2*yr[1]-cr[1],Bn)return[cr,Ur,Wr].concat(Vn);{Vn=[cr,Ur,Wr].concat(Vn);const Xr=[];for(let wr=0;wr<Vn.length;wr+=3){const Jr=qt(Vn[wr][0],Vn[wr][1],yn),Kr=qt(Vn[wr+1][0],Vn[wr+1][1],yn),rr=qt(Vn[wr+2][0],Vn[wr+2][1],yn);Xr.push([Jr[0],Jr[1],Kr[0],Kr[1],rr[0],rr[1]])}return Xr}}const Kt={randOffset:function(tn,at){return vt(tn,at)},randOffsetWithRange:function(tn,at,ct){return pt(tn,at,ct)},ellipse:function(tn,at,ct,mt,Wt){const Rt=Xt(ct,mt,Wt);return ut(tn,at,Wt,Rt).opset},doubleLineOps:function(tn,at,ct,mt,Wt){return zt(tn,at,ct,mt,Wt,!0)}};function yt(tn,at,ct,mt,Wt){return{type:"path",ops:zt(tn,at,ct,mt,Wt)}}function Ot(tn,at,ct){const mt=(tn||[]).length;if(mt>2){const Wt=[];for(let Rt=0;Rt<mt-1;Rt++)Wt.push(...zt(tn[Rt][0],tn[Rt][1],tn[Rt+1][0],tn[Rt+1][1],ct));return at&&Wt.push(...zt(tn[mt-1][0],tn[mt-1][1],tn[0][0],tn[0][1],ct)),{type:"path",ops:Wt}}return mt===2?yt(tn[0][0],tn[0][1],tn[1][0],tn[1][1],ct):{type:"path",ops:[]}}function Gt(tn,at,ct,mt,Wt){return function(Rt,en){return Ot(Rt,!0,en)}([[tn,at],[tn+ct,at],[tn+ct,at+mt],[tn,at+mt]],Wt)}function Ct(tn,at){let ct=Ft(tn,1*(1+.2*at.roughness),at);if(!at.disableMultiStroke){const mt=Ft(tn,1.5*(1+.22*at.roughness),function(Wt){const Rt=Object.assign({},Wt);return Rt.randomizer=void 0,Wt.seed&&(Rt.seed=Wt.seed+1),Rt}(at));ct=ct.concat(mt)}return{type:"path",ops:ct}}function Xt(tn,at,ct){const mt=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(tn/2,2)+Math.pow(at/2,2))/2)),Wt=Math.ceil(Math.max(ct.curveStepCount,ct.curveStepCount/Math.sqrt(200)*mt)),Rt=2*Math.PI/Wt;let en=Math.abs(tn/2),Pt=Math.abs(at/2);const on=1-ct.curveFitting;return en+=vt(en*on,ct),Pt+=vt(Pt*on,ct),{increment:Rt,rx:en,ry:Pt}}function ut(tn,at,ct,mt){const[Wt,Rt]=Tt(mt.increment,tn,at,mt.rx,mt.ry,1,mt.increment*pt(.1,pt(.4,1,ct),ct),ct);let en=At(Wt,null,ct);if(!ct.disableMultiStroke&&ct.roughness!==0){const[Pt]=Tt(mt.increment,tn,at,mt.rx,mt.ry,1.5,0,ct),on=At(Pt,null,ct);en=en.concat(on)}return{estimatedPoints:Rt,opset:{type:"path",ops:en}}}function ft(tn,at,ct,mt,Wt,Rt,en,Pt,on){const Bn=tn,yn=at;let Wn=Math.abs(ct/2),Vn=Math.abs(mt/2);Wn+=vt(.01*Wn,on),Vn+=vt(.01*Vn,on);let Hn=Wt,Zn=Rt;for(;Hn<0;)Hn+=2*Math.PI,Zn+=2*Math.PI;Zn-Hn>2*Math.PI&&(Hn=0,Zn=2*Math.PI);const Kn=2*Math.PI/on.curveStepCount,qn=Math.min(Kn/2,(Zn-Hn)/2),sr=jt(qn,Bn,yn,Wn,Vn,Hn,Zn,1,on);if(!on.disableMultiStroke){const In=jt(qn,Bn,yn,Wn,Vn,Hn,Zn,1.5,on);sr.push(...In)}return en&&(Pt?sr.push(...zt(Bn,yn,Bn+Wn*Math.cos(Hn),yn+Vn*Math.sin(Hn),on),...zt(Bn,yn,Bn+Wn*Math.cos(Zn),yn+Vn*Math.sin(Zn),on)):sr.push({op:"lineTo",data:[Bn,yn]},{op:"lineTo",data:[Bn+Wn*Math.cos(Hn),yn+Vn*Math.sin(Hn)]})),{type:"path",ops:sr}}function $(tn,at){const ct=mn(pn(bn(tn))),mt=[];let Wt=[0,0],Rt=[0,0];for(const{key:en,data:Pt}of ct)switch(en){case"M":Rt=[Pt[0],Pt[1]],Wt=[Pt[0],Pt[1]];break;case"L":mt.push(...zt(Rt[0],Rt[1],Pt[0],Pt[1],at)),Rt=[Pt[0],Pt[1]];break;case"C":{const[on,Bn,yn,Wn,Vn,Hn]=Pt;mt.push(...un(on,Bn,yn,Wn,Vn,Hn,Rt,at)),Rt=[Vn,Hn];break}case"Z":mt.push(...zt(Rt[0],Rt[1],Wt[0],Wt[1],at)),Rt=[Wt[0],Wt[1]]}return{type:"path",ops:mt}}function wt(tn,at){const ct=[];for(const mt of tn)if(mt.length){const Wt=at.maxRandomnessOffset||0,Rt=mt.length;if(Rt>2){ct.push({op:"move",data:[mt[0][0]+vt(Wt,at),mt[0][1]+vt(Wt,at)]});for(let en=1;en<Rt;en++)ct.push({op:"lineTo",data:[mt[en][0]+vt(Wt,at),mt[en][1]+vt(Wt,at)]})}}return{type:"fillPath",ops:ct}}function gt(tn,at){return function(ct,mt){let Wt=ct.fillStyle||"hachure";if(!Nt[Wt])switch(Wt){case"zigzag":Nt[Wt]||(Nt[Wt]=new st(mt));break;case"cross-hatch":Nt[Wt]||(Nt[Wt]=new tt(mt));break;case"dots":Nt[Wt]||(Nt[Wt]=new xt(mt));break;case"dashed":Nt[Wt]||(Nt[Wt]=new St(mt));break;case"zigzag-line":Nt[Wt]||(Nt[Wt]=new Zt(mt));break;default:Wt="hachure",Nt[Wt]||(Nt[Wt]=new ht(mt))}return Nt[Wt]}(at,Kt).fillPolygons(tn,at)}function lt(tn){return tn.randomizer||(tn.randomizer=new dt.k(tn.seed||0)),tn.randomizer.next()}function pt(tn,at,ct,mt=1){return ct.roughness*mt*(lt(ct)*(at-tn)+tn)}function vt(tn,at,ct=1){return pt(-tn,tn,at,ct)}function zt(tn,at,ct,mt,Wt,Rt=!1){const en=Rt?Wt.disableMultiStrokeFill:Wt.disableMultiStroke,Pt=Qt(tn,at,ct,mt,Wt,!0,!1);if(en)return Pt;const on=Qt(tn,at,ct,mt,Wt,!0,!0);return Pt.concat(on)}function Qt(tn,at,ct,mt,Wt,Rt,en){const Pt=Math.pow(tn-ct,2)+Math.pow(at-mt,2),on=Math.sqrt(Pt);let Bn=1;Bn=on<200?1:on>500?.4:-.0016668*on+1.233334;let yn=Wt.maxRandomnessOffset||0;yn*yn*100>Pt&&(yn=on/10);const Wn=yn/2,Vn=.2+.2*lt(Wt);let Hn=Wt.bowing*Wt.maxRandomnessOffset*(mt-at)/200,Zn=Wt.bowing*Wt.maxRandomnessOffset*(tn-ct)/200;Hn=vt(Hn,Wt,Bn),Zn=vt(Zn,Wt,Bn);const Kn=[],qn=()=>vt(Wn,Wt,Bn),sr=()=>vt(yn,Wt,Bn),In=Wt.preserveVertices;return en?Kn.push({op:"move",data:[tn+(In?0:qn()),at+(In?0:qn())]}):Kn.push({op:"move",data:[tn+(In?0:vt(yn,Wt,Bn)),at+(In?0:vt(yn,Wt,Bn))]}),en?Kn.push({op:"bcurveTo",data:[Hn+tn+(ct-tn)*Vn+qn(),Zn+at+(mt-at)*Vn+qn(),Hn+tn+2*(ct-tn)*Vn+qn(),Zn+at+2*(mt-at)*Vn+qn(),ct+(In?0:qn()),mt+(In?0:qn())]}):Kn.push({op:"bcurveTo",data:[Hn+tn+(ct-tn)*Vn+sr(),Zn+at+(mt-at)*Vn+sr(),Hn+tn+2*(ct-tn)*Vn+sr(),Zn+at+2*(mt-at)*Vn+sr(),ct+(In?0:sr()),mt+(In?0:sr())]}),Kn}function Ft(tn,at,ct){const mt=[];mt.push([tn[0][0]+vt(at,ct),tn[0][1]+vt(at,ct)]),mt.push([tn[0][0]+vt(at,ct),tn[0][1]+vt(at,ct)]);for(let Wt=1;Wt<tn.length;Wt++)mt.push([tn[Wt][0]+vt(at,ct),tn[Wt][1]+vt(at,ct)]),Wt===tn.length-1&&mt.push([tn[Wt][0]+vt(at,ct),tn[Wt][1]+vt(at,ct)]);return At(mt,null,ct)}function At(tn,at,ct){const mt=tn.length,Wt=[];if(mt>3){const Rt=[],en=1-ct.curveTightness;Wt.push({op:"move",data:[tn[1][0],tn[1][1]]});for(let Pt=1;Pt+2<mt;Pt++){const on=tn[Pt];Rt[0]=[on[0],on[1]],Rt[1]=[on[0]+(en*tn[Pt+1][0]-en*tn[Pt-1][0])/6,on[1]+(en*tn[Pt+1][1]-en*tn[Pt-1][1])/6],Rt[2]=[tn[Pt+1][0]+(en*tn[Pt][0]-en*tn[Pt+2][0])/6,tn[Pt+1][1]+(en*tn[Pt][1]-en*tn[Pt+2][1])/6],Rt[3]=[tn[Pt+1][0],tn[Pt+1][1]],Wt.push({op:"bcurveTo",data:[Rt[1][0],Rt[1][1],Rt[2][0],Rt[2][1],Rt[3][0],Rt[3][1]]})}}else mt===3?(Wt.push({op:"move",data:[tn[1][0],tn[1][1]]}),Wt.push({op:"bcurveTo",data:[tn[1][0],tn[1][1],tn[2][0],tn[2][1],tn[2][0],tn[2][1]]})):mt===2&&Wt.push(...zt(tn[0][0],tn[0][1],tn[1][0],tn[1][1],ct));return Wt}function Tt(tn,at,ct,mt,Wt,Rt,en,Pt){const on=[],Bn=[];if(Pt.roughness===0){tn/=4,Bn.push([at+mt*Math.cos(-tn),ct+Wt*Math.sin(-tn)]);for(let yn=0;yn<=2*Math.PI;yn+=tn){const Wn=[at+mt*Math.cos(yn),ct+Wt*Math.sin(yn)];on.push(Wn),Bn.push(Wn)}Bn.push([at+mt*Math.cos(0),ct+Wt*Math.sin(0)]),Bn.push([at+mt*Math.cos(tn),ct+Wt*Math.sin(tn)])}else{const yn=vt(.5,Pt)-Math.PI/2;Bn.push([vt(Rt,Pt)+at+.9*mt*Math.cos(yn-tn),vt(Rt,Pt)+ct+.9*Wt*Math.sin(yn-tn)]);const Wn=2*Math.PI+yn-.01;for(let Vn=yn;Vn<Wn;Vn+=tn){const Hn=[vt(Rt,Pt)+at+mt*Math.cos(Vn),vt(Rt,Pt)+ct+Wt*Math.sin(Vn)];on.push(Hn),Bn.push(Hn)}Bn.push([vt(Rt,Pt)+at+mt*Math.cos(yn+2*Math.PI+.5*en),vt(Rt,Pt)+ct+Wt*Math.sin(yn+2*Math.PI+.5*en)]),Bn.push([vt(Rt,Pt)+at+.98*mt*Math.cos(yn+en),vt(Rt,Pt)+ct+.98*Wt*Math.sin(yn+en)]),Bn.push([vt(Rt,Pt)+at+.9*mt*Math.cos(yn+.5*en),vt(Rt,Pt)+ct+.9*Wt*Math.sin(yn+.5*en)])}return[Bn,on]}function jt(tn,at,ct,mt,Wt,Rt,en,Pt,on){const Bn=Rt+vt(.1,on),yn=[];yn.push([vt(Pt,on)+at+.9*mt*Math.cos(Bn-tn),vt(Pt,on)+ct+.9*Wt*Math.sin(Bn-tn)]);for(let Wn=Bn;Wn<=en;Wn+=tn)yn.push([vt(Pt,on)+at+mt*Math.cos(Wn),vt(Pt,on)+ct+Wt*Math.sin(Wn)]);return yn.push([at+mt*Math.cos(en),ct+Wt*Math.sin(en)]),yn.push([at+mt*Math.cos(en),ct+Wt*Math.sin(en)]),At(yn,null,on)}function un(tn,at,ct,mt,Wt,Rt,en,Pt){const on=[],Bn=[Pt.maxRandomnessOffset||1,(Pt.maxRandomnessOffset||1)+.3];let yn=[0,0];const Wn=Pt.disableMultiStroke?1:2,Vn=Pt.preserveVertices;for(let Hn=0;Hn<Wn;Hn++)Hn===0?on.push({op:"move",data:[en[0],en[1]]}):on.push({op:"move",data:[en[0]+(Vn?0:vt(Bn[0],Pt)),en[1]+(Vn?0:vt(Bn[0],Pt))]}),yn=Vn?[Wt,Rt]:[Wt+vt(Bn[Hn],Pt),Rt+vt(Bn[Hn],Pt)],on.push({op:"bcurveTo",data:[tn+vt(Bn[Hn],Pt),at+vt(Bn[Hn],Pt),ct+vt(Bn[Hn],Pt),mt+vt(Bn[Hn],Pt),yn[0],yn[1]]});return on}function Jt(tn){return[...tn]}function hn(tn,at){return Math.pow(tn[0]-at[0],2)+Math.pow(tn[1]-at[1],2)}function rn(tn,at,ct){const mt=hn(at,ct);if(mt===0)return hn(tn,at);let Wt=((tn[0]-at[0])*(ct[0]-at[0])+(tn[1]-at[1])*(ct[1]-at[1]))/mt;return Wt=Math.max(0,Math.min(1,Wt)),hn(tn,Mt(at,ct,Wt))}function Mt(tn,at,ct){return[tn[0]+(at[0]-tn[0])*ct,tn[1]+(at[1]-tn[1])*ct]}function an(tn,at,ct,mt){const Wt=mt||[];if(function(Pt,on){const Bn=Pt[on+0],yn=Pt[on+1],Wn=Pt[on+2],Vn=Pt[on+3];let Hn=3*yn[0]-2*Bn[0]-Vn[0];Hn*=Hn;let Zn=3*yn[1]-2*Bn[1]-Vn[1];Zn*=Zn;let Kn=3*Wn[0]-2*Vn[0]-Bn[0];Kn*=Kn;let qn=3*Wn[1]-2*Vn[1]-Bn[1];return qn*=qn,Hn<Kn&&(Hn=Kn),Zn<qn&&(Zn=qn),Hn+Zn}(tn,at)<ct){const Pt=tn[at+0];Wt.length?(Rt=Wt[Wt.length-1],en=Pt,Math.sqrt(hn(Rt,en))>1&&Wt.push(Pt)):Wt.push(Pt),Wt.push(tn[at+3])}else{const on=tn[at+0],Bn=tn[at+1],yn=tn[at+2],Wn=tn[at+3],Vn=Mt(on,Bn,.5),Hn=Mt(Bn,yn,.5),Zn=Mt(yn,Wn,.5),Kn=Mt(Vn,Hn,.5),qn=Mt(Hn,Zn,.5),sr=Mt(Kn,qn,.5);an([on,Vn,Kn,sr],0,ct,Wt),an([sr,qn,Zn,Wn],0,ct,Wt)}var Rt,en;return Wt}function Cn(tn,at,ct,mt,Wt){const Rt=Wt||[],en=tn[at],Pt=tn[ct-1];let on=0,Bn=1;for(let yn=at+1;yn<ct-1;++yn){const Wn=rn(tn[yn],en,Pt);Wn>on&&(on=Wn,Bn=yn)}return Math.sqrt(on)>mt?(Cn(tn,at,Bn+1,mt,Rt),Cn(tn,Bn,ct,mt,Rt)):(Rt.length||Rt.push(en),Rt.push(Pt)),Rt}function kn(tn,at){return Math.pow(tn[0]-at[0],2)+Math.pow(tn[1]-at[1],2)}function jn(tn,at,ct){const mt=kn(at,ct);if(mt===0)return kn(tn,at);let Wt=((tn[0]-at[0])*(ct[0]-at[0])+(tn[1]-at[1])*(ct[1]-at[1]))/mt;return Wt=Math.max(0,Math.min(1,Wt)),kn(tn,Dn(at,ct,Wt))}function Dn(tn,at,ct){return[tn[0]+(at[0]-tn[0])*ct,tn[1]+(at[1]-tn[1])*ct]}function Fn(tn,at,ct,mt){const Wt=mt||[];if(function(Pt,on){const Bn=Pt[on+0],yn=Pt[on+1],Wn=Pt[on+2],Vn=Pt[on+3];let Hn=3*yn[0]-2*Bn[0]-Vn[0];Hn*=Hn;let Zn=3*yn[1]-2*Bn[1]-Vn[1];Zn*=Zn;let Kn=3*Wn[0]-2*Vn[0]-Bn[0];Kn*=Kn;let qn=3*Wn[1]-2*Vn[1]-Bn[1];return qn*=qn,Hn<Kn&&(Hn=Kn),Zn<qn&&(Zn=qn),Hn+Zn}(tn,at)<ct){const Pt=tn[at+0];Wt.length?(Rt=Wt[Wt.length-1],en=Pt,Math.sqrt(kn(Rt,en))>1&&Wt.push(Pt)):Wt.push(Pt),Wt.push(tn[at+3])}else{const on=tn[at+0],Bn=tn[at+1],yn=tn[at+2],Wn=tn[at+3],Vn=Dn(on,Bn,.5),Hn=Dn(Bn,yn,.5),Zn=Dn(yn,Wn,.5),Kn=Dn(Vn,Hn,.5),qn=Dn(Hn,Zn,.5),sr=Dn(Kn,qn,.5);Fn([on,Vn,Kn,sr],0,ct,Wt),Fn([sr,qn,Zn,Wn],0,ct,Wt)}var Rt,en;return Wt}function vn(tn,at){return Gn(tn,0,tn.length,at)}function Gn(tn,at,ct,mt,Wt){const Rt=Wt||[],en=tn[at],Pt=tn[ct-1];let on=0,Bn=1;for(let yn=at+1;yn<ct-1;++yn){const Wn=jn(tn[yn],en,Pt);Wn>on&&(on=Wn,Bn=yn)}return Math.sqrt(on)>mt?(Gn(tn,at,Bn+1,mt,Rt),Gn(tn,Bn,ct,mt,Rt)):(Rt.length||Rt.push(en),Rt.push(Pt)),Rt}function Sn(tn,at,ct){const mt=mn(pn(bn(tn))),Wt=[];let Rt=[],en=[0,0],Pt=[];const on=()=>{Pt.length>=4&&Rt.push(...function(Wn,Vn=.15,Hn){const Zn=[],Kn=(Wn.length-1)/3;for(let qn=0;qn<Kn;qn++)Fn(Wn,3*qn,Vn,Zn);return Hn&&Hn>0?Gn(Zn,0,Zn.length,Hn):Zn}(Pt,at)),Pt=[]},Bn=()=>{on(),Rt.length&&(Wt.push(Rt),Rt=[])};for(const{key:Wn,data:Vn}of mt)switch(Wn){case"M":Bn(),en=[Vn[0],Vn[1]],Rt.push(en);break;case"L":on(),Rt.push([Vn[0],Vn[1]]);break;case"C":if(!Pt.length){const Hn=Rt.length?Rt[Rt.length-1]:en;Pt.push([Hn[0],Hn[1]])}Pt.push([Vn[0],Vn[1]]),Pt.push([Vn[2],Vn[3]]),Pt.push([Vn[4],Vn[5]]);break;case"Z":on(),Rt.push([en[0],en[1]])}if(Bn(),!ct)return Wt;const yn=[];for(const Wn of Wt){const Vn=vn(Wn,ct);Vn.length&&yn.push(Vn)}return yn}const nn="none";class Qn{constructor(at){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=at||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,dt.W)()}_o(at){return at?Object.assign({},this.defaultOptions,at):this.defaultOptions}_d(at,ct,mt){return{shape:at,sets:ct||[],options:mt||this.defaultOptions}}line(at,ct,mt,Wt,Rt){const en=this._o(Rt);return this._d("line",[yt(at,ct,mt,Wt,en)],en)}rectangle(at,ct,mt,Wt,Rt){const en=this._o(Rt),Pt=[],on=Gt(at,ct,mt,Wt,en);if(en.fill){const Bn=[[at,ct],[at+mt,ct],[at+mt,ct+Wt],[at,ct+Wt]];en.fillStyle==="solid"?Pt.push(wt([Bn],en)):Pt.push(gt([Bn],en))}return en.stroke!==nn&&Pt.push(on),this._d("rectangle",Pt,en)}ellipse(at,ct,mt,Wt,Rt){const en=this._o(Rt),Pt=[],on=Xt(mt,Wt,en),Bn=ut(at,ct,en,on);if(en.fill)if(en.fillStyle==="solid"){const yn=ut(at,ct,en,on).opset;yn.type="fillPath",Pt.push(yn)}else Pt.push(gt([Bn.estimatedPoints],en));return en.stroke!==nn&&Pt.push(Bn.opset),this._d("ellipse",Pt,en)}circle(at,ct,mt,Wt){const Rt=this.ellipse(at,ct,mt,mt,Wt);return Rt.shape="circle",Rt}linearPath(at,ct){const mt=this._o(ct);return this._d("linearPath",[Ot(at,!1,mt)],mt)}arc(at,ct,mt,Wt,Rt,en,Pt=!1,on){const Bn=this._o(on),yn=[],Wn=ft(at,ct,mt,Wt,Rt,en,Pt,!0,Bn);if(Pt&&Bn.fill)if(Bn.fillStyle==="solid"){const Vn=Object.assign({},Bn);Vn.disableMultiStroke=!0;const Hn=ft(at,ct,mt,Wt,Rt,en,!0,!1,Vn);Hn.type="fillPath",yn.push(Hn)}else yn.push(function(Vn,Hn,Zn,Kn,qn,sr,In){const An=Vn,On=Hn;let _n=Math.abs(Zn/2),or=Math.abs(Kn/2);_n+=vt(.01*_n,In),or+=vt(.01*or,In);let ir=qn,mr=sr;for(;ir<0;)ir+=2*Math.PI,mr+=2*Math.PI;mr-ir>2*Math.PI&&(ir=0,mr=2*Math.PI);const yr=(mr-ir)/In.curveStepCount,cr=[];for(let Ur=ir;Ur<=mr;Ur+=yr)cr.push([An+_n*Math.cos(Ur),On+or*Math.sin(Ur)]);return cr.push([An+_n*Math.cos(mr),On+or*Math.sin(mr)]),cr.push([An,On]),gt([cr],In)}(at,ct,mt,Wt,Rt,en,Bn));return Bn.stroke!==nn&&yn.push(Wn),this._d("arc",yn,Bn)}curve(at,ct){const mt=this._o(ct),Wt=[],Rt=Ct(at,mt);if(mt.fill&&mt.fill!==nn&&at.length>=3)if(mt.fillStyle==="solid"){const en=Ct(at,Object.assign(Object.assign({},mt),{disableMultiStroke:!0,roughness:mt.roughness?mt.roughness+mt.fillShapeRoughnessGain:0}));Wt.push({type:"fillPath",ops:this._mergedShape(en.ops)})}else{const en=function(on,Bn=0){const yn=on.length;if(yn<3)throw new Error("A curve must have at least three points.");const Wn=[];if(yn===3)Wn.push(Jt(on[0]),Jt(on[1]),Jt(on[2]),Jt(on[2]));else{const Vn=[];Vn.push(on[0],on[0]);for(let Kn=1;Kn<on.length;Kn++)Vn.push(on[Kn]),Kn===on.length-1&&Vn.push(on[Kn]);const Hn=[],Zn=1-Bn;Wn.push(Jt(Vn[0]));for(let Kn=1;Kn+2<Vn.length;Kn++){const qn=Vn[Kn];Hn[0]=[qn[0],qn[1]],Hn[1]=[qn[0]+(Zn*Vn[Kn+1][0]-Zn*Vn[Kn-1][0])/6,qn[1]+(Zn*Vn[Kn+1][1]-Zn*Vn[Kn-1][1])/6],Hn[2]=[Vn[Kn+1][0]+(Zn*Vn[Kn][0]-Zn*Vn[Kn+2][0])/6,Vn[Kn+1][1]+(Zn*Vn[Kn][1]-Zn*Vn[Kn+2][1])/6],Hn[3]=[Vn[Kn+1][0],Vn[Kn+1][1]],Wn.push(Hn[1],Hn[2],Hn[3])}}return Wn}(at),Pt=function(on,Bn=.15,yn){const Wn=[],Vn=(on.length-1)/3;for(let Hn=0;Hn<Vn;Hn++)an(on,3*Hn,Bn,Wn);return yn&&yn>0?Cn(Wn,0,Wn.length,yn):Wn}(en,10,(1+mt.roughness)/2);Wt.push(gt([Pt],mt))}return mt.stroke!==nn&&Wt.push(Rt),this._d("curve",Wt,mt)}polygon(at,ct){const mt=this._o(ct),Wt=[],Rt=Ot(at,!0,mt);return mt.fill&&(mt.fillStyle==="solid"?Wt.push(wt([at],mt)):Wt.push(gt([at],mt))),mt.stroke!==nn&&Wt.push(Rt),this._d("polygon",Wt,mt)}path(at,ct){const mt=this._o(ct),Wt=[];if(!at)return this._d("path",Wt,mt);at=(at||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const Rt=mt.fill&&mt.fill!=="transparent"&&mt.fill!==nn,en=mt.stroke!==nn,Pt=!!(mt.simplification&&mt.simplification<1),on=Sn(at,1,Pt?4-4*(mt.simplification||1):(1+mt.roughness)/2),Bn=$(at,mt);if(Rt)if(mt.fillStyle==="solid")if(on.length===1){const yn=$(at,Object.assign(Object.assign({},mt),{disableMultiStroke:!0,roughness:mt.roughness?mt.roughness+mt.fillShapeRoughnessGain:0}));Wt.push({type:"fillPath",ops:this._mergedShape(yn.ops)})}else Wt.push(wt(on,mt));else Wt.push(gt(on,mt));return en&&(Pt?on.forEach(yn=>{Wt.push(Ot(yn,!1,mt))}):Wt.push(Bn)),this._d("path",Wt,mt)}opsToPath(at,ct){let mt="";for(const Wt of at.ops){const Rt=typeof ct=="number"&&ct>=0?Wt.data.map(en=>+en.toFixed(ct)):Wt.data;switch(Wt.op){case"move":mt+=`M${Rt[0]} ${Rt[1]} `;break;case"bcurveTo":mt+=`C${Rt[0]} ${Rt[1]}, ${Rt[2]} ${Rt[3]}, ${Rt[4]} ${Rt[5]} `;break;case"lineTo":mt+=`L${Rt[0]} ${Rt[1]} `}}return mt.trim()}toPaths(at){const ct=at.sets||[],mt=at.options||this.defaultOptions,Wt=[];for(const Rt of ct){let en=null;switch(Rt.type){case"path":en={d:this.opsToPath(Rt),stroke:mt.stroke,strokeWidth:mt.strokeWidth,fill:nn};break;case"fillPath":en={d:this.opsToPath(Rt),stroke:nn,strokeWidth:0,fill:mt.fill||nn};break;case"fillSketch":en=this.fillSketch(Rt,mt)}en&&Wt.push(en)}return Wt}fillSketch(at,ct){let mt=ct.fillWeight;return mt<0&&(mt=ct.strokeWidth/2),{d:this.opsToPath(at),stroke:ct.fill||nn,strokeWidth:mt,fill:nn}}_mergedShape(at){return at.filter((ct,mt)=>mt===0||ct.op!=="move")}}},8152:function($t,Vt,_){function Et(){return Math.floor(Math.random()*2147483648)}_.d(Vt,{W:function(){return Et},k:function(){return ot}});class ot{constructor(nt){this.seed=nt}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function($t,Vt,_){_.d(Vt,{Z:function(){return ht}});var Et=_(8128);class ot{constructor(st,tt){this.canvas=st,this.ctx=this.canvas.getContext("2d"),this.gen=new Et.V(tt)}draw(st){const tt=st.sets||[],xt=st.options||this.getDefaultOptions(),St=this.ctx,Zt=st.options.fixedDecimalPlaceDigits;for(const Nt of tt)switch(Nt.type){case"path":St.save(),St.strokeStyle=xt.stroke==="none"?"transparent":xt.stroke,St.lineWidth=xt.strokeWidth,xt.strokeLineDash&&St.setLineDash(xt.strokeLineDash),xt.strokeLineDashOffset&&(St.lineDashOffset=xt.strokeLineDashOffset),this._drawToContext(St,Nt,Zt),St.restore();break;case"fillPath":{St.save(),St.fillStyle=xt.fill||"";const dt=st.shape==="curve"||st.shape==="polygon"||st.shape==="path"?"evenodd":"nonzero";this._drawToContext(St,Nt,Zt,dt),St.restore();break}case"fillSketch":this.fillSketch(St,Nt,xt)}}fillSketch(st,tt,xt){let St=xt.fillWeight;St<0&&(St=xt.strokeWidth/2),st.save(),xt.fillLineDash&&st.setLineDash(xt.fillLineDash),xt.fillLineDashOffset&&(st.lineDashOffset=xt.fillLineDashOffset),st.strokeStyle=xt.fill||"",st.lineWidth=St,this._drawToContext(st,tt,xt.fixedDecimalPlaceDigits),st.restore()}_drawToContext(st,tt,xt,St="nonzero"){st.beginPath();for(const Zt of tt.ops){const Nt=typeof xt=="number"&&xt>=0?Zt.data.map(dt=>+dt.toFixed(xt)):Zt.data;switch(Zt.op){case"move":st.moveTo(Nt[0],Nt[1]);break;case"bcurveTo":st.bezierCurveTo(Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5]);break;case"lineTo":st.lineTo(Nt[0],Nt[1])}}tt.type==="fillPath"?st.fill(St):st.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(st,tt,xt,St,Zt){const Nt=this.gen.line(st,tt,xt,St,Zt);return this.draw(Nt),Nt}rectangle(st,tt,xt,St,Zt){const Nt=this.gen.rectangle(st,tt,xt,St,Zt);return this.draw(Nt),Nt}ellipse(st,tt,xt,St,Zt){const Nt=this.gen.ellipse(st,tt,xt,St,Zt);return this.draw(Nt),Nt}circle(st,tt,xt,St){const Zt=this.gen.circle(st,tt,xt,St);return this.draw(Zt),Zt}linearPath(st,tt){const xt=this.gen.linearPath(st,tt);return this.draw(xt),xt}polygon(st,tt){const xt=this.gen.polygon(st,tt);return this.draw(xt),xt}arc(st,tt,xt,St,Zt,Nt,dt=!1,Yt){const sn=this.gen.arc(st,tt,xt,St,Zt,Nt,dt,Yt);return this.draw(sn),sn}curve(st,tt){const xt=this.gen.curve(st,tt);return this.draw(xt),xt}path(st,tt){const xt=this.gen.path(st,tt);return this.draw(xt),xt}}const it="http://www.w3.org/2000/svg";class nt{constructor(st,tt){this.svg=st,this.gen=new Et.V(tt)}draw(st){const tt=st.sets||[],xt=st.options||this.getDefaultOptions(),St=this.svg.ownerDocument||window.document,Zt=St.createElementNS(it,"g"),Nt=st.options.fixedDecimalPlaceDigits;for(const dt of tt){let Yt=null;switch(dt.type){case"path":Yt=St.createElementNS(it,"path"),Yt.setAttribute("d",this.opsToPath(dt,Nt)),Yt.setAttribute("stroke",xt.stroke),Yt.setAttribute("stroke-width",xt.strokeWidth+""),Yt.setAttribute("fill","none"),xt.strokeLineDash&&Yt.setAttribute("stroke-dasharray",xt.strokeLineDash.join(" ").trim()),xt.strokeLineDashOffset&&Yt.setAttribute("stroke-dashoffset",`${xt.strokeLineDashOffset}`);break;case"fillPath":Yt=St.createElementNS(it,"path"),Yt.setAttribute("d",this.opsToPath(dt,Nt)),Yt.setAttribute("stroke","none"),Yt.setAttribute("stroke-width","0"),Yt.setAttribute("fill",xt.fill||""),st.shape!=="curve"&&st.shape!=="polygon"||Yt.setAttribute("fill-rule","evenodd");break;case"fillSketch":Yt=this.fillSketch(St,dt,xt)}Yt&&Zt.appendChild(Yt)}return Zt}fillSketch(st,tt,xt){let St=xt.fillWeight;St<0&&(St=xt.strokeWidth/2);const Zt=st.createElementNS(it,"path");return Zt.setAttribute("d",this.opsToPath(tt,xt.fixedDecimalPlaceDigits)),Zt.setAttribute("stroke",xt.fill||""),Zt.setAttribute("stroke-width",St+""),Zt.setAttribute("fill","none"),xt.fillLineDash&&Zt.setAttribute("stroke-dasharray",xt.fillLineDash.join(" ").trim()),xt.fillLineDashOffset&&Zt.setAttribute("stroke-dashoffset",`${xt.fillLineDashOffset}`),Zt}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(st,tt){return this.gen.opsToPath(st,tt)}line(st,tt,xt,St,Zt){const Nt=this.gen.line(st,tt,xt,St,Zt);return this.draw(Nt)}rectangle(st,tt,xt,St,Zt){const Nt=this.gen.rectangle(st,tt,xt,St,Zt);return this.draw(Nt)}ellipse(st,tt,xt,St,Zt){const Nt=this.gen.ellipse(st,tt,xt,St,Zt);return this.draw(Nt)}circle(st,tt,xt,St){const Zt=this.gen.circle(st,tt,xt,St);return this.draw(Zt)}linearPath(st,tt){const xt=this.gen.linearPath(st,tt);return this.draw(xt)}polygon(st,tt){const xt=this.gen.polygon(st,tt);return this.draw(xt)}arc(st,tt,xt,St,Zt,Nt,dt=!1,Yt){const sn=this.gen.arc(st,tt,xt,St,Zt,Nt,dt,Yt);return this.draw(sn)}curve(st,tt){const xt=this.gen.curve(st,tt);return this.draw(xt)}path(st,tt){const xt=this.gen.path(st,tt);return this.draw(xt)}}var ht={canvas:(Bt,st)=>new ot(Bt,st),svg:(Bt,st)=>new nt(Bt,st),generator:Bt=>new Et.V(Bt),newSeed:()=>Et.V.newSeed()}},5714:function($t){$t.exports=function(Vt,_,Et){var ot=[],it=Vt.length;if(it===0)return ot;var nt=_<0?Math.max(0,_+it):_||0;for(Et!==void 0&&(it=Et<0?Et+it:Et);it-- >nt;)ot[it-nt]=Vt[it];return ot}},2173:function($t,Vt,_){var Et=_(9787),ot=typeof Object.is=="function"?Object.is:function(xt,St){return xt===St&&(xt!==0||1/xt==1/St)||xt!=xt&&St!=St},it=Et.useState,nt=Et.useEffect,ht=Et.useLayoutEffect,Bt=Et.useDebugValue;function st(xt){var St=xt.getSnapshot;xt=xt.value;try{var Zt=St();return!ot(xt,Zt)}catch{return!0}}var tt=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(xt,St){return St()}:function(xt,St){var Zt=St(),Nt=it({inst:{value:Zt,getSnapshot:St}}),dt=Nt[0].inst,Yt=Nt[1];return ht(function(){dt.value=Zt,dt.getSnapshot=St,st(dt)&&Yt({inst:dt})},[xt,Zt,St]),nt(function(){return st(dt)&&Yt({inst:dt}),xt(function(){st(dt)&&Yt({inst:dt})})},[xt]),Bt(Zt),Zt};Vt.useSyncExternalStore=Et.useSyncExternalStore!==void 0?Et.useSyncExternalStore:tt},5917:function($t,Vt,_){var Et=_(9787),ot=_(1374),it=typeof Object.is=="function"?Object.is:function(xt,St){return xt===St&&(xt!==0||1/xt==1/St)||xt!=xt&&St!=St},nt=ot.useSyncExternalStore,ht=Et.useRef,Bt=Et.useEffect,st=Et.useMemo,tt=Et.useDebugValue;Vt.useSyncExternalStoreWithSelector=function(xt,St,Zt,Nt,dt){var Yt=ht(null);if(Yt.current===null){var sn={hasValue:!1,value:null};Yt.current=sn}else sn=Yt.current;Yt=st(function(){function pn(yt){if(!Ut){if(Ut=!0,mn=yt,yt=Nt(yt),dt!==void 0&&sn.hasValue){var Ot=sn.value;if(dt(Ot,yt))return qt=Ot}return qt=yt}if(Ot=qt,it(mn,yt))return Ot;var Gt=Nt(yt);return dt!==void 0&&dt(Ot,Gt)?Ot:(mn=yt,qt=Gt)}var mn,qt,Ut=!1,Kt=Zt===void 0?null:Zt;return[function(){return pn(St())},Kt===null?void 0:function(){return pn(Kt())}]},[St,Zt,Nt,dt]);var bn=nt(xt,Yt[0],Yt[1]);return Bt(function(){sn.hasValue=!0,sn.value=bn},[bn]),tt(bn),bn}},1374:function($t,Vt,_){$t.exports=_(2173)},5668:function($t,Vt,_){$t.exports=_(5917)},940:function($t,Vt,_){var Et={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function ot(it){if(!_.o(Et,it))return Promise.resolve().then(function(){var Bt=new Error("Cannot find module '"+it+"'");throw Bt.code="MODULE_NOT_FOUND",Bt});var nt=Et[it],ht=nt[0];return Promise.all(nt.slice(1).map(_.e)).then(function(){return _.t(ht,19)})}ot.keys=function(){return Object.keys(Et)},ot.id=940,$t.exports=ot},9713:function($t){$t.exports=function(Vt,_,Et){return _ in Vt?Object.defineProperty(Vt,_,{value:Et,enumerable:!0,configurable:!0,writable:!0}):Vt[_]=Et,Vt}},6479:function($t,Vt,_){var Et=_(7316);$t.exports=function(ot,it){if(ot==null)return{};var nt,ht,Bt=Et(ot,it);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(ot);for(ht=0;ht<st.length;ht++)nt=st[ht],it.indexOf(nt)>=0||Object.prototype.propertyIsEnumerable.call(ot,nt)&&(Bt[nt]=ot[nt])}return Bt}},7316:function($t){$t.exports=function(Vt,_){if(Vt==null)return{};var Et,ot,it={},nt=Object.keys(Vt);for(ot=0;ot<nt.length;ot++)Et=nt[ot],_.indexOf(Et)>=0||(it[Et]=Vt[Et]);return it}},4295:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(3940),_.b),tt=new URL(_(3147),_.b),xt=new URL(_(8303),_.b),St=new URL(_(1273),_.b),Zt=new URL(_(9577),_.b),Nt=new URL(_(9729),_.b),dt=nt()(ot()),Yt=Bt()(st),sn=Bt()(tt),bn=Bt()(xt),pn=Bt()(St),mn=Bt()(Zt),qt=Bt()(Nt);dt.push([$t.id,'@font-face{font-family:"Virgil";src:url('+Yt+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+sn+');font-display:swap}@font-face{font-family:"Assistant";src:url('+bn+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+pn+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+mn+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+qt+");font-display:swap;font-weight:700}",""]),Vt.Z=dt},6086:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),Vt.Z=nt},3729:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),Vt.Z=nt},3137:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(7984),_.b),tt=new URL(_(1639),_.b),xt=nt()(ot()),St=Bt()(st),Zt=Bt()(tt);xt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+St+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+Zt+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),Vt.Z=xt},4241:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),Vt.Z=nt},6029:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),Vt.Z=nt},4269:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(9669),_.b),tt=nt()(ot()),xt=Bt()(st);tt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+xt+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+xt+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),Vt.Z=tt},9393:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),Vt.Z=nt},6578:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),Vt.Z=nt},9482:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),Vt.Z=nt},6148:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),Vt.Z=nt},5744:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),Vt.Z=nt},7955:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(9669),_.b),tt=nt()(ot()),xt=Bt()(st);tt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+xt+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),Vt.Z=tt},7522:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),Vt.Z=nt},8960:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),Vt.Z=nt},3195:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),Vt.Z=nt},2978:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),Vt.Z=nt},1587:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),Vt.Z=nt},9478:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),Vt.Z=nt},9706:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(9669),_.b),tt=nt()(ot()),xt=Bt()(st);tt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+xt+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),Vt.Z=tt},7369:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),Vt.Z=nt},7930:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),Vt.Z=nt},1434:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),Vt.Z=nt},8923:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),Vt.Z=nt},6440:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),Vt.Z=nt},5644:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),Vt.Z=nt},5830:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(9669),_.b),tt=nt()(ot()),xt=Bt()(st);tt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+xt+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),Vt.Z=tt},6843:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),Vt.Z=nt},9439:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),Vt.Z=nt},8461:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),Vt.Z=nt},9935:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),Vt.Z=nt},532:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),Vt.Z=nt},7589:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),Vt.Z=nt},6217:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),Vt.Z=nt},8208:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),Vt.Z=nt},7051:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),Vt.Z=nt},5892:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),Vt.Z=nt},3874:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),Vt.Z=nt},2681:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),Vt.Z=nt},7802:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),Vt.Z=nt},6759:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),Vt.Z=nt},9650:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),Vt.Z=nt},2044:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),Vt.Z=nt},9144:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),Vt.Z=nt},6626:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),Vt.Z=nt},6359:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),Vt.Z=nt},7399:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),Vt.Z=nt},8793:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),Vt.Z=nt},3397:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),Vt.Z=nt},4343:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),Vt.Z=nt},1569:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),Vt.Z=nt},9915:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),Vt.Z=nt},9310:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it),ht=_(1667),Bt=_.n(ht),st=new URL(_(7984),_.b),tt=new URL(_(1639),_.b),xt=nt()(ot()),St=Bt()(st),Zt=Bt()(tt);xt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+St+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+Zt+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),Vt.Z=xt},6464:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,"",""]),nt.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},Vt.Z=nt},5260:function($t,Vt,_){var Et=_(8081),ot=_.n(Et),it=_(3645),nt=_.n(it)()(ot());nt.push([$t.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),Vt.Z=nt},3645:function($t){$t.exports=function(Vt){var _=[];return _.toString=function(){return this.map(function(Et){var ot="",it=Et[5]!==void 0;return Et[4]&&(ot+="@supports (".concat(Et[4],") {")),Et[2]&&(ot+="@media ".concat(Et[2]," {")),it&&(ot+="@layer".concat(Et[5].length>0?" ".concat(Et[5]):""," {")),ot+=Vt(Et),it&&(ot+="}"),Et[2]&&(ot+="}"),Et[4]&&(ot+="}"),ot}).join("")},_.i=function(Et,ot,it,nt,ht){typeof Et=="string"&&(Et=[[null,Et,void 0]]);var Bt={};if(it)for(var st=0;st<this.length;st++){var tt=this[st][0];tt!=null&&(Bt[tt]=!0)}for(var xt=0;xt<Et.length;xt++){var St=[].concat(Et[xt]);it&&Bt[St[0]]||(ht!==void 0&&(St[5]===void 0||(St[1]="@layer".concat(St[5].length>0?" ".concat(St[5]):""," {").concat(St[1],"}")),St[5]=ht),ot&&(St[2]&&(St[1]="@media ".concat(St[2]," {").concat(St[1],"}")),St[2]=ot),nt&&(St[4]?(St[1]="@supports (".concat(St[4],") {").concat(St[1],"}"),St[4]=nt):St[4]="".concat(nt)),_.push(St))}},_}},1667:function($t){$t.exports=function(Vt,_){return _||(_={}),Vt&&(Vt=String(Vt.__esModule?Vt.default:Vt),/^['"].*['"]$/.test(Vt)&&(Vt=Vt.slice(1,-1)),_.hash&&(Vt+=_.hash),/["'() \t\n]|(%20)/.test(Vt)||_.needQuotes?'"'.concat(Vt.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):Vt)}},8081:function($t){$t.exports=function(Vt){return Vt[1]}},7392:function($t,Vt,_){_.d(Vt,{JQ:function(){return mn},vD:function(){return bn},y7:function(){return sn}});var Et=_(1930),ot=_(7169),it=_(9937),nt=_(7651),ht=_(583),Bt=_(4761),st=_(3474),tt=_(4183),xt=_(9827),St=_(2767);function Zt(qt,Ut){var Kt=typeof Symbol<"u"&&qt[Symbol.iterator]||qt["@@iterator"];if(!Kt){if(Array.isArray(qt)||(Kt=function(ut,ft){if(ut){if(typeof ut=="string")return Nt(ut,ft);var $=Object.prototype.toString.call(ut).slice(8,-1);if($==="Object"&&ut.constructor&&($=ut.constructor.name),$==="Map"||$==="Set")return Array.from(ut);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return Nt(ut,ft)}}(qt))||Ut){Kt&&(qt=Kt);var yt=0,Ot=function(){};return{s:Ot,n:function(){return yt>=qt.length?{done:!0}:{done:!1,value:qt[yt++]}},e:function(ut){throw ut},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gt,Ct=!0,Xt=!1;return{s:function(){Kt=Kt.call(qt)},n:function(){var ut=Kt.next();return Ct=ut.done,ut},e:function(ut){Xt=!0,Gt=ut},f:function(){try{Ct||Kt.return==null||Kt.return()}finally{if(Xt)throw Gt}}}}function Nt(qt,Ut){(Ut==null||Ut>qt.length)&&(Ut=qt.length);for(var Kt=0,yt=new Array(Ut);Kt<Ut;Kt++)yt[Kt]=qt[Kt];return yt}function dt(qt,Ut){var Kt=Object.keys(qt);if(Object.getOwnPropertySymbols){var yt=Object.getOwnPropertySymbols(qt);Ut&&(yt=yt.filter(function(Ot){return Object.getOwnPropertyDescriptor(qt,Ot).enumerable})),Kt.push.apply(Kt,yt)}return Kt}function Yt(qt){for(var Ut=1;Ut<arguments.length;Ut++){var Kt=arguments[Ut]!=null?arguments[Ut]:{};Ut%2?dt(Object(Kt),!0).forEach(function(yt){(0,ot.Z)(qt,yt,Kt[yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qt,Object.getOwnPropertyDescriptors(Kt)):dt(Object(Kt)).forEach(function(yt){Object.defineProperty(qt,yt,Object.getOwnPropertyDescriptor(Kt,yt))})}return qt}var sn=(0,St.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(qt,Ut,Kt,yt){return yt.scene.getSelectedElements(Ut).some(function(Ot){return(0,tt.Xo)(Ot)})},perform:function(qt,Ut,Kt,yt){return yt.scene.getSelectedElements(Ut).forEach(function(Ot){var Gt=(0,Bt.WJ)(Ot);if(Gt){var Ct,Xt=(0,Bt.X1)(Gt.originalText,(0,xt.mO)(Gt),Gt.lineHeight),ut=Xt.width,ft=Xt.height,$=Xt.baseline,wt=(0,st.eR)(Ot.id);(0,st.kT)(Ot.id);var gt=(0,Bt.FE)(Ot,Gt),lt=gt.x,pt=gt.y;(0,ht.DR)(Gt,{containerId:null,width:ut,height:ft,baseline:$,text:Gt.originalText,x:lt,y:pt}),(0,ht.DR)(Ot,{boundElements:(Ct=Ot.boundElements)===null||Ct===void 0?void 0:Ct.filter(function(vt){return vt.id!==Gt.id}),height:wt||Ot.height})}}),{elements:qt,appState:Ut,commitToHistory:!0}}}),bn=(0,St.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(qt,Ut,Kt,yt){var Ot=yt.scene.getSelectedElements(Ut);if(Ot.length===2){var Gt,Ct=(0,nt.iB)(Ot[0])||(0,nt.iB)(Ot[1]);if((0,tt.mG)(Ot[0])?Gt=Ot[0]:(0,tt.mG)(Ot[1])&&(Gt=Ot[1]),Ct&&Gt&&(0,Bt.WJ)(Gt)===null)return!0}return!1},perform:function(qt,Ut,Kt,yt){var Ot,Gt,Ct=yt.scene.getSelectedElements(Ut);(0,nt.iB)(Ct[0])&&(0,tt.mG)(Ct[1])?(Ot=Ct[0],Gt=Ct[1]):(Ot=Ct[1],Gt=Ct[0]),(0,ht.DR)(Ot,{containerId:Gt.id,verticalAlign:it.oX.MIDDLE,textAlign:it.I8.CENTER}),(0,ht.DR)(Gt,{boundElements:(Gt.boundElements||[]).concat({type:"text",id:Ot.id})});var Xt=Gt.height;return(0,Bt.oN)(Ot,Gt),(0,st.h_)(Gt.id,Xt),{elements:pn(qt,Gt,Ot),appState:Yt(Yt({},Ut),{},{selectedElementIds:(0,ot.Z)({},Gt.id,!0)}),commitToHistory:!0}}}),pn=function(qt,Ut,Kt){var yt=qt.slice(),Ot=yt.findIndex(function(Ct){return Ct.id===Kt.id});yt.splice(Ot,1);var Gt=yt.findIndex(function(Ct){return Ct.id===Ut.id});return yt.splice(Gt+1,0,Kt),yt},mn=(0,St.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(qt,Ut,Kt,yt){var Ot=yt.scene.getSelectedElements(Ut),Gt=Ot.every(function(Ct){return(0,nt.iB)(Ct)});return Ot.length>0&&Gt},perform:function(qt,Ut,Kt,yt){var Ot,Gt=yt.scene.getSelectedElements(Ut),Ct=qt.slice(),Xt={},ut=Zt(Gt);try{var ft=function(){var $=Ot.value;if((0,nt.iB)($)){var wt,gt=(0,nt.Up)({type:"rectangle",backgroundColor:Ut.currentItemBackgroundColor,boundElements:[].concat((0,Et.Z)($.boundElements||[]),[{id:$.id,type:"text"}]),angle:$.angle,fillStyle:Ut.currentItemFillStyle,strokeColor:Ut.currentItemStrokeColor,roughness:Ut.currentItemRoughness,strokeWidth:Ut.currentItemStrokeWidth,strokeStyle:Ut.currentItemStrokeStyle,roundness:Ut.currentItemRoundness==="round"?{type:(0,tt.QI)("rectangle")?it.a6.ADAPTIVE_RADIUS:it.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:$.x-it.gK,y:$.y-it.gK,width:(0,Bt.NS)($.width,"rectangle"),height:(0,Bt.NS)($.height,"rectangle"),groupIds:$.groupIds,frameId:$.frameId});if((wt=$.boundElements)!==null&&wt!==void 0&&wt.length){var lt=$.boundElements.filter(function(pt){return pt.type==="arrow"}).map(function(pt){return pt.id});Ct.filter(function(pt){return lt.includes(pt.id)}).forEach(function(pt){var vt,zt,Qt=pt.startBinding,Ft=pt.endBinding;((vt=Qt)===null||vt===void 0?void 0:vt.elementId)===$.id&&(Qt=Yt(Yt({},Qt),{},{elementId:gt.id})),((zt=Ft)===null||zt===void 0?void 0:zt.elementId)===$.id&&(Ft=Yt(Yt({},Ft),{},{elementId:gt.id})),(Qt||Ft)&&(0,ht.DR)(pt,{startBinding:Qt,endBinding:Ft},!1)})}(0,ht.DR)($,{containerId:gt.id,verticalAlign:it.oX.MIDDLE,boundElements:null,textAlign:it.I8.CENTER},!1),(0,Bt.oN)($,gt),Ct=function(pt,vt,zt){var Qt=pt.slice(),Ft=Qt.findIndex(function(Tt){return Tt.id===vt.id});Qt.splice(Ft,1);var At=Qt.findIndex(function(Tt){return Tt.id===zt.id});return Qt.splice(At,0,vt),Qt}([].concat((0,Et.Z)(Ct),[gt]),gt,$),Xt[gt.id]=!0}};for(ut.s();!(Ot=ut.n()).done;)ft()}catch($){ut.e($)}finally{ut.f()}return{elements:Ct,appState:Yt(Yt({},Ut),{},{selectedElementIds:Xt}),commitToHistory:!0}}})},6006:function($t,Vt,_){_.d(Vt,{CZ:function(){return Ct},JB:function(){return Xt},Lo:function(){return Gt},Zp:function(){return ut},eF:function(){return ft},mo:function(){return Ot}});var Et=_(2577),ot=_(7169),it=_(193),nt=_(8935),ht=_(1512),Bt=_(9937),st=_(7651),tt=_(8227),xt=_(5491),St=_(4105),Zt=_(2382),Nt=_(4116),dt=_(9827),Yt=_(2767),sn=_(8925),bn=_(583),pn=_(6853),mn=_(9240),qt=_(7652),Ut=_(1020);function Kt($,wt){var gt=Object.keys($);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols($);wt&&(lt=lt.filter(function(pt){return Object.getOwnPropertyDescriptor($,pt).enumerable})),gt.push.apply(gt,lt)}return gt}function yt($){for(var wt=1;wt<arguments.length;wt++){var gt=arguments[wt]!=null?arguments[wt]:{};wt%2?Kt(Object(gt),!0).forEach(function(lt){(0,ot.Z)($,lt,gt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(gt)):Kt(Object(gt)).forEach(function(lt){Object.defineProperty($,lt,Object.getOwnPropertyDescriptor(gt,lt))})}return $}(0,Yt.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function($,wt,gt,lt){return!!lt.props.UIOptions.canvasActions.changeViewBackgroundColor&&!wt.viewModeEnabled},perform:function($,wt,gt){return{appState:yt(yt({},wt),gt),commitToHistory:!!gt.viewBackgroundColor}},PanelComponent:function($){var wt=$.elements,gt=$.appState,lt=$.updateData;return $.appProps,(0,Ut.jsx)(it.z,{palette:null,topPicks:mn.ay,label:(0,tt.t)("labels.canvasBackground"),type:"canvasBackground",color:gt.viewBackgroundColor,onChange:function(pt){return lt({viewBackgroundColor:pt})},"data-testid":"canvas-background-picker",elements:wt,appState:gt,updateData:lt})}});var Ot=(0,Yt.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function($,wt,gt,lt){return!!lt.props.UIOptions.canvasActions.clearCanvas&&!wt.viewModeEnabled},perform:function($,wt,gt,lt){return lt.imageCache.clear(),{elements:$.map(function(pt){return(0,bn.BE)(pt,{isDeleted:!0})}),appState:yt(yt({},(0,pn.im)()),{},{files:{},theme:wt.theme,penMode:wt.penMode,penDetected:wt.penDetected,exportBackground:wt.exportBackground,exportEmbedScene:wt.exportEmbedScene,gridSize:wt.gridSize,showStats:wt.showStats,pasteDialog:wt.pasteDialog,activeTool:wt.activeTool.type==="image"?yt(yt({},wt.activeTool),{},{type:"selection"}):wt.activeTool}),commitToHistory:!0}}}),Gt=(0,Yt.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function($,wt,gt,lt){return{appState:yt(yt({},wt),(0,Nt.E)({viewportX:wt.width/2+wt.offsetLeft,viewportY:wt.height/2+wt.offsetTop,nextZoom:(0,St.j)(wt.zoom.value+Bt.V4)},wt)),commitToHistory:!1}},PanelComponent:function($){var wt=$.updateData;return(0,Ut.jsx)(ht.V,{type:"button",className:"zoom-in-button zoom-button",icon:nt.Sd,title:"".concat((0,tt.t)("buttons.zoomIn")," — ").concat((0,dt.uY)("CtrlOrCmd++")),"aria-label":(0,tt.t)("buttons.zoomIn"),onClick:function(){wt(null)}})},keyTest:function($){return($.code===xt.aU.EQUAL||$.code===xt.aU.NUM_ADD)&&($[xt.tW.CTRL_OR_CMD]||$.shiftKey)}}),Ct=(0,Yt.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function($,wt,gt,lt){return{appState:yt(yt({},wt),(0,Nt.E)({viewportX:wt.width/2+wt.offsetLeft,viewportY:wt.height/2+wt.offsetTop,nextZoom:(0,St.j)(wt.zoom.value-Bt.V4)},wt)),commitToHistory:!1}},PanelComponent:function($){var wt=$.updateData;return(0,Ut.jsx)(ht.V,{type:"button",className:"zoom-out-button zoom-button",icon:nt.xL,title:"".concat((0,tt.t)("buttons.zoomOut")," — ").concat((0,dt.uY)("CtrlOrCmd+-")),"aria-label":(0,tt.t)("buttons.zoomOut"),onClick:function(){wt(null)}})},keyTest:function($){return($.code===xt.aU.MINUS||$.code===xt.aU.NUM_SUBTRACT)&&($[xt.tW.CTRL_OR_CMD]||$.shiftKey)}}),Xt=((0,Yt.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function($,wt,gt,lt){return{appState:yt(yt({},wt),(0,Nt.E)({viewportX:wt.width/2+wt.offsetLeft,viewportY:wt.height/2+wt.offsetTop,nextZoom:(0,St.j)(1)},wt)),commitToHistory:!1}},PanelComponent:function($){var wt=$.updateData,gt=$.appState;return(0,Ut.jsx)(sn.u,{label:(0,tt.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,Ut.jsxs)(ht.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,tt.t)("buttons.resetZoom"),"aria-label":(0,tt.t)("buttons.resetZoom"),onClick:function(){wt(null)},children:[(100*gt.zoom.value).toFixed(0),"%"]})})},keyTest:function($){return($.code===xt.aU.ZERO||$.code===xt.aU.NUM_ZERO)&&($[xt.tW.CTRL_OR_CMD]||$.shiftKey)}}),function($){var wt,gt,lt,pt=$.targetElements,vt=$.appState,zt=$.fitToViewport,Qt=zt!==void 0&&zt,Ft=$.viewportZoomFactor,At=Ft===void 0?.7:Ft,Tt=(0,st.KP)((0,st.Lm)(pt)),jt=(0,Et.Z)(Tt,4),un=jt[0],Jt=jt[1],hn=jt[2],rn=jt[3],Mt=(un+hn)/2,an=(Jt+rn)/2;if(Qt){var Cn=hn-un,kn=rn-Jt;wt=Math.min(vt.width/Cn,vt.height/kn)*Math.min(1,Math.max(At,.1)),wt=Math.min(Math.max(wt,.1),30),gt=vt.width/2*(1/wt)-Mt,lt=vt.height/2*(1/wt)-an}else{wt=function(Dn,Fn){var vn=(0,Et.Z)(Dn,4),Gn=vn[0],Sn=vn[1],nn=vn[2],Qn=vn[3],tn=nn-Gn,at=Fn.width/tn,ct=Qn-Sn,mt=Fn.height/ct,Wt=Math.min(at,mt),Rt=Math.floor(Wt/Bt.V4)*Bt.V4;return Math.min(Math.max(Rt,Bt.Zj),1)}(Tt,{width:vt.width,height:vt.height});var jn=(0,Zt.s)({scenePoint:{x:Mt,y:an},viewportDimensions:{width:vt.width,height:vt.height},zoom:{value:wt}});gt=jn.scrollX,lt=jn.scrollY}return{appState:yt(yt({},vt),{},{scrollX:gt,scrollY:lt,zoom:{value:wt}}),commitToHistory:!1}}),ut=((0,Yt.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function($,wt,gt,lt){var pt=lt.scene.getSelectedElements(wt);return Xt({targetElements:pt.length?pt:$,appState:wt,fitToViewport:!1})},keyTest:function($){return $.code===xt.aU.TWO&&$.shiftKey&&!$.altKey&&!$[xt.tW.CTRL_OR_CMD]}}),(0,Yt.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function($,wt,gt,lt){var pt=lt.scene.getSelectedElements(wt);return Xt({targetElements:pt.length?pt:$,appState:wt,fitToViewport:!0})},keyTest:function($){return $.code===xt.aU.THREE&&$.shiftKey&&!$.altKey&&!$[xt.tW.CTRL_OR_CMD]}}),(0,Yt.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function($,wt){return Xt({targetElements:$,appState:wt,fitToViewport:!1})},keyTest:function($){return $.code===xt.aU.ONE&&$.shiftKey&&!$.altKey&&!$[xt.tW.CTRL_OR_CMD]}}),(0,Yt.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function($,wt,gt){return{appState:yt(yt({},wt),{},{theme:gt||(wt.theme===Bt.C6.LIGHT?Bt.C6.DARK:Bt.C6.LIGHT)}),commitToHistory:!1}},keyTest:function($){return $.altKey&&$.shiftKey&&$.code===xt.aU.D},predicate:function($,wt,gt,lt){return!!lt.props.UIOptions.canvasActions.toggleTheme}})),ft=((0,Yt.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function($,wt){var gt;return gt=(0,pn.EN)(wt)?(0,dt.Om)(wt,yt(yt({},wt.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,dt.Om)(wt,{type:"eraser",lastActiveToolBeforeEraser:wt.activeTool}),{appState:yt(yt({},wt),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:gt}),commitToHistory:!0}},keyTest:function($){return $.key===xt.tW.E}}),(0,Yt.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function($,wt,gt,lt){var pt;return(0,pn.l$)(wt)?pt=(0,dt.Om)(wt,yt(yt({},wt.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(pt=(0,dt.Om)(wt,{type:"hand",lastActiveToolBeforeEraser:wt.activeTool}),(0,qt.KJ)(lt.interactiveCanvas,Bt.oc.GRAB)),{appState:yt(yt({},wt),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:pt}),commitToHistory:!0}},keyTest:function($){return!$.altKey&&!$[xt.tW.CTRL_OR_CMD]&&$.key===xt.tW.H}}))},5047:function($t,Vt,_){_.d(Vt,{FA:function(){return yt},ZM:function(){return Kt},jK:function(){return Ot},uN:function(){return qt},yQ:function(){return Ut},zp:function(){return Gt}});var Et=_(7169),ot=_(8950),it=_(2975),nt=_.n(it),ht=_(5491),Bt=_(2767),st=_(4694),tt=_(2448),xt=_(2435),St=_(7651),Zt=_(8227),Nt=_(9937);function dt(Ct,Xt){var ut=Object.keys(Ct);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(Ct);Xt&&(ft=ft.filter(function($){return Object.getOwnPropertyDescriptor(Ct,$).enumerable})),ut.push.apply(ut,ft)}return ut}function Yt(Ct){for(var Xt=1;Xt<arguments.length;Xt++){var ut=arguments[Xt]!=null?arguments[Xt]:{};Xt%2?dt(Object(ut),!0).forEach(function(ft){(0,Et.Z)(Ct,ft,ut[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(ut)):dt(Object(ut)).forEach(function(ft){Object.defineProperty(Ct,ft,Object.getOwnPropertyDescriptor(ut,ft))})}return Ct}var sn,bn,pn,mn,qt=(0,Bt.z)({name:"copy",trackEvent:{category:"element"},perform:(sn=(0,ot.Z)(nt().mark(function Ct(Xt,ut,ft,$){var wt;return nt().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return wt=$.scene.getSelectedElements({selectedElementIds:ut.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),gt.prev=1,gt.next=4,(0,st.vQ)(wt,$.files,ft);case 4:gt.next=9;break;case 6:return gt.prev=6,gt.t0=gt.catch(1),gt.abrupt("return",{commitToHistory:!1,appState:Yt(Yt({},ut),{},{errorMessage:gt.t0.message})});case 9:return gt.abrupt("return",{commitToHistory:!1});case 10:case"end":return gt.stop()}},Ct,null,[[1,6]])})),function(Ct,Xt,ut,ft){return sn.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),Ut=(0,Bt.z)({name:"paste",trackEvent:{category:"element"},perform:(bn=(0,ot.Z)(nt().mark(function Ct(Xt,ut,ft,$){var wt;return nt().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return gt.prev=0,gt.next=3,(0,st.Se)();case 3:wt=gt.sent,gt.next=14;break;case 6:if(gt.prev=6,gt.t0=gt.catch(0),gt.t0.name!=="AbortError"&&gt.t0.name!=="NotAllowedError"){gt.next=10;break}return gt.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(gt.t0.name,": ").concat(gt.t0.message)),!Nt.vU){gt.next=13;break}return gt.abrupt("return",{commitToHistory:!1,appState:Yt(Yt({},ut),{},{errorMessage:(0,Zt.t)("hints.firefox_clipboard_write")})});case 13:return gt.abrupt("return",{commitToHistory:!1,appState:Yt(Yt({},ut),{},{errorMessage:(0,Zt.t)("errors.asyncPasteFailedOnRead")})});case 14:gt.prev=14,$.pasteFromClipboard((0,st.OO)({types:wt})),gt.next=22;break;case 18:return gt.prev=18,gt.t1=gt.catch(14),console.error(gt.t1),gt.abrupt("return",{commitToHistory:!1,appState:Yt(Yt({},ut),{},{errorMessage:(0,Zt.t)("errors.asyncPasteFailedOnParse")})});case 22:return gt.abrupt("return",{commitToHistory:!1});case 23:case"end":return gt.stop()}},Ct,null,[[0,6],[14,18]])})),function(Ct,Xt,ut,ft){return bn.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),Kt=(0,Bt.z)({name:"cut",trackEvent:{category:"element"},perform:function(Ct,Xt,ut,ft){return qt.perform(Ct,Xt,ut,ft),tt.X.perform(Ct,Xt)},contextItemLabel:"labels.cut",keyTest:function(Ct){return Ct[ht.tW.CTRL_OR_CMD]&&Ct.key===ht.tW.X}}),yt=(0,Bt.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(pn=(0,ot.Z)(nt().mark(function Ct(Xt,ut,ft,$){var wt,gt,lt;return nt().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if($.canvas){pt.next=2;break}return pt.abrupt("return",{commitToHistory:!1});case 2:return wt=(0,xt.HD)(Xt,ut,!0),gt=wt.exportedElements,lt=wt.exportingFrame,pt.prev=3,pt.next=6,(0,xt.p1)("clipboard-svg",gt,ut,$.files,Yt(Yt({},ut),{},{exportingFrame:lt}));case 6:return pt.abrupt("return",{commitToHistory:!1});case 9:return pt.prev=9,pt.t0=pt.catch(3),console.error(pt.t0),pt.abrupt("return",{appState:Yt(Yt({},ut),{},{errorMessage:pt.t0.message}),commitToHistory:!1});case 13:case"end":return pt.stop()}},Ct,null,[[3,9]])})),function(Ct,Xt,ut,ft){return pn.apply(this,arguments)}),predicate:function(Ct){return st.wx&&Ct.length>0},contextItemLabel:"labels.copyAsSvg"}),Ot=(0,Bt.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(mn=(0,ot.Z)(nt().mark(function Ct(Xt,ut,ft,$){var wt,gt,lt,pt;return nt().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if($.canvas){vt.next=2;break}return vt.abrupt("return",{commitToHistory:!1});case 2:return wt=$.scene.getSelectedElements({selectedElementIds:ut.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),gt=(0,xt.HD)(Xt,ut,!0),lt=gt.exportedElements,pt=gt.exportingFrame,vt.prev=4,vt.next=7,(0,xt.p1)("clipboard",lt,ut,$.files,Yt(Yt({},ut),{},{exportingFrame:pt}));case 7:return vt.abrupt("return",{appState:Yt(Yt({},ut),{},{toast:{message:(0,Zt.t)("toast.copyToClipboardAsPng",{exportSelection:wt.length?(0,Zt.t)("toast.selection"):(0,Zt.t)("toast.canvas"),exportColorScheme:ut.exportWithDarkMode?(0,Zt.t)("buttons.darkMode"):(0,Zt.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return vt.prev=10,vt.t0=vt.catch(4),console.error(vt.t0),vt.abrupt("return",{appState:Yt(Yt({},ut),{},{errorMessage:vt.t0.message}),commitToHistory:!1});case 14:case"end":return vt.stop()}},Ct,null,[[4,10]])})),function(Ct,Xt,ut,ft){return mn.apply(this,arguments)}),predicate:function(Ct){return st.vt&&Ct.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(Ct){return Ct.code===ht.aU.C&&Ct.altKey&&Ct.shiftKey}}),Gt=(0,Bt.z)({name:"copyText",trackEvent:{category:"element"},perform:function(Ct,Xt,ut,ft){var $=ft.scene.getSelectedElements({selectedElementIds:Xt.selectedElementIds,includeBoundTextElement:!0}).reduce(function(wt,gt){return(0,St.iB)(gt)&&wt.push(gt.text),wt},[]).join(`

`);return(0,st.dd)($),{commitToHistory:!1}},predicate:function(Ct,Xt,ut,ft){return st.wx&&ft.scene.getSelectedElements({selectedElementIds:Xt.selectedElementIds,includeBoundTextElement:!0}).some(St.iB)},contextItemLabel:"labels.copyText"})},2448:function($t,Vt,_){_.d(Vt,{X:function(){return qt}});var Et=_(7169),ot=_(4105),it=_(5491),nt=_(1512),ht=_(8227),Bt=_(2767),st=_(7651),tt=_(583),xt=_(9215),St=_(7422),Zt=_(9645),Nt=_(4183),dt=_(9827),Yt=_(8935),sn=_(1020);function bn(Ut,Kt){var yt=Object.keys(Ut);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Ut);Kt&&(Ot=Ot.filter(function(Gt){return Object.getOwnPropertyDescriptor(Ut,Gt).enumerable})),yt.push.apply(yt,Ot)}return yt}function pn(Ut){for(var Kt=1;Kt<arguments.length;Kt++){var yt=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?bn(Object(yt),!0).forEach(function(Ot){(0,Et.Z)(Ut,Ot,yt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(yt)):bn(Object(yt)).forEach(function(Ot){Object.defineProperty(Ut,Ot,Object.getOwnPropertyDescriptor(yt,Ot))})}return Ut}var mn=function(Ut,Kt){if(Ut.editingGroupId){var yt=(0,xt.Fb)((0,st.Lm)(Kt),Ut.editingGroupId);if(yt.length)return pn(pn({},Ut),{},{selectedElementIds:(0,Et.Z)({},yt[0].id,!0)})}return Ut},qt=(0,Bt.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(Ut,Kt){if(Kt.editingLinearElement){var yt=Kt.editingLinearElement,Ot=yt.elementId,Gt=yt.selectedPointsIndices,Ct=yt.startBindingElement,Xt=yt.endBindingElement,ut=St._.getElement(Ot);if(!ut||Gt==null)return!1;if(ut.points.length<2){var ft=Ut.map(function(pt){return pt.id===ut.id?(0,tt.BE)(pt,{isDeleted:!0}):pt});return{elements:ft,appState:pn(pn({},mn(Kt,ft)),{},{editingLinearElement:null}),commitToHistory:!1}}var $={startBindingElement:Gt!=null&&Gt.includes(0)?null:Ct,endBindingElement:Gt!=null&&Gt.includes(ut.points.length-1)?null:Xt};return St._.deletePoints(ut,Gt),{elements:Ut,appState:pn(pn({},Kt),{},{editingLinearElement:pn(pn(pn({},Kt.editingLinearElement),$),{},{selectedPointsIndices:(Gt==null?void 0:Gt[0])>0?[Gt[0]-1]:[0]})}),commitToHistory:!0}}var wt=function(pt,vt){var zt=new Set((0,ot.eD)(pt.filter(function(Qt){return Qt.type==="frame"}),vt).map(function(Qt){return Qt.id}));return{elements:pt.map(function(Qt){return vt.selectedElementIds[Qt.id]||Qt.frameId&&zt.has(Qt.frameId)||(0,Nt.Xh)(Qt)&&vt.selectedElementIds[Qt.containerId]?(0,tt.BE)(Qt,{isDeleted:!0}):Qt}),appState:pn(pn({},vt),{},{selectedElementIds:{},selectedGroupIds:{}})}}(Ut,Kt),gt=wt.elements,lt=wt.appState;return(0,Zt.$q)(gt,Ut.filter(function(pt){var vt=pt.id;return Kt.selectedElementIds[vt]})),{elements:gt,appState:pn(pn({},lt=mn(lt,gt)),{},{activeTool:(0,dt.Om)(Kt,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,ot.N)((0,st.Lm)(Ut),Kt)}},contextItemLabel:"labels.delete",keyTest:function(Ut,Kt,yt){return(Ut.key===it.tW.BACKSPACE||Ut.key===it.tW.DELETE)&&!Ut[it.tW.CTRL_OR_CMD]},PanelComponent:function(Ut){var Kt=Ut.elements,yt=Ut.appState,Ot=Ut.updateData;return(0,sn.jsx)(nt.V,{type:"button",icon:Yt.XH,title:(0,ht.t)("labels.delete"),"aria-label":(0,ht.t)("labels.delete"),onClick:function(){return Ot(null)},visible:(0,ot.N)((0,st.Lm)(Kt),yt)})}})},9672:function($t,Vt,_){_.d(Vt,{$:function(){return xt},U:function(){return St}});var Et=_(7169),ot=_(583),it=_(5491),nt=_(9827),ht=_(2767);function Bt(Zt,Nt){var dt=Object.keys(Zt);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(Zt);Nt&&(Yt=Yt.filter(function(sn){return Object.getOwnPropertyDescriptor(Zt,sn).enumerable})),dt.push.apply(dt,Yt)}return dt}function st(Zt){for(var Nt=1;Nt<arguments.length;Nt++){var dt=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Bt(Object(dt),!0).forEach(function(Yt){(0,Et.Z)(Zt,Yt,dt[Yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Zt,Object.getOwnPropertyDescriptors(dt)):Bt(Object(dt)).forEach(function(Yt){Object.defineProperty(Zt,Yt,Object.getOwnPropertyDescriptor(dt,Yt))})}return Zt}var tt=function(Zt){return Zt.every(function(Nt){return!Nt.locked})},xt=(0,ht.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(Zt,Nt,dt,Yt){return!Yt.scene.getSelectedElements(Nt).some(function(sn){return sn.locked&&sn.frameId})},perform:function(Zt,Nt,dt,Yt){var sn=Yt.scene.getSelectedElements({selectedElementIds:Nt.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!sn.length)return!1;var bn=tt(sn),pn=(0,nt.xn)(sn);return{elements:Zt.map(function(mn){return pn.has(mn.id)?(0,ot.BE)(mn,{locked:bn}):mn}),appState:st(st({},Nt),{},{selectedLinearElement:bn?null:Nt.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(Zt,Nt,dt){var Yt=dt.scene.getSelectedElements({selectedElementIds:Nt.selectedElementIds,includeBoundTextElement:!1});return Yt.length===1&&Yt[0].type!=="frame"?Yt[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":tt(Yt)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(Zt,Nt,dt,Yt){return Zt.key.toLocaleLowerCase()===it.tW.L&&Zt[it.tW.CTRL_OR_CMD]&&Zt.shiftKey&&Yt.scene.getSelectedElements({selectedElementIds:Nt.selectedElementIds,includeBoundTextElement:!1}).length>0}}),St=(0,ht.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(Zt){return Zt.some(function(Nt){return Nt.locked})},perform:function(Zt,Nt){var dt=Zt.filter(function(Yt){return Yt.locked});return{elements:Zt.map(function(Yt){return Yt.locked?(0,ot.BE)(Yt,{locked:!1}):Yt}),appState:st(st({},Nt),{},{selectedElementIds:Object.fromEntries(dt.map(function(Yt){return[Yt.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function($t,Vt,_){_.d(Vt,{XA:function(){return Gn},Du:function(){return Sn},sK:function(){return vn},zX:function(){return Fn},bJ:function(){return at},_d:function(){return tn},mM:function(){return Qn},ns:function(){return nn}});var Et=_(8950),ot=_(2577),it=_(7169),nt=_(2975),ht=_.n(nt),Bt=_(8935),st=_(3379),tt=_.n(st),xt=_(7795),St=_.n(xt),Zt=_(569),Nt=_.n(Zt),dt=_(3565),Yt=_.n(dt),sn=_(9216),bn=_.n(sn),pn=_(4589),mn=_.n(pn),qt=_(6759),Ut={};Ut.styleTagTransform=mn(),Ut.setAttributes=Yt(),Ut.insert=Nt().bind(null,"head"),Ut.domAPI=St(),Ut.insertStyleElement=bn(),tt()(qt.Z,Ut),qt.Z&&qt.Z.locals&&qt.Z.locals;var Kt=_(9787),yt=_(9827),Ot=_(532),Gt={};Gt.styleTagTransform=mn(),Gt.setAttributes=Yt(),Gt.insert=Nt().bind(null,"head"),Gt.domAPI=St(),Gt.insertStyleElement=bn(),tt()(Ot.Z,Gt),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;var Ct=_(8242),Xt=_(5491),ut=_(1020),ft=function(ct){var mt=(0,Ct.J0)().id,Wt=(0,Kt.useState)(ct.value),Rt=(0,ot.Z)(Wt,2),en=Rt[0],Pt=Rt[1];return(0,ut.jsxs)("div",{className:"ProjectName",children:[(0,ut.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(ct.label).concat(ct.isNameEditable?"":":")}),ct.isNameEditable?(0,ut.jsx)("input",{type:"text",className:"TextInput",onBlur:function(on){ct.ignoreFocus||(0,yt.qz)(on.target);var Bn=on.target.value;Bn!==ct.value&&ct.onChange(Bn)},onKeyDown:function(on){if(on.key===Xt.tW.ENTER){if(on.preventDefault(),on.nativeEvent.isComposing||on.keyCode===229)return;on.currentTarget.blur()}},id:"".concat(mt,"-filename"),value:en,onChange:function(on){return Pt(on.target.value)}}):(0,ut.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(mt,"-filename"),children:ct.value})]})},$=_(1512),wt=_(8925),gt=(_(3041),_(8227)),lt=_(9937),pt=function(ct){var mt=ct.title||(ct.value==="dark"?(0,gt.t)("buttons.lightMode"):(0,gt.t)("buttons.darkMode"));return(0,ut.jsx)($.V,{type:"icon",icon:ct.value===lt.C6.LIGHT?vt.MOON:vt.SUN,title:mt,"aria-label":mt,onClick:function(){return ct.onChange(ct.value===lt.C6.DARK?lt.C6.LIGHT:lt.C6.DARK)},"data-testid":"toggle-dark-mode"})},vt={SUN:(0,ut.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,ut.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,ut.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,ut.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},zt=_(2435),Qt=_(5796);function Ft(ct,mt){var Wt=Object.keys(ct);if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(ct);mt&&(Rt=Rt.filter(function(en){return Object.getOwnPropertyDescriptor(ct,en).enumerable})),Wt.push.apply(Wt,Rt)}return Wt}function At(ct){for(var mt=1;mt<arguments.length;mt++){var Wt=arguments[mt]!=null?arguments[mt]:{};mt%2?Ft(Object(Wt),!0).forEach(function(Rt){(0,it.Z)(ct,Rt,Wt[Rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(Wt)):Ft(Object(Wt)).forEach(function(Rt){Object.defineProperty(ct,Rt,Object.getOwnPropertyDescriptor(Wt,Rt))})}return ct}var Tt=function(){var ct=(0,Et.Z)(ht().mark(function mt(Wt,Rt,en){var Pt,on,Bn,yn,Wn,Vn,Hn,Zn,Kn;return ht().wrap(function(qn){for(;;)switch(qn.prev=qn.next){case 0:if(on=(Pt=Rt).exportBackground,Bn=Pt.viewBackgroundColor,yn=Pt.name,Wn=Pt.fileHandle,Vn=(0,Qt.Qk)(Wn),Wn&&(0,Qt.DQ)(Vn)){qn.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return Rt=At(At({},Rt),{},{exportEmbedScene:!0}),Hn=(0,zt.HD)(Wt,Rt,!1),Zn=Hn.exportedElements,Kn=Hn.exportingFrame,qn.next=8,(0,zt.p1)(Vn,Zn,Rt,en,{exportBackground:on,viewBackgroundColor:Bn,name:yn,fileHandle:Wn,exportingFrame:Kn});case 8:return qn.abrupt("return",{fileHandle:Wn});case 9:case"end":return qn.stop()}},mt)}));return function(mt,Wt,Rt){return ct.apply(this,arguments)}}(),jt=_(2767),un=_(6238),Jt=_(3668),hn=_(4105),rn=_(7651),Mt=_(6548);function an(ct,mt){var Wt=Object.keys(ct);if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(ct);mt&&(Rt=Rt.filter(function(en){return Object.getOwnPropertyDescriptor(ct,en).enumerable})),Wt.push.apply(Wt,Rt)}return Wt}function Cn(ct){for(var mt=1;mt<arguments.length;mt++){var Wt=arguments[mt]!=null?arguments[mt]:{};mt%2?an(Object(Wt),!0).forEach(function(Rt){(0,it.Z)(ct,Rt,Wt[Rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(Wt)):an(Object(Wt)).forEach(function(Rt){Object.defineProperty(ct,Rt,Object.getOwnPropertyDescriptor(Wt,Rt))})}return ct}var kn,jn,Dn,Fn=(0,jt.z)({name:"changeProjectName",trackEvent:!1,perform:function(ct,mt,Wt){return{appState:Cn(Cn({},mt),{},{name:Wt}),commitToHistory:!1}},PanelComponent:function(ct){var mt,Wt=ct.appState,Rt=ct.updateData,en=ct.appProps,Pt=ct.data;return(0,ut.jsx)(ft,{label:(0,gt.t)("labels.fileTitle"),value:Wt.name||"Unnamed",onChange:function(on){return Rt(on)},isNameEditable:en.name===void 0&&!Wt.viewModeEnabled,ignoreFocus:(mt=Pt==null?void 0:Pt.ignoreFocus)!==null&&mt!==void 0&&mt})}}),vn=(0,jt.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(ct,mt,Wt){return{appState:Cn(Cn({},mt),{},{exportScale:Wt}),commitToHistory:!1}},PanelComponent:function(ct){var mt=ct.elements,Wt=ct.appState,Rt=ct.updateData,en=(0,rn.Lm)(mt),Pt=(0,hn.N)(en,Wt)?(0,hn.eD)(en,Wt):en;return(0,ut.jsx)(ut.Fragment,{children:lt.ZB.map(function(on){var Bn=(0,Jt.Cg)(Pt,lt.qy,on),yn=(0,ot.Z)(Bn,2),Wn=yn[0],Vn=yn[1],Hn="".concat((0,gt.t)("imageExportDialog.label.scale")," ").concat(on,"x (").concat(Wn,"x").concat(Vn,")");return(0,ut.jsx)($.V,{size:"small",type:"radio",icon:"".concat(on,"x"),name:"export-canvas-scale",title:Hn,"aria-label":Hn,id:"export-canvas-scale",checked:on===Wt.exportScale,onChange:function(){return Rt(on)}},on)})})}}),Gn=(0,jt.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(ct,mt,Wt){return{appState:Cn(Cn({},mt),{},{exportBackground:Wt}),commitToHistory:!1}},PanelComponent:function(ct){var mt=ct.appState,Wt=ct.updateData;return(0,ut.jsx)(un.o,{checked:mt.exportBackground,onChange:function(Rt){return Wt(Rt)},children:(0,gt.t)("imageExportDialog.label.withBackground")})}}),Sn=(0,jt.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(ct,mt,Wt){return{appState:Cn(Cn({},mt),{},{exportEmbedScene:Wt}),commitToHistory:!1}},PanelComponent:function(ct){var mt=ct.appState,Wt=ct.updateData;return(0,ut.jsxs)(un.o,{checked:mt.exportEmbedScene,onChange:function(Rt){return Wt(Rt)},children:[(0,gt.t)("imageExportDialog.label.embedScene"),(0,ut.jsx)(wt.u,{label:(0,gt.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,ut.jsx)("div",{className:"excalidraw-tooltip-icon",children:Bt.Vl})})]})}}),nn=(0,jt.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(ct,mt,Wt,Rt){return!!Rt.props.UIOptions.canvasActions.saveToActiveFile&&!!mt.fileHandle&&!mt.viewModeEnabled},perform:(kn=(0,Et.Z)(ht().mark(function ct(mt,Wt,Rt,en){var Pt,on,Bn;return ht().wrap(function(yn){for(;;)switch(yn.prev=yn.next){case 0:if(Pt=!!Wt.fileHandle,yn.prev=1,!(0,Qt.g8)(Wt.fileHandle)){yn.next=8;break}return yn.next=5,Tt(mt,Wt,en.files);case 5:yn.t0=yn.sent,yn.next=11;break;case 8:return yn.next=10,(0,zt.Um)(mt,Wt,en.files);case 10:yn.t0=yn.sent;case 11:return on=yn.t0,Bn=on.fileHandle,yn.abrupt("return",{commitToHistory:!1,appState:Cn(Cn({},Wt),{},{fileHandle:Bn,toast:Pt?{message:Bn!=null&&Bn.name?(0,gt.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Bn.name,'"')):(0,gt.t)("toast.fileSaved")}:null})});case 16:return yn.prev=16,yn.t1=yn.catch(1),(yn.t1===null||yn.t1===void 0?void 0:yn.t1.name)!=="AbortError"?console.error(yn.t1):console.warn(yn.t1),yn.abrupt("return",{commitToHistory:!1});case 20:case"end":return yn.stop()}},ct,null,[[1,16]])})),function(ct,mt,Wt,Rt){return kn.apply(this,arguments)}),keyTest:function(ct){return ct.key===Xt.tW.S&&ct[Xt.tW.CTRL_OR_CMD]&&!ct.shiftKey}}),Qn=(0,jt.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(jn=(0,Et.Z)(ht().mark(function ct(mt,Wt,Rt,en){var Pt,on;return ht().wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:return Bn.prev=0,Bn.next=3,(0,zt.Um)(mt,Cn(Cn({},Wt),{},{fileHandle:null}),en.files);case 3:return Pt=Bn.sent,on=Pt.fileHandle,Bn.abrupt("return",{commitToHistory:!1,appState:Cn(Cn({},Wt),{},{openDialog:null,fileHandle:on,toast:{message:(0,gt.t)("toast.fileSaved")}})});case 8:return Bn.prev=8,Bn.t0=Bn.catch(0),(Bn.t0===null||Bn.t0===void 0?void 0:Bn.t0.name)!=="AbortError"?console.error(Bn.t0):console.warn(Bn.t0),Bn.abrupt("return",{commitToHistory:!1});case 12:case"end":return Bn.stop()}},ct,null,[[0,8]])})),function(ct,mt,Wt,Rt){return jn.apply(this,arguments)}),keyTest:function(ct){return ct.key===Xt.tW.S&&ct.shiftKey&&ct[Xt.tW.CTRL_OR_CMD]},PanelComponent:function(ct){var mt=ct.updateData;return(0,ut.jsx)($.V,{type:"button",icon:Bt.po,title:(0,gt.t)("buttons.saveAs"),"aria-label":(0,gt.t)("buttons.saveAs"),showAriaLabel:(0,Ct.Fy)().editor.isMobile,hidden:!Mt.kr,onClick:function(){return mt(null)},"data-testid":"save-as-button"})}}),tn=(0,jt.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(ct,mt,Wt,Rt){return!!Rt.props.UIOptions.canvasActions.loadScene&&!mt.viewModeEnabled},perform:(Dn=(0,Et.Z)(ht().mark(function ct(mt,Wt,Rt,en){var Pt,on,Bn,yn;return ht().wrap(function(Wn){for(;;)switch(Wn.prev=Wn.next){case 0:return Wn.prev=0,Wn.next=3,(0,zt.n8)(Wt,mt);case 3:return Pt=Wn.sent,on=Pt.elements,Bn=Pt.appState,yn=Pt.files,Wn.abrupt("return",{elements:on,appState:Bn,files:yn,commitToHistory:!0});case 10:if(Wn.prev=10,Wn.t0=Wn.catch(0),(Wn.t0===null||Wn.t0===void 0?void 0:Wn.t0.name)!=="AbortError"){Wn.next=15;break}return console.warn(Wn.t0),Wn.abrupt("return",!1);case 15:return Wn.abrupt("return",{elements:mt,appState:Cn(Cn({},Wt),{},{errorMessage:Wn.t0.message}),files:en.files,commitToHistory:!1});case 16:case"end":return Wn.stop()}},ct,null,[[0,10]])})),function(ct,mt,Wt,Rt){return Dn.apply(this,arguments)}),keyTest:function(ct){return ct[Xt.tW.CTRL_OR_CMD]&&ct.key===Xt.tW.O}}),at=(0,jt.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(ct,mt,Wt){return{appState:Cn(Cn({},mt),{},{exportWithDarkMode:Wt}),commitToHistory:!1}},PanelComponent:function(ct){var mt=ct.appState,Wt=ct.updateData;return(0,ut.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,ut.jsx)(pt,{value:mt.exportWithDarkMode?lt.C6.DARK:lt.C6.LIGHT,onChange:function(Rt){Wt(Rt===lt.C6.DARK)},title:(0,gt.t)("imageExportDialog.label.darkMode")})})}})},3361:function($t,Vt,_){_.d(Vt,{Tu:function(){return jn},Zq:function(){return Dn}});var Et=_(1930),ot=_(7169),it=_(9240),nt=_(3646),ht=_(45),Bt=_(1020),st=function(Fn){return(0,Bt.jsx)("div",{className:"buttonList buttonListIcon",children:Fn.options.map(function(vn){var Gn;return Fn.type==="button"?(0,Bt.jsx)("button",{onClick:function(Sn){return Fn.onClick(vn.value,Sn)},className:(0,ht.Z)({active:(Gn=vn.active)!==null&&Gn!==void 0?Gn:Fn.value===vn.value}),"data-testid":vn.testId,title:vn.text,children:vn.icon},vn.text):(0,Bt.jsxs)("label",{className:(0,ht.Z)({active:Fn.value===vn.value}),title:vn.text,children:[(0,Bt.jsx)("input",{type:"radio",name:Fn.group,onChange:function(){return Fn.onChange(vn.value)},checked:Fn.value===vn.value,"data-testid":vn.testId}),vn.icon]},vn.text)})})},tt=_(193),xt=_(2577),St=_(9787),Zt=_.n(St),Nt=_(3204),dt=_(3379),Yt=_.n(dt),sn=_(7795),bn=_.n(sn),pn=_(569),mn=_.n(pn),qt=_(3565),Ut=_.n(qt),Kt=_(9216),yt=_.n(Kt),Ot=_(4589),Gt=_.n(Ot),Ct=_(9478),Xt={};Xt.styleTagTransform=Gt(),Xt.setAttributes=Ut(),Xt.insert=mn().bind(null,"head"),Xt.domAPI=bn(),Xt.insertStyleElement=yt(),Yt()(Ct.Z,Xt),Ct.Z&&Ct.Z.locals&&Ct.Z.locals;var ut=_(5491),ft=_(8227);function $(Fn,vn){var Gn=Object.keys(Fn);if(Object.getOwnPropertySymbols){var Sn=Object.getOwnPropertySymbols(Fn);vn&&(Sn=Sn.filter(function(nn){return Object.getOwnPropertyDescriptor(Fn,nn).enumerable})),Gn.push.apply(Gn,Sn)}return Gn}function wt(Fn){for(var vn=1;vn<arguments.length;vn++){var Gn=arguments[vn]!=null?arguments[vn]:{};vn%2?$(Object(Gn),!0).forEach(function(Sn){(0,ot.Z)(Fn,Sn,Gn[Sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fn,Object.getOwnPropertyDescriptors(Gn)):$(Object(Gn)).forEach(function(Sn){Object.defineProperty(Fn,Sn,Object.getOwnPropertyDescriptor(Gn,Sn))})}return Fn}function gt(Fn){var vn=Fn.options,Gn=Fn.value,Sn=Fn.label,nn=Fn.onChange,Qn=Fn.onClose,tn=Zt().useRef(),at=Zt().useRef(),ct=Zt().useRef(null);return Zt().useEffect(function(){at.current?at.current.focus():ct.current&&ct.current.focus()},[]),(0,Bt.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Sn,onKeyDown:function(mt){var Wt=vn.find(function(Wn){return Wn.keyBinding===mt.key.toLowerCase()});if(mt.metaKey||mt.altKey||mt.ctrlKey||!Wt)if(mt.key===ut.tW.TAB)setTimeout(function(){at.current!==document.activeElement&&Qn()},0);else if((0,ut.Wl)(mt.key)){var Rt=document.activeElement,en=(0,ft.G3)().rtl,Pt=Array.prototype.indexOf.call(ct.current.children,Rt);if(Pt!==-1){var on=vn.length,Bn=Pt;switch(mt.key){case(en?ut.tW.ARROW_LEFT:ut.tW.ARROW_RIGHT):case ut.tW.ARROW_DOWN:Bn=(Pt+1)%on;break;case(en?ut.tW.ARROW_RIGHT:ut.tW.ARROW_LEFT):case ut.tW.ARROW_UP:Bn=(on+Pt-1)%on}ct.current.children[Bn].focus()}mt.preventDefault()}else mt.key!==ut.tW.ESCAPE&&mt.key!==ut.tW.ENTER||(mt.preventDefault(),Qn());else{var yn=vn.indexOf(Wt);ct.current.children[yn].focus(),mt.preventDefault()}mt.nativeEvent.stopImmediatePropagation(),mt.stopPropagation()},children:(0,Bt.jsx)("div",{className:"picker-content",ref:ct,children:vn.map(function(mt,Wt){return(0,Bt.jsxs)("button",{className:(0,ht.Z)("picker-option",{active:Gn===mt.value}),onClick:function(Rt){Rt.currentTarget.focus(),nn(mt.value)},title:"".concat(mt.text," — ").concat(mt.keyBinding.toUpperCase()),"aria-label":mt.text||"none","aria-keyshortcuts":mt.keyBinding,ref:function(Rt){Rt&&Wt===0&&(tn.current=Rt),Rt&&mt.value===Gn&&(at.current=Rt)},onFocus:function(){nn(mt.value)},children:[mt.icon,(0,Bt.jsx)("span",{className:"picker-keybinding",children:mt.keyBinding})]},mt.text)})})})}function lt(Fn){var vn,Gn=Fn.value,Sn=Fn.label,nn=Fn.options,Qn=Fn.onChange,tn=Fn.group,at=tn===void 0?"":tn,ct=Zt().useState(!1),mt=(0,xt.Z)(ct,2),Wt=mt[0],Rt=mt[1],en=Zt().useRef(null),Pt=(0,ft.G3)().rtl;return(0,Bt.jsxs)("div",{children:[(0,Bt.jsx)("button",{name:at,className:Wt?"active":"","aria-label":Sn,onClick:function(){return Rt(!Wt)},ref:en,children:(vn=nn.find(function(on){return on.value===Gn}))===null||vn===void 0?void 0:vn.icon}),(0,Bt.jsx)(Zt().Suspense,{fallback:"",children:Wt?(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)(Nt.J,wt(wt({onCloseRequest:function(on){return on.target!==en.current&&Rt(!1)}},Pt?{right:5.5}:{left:-5.5}),{},{children:(0,Bt.jsx)(gt,{options:nn,value:Gn,label:Sn,onChange:Qn,onClose:function(){var on;Rt(!1),(on=en.current)===null||on===void 0||on.focus()}})})),(0,Bt.jsx)("div",{className:"picker-triangle"})]}):null})]})}var pt=_(8935),vt=_(9937),zt=_(7651),Qt=_(583),Ft=_(4761),At=_(4183),Tt=_(4643),jt=_(4105),un=_(1648),Jt=_(9827),hn=_(2767);function rn(Fn,vn){var Gn=Object.keys(Fn);if(Object.getOwnPropertySymbols){var Sn=Object.getOwnPropertySymbols(Fn);vn&&(Sn=Sn.filter(function(nn){return Object.getOwnPropertyDescriptor(Fn,nn).enumerable})),Gn.push.apply(Gn,Sn)}return Gn}function Mt(Fn){for(var vn=1;vn<arguments.length;vn++){var Gn=arguments[vn]!=null?arguments[vn]:{};vn%2?rn(Object(Gn),!0).forEach(function(Sn){(0,ot.Z)(Fn,Sn,Gn[Sn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fn,Object.getOwnPropertyDescriptors(Gn)):rn(Object(Gn)).forEach(function(Sn){Object.defineProperty(Fn,Sn,Object.getOwnPropertyDescriptor(Gn,Sn))})}return Fn}var an=function(Fn,vn,Gn){var Sn=arguments.length>3&&arguments[3]!==void 0&&arguments[3],nn=(0,Jt.xn)((0,jt.eD)(Fn,vn,{includeBoundTextElement:Sn}));return Fn.map(function(Qn){var tn;return nn.get(Qn.id)||Qn.id===((tn=vn.editingElement)===null||tn===void 0?void 0:tn.id)?Gn(Qn):Qn})},Cn=function(Fn,vn,Gn,Sn,nn){var Qn,tn=vn.editingElement,at=(0,zt.Lm)(Fn),ct=null;return tn&&(ct=Gn(tn)),ct||(ct=(0,jt.N)(at,vn)?(Qn=(0,jt.PR)(Sn===!0?at:at.filter(function(mt){return Sn(mt)}),vn,Gn))!==null&&Qn!==void 0?Qn:typeof nn=="function"?nn(!0):nn:typeof nn=="function"?nn(!1):nn),ct},kn=function(Fn,vn,Gn,Sn){var nn=new Set;return{elements:an(Fn,vn,function(Qn){if((0,zt.iB)(Qn)){var tn=Gn(Qn);nn.add(tn);var at=(0,Qt.BE)(Qn,{fontSize:tn});return(0,zt.oN)(at,(0,Ft.tl)(Qn)),ct=Qn,mt=at,at=(0,At.Xh)(mt)?mt:(0,Qt.DR)(mt,{x:ct.textAlign==="left"?ct.x:ct.x+(ct.width-mt.width)/(ct.textAlign==="center"?2:1),y:ct.y+(ct.height-mt.height)/2},!1)}var ct,mt;return Qn},!0),appState:Mt(Mt({},vn),{},{currentItemFontSize:nn.size===1?(0,Et.Z)(nn)[0]:Sn??vn.currentItemFontSize}),commitToHistory:!0}},jn=((0,hn.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Fn,vn,Gn){return Mt(Mt({},Gn.currentItemStrokeColor&&{elements:an(Fn,vn,function(Sn){return(0,un.PD)(Sn.type)?(0,Qt.BE)(Sn,{strokeColor:Gn.currentItemStrokeColor}):Sn},!0)}),{},{appState:Mt(Mt({},vn),Gn),commitToHistory:!!Gn.currentItemStrokeColor})},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return Fn.appProps,(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("h3",{"aria-hidden":"true",children:(0,ft.t)("labels.stroke")}),(0,Bt.jsx)(tt.z,{topPicks:it.fY,palette:it.Wk,type:"elementStroke",label:(0,ft.t)("labels.stroke"),color:Cn(vn,Gn,function(nn){return nn.strokeColor},!0,Gn.currentItemStrokeColor),onChange:function(nn){return Sn({currentItemStrokeColor:nn})},elements:vn,appState:Gn,updateData:Sn})]})}}),(0,hn.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Fn,vn,Gn){return Mt(Mt({},Gn.currentItemBackgroundColor&&{elements:an(Fn,vn,function(Sn){return(0,Qt.BE)(Sn,{backgroundColor:Gn.currentItemBackgroundColor})})}),{},{appState:Mt(Mt({},vn),Gn),commitToHistory:!!Gn.currentItemBackgroundColor})},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return Fn.appProps,(0,Bt.jsxs)(Bt.Fragment,{children:[(0,Bt.jsx)("h3",{"aria-hidden":"true",children:(0,ft.t)("labels.background")}),(0,Bt.jsx)(tt.z,{topPicks:it.eq,palette:it.SF,type:"elementBackground",label:(0,ft.t)("labels.background"),color:Cn(vn,Gn,function(nn){return nn.backgroundColor},!0,Gn.currentItemBackgroundColor),onChange:function(nn){return Sn({currentItemBackgroundColor:nn})},elements:vn,appState:Gn,updateData:Sn})]})}}),(0,hn.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Fn,vn,Gn,Sn){return(0,nt.L)("element","changeFillStyle","".concat(Gn," (").concat(Sn.device.editor.isMobile?"mobile":"desktop",")")),{elements:an(Fn,vn,function(nn){return(0,Qt.BE)(nn,{fillStyle:Gn})}),appState:Mt(Mt({},vn),{},{currentItemFillStyle:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData,nn=(0,jt.eD)(vn,Gn),Qn=nn.length>0&&nn.every(function(tn){return tn.fillStyle==="zigzag"});return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.fill")}),(0,Bt.jsx)(st,{type:"button",options:[{value:"hachure",text:"".concat(Qn?(0,ft.t)("labels.zigzag"):(0,ft.t)("labels.hachure")," (").concat((0,Jt.uY)("Alt-Click"),")"),icon:Qn?pt.lF:pt.a0,active:!!Qn||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,ft.t)("labels.crossHatch"),icon:pt.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,ft.t)("labels.solid"),icon:pt.X7,testId:"fill-solid"}],value:Cn(vn,Gn,function(tn){return tn.fillStyle},function(tn){return tn.hasOwnProperty("fillStyle")},function(tn){return tn?null:Gn.currentItemFillStyle}),onClick:function(tn,at){var ct=at.altKey&&tn==="hachure"&&nn.every(function(mt){return mt.fillStyle==="hachure"})?"zigzag":tn;Sn(ct)}})]})}}),(0,hn.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){return(0,Qt.BE)(Sn,{strokeWidth:Gn})}),appState:Mt(Mt({},vn),{},{currentItemStrokeWidth:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.strokeWidth")}),(0,Bt.jsx)(st,{group:"stroke-width",options:[{value:vt.dg.thin,text:(0,ft.t)("labels.thin"),icon:pt.ZA,testId:"strokeWidth-thin"},{value:vt.dg.bold,text:(0,ft.t)("labels.bold"),icon:pt.Wl,testId:"strokeWidth-bold"},{value:vt.dg.extraBold,text:(0,ft.t)("labels.extraBold"),icon:pt.m9,testId:"strokeWidth-extraBold"}],value:Cn(vn,Gn,function(nn){return nn.strokeWidth},function(nn){return nn.hasOwnProperty("strokeWidth")},function(nn){return nn?null:Gn.currentItemStrokeWidth}),onChange:function(nn){return Sn(nn)}})]})}}),(0,hn.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){return(0,Qt.BE)(Sn,{seed:(0,Tt.LU)(),roughness:Gn})}),appState:Mt(Mt({},vn),{},{currentItemRoughness:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.sloppiness")}),(0,Bt.jsx)(st,{group:"sloppiness",options:[{value:0,text:(0,ft.t)("labels.architect"),icon:pt.bf},{value:1,text:(0,ft.t)("labels.artist"),icon:pt.kM},{value:2,text:(0,ft.t)("labels.cartoonist"),icon:pt.W2}],value:Cn(vn,Gn,function(nn){return nn.roughness},function(nn){return nn.hasOwnProperty("roughness")},function(nn){return nn?null:Gn.currentItemRoughness}),onChange:function(nn){return Sn(nn)}})]})}}),(0,hn.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){return(0,Qt.BE)(Sn,{strokeStyle:Gn})}),appState:Mt(Mt({},vn),{},{currentItemStrokeStyle:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.strokeStyle")}),(0,Bt.jsx)(st,{group:"strokeStyle",options:[{value:"solid",text:(0,ft.t)("labels.strokeStyle_solid"),icon:pt.ZA},{value:"dashed",text:(0,ft.t)("labels.strokeStyle_dashed"),icon:pt.a5},{value:"dotted",text:(0,ft.t)("labels.strokeStyle_dotted"),icon:pt.aT}],value:Cn(vn,Gn,function(nn){return nn.strokeStyle},function(nn){return nn.hasOwnProperty("strokeStyle")},function(nn){return nn?null:Gn.currentItemStrokeStyle}),onChange:function(nn){return Sn(nn)}})]})}}),(0,hn.z)({name:"changeOpacity",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){return(0,Qt.BE)(Sn,{opacity:Gn})},!0),appState:Mt(Mt({},vn),{},{currentItemOpacity:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn,Gn=Fn.elements,Sn=Fn.appState,nn=Fn.updateData;return(0,Bt.jsxs)("label",{className:"control-label",children:[(0,ft.t)("labels.opacity"),(0,Bt.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(Qn){return nn(+Qn.target.value)},value:(vn=Cn(Gn,Sn,function(Qn){return Qn.opacity},!0,Sn.currentItemOpacity))!==null&&vn!==void 0?vn:void 0})]})}}),(0,hn.z)({name:"changeFontSize",trackEvent:!1,perform:function(Fn,vn,Gn){return kn(Fn,vn,function(){return Gn},Gn)},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.fontSize")}),(0,Bt.jsx)(st,{group:"font-size",options:[{value:16,text:(0,ft.t)("labels.small"),icon:pt.q0,testId:"fontSize-small"},{value:20,text:(0,ft.t)("labels.medium"),icon:pt.nq,testId:"fontSize-medium"},{value:28,text:(0,ft.t)("labels.large"),icon:pt.tW,testId:"fontSize-large"},{value:36,text:(0,ft.t)("labels.veryLarge"),icon:pt.OA,testId:"fontSize-veryLarge"}],value:Cn(vn,Gn,function(nn){if((0,zt.iB)(nn))return nn.fontSize;var Qn=(0,Ft.WJ)(nn);return Qn?Qn.fontSize:null},function(nn){return(0,zt.iB)(nn)||(0,Ft.WJ)(nn)!==null},function(nn){return nn?null:Gn.currentItemFontSize||vt.n5}),onChange:function(nn){return Sn(nn)}})]})}}),(0,hn.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Fn,vn,Gn){return kn(Fn,vn,function(Sn){return Math.round(1/1.1*Sn.fontSize)})},keyTest:function(Fn){return Fn[ut.tW.CTRL_OR_CMD]&&Fn.shiftKey&&(Fn.key===ut.tW.CHEVRON_LEFT||Fn.key===ut.tW.COMMA)}})),Dn=(0,hn.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Fn,vn,Gn){return kn(Fn,vn,function(Sn){return Math.round(1.1*Sn.fontSize)})},keyTest:function(Fn){return Fn[ut.tW.CTRL_OR_CMD]&&Fn.shiftKey&&(Fn.key===ut.tW.CHEVRON_RIGHT||Fn.key===ut.tW.PERIOD)}});(0,hn.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){if((0,zt.iB)(Sn)){var nn=(0,Qt.BE)(Sn,{fontFamily:Gn,lineHeight:(0,Ft.PT)(Gn)});return(0,zt.oN)(nn,(0,Ft.tl)(Sn)),nn}return Sn},!0),appState:Mt(Mt({},vn),{},{currentItemFontFamily:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData,nn=[{value:vt.ut.Virgil,text:(0,ft.t)("labels.handDrawn"),icon:pt.Pm,testId:"font-family-virgil"},{value:vt.ut.Helvetica,text:(0,ft.t)("labels.normal"),icon:pt.vo,testId:"font-family-normal"},{value:vt.ut.Cascadia,text:(0,ft.t)("labels.code"),icon:pt.z6,testId:"font-family-code"}];return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.fontFamily")}),(0,Bt.jsx)(st,{group:"font-family",options:nn,value:Cn(vn,Gn,function(Qn){if((0,zt.iB)(Qn))return Qn.fontFamily;var tn=(0,Ft.WJ)(Qn);return tn?tn.fontFamily:null},function(Qn){return(0,zt.iB)(Qn)||(0,Ft.WJ)(Qn)!==null},function(Qn){return Qn?null:Gn.currentItemFontFamily||vt.rk}),onChange:function(Qn){return Sn(Qn)}})]})}}),(0,hn.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){if((0,zt.iB)(Sn)){var nn=(0,Qt.BE)(Sn,{textAlign:Gn});return(0,zt.oN)(nn,(0,Ft.tl)(Sn)),nn}return Sn},!0),appState:Mt(Mt({},vn),{},{currentItemTextAlign:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.textAlign")}),(0,Bt.jsx)(st,{group:"text-align",options:[{value:"left",text:(0,ft.t)("labels.left"),icon:pt.rr,testId:"align-left"},{value:"center",text:(0,ft.t)("labels.center"),icon:pt.o3,testId:"align-horizontal-center"},{value:"right",text:(0,ft.t)("labels.right"),icon:pt.oT,testId:"align-right"}],value:Cn(vn,Gn,function(nn){if((0,zt.iB)(nn))return nn.textAlign;var Qn=(0,Ft.WJ)(nn);return Qn?Qn.textAlign:null},function(nn){return(0,zt.iB)(nn)||(0,Ft.WJ)(nn)!==null},function(nn){return nn?null:Gn.currentItemTextAlign}),onChange:function(nn){return Sn(nn)}})]})}}),(0,hn.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){if((0,zt.iB)(Sn)){var nn=(0,Qt.BE)(Sn,{verticalAlign:Gn});return(0,zt.oN)(nn,(0,Ft.tl)(Sn)),nn}return Sn},!0),appState:Mt({},vn),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData;return(0,Bt.jsx)("fieldset",{children:(0,Bt.jsx)(st,{group:"text-align",options:[{value:vt.oX.TOP,text:(0,ft.t)("labels.alignTop"),icon:(0,Bt.jsx)(pt.EO,{theme:Gn.theme}),testId:"align-top"},{value:vt.oX.MIDDLE,text:(0,ft.t)("labels.centerVertically"),icon:(0,Bt.jsx)(pt.P7,{theme:Gn.theme}),testId:"align-middle"},{value:vt.oX.BOTTOM,text:(0,ft.t)("labels.alignBottom"),icon:(0,Bt.jsx)(pt.aA,{theme:Gn.theme}),testId:"align-bottom"}],value:Cn(vn,Gn,function(nn){if((0,zt.iB)(nn)&&nn.containerId)return nn.verticalAlign;var Qn=(0,Ft.WJ)(nn);return Qn?Qn.verticalAlign:null},function(nn){return(0,zt.iB)(nn)||(0,Ft.WJ)(nn)!==null},function(nn){return nn?null:vt.oX.MIDDLE}),onChange:function(nn){return Sn(nn)}})})}}),(0,hn.z)({name:"changeRoundness",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){return(0,Qt.BE)(Sn,{roundness:Gn==="round"?{type:(0,At.QI)(Sn.type)?vt.a6.ADAPTIVE_RADIUS:vt.a6.PROPORTIONAL_RADIUS}:null})}),appState:Mt(Mt({},vn),{},{currentItemRoundness:Gn}),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData,nn=(0,jt.Zs)((0,zt.Lm)(vn),Gn).some(function(Qn){var tn;return((tn=Qn.roundness)===null||tn===void 0?void 0:tn.type)===vt.a6.LEGACY});return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.edges")}),(0,Bt.jsx)(st,{group:"edges",options:[{value:"sharp",text:(0,ft.t)("labels.sharp"),icon:pt.wr},{value:"round",text:(0,ft.t)("labels.round"),icon:pt.DS}],value:Cn(vn,Gn,function(Qn){return nn?null:Qn.roundness?"round":"sharp"},function(Qn){return Qn.hasOwnProperty("roundness")},function(Qn){return Qn?null:Gn.currentItemRoundness}),onChange:function(Qn){return Sn(Qn)}})]})}}),(0,hn.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Fn,vn,Gn){return{elements:an(Fn,vn,function(Sn){if((0,At.bt)(Sn)){var nn=Gn.position,Qn=Gn.type;if(nn==="start")return(0,Qt.BE)(Sn,{startArrowhead:Qn});if(nn==="end")return(0,Qt.BE)(Sn,{endArrowhead:Qn})}return Sn}),appState:Mt(Mt({},vn),{},(0,ot.Z)({},Gn.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Gn.type)),commitToHistory:!0}},PanelComponent:function(Fn){var vn=Fn.elements,Gn=Fn.appState,Sn=Fn.updateData,nn=(0,ft.G3)().rtl;return(0,Bt.jsxs)("fieldset",{children:[(0,Bt.jsx)("legend",{children:(0,ft.t)("labels.arrowheads")}),(0,Bt.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,Bt.jsx)(lt,{label:"arrowhead_start",options:[{value:null,text:(0,ft.t)("labels.arrowhead_none"),icon:pt.fr,keyBinding:"q"},{value:"arrow",text:(0,ft.t)("labels.arrowhead_arrow"),icon:(0,Bt.jsx)(pt.il,{flip:!nn}),keyBinding:"w"},{value:"bar",text:(0,ft.t)("labels.arrowhead_bar"),icon:(0,Bt.jsx)(pt.m,{flip:!nn}),keyBinding:"e"},{value:"dot",text:(0,ft.t)("labels.arrowhead_dot"),icon:(0,Bt.jsx)(pt.tn,{flip:!nn}),keyBinding:"r"},{value:"triangle",text:(0,ft.t)("labels.arrowhead_triangle"),icon:(0,Bt.jsx)(pt.j8,{flip:!nn}),keyBinding:"t"}],value:Cn(vn,Gn,function(Qn){return(0,At.bt)(Qn)&&(0,jt.Un)(Qn.type)?Qn.startArrowhead:Gn.currentItemStartArrowhead},!0,Gn.currentItemStartArrowhead),onChange:function(Qn){return Sn({position:"start",type:Qn})}}),(0,Bt.jsx)(lt,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,ft.t)("labels.arrowhead_none"),keyBinding:"q",icon:pt.fr},{value:"arrow",text:(0,ft.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,Bt.jsx)(pt.il,{flip:nn})},{value:"bar",text:(0,ft.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,Bt.jsx)(pt.m,{flip:nn})},{value:"dot",text:(0,ft.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,Bt.jsx)(pt.tn,{flip:nn})},{value:"triangle",text:(0,ft.t)("labels.arrowhead_triangle"),icon:(0,Bt.jsx)(pt.j8,{flip:nn}),keyBinding:"t"}],value:Cn(vn,Gn,function(Qn){return(0,At.bt)(Qn)&&(0,jt.Un)(Qn.type)?Qn.endArrowhead:Gn.currentItemEndArrowhead},!0,Gn.currentItemEndArrowhead),onChange:function(Qn){return Sn({position:"end",type:Qn})}})]})]})}})},7080:function($t,Vt,_){_.d(Vt,{u:function(){return Bt}});var Et=_(7169),ot=_(2767),it=_(5491);function nt(st,tt){var xt=Object.keys(st);if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(st);tt&&(St=St.filter(function(Zt){return Object.getOwnPropertyDescriptor(st,Zt).enumerable})),xt.push.apply(xt,St)}return xt}function ht(st){for(var tt=1;tt<arguments.length;tt++){var xt=arguments[tt]!=null?arguments[tt]:{};tt%2?nt(Object(xt),!0).forEach(function(St){(0,Et.Z)(st,St,xt[St])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(xt)):nt(Object(xt)).forEach(function(St){Object.defineProperty(st,St,Object.getOwnPropertyDescriptor(xt,St))})}return st}var Bt=(0,ot.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(st,tt){return{appState:ht(ht({},tt),{},{showStats:!this.checked(tt)}),commitToHistory:!1}},checked:function(st){return st.showStats},contextItemLabel:"stats.title",keyTest:function(st){return!st[it.tW.CTRL_OR_CMD]&&st.altKey&&st.code===it.aU.SLASH}})},5463:function($t,Vt,_){_.d(Vt,{FL:function(){return Zr},vD:function(){return Kl.vD},yA:function(){return gt},BZ:function(){return pt},mo:function(){return nn.mo},uN:function(){return mo.uN},jK:function(){return mo.jK},FA:function(){return mo.FA},pw:function(){return on},ZM:function(){return mo.ZM},X9:function(){return Et.X},xF:function(){return Gn},pL:function(){return mt},jl:function(){return lo},kt:function(){return eo},EQ:function(){return On},nz:function(){return rs.nz},_d:function(){return Wt._d},W3:function(){return Bn},mM:function(){return Wt.mM},ns:function(){return Wt.ns},Yy:function(){return jt},V:function(){return wt},zi:function(){return lt},jY:function(){return Vn},$h:function(){return is.$},Pb:function(){return co},Qs:function(){return gs},pm:function(){return Fl},u0:function(){return Ll.u},Zp:function(){return nn.Zp},JN:function(){return Lo},y7:function(){return Kl.y7},s:function(){return _n},zp:function(){return mo.zp}});var Et=_(2448),ot=_(2577),it=_(1930),nt=_(583),ht=_(4183),Bt=_(9215),st=_(4105),tt=_(457),xt=_(9827);function St(cn,wn){var Tn=typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Tn){if(Array.isArray(cn)||(Tn=function(vr,ba){if(vr){if(typeof vr=="string")return Zt(vr,ba);var _a=Object.prototype.toString.call(vr).slice(8,-1);if(_a==="Object"&&vr.constructor&&(_a=vr.constructor.name),_a==="Map"||_a==="Set")return Array.from(vr);if(_a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_a))return Zt(vr,ba)}}(cn))||wn){Tn&&(cn=Tn);var Ln=0,Ar=function(){};return{s:Ar,n:function(){return Ln>=cn.length?{done:!0}:{done:!1,value:cn[Ln++]}},e:function(vr){throw vr},f:Ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $r,zr=!0,xa=!1;return{s:function(){Tn=Tn.call(cn)},n:function(){var vr=Tn.next();return zr=vr.done,vr},e:function(vr){xa=!0,$r=vr},f:function(){try{zr||Tn.return==null||Tn.return()}finally{if(xa)throw $r}}}}function Zt(cn,wn){(wn==null||wn>cn.length)&&(wn=cn.length);for(var Tn=0,Ln=new Array(wn);Tn<wn;Tn++)Ln[Tn]=cn[Tn];return Ln}var Nt=function(cn,wn){return cn.frameId===wn||cn.id===wn},dt=function(cn,wn,Tn){for(var Ln=[],Ar=[],$r=null,zr=-1,xa=(0,xt.xn)(Tn||(0,st.eD)(cn,wn,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++zr<cn.length;){var vr=cn[zr];xa.get(vr.id)?(Ar.length&&(Ln=Ln.concat(Ar),Ar=[]),Ln.push(zr),$r=zr+1):vr.isDeleted&&$r===zr?($r=zr+1,Ar.push(zr)):Ar=[]}return Ln},Yt=function(cn,wn,Tn){if("containerId"in cn&&cn.containerId){if(Tn!=="left")return wn.indexOf(cn);var Ln=tt.Z.getScene(cn).getElement(cn.containerId);if(Ln)return wn.indexOf(Ln)}else{var Ar,$r,zr=(Ar=cn.boundElements)===null||Ar===void 0||($r=Ar.find(function(vr){return vr.type!=="arrow"}))===null||$r===void 0?void 0:$r.id;if(zr){if(Tn==="left")return wn.indexOf(cn);var xa=tt.Z.getScene(cn).getElement(zr);if(xa)return wn.indexOf(xa)}}},sn=function(cn,wn,Tn,Ln,Ar){var $r,zr,xa,vr,ba,_a=wn[Tn],Fo=function(Al){return!Al.isDeleted&&(Ar?Al.frameId===Ar:!cn.editingGroupId||Al.groupIds.includes(cn.editingGroupId))},Uo=Ln==="left"?(0,xt.qr)(wn,function(Al){return Fo(Al)},Math.max(0,Tn-1)):(0,xt.cx)(wn,function(Al){return Fo(Al)},Tn+1),Go=wn[Uo];if(!Go)return-1;if(cn.editingGroupId){var Yo;if((_a==null?void 0:_a.groupIds.join(""))===(Go==null?void 0:Go.groupIds.join("")))return(Yo=Yt(Go,wn,Ln))!==null&&Yo!==void 0?Yo:Uo;if(Go==null||!Go.groupIds.includes(cn.editingGroupId))return-1}if(!Ar&&(Go.frameId||Go.type==="frame")){var Vo=($r=wn,zr=Go.frameId||Go.id,xa=-1,vr=-1,$r.forEach(function(Al,ns){Nt(Al,zr)&&(xa===-1&&(xa=ns),vr=ns)}),xa===-1?[]:$r.slice(xa,vr+1));return Ln==="left"?wn.indexOf(Vo[0]):wn.indexOf(Vo[Vo.length-1])}if(!Go.groupIds.length)return(ba=Yt(Go,wn,Ln))!==null&&ba!==void 0?ba:Uo;var Qo=cn.editingGroupId?Go.groupIds[Go.groupIds.indexOf(cn.editingGroupId)-1]:Go.groupIds[Go.groupIds.length-1],Ko=(0,Bt.Fb)(wn,Qo);return Ko.length?Ln==="left"?wn.indexOf(Ko[0]):wn.indexOf(Ko[Ko.length-1]):Uo},bn=function(cn,wn){return wn.reduce(function(Tn,Ln){var Ar=cn[Ln];return Tn[Ar.id]=Ar,Tn},{})},pn=function(cn,wn,Tn){var Ln=dt(cn,wn),Ar=bn(cn,Ln),$r=function(xa){var vr=0;return xa.reduce(function(ba,_a,Fo){return Fo>0&&xa[Fo-1]!==_a-1&&(vr=++vr),(ba[vr]||(ba[vr]=[])).push(_a),ba},[])}(Ln);Tn==="right"&&($r=$r.reverse());var zr=new Set(Ln.filter(function(xa){return cn[xa].type==="frame"}).map(function(xa){return cn[xa].id}));return $r.forEach(function(xa,vr){var ba,_a=xa[0],Fo=xa[xa.length-1],Uo=Tn==="left"?_a:Fo,Go=xa.some(function(ns){var ls=cn[ns];return ls.frameId&&zr.has(ls.frameId)})?null:(ba=cn[Uo])===null||ba===void 0?void 0:ba.frameId,Yo=sn(wn,cn,Uo,Tn,Go);if(Yo!==-1&&Uo!==Yo){var Vo=Tn==="left"?cn.slice(0,Yo):cn.slice(0,_a),Qo=cn.slice(_a,Fo+1),Ko=Tn==="left"?cn.slice(Yo,_a):cn.slice(Fo+1,Yo+1),Al=Tn==="left"?cn.slice(Fo+1):cn.slice(Yo+1);cn=Tn==="left"?[].concat((0,it.Z)(Vo),(0,it.Z)(Qo),(0,it.Z)(Ko),(0,it.Z)(Al)):[].concat((0,it.Z)(Vo),(0,it.Z)(Ko),(0,it.Z)(Qo),(0,it.Z)(Al))}}),cn.map(function(xa){return Ar[xa.id]?(0,nt.ZP)(xa):xa})},mn=function(cn,wn,Tn,Ln,Ar){var $r,zr,xa=dt(cn,wn,Ar),vr=bn(cn,xa),ba=[];if(Tn==="left"){if(Ln)$r=(0,xt.cx)(cn,function(Qo){return Nt(Qo,Ln)});else if(wn.editingGroupId){var _a=(0,Bt.Fb)(cn,wn.editingGroupId);if(!_a.length)return cn;$r=cn.indexOf(_a[0])}else $r=0;zr=xa[xa.length-1]}else{if(Ln)zr=(0,xt.qr)(cn,function(Qo){return Nt(Qo,Ln)});else if(wn.editingGroupId){var Fo=(0,Bt.Fb)(cn,wn.editingGroupId);if(!Fo.length)return cn;zr=cn.indexOf(Fo[Fo.length-1])}else zr=cn.length-1;$r=xa[0]}$r===-1&&($r=0);for(var Uo=$r;Uo<zr+1;Uo++)xa.includes(Uo)||ba.push(cn[Uo]);var Go=Object.values(vr).map(function(Qo){return(0,nt.ZP)(Qo)}),Yo=cn.slice(0,$r),Vo=cn.slice(zr+1);return Tn==="left"?[].concat((0,it.Z)(Yo),(0,it.Z)(Go),ba,(0,it.Z)(Vo)):[].concat((0,it.Z)(Yo),ba,(0,it.Z)(Go),(0,it.Z)(Vo))};function qt(cn,wn,Tn,Ln){var Ar,$r=(0,xt.xn)((0,st.eD)(cn,wn,{includeBoundTextElement:!0,includeElementsInFrames:!0})),zr={regularElements:[],frameChildren:new Map},xa=new Set,vr=St(cn);try{for(vr.s();!(Ar=vr.n()).done;){var ba=Ar.value;$r.has(ba.id)&&(0,ht.He)(ba)&&xa.add(ba.id)}}catch(Al){vr.e(Al)}finally{vr.f()}var _a,Fo=St(cn);try{for(Fo.s();!(_a=Fo.n()).done;){var Uo=_a.value;if($r.has(Uo.id))if((0,ht.He)(Uo)||Uo.frameId&&xa.has(Uo.frameId))zr.regularElements.push(Uo);else if(Uo.frameId){var Go=zr.frameChildren.get(Uo.frameId)||[];Go.push(Uo),zr.frameChildren.set(Uo.frameId,Go)}else zr.regularElements.push(Uo)}}catch(Al){Fo.e(Al)}finally{Fo.f()}for(var Yo=cn,Vo=0,Qo=Array.from(zr.frameChildren.entries());Vo<Qo.length;Vo++){var Ko=(0,ot.Z)(Qo[Vo],2);Yo=Ln(cn,wn,Tn,Ko[0],Ko[1])}return Ln(Yo,wn,Tn,null,zr.regularElements)}var Ut=function(cn,wn){return pn(cn,wn,"left")},Kt=function(cn,wn){return pn(cn,wn,"right")},yt=function(cn,wn){return qt(cn,wn,"left",mn)},Ot=function(cn,wn){return qt(cn,wn,"right",mn)},Gt=_(5491),Ct=_(8227),Xt=_(2767),ut=_(8935),ft=_(9937),$=_(1020),wt=(0,Xt.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(cn,wn){return{elements:Ut(cn,wn),appState:wn,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&!cn.shiftKey&&cn.code===Gt.aU.BRACKET_LEFT},PanelComponent:function(cn){var wn=cn.updateData;return cn.appState,(0,$.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return wn(null)},title:"".concat((0,Ct.t)("labels.sendBackward")," — ").concat((0,xt.uY)("CtrlOrCmd+[")),children:ut.Gc})}}),gt=(0,Xt.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(cn,wn){return{elements:Kt(cn,wn),appState:wn,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&!cn.shiftKey&&cn.code===Gt.aU.BRACKET_RIGHT},PanelComponent:function(cn){var wn=cn.updateData;return cn.appState,(0,$.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return wn(null)},title:"".concat((0,Ct.t)("labels.bringForward")," — ").concat((0,xt.uY)("CtrlOrCmd+]")),children:ut.t5})}}),lt=(0,Xt.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(cn,wn){return{elements:yt(cn,wn),appState:wn,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(cn){return ft.Um?cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.BRACKET_LEFT:cn[Gt.tW.CTRL_OR_CMD]&&cn.shiftKey&&cn.code===Gt.aU.BRACKET_LEFT},PanelComponent:function(cn){var wn=cn.updateData;return cn.appState,(0,$.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return wn(null)},title:"".concat((0,Ct.t)("labels.sendToBack")," — ").concat(ft.Um?(0,xt.uY)("CtrlOrCmd+Alt+["):(0,xt.uY)("CtrlOrCmd+Shift+[")),children:ut.pw})}}),pt=(0,Xt.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(cn,wn){return{elements:Ot(cn,wn),appState:wn,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(cn){return ft.Um?cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.BRACKET_RIGHT:cn[Gt.tW.CTRL_OR_CMD]&&cn.shiftKey&&cn.code===Gt.aU.BRACKET_RIGHT},PanelComponent:function(cn){var wn=cn.updateData;return cn.appState,(0,$.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(Tn){return wn(null)},title:"".concat((0,Ct.t)("labels.bringToFront")," — ").concat(ft.Um?(0,xt.uY)("CtrlOrCmd+Alt+]"):(0,xt.uY)("CtrlOrCmd+Shift+]")),children:ut.IN})}}),vt=_(7169),zt=_(7651),Qt=_(7422),Ft=_(6264);function At(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function Tt(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?At(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):At(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var jt=(0,Xt.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(cn,wn,Tn,Ln){if(wn.editingLinearElement)return!1;var Ar=(0,Ft.aI)(cn.filter(function($r){return!($r.isDeleted||(0,zt.iB)($r)&&$r.containerId||$r.locked)})).reduce(function($r,zr){return $r[zr.id]=!0,$r},{});return{appState:Tt(Tt(Tt({},wn),(0,Bt.bO)({editingGroupId:null,selectedElementIds:Ar},(0,zt.Lm)(cn),wn,Ln)),{},{selectedLinearElement:Object.keys(Ar).length===1&&(0,ht.bt)(cn[0])?new Qt._(cn[0],Ln.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.key===Gt.tW.A}}),un=_(1512),Jt=_(9645),hn=_(4761);function rn(cn,wn){var Tn=typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Tn){if(Array.isArray(cn)||(Tn=function(vr,ba){if(vr){if(typeof vr=="string")return Mt(vr,ba);var _a=Object.prototype.toString.call(vr).slice(8,-1);if(_a==="Object"&&vr.constructor&&(_a=vr.constructor.name),_a==="Map"||_a==="Set")return Array.from(vr);if(_a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_a))return Mt(vr,ba)}}(cn))||wn){Tn&&(cn=Tn);var Ln=0,Ar=function(){};return{s:Ar,n:function(){return Ln>=cn.length?{done:!0}:{done:!1,value:cn[Ln++]}},e:function(vr){throw vr},f:Ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $r,zr=!0,xa=!1;return{s:function(){Tn=Tn.call(cn)},n:function(){var vr=Tn.next();return zr=vr.done,vr},e:function(vr){xa=!0,$r=vr},f:function(){try{zr||Tn.return==null||Tn.return()}finally{if(xa)throw $r}}}}function Mt(cn,wn){(wn==null||wn>cn.length)&&(wn=cn.length);for(var Tn=0,Ln=new Array(wn);Tn<wn;Tn++)Ln[Tn]=cn[Tn];return Ln}var an=function(cn){var wn=cn.slice(),Tn=new Set,Ln=function $r(zr){var xa,vr,ba,_a=(xa=zr[0])===null||xa===void 0||(vr=xa.groupIds)===null||vr===void 0?void 0:vr.join(""),Fo=[zr[0]],Uo=[],Go=rn(zr.slice(1));try{for(Go.s();!(ba=Go.n()).done;){var Yo,Vo=ba.value;((Yo=Vo.groupIds)===null||Yo===void 0?void 0:Yo.join(""))===_a?Fo.push(Vo):Uo.push(Vo)}}catch(Qo){Go.e(Qo)}finally{Go.f()}return Uo.length?[].concat(Fo,(0,it.Z)($r(Uo))):Fo},Ar=new Map;return wn.forEach(function($r,zr){var xa;if(!Ar.has($r.id))if((xa=$r.groupIds)!==null&&xa!==void 0&&xa.length){var vr,ba=$r.groupIds[$r.groupIds.length-1],_a=wn.slice(zr).filter(function(Go){var Yo,Vo=Go==null||(Yo=Go.groupIds)===null||Yo===void 0?void 0:Yo.some(function(Qo){return Qo===ba});return Vo&&Ar.set(Go.id,!0),Vo}),Fo=rn(Ln(_a));try{for(Fo.s();!(vr=Fo.n()).done;){var Uo=vr.value;Tn.add(Uo)}}catch(Go){Fo.e(Go)}finally{Fo.f()}}else Tn.add($r)}),Tn.size!==cn.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),cn):(0,it.Z)(Tn)},Cn=function(cn){var wn=function(Tn){var Ln=(0,xt.I4)(Tn),Ar=Tn.slice(),$r=new Set;return Ar.forEach(function(zr,xa){var vr;if(zr)if((vr=zr.boundElements)!==null&&vr!==void 0&&vr.length)$r.add(zr),Ar[xa]=null,zr.boundElements.forEach(function(Fo){var Uo=Ln.get(Fo.id);Uo&&Fo.type==="text"&&($r.add(Uo[0]),Ar[Uo[1]]=null)});else if(zr.type==="text"&&zr.containerId){var ba,_a=Ln.get(zr.containerId);_a!=null&&(ba=_a[0].boundElements)!==null&&ba!==void 0&&ba.find(function(Fo){return Fo.id===zr.id})||($r.add(zr),Ar[xa]=null)}else $r.add(zr),Ar[xa]=null}),$r.size!==Tn.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),Tn):(0,it.Z)($r)}(an(cn));return wn},kn=_(4682);function jn(cn,wn){var Tn=typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Tn){if(Array.isArray(cn)||(Tn=function(vr,ba){if(vr){if(typeof vr=="string")return Dn(vr,ba);var _a=Object.prototype.toString.call(vr).slice(8,-1);if(_a==="Object"&&vr.constructor&&(_a=vr.constructor.name),_a==="Map"||_a==="Set")return Array.from(vr);if(_a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_a))return Dn(vr,ba)}}(cn))||wn){Tn&&(cn=Tn);var Ln=0,Ar=function(){};return{s:Ar,n:function(){return Ln>=cn.length?{done:!0}:{done:!1,value:cn[Ln++]}},e:function(vr){throw vr},f:Ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $r,zr=!0,xa=!1;return{s:function(){Tn=Tn.call(cn)},n:function(){var vr=Tn.next();return zr=vr.done,vr},e:function(vr){xa=!0,$r=vr},f:function(){try{zr||Tn.return==null||Tn.return()}finally{if(xa)throw $r}}}}function Dn(cn,wn){(wn==null||wn>cn.length)&&(wn=cn.length);for(var Tn=0,Ln=new Array(wn);Tn<wn;Tn++)Ln[Tn]=cn[Tn];return Ln}function Fn(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function vn(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Fn(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Fn(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var Gn=(0,Xt.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(cn,wn){if(wn.editingLinearElement){var Tn=Qt._.duplicateSelectedPoints(wn);return!!Tn&&{elements:cn,appState:Tn.appState,commitToHistory:!0}}return vn(vn({},Sn(cn,wn)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.key===Gt.tW.D},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData;return(0,$.jsx)(un.V,{type:"button",icon:ut.NA,title:"".concat((0,Ct.t)("labels.duplicateSelection")," — ").concat((0,xt.uY)("CtrlOrCmd+D")),"aria-label":(0,Ct.t)("labels.duplicateSelection"),onClick:function(){return Ln(null)},visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),Sn=function(cn,wn){for(var Tn=Cn(cn),Ln=new Map,Ar=[],$r=[],zr=new Map,xa=function(yl){var Nl=(0,zt.Sy)(wn.editingGroupId,Ln,yl,{x:yl.x+ft.k/2,y:yl.y+ft.k/2});return zr.set(yl.id,Nl.id),$r.push(yl),Ar.push(Nl),Nl},vr=(0,xt.xn)((0,Ft.eD)(Tn,wn,{includeBoundTextElement:!0,includeElementsInFrames:!0})),ba=new Map,_a=function(yl){var Nl,_l=jn(yl);try{for(_l.s();!(Nl=_l.n()).done;){var ds=Nl.value;ba.set(ds.id,!0)}}catch(Cs){_l.e(Cs)}finally{_l.f()}return yl},Fo=[],Uo=-1;++Uo<Tn.length;){var Go=Tn[Uo];if(!ba.get(Go.id)){var Yo=(0,hn.WJ)(Go),Vo=(0,ht.He)(Go);if(vr.get(Go.id)){if(Go.groupIds.length||Yo||Vo){var Qo=(0,Bt.yO)(wn,Go);if(Qo){var Ko=(0,Bt.Fb)(Tn,Qo).flatMap(function(yl){return(0,ht.He)(yl)?[].concat((0,it.Z)((0,kn.zD)(cn,yl.id)),[yl]):[yl]});Fo.push.apply(Fo,(0,it.Z)(_a([].concat((0,it.Z)(Ko),(0,it.Z)(Ko.map(function(yl){return xa(yl)}))))));continue}if(Yo){Fo.push.apply(Fo,(0,it.Z)(_a([Go,Yo,xa(Go),xa(Yo)])));continue}if(Vo){var Al=(0,kn.zD)(Tn,Go.id);Fo.push.apply(Fo,(0,it.Z)(_a([].concat((0,it.Z)(Al),[Go],(0,it.Z)(Al.map(function(yl){return xa(yl)})),[xa(Go)]))));continue}}Go.frameId&&vr.has(Go.frameId)||Fo.push.apply(Fo,(0,it.Z)(_a([Go,xa(Go)])))}else Fo.push.apply(Fo,(0,it.Z)(_a([Go])))}}var ns=[],ls=new Map;for(Uo=Fo.length;--Uo>=0;){var ps=Fo[Uo];ls.get(ps.id)||(ls.set(ps.id,!0),ns.push(ps))}var Ss=ns.reverse();(0,hn.P7)(Fo,$r,zr),(0,Jt.ek)(Fo,$r,zr),(0,kn.xr)(Ss,$r,zr);var vo=(0,Ft.aI)(Ar);return{elements:Ss,appState:vn(vn({},wn),(0,Bt.bO)({editingGroupId:wn.editingGroupId,selectedElementIds:vo.reduce(function(yl,Nl){return(0,ht.Xh)(Nl)||(yl[Nl.id]=!0),yl},{})},(0,zt.Lm)(Ss),wn,null))}},nn=(_(3361),_(6006)),Qn=_(2361),tn=_(7652);function at(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function ct(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?at(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):at(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var mt=(0,Xt.z)({name:"finalize",trackEvent:!1,perform:function(cn,wn,Tn,Ln){var Ar,$r=Ln.interactiveCanvas,zr=Ln.focusContainer,xa=Ln.scene;if(wn.editingLinearElement){var vr=wn.editingLinearElement,ba=vr.elementId,_a=vr.startBindingElement,Fo=vr.endBindingElement,Uo=Qt._.getElement(ba);if(Uo)return(0,ht.Mn)(Uo)&&(0,Jt.HG)(Uo,_a,Fo),{elements:Uo.points.length<2||(0,zt.QD)(Uo)?cn.filter(function(_l){return _l.id!==Uo.id}):void 0,appState:ct(ct({},wn),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Go=cn,Yo=wn.pendingImageElementId&&xa.getElement(wn.pendingImageElementId);Yo&&(0,nt.DR)(Yo,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&zr();var Vo,Qo=wn.multiElement?wn.multiElement:((Ar=wn.editingElement)===null||Ar===void 0?void 0:Ar.type)==="freedraw"?wn.editingElement:null;if(Qo){if(Qo.type!=="freedraw"&&wn.lastPointerDownWith!=="touch"){var Ko=Qo.points,Al=Qo.lastCommittedPoint;Al&&Ko[Ko.length-1]===Al||(0,nt.DR)(Qo,{points:Qo.points.slice(0,-1)})}(0,zt.QD)(Qo)&&(Go=Go.filter(function(_l){return _l.id!==Qo.id}));var ns=(0,Qn.g6)(Qo.points,wn.zoom.value);if((Qo.type==="line"||Qo.type==="freedraw")&&ns){var ls=Qo.points,ps=ls[0];(0,nt.DR)(Qo,{points:ls.map(function(_l,ds){return ds===ls.length-1?[ps[0],ps[1]]:_l})})}if((0,ht.Mn)(Qo)&&!ns&&Qo.points.length>1){var Ss=Qt._.getPointAtIndexGlobalCoordinates(Qo,-1),vo=(0,ot.Z)(Ss,2),yl=vo[0],Nl=vo[1];(0,Jt.R)(Qo,wn,tt.Z.getScene(Qo),{x:yl,y:Nl})}}return(wn.activeTool.locked||wn.activeTool.type==="freedraw")&&Qo||(0,tn.z8)($r),Vo=wn.activeTool.type==="eraser"?(0,xt.Om)(wn,ct(ct({},wn.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,xt.Om)(wn,{type:"selection"}),{elements:Go,appState:ct(ct({},wn),{},{cursorButton:"up",activeTool:(wn.activeTool.locked||wn.activeTool.type==="freedraw")&&Qo?wn.activeTool:Vo,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Qo&&!wn.activeTool.locked&&wn.activeTool.type!=="freedraw"?ct(ct({},wn.selectedElementIds),{},(0,vt.Z)({},Qo.id,!0)):wn.selectedElementIds,selectedLinearElement:Qo&&(0,ht.bt)(Qo)?new Qt._(Qo,xa):wn.selectedLinearElement,pendingImageElementId:null}),commitToHistory:wn.activeTool.type==="freedraw"}},keyTest:function(cn,wn){return cn.key===Gt.tW.ESCAPE&&(wn.editingLinearElement!==null||!wn.draggingElement&&wn.multiElement===null)||(cn.key===Gt.tW.ESCAPE||cn.key===Gt.tW.ENTER)&&wn.multiElement!==null},PanelComponent:function(cn){var wn=cn.appState,Tn=cn.updateData,Ln=cn.data;return(0,$.jsx)(un.V,{type:"button",icon:ut.$c,title:(0,Ct.t)("buttons.done"),"aria-label":(0,Ct.t)("buttons.done"),onClick:Tn,visible:wn.multiElement!=null,size:(Ln==null?void 0:Ln.size)||"medium"})}}),Wt=_(4406);function Rt(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function en(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Rt(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Rt(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var Pt="{}",on=(0,Xt.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(cn,wn){var Tn=[],Ln=cn.find(function($r){return wn.selectedElementIds[$r.id]});if(Tn.push(Ln),Ln&&(0,ht.Xo)(Ln)){var Ar=(0,hn.WJ)(Ln);Tn.push(Ar)}return Ln&&(Pt=JSON.stringify(Tn)),{appState:en(en({},wn),{},{toast:{message:(0,Ct.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.C}}),Bn=(0,Xt.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(cn,wn){var Tn=JSON.parse(Pt),Ln=Tn[0],Ar=Tn[1];if(!(0,zt.r2)(Ln))return{elements:cn,commitToHistory:!1};var $r=(0,st.eD)(cn,wn,{includeBoundTextElement:!0}),zr=$r.map(function(xa){return xa.id});return{elements:cn.map(function(xa){if(zr.includes(xa.id)){var vr,ba,_a,Fo,Uo,Go,Yo,Vo=Ln;if((0,zt.iB)(xa)&&xa.containerId&&(Vo=Ar),!Vo)return xa;var Qo=(0,nt.BE)(xa,{backgroundColor:(vr=Vo)===null||vr===void 0?void 0:vr.backgroundColor,strokeWidth:(ba=Vo)===null||ba===void 0?void 0:ba.strokeWidth,strokeColor:(_a=Vo)===null||_a===void 0?void 0:_a.strokeColor,strokeStyle:(Fo=Vo)===null||Fo===void 0?void 0:Fo.strokeStyle,fillStyle:(Uo=Vo)===null||Uo===void 0?void 0:Uo.fillStyle,opacity:(Go=Vo)===null||Go===void 0?void 0:Go.opacity,roughness:(Yo=Vo)===null||Yo===void 0?void 0:Yo.roughness,roundness:Vo.roundness?(0,ht.eK)(Vo.roundness.type,xa)?Vo.roundness:(0,ht.UQ)(xa):null});if((0,zt.iB)(Qo)){var Ko=Vo.fontSize||ft.n5,Al=Vo.fontFamily||ft.rk,ns=null;(Qo=(0,nt.BE)(Qo,{fontSize:Ko,fontFamily:Al,textAlign:Vo.textAlign||ft.Hg,lineHeight:Vo.lineHeight||(0,hn.PT)(Al)})).containerId&&(ns=$r.find(function(ls){return(0,zt.iB)(Qo)&&ls.id===Qo.containerId})||null),(0,zt.oN)(Qo,ns)}return Qo.type==="arrow"&&(0,ht.Yv)(Vo)&&(Qo=(0,nt.BE)(Qo,{startArrowhead:Vo.startArrowhead,endArrowhead:Vo.endArrowhead})),(0,ht.He)(xa)&&(Qo=(0,nt.BE)(Qo,{roundness:null,backgroundColor:"transparent"})),Qo}return xa}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.V}});function yn(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function Wn(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?yn(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):yn(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}(0,Xt.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(cn,wn){return{appState:Wn(Wn({},wn),{},{openMenu:wn.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(cn){var wn=cn.appState,Tn=cn.updateData;return(0,$.jsx)(un.V,{type:"button",icon:ut.RY,"aria-label":(0,Ct.t)("buttons.menu"),onClick:Tn,selected:wn.openMenu==="canvas"})}}),(0,Xt.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(cn,wn){return{appState:Wn(Wn({},wn),{},{openMenu:wn.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData;return(0,$.jsx)(un.V,{visible:(0,zt.RT)(Tn,(0,zt.Lm)(wn)),type:"button",icon:ut.DG,"aria-label":(0,Ct.t)("buttons.edit"),onClick:Ln,selected:Tn.openMenu==="shape"})}});var Vn=(0,Xt.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(cn,wn,Tn,Ln){var Ar=Ln.focusContainer;return wn.openDialog==="help"&&Ar(),{appState:Wn(Wn({},wn),{},{openDialog:wn.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(cn){return cn.key===Gt.tW.QUESTION_MARK}}),Hn=_(6655),Zn=_(4643);function Kn(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function qn(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Kn(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Kn(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}function sr(cn,wn){var Tn=typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Tn){if(Array.isArray(cn)||(Tn=function(vr,ba){if(vr){if(typeof vr=="string")return In(vr,ba);var _a=Object.prototype.toString.call(vr).slice(8,-1);if(_a==="Object"&&vr.constructor&&(_a=vr.constructor.name),_a==="Map"||_a==="Set")return Array.from(vr);if(_a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_a))return In(vr,ba)}}(cn))||wn){Tn&&(cn=Tn);var Ln=0,Ar=function(){};return{s:Ar,n:function(){return Ln>=cn.length?{done:!0}:{done:!1,value:cn[Ln++]}},e:function(vr){throw vr},f:Ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $r,zr=!0,xa=!1;return{s:function(){Tn=Tn.call(cn)},n:function(){var vr=Tn.next();return zr=vr.done,vr},e:function(vr){xa=!0,$r=vr},f:function(){try{zr||Tn.return==null||Tn.return()}finally{if(xa)throw $r}}}}function In(cn,wn){(wn==null||wn>cn.length)&&(wn=cn.length);for(var Tn=0,Ln=new Array(wn);Tn<wn;Tn++)Ln[Tn]=cn[Tn];return Ln}var An=function(cn,wn,Tn){var Ln=Tn.scene.getSelectedElements({selectedElementIds:wn.selectedElementIds,includeBoundTextElement:!0});return Ln.length>=2&&!function(Ar){if(Ar.length>=2){var $r,zr=sr(Ar[0].groupIds);try{var xa=function(){var ba=$r.value;if(Ar.reduce(function(_a,Fo){return _a&&(0,Bt.Nd)(Fo,ba)},!0))return{v:!0}};for(zr.s();!($r=zr.n()).done;){var vr=xa();if((0,Hn.Z)(vr)==="object")return vr.v}}catch(ba){zr.e(ba)}finally{zr.f()}}return!1}(Ln)},On=(0,Xt.z)({name:"group",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){var Ar=Ln.scene.getSelectedElements({selectedElementIds:wn.selectedElementIds,includeBoundTextElement:!0});if(Ar.length<2)return{appState:wn,elements:cn,commitToHistory:!1};var $r=(0,Bt.iJ)(wn);if($r.length===1){var zr=$r[0],xa=new Set((0,Bt.Fb)(cn,zr).map(function(Ko){return Ko.id})),vr=new Set(Ar.map(function(Ko){return Ko.id}));if(new Set([].concat((0,it.Z)(Array.from(xa)),(0,it.Z)(Array.from(vr)))).size===xa.size)return{appState:wn,elements:cn,commitToHistory:!1}}var ba=(0,it.Z)(cn);new Set(Ar.map(function(Ko){return Ko.frameId})).size>1&&(0,kn.SH)(Ar).forEach(function(Ko,Al){ba=(0,kn.lz)(ba,Ko,wn)});var _a=(0,Zn.kb)(),Fo=(0,xt.xn)(Ar);ba=ba.map(function(Ko){return Fo.get(Ko.id)?(0,nt.BE)(Ko,{groupIds:(0,Bt.S_)(Ko.groupIds,_a,wn.editingGroupId)}):Ko});var Uo=(0,Bt.Fb)(ba,_a),Go=Uo[Uo.length-1],Yo=ba.lastIndexOf(Go),Vo=ba.slice(Yo+1),Qo=ba.slice(0,Yo).filter(function(Ko){return!(0,Bt.Nd)(Ko,_a)});return ba=[].concat((0,it.Z)(Qo),(0,it.Z)(Uo),(0,it.Z)(Vo)),{appState:qn(qn({},wn),(0,Bt.F$)(_a,qn(qn({},wn),{},{selectedGroupIds:{}}),(0,zt.Lm)(ba))),elements:ba,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(cn,wn,Tn,Ln){return An(0,wn,Ln)},keyTest:function(cn){return!cn.shiftKey&&cn[Gt.tW.CTRL_OR_CMD]&&cn.key===Gt.tW.G},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!An(0,Tn,Ar),type:"button",icon:(0,$.jsx)(ut.BF,{theme:Tn.theme}),onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.group")," — ").concat((0,xt.uY)("CtrlOrCmd+G")),"aria-label":(0,Ct.t)("labels.group"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),_n=(0,Xt.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){if((0,Bt.iJ)(wn).length===0)return{appState:wn,elements:cn,commitToHistory:!1};var Ar=(0,it.Z)(cn),$r=[];Ar=Ar.map(function(ba){(0,ht.Xh)(ba)&&$r.push(ba.id);var _a=(0,Bt.h6)(ba.groupIds,wn.selectedGroupIds);return _a.length===ba.groupIds.length?ba:(0,nt.BE)(ba,{groupIds:_a})});var zr=(0,Bt.bO)(wn,(0,zt.Lm)(Ar),wn,null),xa=Ln.scene.getSelectedElements(wn),vr=new Set(xa.filter(function(ba){return ba.frameId}).map(function(ba){return ba.frameId}));return(0,kn.wO)(cn).filter(function(ba){return vr.has(ba.id)}).forEach(function(ba){ba&&(Ar=(0,kn.pr)(Ar,(0,kn.ni)(Ar,ba,wn),ba,wn))}),zr.selectedElementIds=Object.entries(zr.selectedElementIds).reduce(function(ba,_a){var Fo=(0,ot.Z)(_a,2),Uo=Fo[0];return Fo[1]&&!$r.includes(Uo)&&(ba[Uo]=!0),ba},{}),{appState:qn(qn({},wn),zr),elements:Ar,commitToHistory:!0}},keyTest:function(cn){return cn.shiftKey&&cn[Gt.tW.CTRL_OR_CMD]&&cn.key===Gt.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(cn,wn){return(0,Bt.iJ)(wn).length>0},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData;return(0,$.jsx)(un.V,{type:"button",hidden:(0,Bt.iJ)(Tn).length===0,icon:(0,$.jsx)(ut.RJ,{theme:Tn.theme}),onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.ungroup")," — ").concat((0,xt.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,Ct.t)("labels.ungroup"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),or=_(957),ir=_(3379),mr=_.n(ir),yr=_(7795),cr=_.n(yr),Ur=_(569),Wr=_.n(Ur),Xr=_(3565),wr=_.n(Xr),Jr=_(9216),Kr=_.n(Jr),rr=_(4589),Qr=_.n(rr),Ir=_(3729),xr={};xr.styleTagTransform=Qr(),xr.setAttributes=wr(),xr.insert=Wr().bind(null,"head"),xr.domAPI=cr(),xr.insertStyleElement=Kr(),mr()(Ir.Z,xr),Ir.Z&&Ir.Z.locals&&Ir.Z.locals;var pr=_(9787),Nr=function(cn){var wn=cn.color,Tn=cn.onClick,Ln=cn.name,Ar=cn.src,$r=(0,or.l)(Ln),zr=(0,pr.useState)(!1),xa=(0,ot.Z)(zr,2),vr=xa[0],ba=xa[1],_a=!vr&&Ar,Fo=_a?void 0:{background:wn};return(0,$.jsx)("div",{className:"Avatar",style:Fo,onClick:Tn,children:_a?(0,$.jsx)("img",{className:"Avatar-img",src:Ar,alt:$r,referrerPolicy:"no-referrer",onError:function(){return ba(!0)}}):$r})},Rr=_(2382);function qr(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function Dr(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?qr(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):qr(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}(0,Xt.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(cn,wn,Tn){var Ln=Tn;return Ln?{appState:Dr(Dr(Dr({},wn),(0,Rr.s)({scenePoint:Ln,viewportDimensions:{width:wn.width,height:wn.height},zoom:wn.zoom})),{},{openMenu:wn.openMenu==="canvas"?null:wn.openMenu}),commitToHistory:!1}:{appState:wn,commitToHistory:!1}},PanelComponent:function(cn){var wn=cn.updateData,Tn=cn.data,Ln=(0,ot.Z)(Tn,2),Ar=Ln[0],$r=Ln[1],zr=(0,or.G)(Ar);return(0,$.jsx)(Nr,{color:zr,onClick:function(){return wn($r.pointer)},name:$r.username||"",src:$r.avatarUrl})}});var Io=_(5742);function ro(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function Zo(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?ro(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):ro(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}function dr(cn,wn){var Tn=typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Tn){if(Array.isArray(cn)||(Tn=function(vr,ba){if(vr){if(typeof vr=="string")return Hr(vr,ba);var _a=Object.prototype.toString.call(vr).slice(8,-1);if(_a==="Object"&&vr.constructor&&(_a=vr.constructor.name),_a==="Map"||_a==="Set")return Array.from(vr);if(_a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_a))return Hr(vr,ba)}}(cn))||wn){Tn&&(cn=Tn);var Ln=0,Ar=function(){};return{s:Ar,n:function(){return Ln>=cn.length?{done:!0}:{done:!1,value:cn[Ln++]}},e:function(vr){throw vr},f:Ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $r,zr=!0,xa=!1;return{s:function(){Tn=Tn.call(cn)},n:function(){var vr=Tn.next();return zr=vr.done,vr},e:function(vr){xa=!0,$r=vr},f:function(){try{zr||Tn.return==null||Tn.return()}finally{if(xa)throw $r}}}}function Hr(cn,wn){(wn==null||wn>cn.length)&&(wn=cn.length);for(var Tn=0,Ln=new Array(wn);Tn<wn;Tn++)Ln[Tn]=cn[Tn];return Ln}var Zr=(0,Xt.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){var Ar,$r=Ln.scene.getSelectedElements({selectedElementIds:wn.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),zr=dr(ft.PR);try{var xa=function(){var ba=Ar.value;if($r.some(function(_a){return _a.type===ba}))return{v:{commitToHistory:!1,appState:Zo(Zo({},wn),{},{errorMessage:(0,Ct.t)("errors.libraryElementTypeError.".concat(ba))})}}};for(zr.s();!(Ar=zr.n()).done;){var vr=xa();if((0,Hn.Z)(vr)==="object")return vr.v}}catch(ba){zr.e(ba)}finally{zr.f()}return Ln.library.getLatestLibrary().then(function(ba){return Ln.library.setLibrary([{id:(0,Zn.kb)(),status:"unpublished",elements:$r.map(Io.OL),created:Date.now()}].concat((0,it.Z)(ba)))}).then(function(){return{commitToHistory:!1,appState:Zo(Zo({},wn),{},{toast:{message:(0,Ct.t)("toast.addedToLibrary")}})}}).catch(function(ba){return{commitToHistory:!1,appState:Zo(Zo({},wn),{},{errorMessage:ba.message})}})},contextItemLabel:"labels.addToLibrary"}),Vr=_(4949);function Ao(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function xo(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Ao(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Ao(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var wo=function(cn,wn,Tn){var Ln=Tn.axis,Ar=Tn.position,$r=(0,Vr.v2)(cn),zr=Ln==="x"?["minX","maxX"]:["minY","maxY"],xa=(0,ot.Z)(zr,2),vr=xa[0],ba=xa[1],_a={x:0,y:0};return xo(xo({},_a),{},Ar==="start"?(0,vt.Z)({},Ln,wn[vr]-$r[vr]):Ar==="end"?(0,vt.Z)({},Ln,wn[ba]-$r[ba]):(0,vt.Z)({},Ln,(wn[vr]+wn[ba])/2-($r[vr]+$r[ba])/2))},To=function(cn,wn,Tn,Ln){var Ar=Ln.scene.getSelectedElements(wn);return Ar.length>1&&!Ar.some(function($r){return $r.type==="frame"})},ho=function(cn,wn,Tn,Ln){var Ar=function(zr,xa){var vr=(0,Bt.AI)(zr),ba=(0,Vr.v2)(zr);return vr.flatMap(function(_a){var Fo=wo(_a,ba,xa);return _a.map(function(Uo){return(0,nt.BE)(Uo,{x:Uo.x+Fo.x,y:Uo.y+Fo.y})})})}(Tn.scene.getSelectedElements(wn),Ln),$r=(0,xt.xn)(Ar);return(0,kn.Tq)(cn.map(function(zr){return $r.get(zr.id)||zr}),wn,Tn)};(0,Xt.z)({name:"alignTop",trackEvent:{category:"element"},predicate:To,perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:ho(cn,wn,Ln,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.shiftKey&&cn.key===Gt.tW.ARROW_UP},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!To(0,Tn,0,Ar),type:"button",icon:ut.Ct,onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.alignTop")," — ").concat((0,xt.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,Ct.t)("labels.alignTop"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),(0,Xt.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:To,perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:ho(cn,wn,Ln,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.shiftKey&&cn.key===Gt.tW.ARROW_DOWN},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!To(0,Tn,0,Ar),type:"button",icon:ut.HL,onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.alignBottom")," — ").concat((0,xt.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,Ct.t)("labels.alignBottom"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),(0,Xt.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:To,perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:ho(cn,wn,Ln,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.shiftKey&&cn.key===Gt.tW.ARROW_LEFT},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!To(0,Tn,0,Ar),type:"button",icon:ut.xs,onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.alignLeft")," — ").concat((0,xt.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,Ct.t)("labels.alignLeft"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),(0,Xt.z)({name:"alignRight",trackEvent:{category:"element"},predicate:To,perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:ho(cn,wn,Ln,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.shiftKey&&cn.key===Gt.tW.ARROW_RIGHT},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!To(0,Tn,0,Ar),type:"button",icon:ut.mh,onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.alignRight")," — ").concat((0,xt.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,Ct.t)("labels.alignRight"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),(0,Xt.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:To,perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:ho(cn,wn,Ln,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!To(0,Tn,0,Ar),type:"button",icon:ut.ST,onClick:function(){return Ln(null)},title:(0,Ct.t)("labels.centerVertically"),"aria-label":(0,Ct.t)("labels.centerVertically"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),(0,Xt.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:To,perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:ho(cn,wn,Ln,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!To(0,Tn,0,Ar),type:"button",icon:ut.gK,onClick:function(){return Ln(null)},title:(0,Ct.t)("labels.centerHorizontally"),"aria-label":(0,Ct.t)("labels.centerHorizontally"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}});function Cr(cn,wn){var Tn=typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(!Tn){if(Array.isArray(cn)||(Tn=function(vr,ba){if(vr){if(typeof vr=="string")return Br(vr,ba);var _a=Object.prototype.toString.call(vr).slice(8,-1);if(_a==="Object"&&vr.constructor&&(_a=vr.constructor.name),_a==="Map"||_a==="Set")return Array.from(vr);if(_a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_a))return Br(vr,ba)}}(cn))||wn){Tn&&(cn=Tn);var Ln=0,Ar=function(){};return{s:Ar,n:function(){return Ln>=cn.length?{done:!0}:{done:!1,value:cn[Ln++]}},e:function(vr){throw vr},f:Ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $r,zr=!0,xa=!1;return{s:function(){Tn=Tn.call(cn)},n:function(){var vr=Tn.next();return zr=vr.done,vr},e:function(vr){xa=!0,$r=vr},f:function(){try{zr||Tn.return==null||Tn.return()}finally{if(xa)throw $r}}}}function Br(cn,wn){(wn==null||wn>cn.length)&&(wn=cn.length);for(var Tn=0,Ln=new Array(wn);Tn<wn;Tn++)Ln[Tn]=cn[Tn];return Ln}var Fr=function(cn,wn){var Tn=wn.scene.getSelectedElements(cn);return Tn.length>1&&!Tn.some(function(Ln){return Ln.type==="frame"})},Sr=function(cn,wn,Tn,Ln){var Ar=function(zr,xa){var vr,ba=xa.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],_a=(0,ot.Z)(ba,4),Fo=_a[0],Uo=_a[1],Go=_a[2],Yo=_a[3],Vo=(0,Vr.v2)(zr),Qo=(0,Bt.AI)(zr).map(function(Nl){return[Nl,(0,Vr.v2)(Nl)]}).sort(function(Nl,_l){return Nl[1][Uo]-_l[1][Uo]}),Ko=0,Al=Cr(Qo);try{for(Al.s();!(vr=Al.n()).done;)Ko+=vr.value[1][Yo]}catch(Nl){Al.e(Nl)}finally{Al.f()}var ns=(Vo[Yo]-Ko)/(Qo.length-1);if(ns<0){var ls=Qo.findIndex(function(Nl){return Nl[1][Fo]===Vo[Fo]}),ps=Qo.findIndex(function(Nl){return Nl[1][Go]===Vo[Go]}),Ss=(Qo[ps][1][Uo]-Qo[ls][1][Uo])/(Qo.length-1),vo=Qo[ls][1][Uo];return Qo.flatMap(function(Nl,_l){var ds=(0,ot.Z)(Nl,2),Cs=ds[0],Ms=ds[1],ys={x:0,y:0};return _l!==ls&&_l!==ps&&(vo+=Ss,ys[xa.axis]=vo-Ms[Uo]),Cs.map(function(Fs){return(0,nt.BE)(Fs,{x:Fs.x+ys.x,y:Fs.y+ys.y})})})}var yl=Vo[Fo];return Qo.flatMap(function(Nl){var _l=(0,ot.Z)(Nl,2),ds=_l[0],Cs=_l[1],Ms={x:0,y:0};return Ms[xa.axis]=yl-Cs[Fo],yl+=ns,yl+=Cs[Yo],ds.map(function(ys){return(0,nt.BE)(ys,{x:ys.x+Ms.x,y:ys.y+Ms.y})})})}(Tn.scene.getSelectedElements(wn),Ln),$r=(0,xt.xn)(Ar);return(0,kn.Tq)(cn.map(function(zr){return $r.get(zr.id)||zr}),wn,Tn)},to=((0,Xt.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:Sr(cn,wn,Ln,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(cn){return!cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.H},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!Fr(Tn,Ar),type:"button",icon:ut.uD,onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.distributeHorizontally")," — ").concat((0,xt.uY)("Alt+H")),"aria-label":(0,Ct.t)("labels.distributeHorizontally"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),(0,Xt.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){return{appState:wn,elements:Sr(cn,wn,Ln,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(cn){return!cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.V},PanelComponent:function(cn){var wn=cn.elements,Tn=cn.appState,Ln=cn.updateData,Ar=cn.app;return(0,$.jsx)(un.V,{hidden:!Fr(Tn,Ar),type:"button",icon:ut.W5,onClick:function(){return Ln(null)},title:"".concat((0,Ct.t)("labels.distributeVertically")," — ").concat((0,xt.uY)("Alt+V")),"aria-label":(0,Ct.t)("labels.distributeVertically"),visible:(0,st.N)((0,zt.Lm)(wn),Tn)})}}),_(4381)),lo=(0,Xt.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){return{elements:(0,kn.Tq)(Eo(cn,wn,"horizontal"),wn,Ln),appState:wn,commitToHistory:!0}},keyTest:function(cn){return cn.shiftKey&&cn.code===Gt.aU.H},contextItemLabel:"labels.flipHorizontal"}),eo=(0,Xt.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(cn,wn,Tn,Ln){return{elements:(0,kn.Tq)(Eo(cn,wn,"vertical"),wn,Ln),appState:wn,commitToHistory:!0}},keyTest:function(cn){return cn.shiftKey&&cn.code===Gt.aU.V&&!cn[Gt.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),Eo=function(cn,wn,Tn){var Ln=(0,st.eD)((0,zt.Lm)(cn),wn,{includeBoundTextElement:!0,includeElementsInFrames:!0}),Ar=go(Ln,wn,Tn),$r=(0,xt.xn)(Ar);return cn.map(function(zr){return $r.get(zr.id)||zr})},go=function(cn,wn,Tn){var Ln=(0,Vr.v2)(cn),Ar=Ln.minX,$r=Ln.minY,zr=Ln.maxX,xa=Ln.maxY;return(0,to.LM)({originalElements:(0,xt.xn)(cn)},cn,"nw",!0,Tn==="horizontal"?zr:Ar,Tn==="horizontal"?$r:xa),((0,Jt.N1)(wn)?Jt.el:Jt.H)(cn),cn},mo=_(5047);function Oo(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function ao(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Oo(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Oo(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var co=(0,Xt.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(cn){return!cn.gridSize}},perform:function(cn,wn){return{appState:ao(ao({},wn),{},{gridSize:this.checked(wn)?null:ft.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(cn){return cn.gridSize!==null},predicate:function(cn,wn,Tn){return Tn.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(cn){return cn[Gt.tW.CTRL_OR_CMD]&&cn.code===Gt.aU.QUOTE}});function po(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function so(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?po(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):po(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var Lo=(0,Xt.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(cn){return!cn.zenModeEnabled}},perform:function(cn,wn){return{appState:so(so({},wn),{},{zenModeEnabled:!this.checked(wn)}),commitToHistory:!1}},checked:function(cn){return cn.zenModeEnabled},predicate:function(cn,wn,Tn){return Tn.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(cn){return!cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.Z}});function Co(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function Ro(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Co(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Co(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var Fl=(0,Xt.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(cn){return!cn.objectsSnapModeEnabled}},perform:function(cn,wn){return{appState:Ro(Ro({},wn),{},{objectsSnapModeEnabled:!this.checked(wn),gridSize:null}),commitToHistory:!1}},checked:function(cn){return cn.objectsSnapModeEnabled},predicate:function(cn,wn,Tn){return Tn.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(cn){return!cn[Gt.tW.CTRL_OR_CMD]&&cn.altKey&&cn.code===Gt.aU.S}}),Ll=_(7080),Kl=_(7392),rs=_(5992),is=_(9672);function Ol(cn,wn){var Tn=Object.keys(cn);if(Object.getOwnPropertySymbols){var Ln=Object.getOwnPropertySymbols(cn);wn&&(Ln=Ln.filter(function(Ar){return Object.getOwnPropertyDescriptor(cn,Ar).enumerable})),Tn.push.apply(Tn,Ln)}return Tn}function Ml(cn){for(var wn=1;wn<arguments.length;wn++){var Tn=arguments[wn]!=null?arguments[wn]:{};wn%2?Ol(Object(Tn),!0).forEach(function(Ln){(0,vt.Z)(cn,Ln,Tn[Ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cn,Object.getOwnPropertyDescriptors(Tn)):Ol(Object(Tn)).forEach(function(Ln){Object.defineProperty(cn,Ln,Object.getOwnPropertyDescriptor(Tn,Ln))})}return cn}var gs=(0,Xt.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(cn,wn,Tn,Ln){var Ar=Ln.scene.getSelectedElements(wn);return!(Ar.length!==1||!(0,ht.bt)(Ar[0]))},perform:function(cn,wn,Tn,Ln){var Ar,$r=Ln.scene.getSelectedElements({selectedElementIds:wn.selectedElementIds,includeBoundTextElement:!0})[0],zr=((Ar=wn.editingLinearElement)===null||Ar===void 0?void 0:Ar.elementId)===$r.id?null:new Qt._($r,Ln.scene);return{appState:Ml(Ml({},wn),{},{editingLinearElement:zr}),commitToHistory:!1}},contextItemLabel:function(cn,wn,Tn){var Ln,Ar=Tn.scene.getSelectedElements({selectedElementIds:wn.selectedElementIds,includeBoundTextElement:!0})[0];return((Ln=wn.editingLinearElement)===null||Ln===void 0?void 0:Ln.elementId)===Ar.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function($t,Vt,_){_.d(Vt,{N:function(){return Et},z:function(){return ot}});var Et=[],ot=function(it){return Et=Et.concat(it),it}},2529:function($t,Vt,_){_.d(Vt,{C:function(){return ht}});var Et=_(9937),ot=_(8227),it=_(9827),nt={toggleTheme:[(0,it.uY)("Shift+Alt+D")],saveScene:[(0,it.uY)("CtrlOrCmd+S")],loadScene:[(0,it.uY)("CtrlOrCmd+O")],clearCanvas:[(0,it.uY)("CtrlOrCmd+Delete")],imageExport:[(0,it.uY)("CtrlOrCmd+Shift+E")],cut:[(0,it.uY)("CtrlOrCmd+X")],copy:[(0,it.uY)("CtrlOrCmd+C")],paste:[(0,it.uY)("CtrlOrCmd+V")],copyStyles:[(0,it.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,it.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,it.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,it.uY)("Delete")],duplicateSelection:[(0,it.uY)("CtrlOrCmd+D"),(0,it.uY)("Alt+".concat((0,ot.t)("helpDialog.drag")))],sendBackward:[(0,it.uY)("CtrlOrCmd+[")],bringForward:[(0,it.uY)("CtrlOrCmd+]")],sendToBack:[Et.Um?(0,it.uY)("CtrlOrCmd+Alt+["):(0,it.uY)("CtrlOrCmd+Shift+[")],bringToFront:[Et.Um?(0,it.uY)("CtrlOrCmd+Alt+]"):(0,it.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,it.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,it.uY)("CtrlOrCmd+G")],ungroup:[(0,it.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,it.uY)("CtrlOrCmd+'")],zenMode:[(0,it.uY)("Alt+Z")],objectsSnapMode:[(0,it.uY)("Alt+S")],stats:[(0,it.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,it.uY)("Shift+H")],flipVertical:[(0,it.uY)("Shift+V")],viewMode:[(0,it.uY)("Alt+R")],hyperlink:[(0,it.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,it.uY)("CtrlOrCmd+Shift+L")]},ht=function(Bt){var st=nt[Bt];return st&&st.length>0?st[0]:""}},3646:function($t,Vt,_){_.d(Vt,{L:function(){return Et}});var Et=function(ot,it,nt,ht){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(ot))return;window.sa_event&&window.sa_event(it,{category:ot,label:nt,value:ht})}catch(Bt){console.error("error during analytics",Bt)}}},6853:function($t,Vt,_){_.d(Vt,{EN:function(){return Zt},eS:function(){return St},im:function(){return Bt},l$:function(){return Nt},s:function(){return xt}});var Et=_(9240),ot=_(9937),it=_(8227),nt=_(9827),ht=ot.ZB.includes(devicePixelRatio)?devicePixelRatio:1,Bt=function(){return{showWelcomeScreen:!1,theme:ot.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:ot.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:ot.HN.fillStyle,currentItemFontFamily:ot.rk,currentItemFontSize:ot.n5,currentItemOpacity:ot.HN.opacity,currentItemRoughness:ot.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:ot.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:ot.HN.strokeStyle,currentItemStrokeWidth:ot.HN.strokeWidth,currentItemTextAlign:ot.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:ot.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:ht,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,it.t)("labels.untitled"),"-").concat((0,nt.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:Et.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},st={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},tt=function(dt,Yt){for(var sn={},bn=0,pn=Object.keys(dt);bn<pn.length;bn++){var mn=pn[bn],qt=st[mn];if(qt!=null&&qt[Yt]){var Ut=dt[mn];sn[mn]=Ut}}return sn},xt=function(dt){return tt(dt,"export")},St=function(dt){return tt(dt,"server")},Zt=function(dt){return dt.activeTool.type==="eraser"},Nt=function(dt){return dt.activeTool.type==="hand"}},901:function($t,Vt,_){_.d(Vt,{dz:function(){return Ut},i$:function(){return bn},ps:function(){return Ct}});var Et=_(1930),ot=_(7169),it=_(2577),nt=_(9240),ht=_(9937),Bt=_(7651),st=_(4643);function tt(Xt,ut){var ft=typeof Symbol<"u"&&Xt[Symbol.iterator]||Xt["@@iterator"];if(!ft){if(Array.isArray(Xt)||(ft=function(vt,zt){if(vt){if(typeof vt=="string")return xt(vt,zt);var Qt=Object.prototype.toString.call(vt).slice(8,-1);if(Qt==="Object"&&vt.constructor&&(Qt=vt.constructor.name),Qt==="Map"||Qt==="Set")return Array.from(vt);if(Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt))return xt(vt,zt)}}(Xt))||ut){ft&&(Xt=ft);var $=0,wt=function(){};return{s:wt,n:function(){return $>=Xt.length?{done:!0}:{done:!1,value:Xt[$++]}},e:function(vt){throw vt},f:wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gt,lt=!0,pt=!1;return{s:function(){ft=ft.call(Xt)},n:function(){var vt=ft.next();return lt=vt.done,vt},e:function(vt){pt=!0,gt=vt},f:function(){try{lt||ft.return==null||ft.return()}finally{if(pt)throw gt}}}}function xt(Xt,ut){(ut==null||ut>Xt.length)&&(ut=Xt.length);for(var ft=0,$=new Array(ut);ft<ut;ft++)$[ft]=Xt[ft];return $}function St(Xt,ut){var ft=Object.keys(Xt);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(Xt);ut&&($=$.filter(function(wt){return Object.getOwnPropertyDescriptor(Xt,wt).enumerable})),ft.push.apply(ft,$)}return ft}function Zt(Xt){for(var ut=1;ut<arguments.length;ut++){var ft=arguments[ut]!=null?arguments[ut]:{};ut%2?St(Object(ft),!0).forEach(function($){(0,ot.Z)(Xt,$,ft[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(ft)):St(Object(ft)).forEach(function($){Object.defineProperty(Xt,$,Object.getOwnPropertyDescriptor(ft,$))})}return Xt}var Nt=32,dt=12,Yt=256,sn="NOT_SPREADSHEET",bn="VALID_SPREADSHEET",pn=function(Xt){var ut=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(Xt);return ut?parseFloat("".concat((ut[1]||ut[2])+ut[3]).replace(/,/g,"")):null},mn=function(Xt,ut){return Xt.slice(1).every(function(ft){return pn(ft[ut])!==null})},qt=function(Xt){var ut=Xt[0].length;if(ut>2)return{type:sn,reason:"More than 2 columns"};if(ut===1){if(!mn(Xt,0))return{type:sn,reason:"Value is not numeric"};var ft=pn(Xt[0][0])===null,$=(ft?Xt.slice(1):Xt).map(function(At){return pn(At[0])});return $.length<2?{type:sn,reason:"Less than two rows"}:{type:bn,spreadsheet:{title:ft?Xt[0][0]:null,labels:null,values:$}}}var wt=mn(Xt,0),gt=mn(Xt,1);if(!wt&&!gt)return{type:sn,reason:"Value is not numeric"};var lt=gt?[0,1]:[1,0],pt=(0,it.Z)(lt,2),vt=pt[0],zt=pt[1],Qt=pn(Xt[0][zt])===null,Ft=Qt?Xt.slice(1):Xt;return Ft.length<2?{type:sn,reason:"Less than 2 rows"}:{type:bn,spreadsheet:{title:Qt?Xt[0][zt]:null,labels:Ft.map(function(At){return At[vt]}),values:Ft.map(function(At){return pn(At[zt])})}}},Ut=function(Xt){var ut=Xt.trim().split(`
`).map(function(gt){return gt.trim().split("	")});if(ut.length&&ut[0].length!==2&&(ut=Xt.trim().split(`
`).map(function(gt){return gt.trim().split(",")})),ut.length===0)return{type:sn,reason:"No values"};var ft=ut[0].length;if(!ut.every(function(gt){return gt.length===ft}))return{type:sn,reason:"All rows don't have same number of columns"};var $=qt(ut);if($.type!==bn){var wt=qt(function(gt){for(var lt=[],pt=0;pt<gt[0].length;pt++){for(var vt=[],zt=0;zt<gt.length;zt++)vt.push(gt[zt][pt]);lt.push(vt)}return lt}(ut));if(wt.type===bn)return wt}return $},Kt=(0,nt.sF)(nt.C2),yt={fillStyle:"hachure",fontFamily:ht.rk,fontSize:ht.n5,opacity:100,roughness:1,strokeColor:nt.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:ht.oX.MIDDLE,locked:!1},Ot=function(Xt){return{chartWidth:44*Xt.values.length+dt,chartHeight:280}},Gt=function(Xt,ut,ft,$,wt,gt){var lt=Ot(Xt),pt=lt.chartWidth,vt=Xt.title?(0,Bt.VL)(Zt(Zt({backgroundColor:wt,groupIds:[$]},yt),{},{text:Xt.title,x:ut+pt/2,y:ft-Yt-24-ht.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,Et.Z)([]),(0,Et.Z)(vt?[vt]:[]),(0,Et.Z)(function(zt,Qt,Ft,At,Tt){var jt;return((jt=zt.labels)===null||jt===void 0?void 0:jt.map(function(un,Jt){return(0,Bt.VL)(Zt(Zt({groupIds:[At],backgroundColor:Tt},yt),{},{text:un.length>8?"".concat(un.slice(0,5),"..."):un,x:Qt+44*Jt+24,y:Ft+6,width:Nt,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(Xt,ut,ft,$,wt)),(0,Et.Z)(function(zt,Qt,Ft,At,Tt){var jt=(0,Bt.VL)(Zt(Zt({groupIds:[At],backgroundColor:Tt},yt),{},{x:Qt-dt,y:Ft-dt,text:"0",textAlign:"right"}));return[jt,(0,Bt.VL)(Zt(Zt({groupIds:[At],backgroundColor:Tt},yt),{},{x:Qt-dt,y:Ft-Yt-jt.height/2,text:Math.max.apply(Math,(0,Et.Z)(zt.values)).toLocaleString(),textAlign:"right"}))]}(Xt,ut,ft,$,wt)),(0,Et.Z)(function(zt,Qt,Ft,At,Tt){var jt=Ot(zt),un=jt.chartWidth,Jt=jt.chartHeight;return[(0,Bt.y8)(Zt(Zt({backgroundColor:Tt,groupIds:[At]},yt),{},{type:"line",x:Qt,y:Ft,startArrowhead:null,endArrowhead:null,width:un,points:[[0,0],[un,0]]})),(0,Bt.y8)(Zt(Zt({backgroundColor:Tt,groupIds:[At]},yt),{},{type:"line",x:Qt,y:Ft,startArrowhead:null,endArrowhead:null,height:Jt,points:[[0,0],[0,-Jt]]})),(0,Bt.y8)(Zt(Zt({backgroundColor:Tt,groupIds:[At]},yt),{},{type:"line",x:Qt,y:Ft-Yt-dt,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:un,opacity:50,points:[[0,0],[un,0]]}))]}(Xt,ut,ft,$,wt)))},Ct=function(Xt,ut,ft,$){return Xt==="line"?function(wt,gt,lt){var pt,vt=Math.max.apply(Math,(0,Et.Z)(wt.values)),zt=(0,st.kb)(),Qt=Kt[Math.floor(Math.random()*Kt.length)],Ft=0,At=[],Tt=tt(wt.values);try{for(Tt.s();!(pt=Tt.n()).done;){var jt=pt.value,un=44*Ft,Jt=-jt/vt*Yt;At.push([un,Jt]),Ft++}}catch(Dn){Tt.e(Dn)}finally{Tt.f()}var hn=Math.max.apply(Math,(0,Et.Z)(At.map(function(Dn){return Dn[0]}))),rn=Math.max.apply(Math,(0,Et.Z)(At.map(function(Dn){return Dn[1]}))),Mt=Math.min.apply(Math,(0,Et.Z)(At.map(function(Dn){return Dn[0]}))),an=Math.min.apply(Math,(0,Et.Z)(At.map(function(Dn){return Dn[1]}))),Cn=(0,Bt.y8)(Zt(Zt({backgroundColor:Qt,groupIds:[zt]},yt),{},{type:"line",x:gt+dt+16,y:lt-dt,startArrowhead:null,endArrowhead:null,height:rn-an,width:hn-Mt,strokeWidth:2,points:At})),kn=wt.values.map(function(Dn,Fn){var vn=44*Fn+6,Gn=-Dn/vt*Yt+6;return(0,Bt.Up)(Zt(Zt({backgroundColor:Qt,groupIds:[zt]},yt),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:gt+vn+16,y:lt+Gn-24,width:dt,height:dt}))}),jn=wt.values.map(function(Dn,Fn){var vn=44*Fn+6,Gn=Dn/vt*Yt+6+dt;return(0,Bt.y8)(Zt(Zt({backgroundColor:Qt,groupIds:[zt]},yt),{},{type:"line",x:gt+vn+16+6,y:lt-Gn,startArrowhead:null,endArrowhead:null,height:Gn,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Gn]]}))});return[].concat((0,Et.Z)(Gt(wt,gt,lt,zt,Qt)),[Cn],(0,Et.Z)(jn),(0,Et.Z)(kn))}(ut,ft,$):function(wt,gt,lt){var pt=Math.max.apply(Math,(0,Et.Z)(wt.values)),vt=(0,st.kb)(),zt=Kt[Math.floor(Math.random()*Kt.length)],Qt=wt.values.map(function(Ft,At){var Tt=Ft/pt*Yt;return(0,Bt.Up)(Zt(Zt({backgroundColor:zt,groupIds:[vt]},yt),{},{type:"rectangle",x:gt+44*At+dt,y:lt-Tt-dt,width:Nt,height:Tt}))});return[].concat((0,Et.Z)(Qt),(0,Et.Z)(Gt(wt,gt,lt,vt,zt)))}(ut,ft,$)}},957:function($t,Vt,_){_.d(Vt,{G:function(){return Et},l:function(){return ot}});var Et=function(it){var nt=Math.abs(function(ht){var Bt=0;if(ht.length===0)return Bt;for(var st=0;st<ht.length;st++)Bt=(Bt<<5)-Bt+ht.charCodeAt(st);return Bt}(it));return"hsl(".concat(nt%37*10,", ").concat(100,"%, ").concat(83,"%)")},ot=function(it){var nt,ht=it==null||(nt=it.trim())===null||nt===void 0?void 0:nt.codePointAt(0);return(ht?String.fromCodePoint(ht):"?").toUpperCase()}},4694:function($t,Vt,_){_.d(Vt,{OO:function(){return qt},Se:function(){return Ct},dd:function(){return $},mQ:function(){return ut},uR:function(){return ft},vQ:function(){return Kt},vt:function(){return pn},wx:function(){return bn}});var Et=_(7169),ot=_(8950),it=_(2577),nt=_(2975),ht=_.n(nt),Bt=_(901),st=_(9937),tt=_(4183),xt=_(5742),St=_(583),Zt=_(4682),Nt=_(9827),dt=_(8227);function Yt(gt,lt){var pt=typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(!pt){if(Array.isArray(gt)||(pt=function(Tt,jt){if(Tt){if(typeof Tt=="string")return sn(Tt,jt);var un=Object.prototype.toString.call(Tt).slice(8,-1);if(un==="Object"&&Tt.constructor&&(un=Tt.constructor.name),un==="Map"||un==="Set")return Array.from(Tt);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return sn(Tt,jt)}}(gt))||lt){pt&&(gt=pt);var vt=0,zt=function(){};return{s:zt,n:function(){return vt>=gt.length?{done:!0}:{done:!1,value:gt[vt++]}},e:function(Tt){throw Tt},f:zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qt,Ft=!0,At=!1;return{s:function(){pt=pt.call(gt)},n:function(){var Tt=pt.next();return Ft=Tt.done,Tt},e:function(Tt){At=!0,Qt=Tt},f:function(){try{Ft||pt.return==null||pt.return()}finally{if(At)throw Qt}}}}function sn(gt,lt){(lt==null||lt>gt.length)&&(lt=gt.length);for(var pt=0,vt=new Array(lt);pt<lt;pt++)vt[pt]=gt[pt];return vt}var bn="clipboard"in navigator&&"writeText"in navigator.clipboard,pn="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,mn=function(gt){return!(![st.r8.excalidraw,st.r8.excalidrawClipboard,st.r8.excalidrawClipboardWithAPI].includes(gt==null?void 0:gt.type)||!Array.isArray(gt.elements))},qt=function(gt){var lt=gt.types,pt=gt.files;lt||pt||console.warn("createPasteEvent: no types or files provided");var vt=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(lt)for(var zt=0,Qt=Object.entries(lt);zt<Qt.length;zt++){var Ft=(0,it.Z)(Qt[zt],2),At=Ft[0],Tt=Ft[1];try{var jt,un;if((jt=vt.clipboardData)===null||jt===void 0||jt.setData(At,Tt),((un=vt.clipboardData)===null||un===void 0?void 0:un.getData(At))!==Tt)throw new Error('Failed to set "'.concat(At,'" as clipboardData item'))}catch(kn){throw new Error(kn.message)}}if(pt){var Jt,hn=-1,rn=Yt(pt);try{for(rn.s();!(Jt=rn.n()).done;){var Mt=Jt.value;hn++;try{var an,Cn;if((an=vt.clipboardData)===null||an===void 0||an.items.add(Mt),((Cn=vt.clipboardData)===null||Cn===void 0?void 0:Cn.files[hn])!==Mt)throw new Error('Failed to set file "'.concat(Mt.name,'" as clipboardData item'))}catch(kn){throw new Error(kn.message)}}}catch(kn){rn.e(kn)}finally{rn.f()}}return vt},Ut=function(gt){var lt=gt.elements,pt=gt.files,vt=new Set(lt.filter(function(At){return At.type==="frame"})),zt=!1,Qt=lt.reduce(function(At,Tt){return(0,tt.wi)(Tt)&&(zt=!0,pt&&pt[Tt.fileId]&&(At[Tt.fileId]=pt[Tt.fileId])),At},{});zt&&!pt&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var Ft={type:st.r8.excalidrawClipboard,elements:lt.map(function(At){if((0,Zt.$Z)(At)&&!vt.has((0,Zt.$Z)(At))){var Tt=(0,xt.OL)(At);return(0,St.DR)(Tt,{frameId:null}),Tt}return At}),files:pt?Qt:void 0};return JSON.stringify(Ft)},Kt=function(){var gt=(0,ot.Z)(ht().mark(function lt(pt,vt,zt){return ht().wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:return Qt.next=2,$(Ut({elements:pt,files:vt}),zt);case 2:case"end":return Qt.stop()}},lt)}));return function(lt,pt,vt){return gt.apply(this,arguments)}}(),yt=function(gt){var lt=(0,Bt.dz)(gt);return lt.type===Bt.i$?{spreadsheet:lt.spreadsheet}:null};function Ot(gt){var lt,pt=[],vt=Yt(gt.childNodes);try{for(vt.s();!(lt=vt.n()).done;){var zt=lt.value;if(zt.nodeType===3){var Qt,Ft=(Qt=zt.textContent)===null||Qt===void 0?void 0:Qt.trim();Ft&&pt.push({type:"text",value:Ft})}else if(zt instanceof HTMLImageElement){var At=zt.getAttribute("src");At&&At.startsWith("http")&&pt.push({type:"imageUrl",value:At})}else pt=pt.concat(Ot(zt))}}catch(Tt){vt.e(Tt)}finally{vt.f()}return pt}var Gt=function(gt){var lt,pt=(lt=gt.clipboardData)===null||lt===void 0?void 0:lt.getData("text/html");if(!pt)return null;try{var vt=Ot(new DOMParser().parseFromString(pt,"text/html").body);if(vt.length)return{type:"mixedContent",value:vt}}catch(zt){console.error("error in parseHTMLFromPaste: ".concat(zt.message))}return null},Ct=function(){var gt=(0,ot.Z)(ht().mark(function lt(){var pt,vt,zt,Qt,Ft,At,Tt,jt,un,Jt,hn,rn;return ht().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(pt={},Mt.prev=1,(vt=navigator.clipboard)===null||vt===void 0||!vt.readText){Mt.next=7;break}return Mt.next=5,(zt=navigator.clipboard)===null||zt===void 0?void 0:zt.readText();case 5:return Mt.t0=Mt.sent,Mt.abrupt("return",{"text/plain":Mt.t0});case 7:Mt.next=16;break;case 9:if(Mt.prev=9,Mt.t1=Mt.catch(1),(Qt=navigator.clipboard)===null||Qt===void 0||!Qt.read){Mt.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(Mt.t1.message,"). Failling back to navigator.clipboard.read()")),Mt.next=16;break;case 15:throw Mt.t1;case 16:return Mt.prev=16,Mt.next=19,(At=navigator.clipboard)===null||At===void 0?void 0:At.read();case 19:Ft=Mt.sent,Mt.next=28;break;case 22:if(Mt.prev=22,Mt.t2=Mt.catch(16),Mt.t2.name!=="DataError"){Mt.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(Mt.t2.message)),Mt.abrupt("return",pt);case 27:throw Mt.t2;case 28:Tt=Yt(Ft),Mt.prev=29,Tt.s();case 31:if((jt=Tt.n()).done){Mt.next=63;break}un=jt.value,Jt=Yt(un.types),Mt.prev=34,Jt.s();case 36:if((hn=Jt.n()).done){Mt.next=53;break}if(rn=hn.value,(0,Nt.XF)(st.wL,rn)){Mt.next=40;break}return Mt.abrupt("continue",51);case 40:return Mt.prev=40,Mt.next=43,un.getType(rn);case 43:return Mt.next=45,Mt.sent.text();case 45:pt[rn]=Mt.sent,Mt.next=51;break;case 48:Mt.prev=48,Mt.t3=Mt.catch(40),console.warn("Cannot retrieve ".concat(rn," from clipboardItem: ").concat(Mt.t3.message));case 51:Mt.next=36;break;case 53:Mt.next=58;break;case 55:Mt.prev=55,Mt.t4=Mt.catch(34),Jt.e(Mt.t4);case 58:return Mt.prev=58,Jt.f(),Mt.finish(58);case 61:Mt.next=31;break;case 63:Mt.next=68;break;case 65:Mt.prev=65,Mt.t5=Mt.catch(29),Tt.e(Mt.t5);case 68:return Mt.prev=68,Tt.f(),Mt.finish(68);case 71:if(Object.keys(pt).length!==0){Mt.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),Mt.abrupt("return",pt);case 74:return Mt.abrupt("return",pt);case 75:case"end":return Mt.stop()}},lt,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return gt.apply(this,arguments)}}(),Xt=function(){var gt=(0,ot.Z)(ht().mark(function lt(pt){var vt,zt,Qt,Ft,At,Tt=arguments;return ht().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:if(vt=Tt.length>1&&Tt[1]!==void 0&&Tt[1],jt.prev=1,!(Qt=!vt&&pt&&Gt(pt))){jt.next=7;break}if(!Qt.value.every(function(un){return un.type==="text"})){jt.next=6;break}return jt.abrupt("return",{type:"text",value:((Ft=pt.clipboardData)===null||Ft===void 0?void 0:Ft.getData("text/plain"))||Qt.value.map(function(un){return un.value}).join(`
`).trim()});case 6:return jt.abrupt("return",Qt);case 7:return At=(zt=pt.clipboardData)===null||zt===void 0?void 0:zt.getData("text/plain"),jt.abrupt("return",{type:"text",value:(At||"").trim()});case 11:return jt.prev=11,jt.t0=jt.catch(1),jt.abrupt("return",{type:"text",value:""});case 14:case"end":return jt.stop()}},lt,null,[[1,11]])}));return function(lt){return gt.apply(this,arguments)}}(),ut=function(){var gt=(0,ot.Z)(ht().mark(function lt(pt){var vt,zt,Qt,Ft,At,Tt=arguments;return ht().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return vt=Tt.length>1&&Tt[1]!==void 0&&Tt[1],jt.next=3,Xt(pt,vt);case 3:if((zt=jt.sent).type!=="mixedContent"){jt.next=6;break}return jt.abrupt("return",{mixedContent:zt.value});case 6:if(jt.prev=6,!(Qt=!vt&&yt(zt.value))){jt.next=10;break}return jt.abrupt("return",Qt);case 10:jt.next=15;break;case 12:jt.prev=12,jt.t0=jt.catch(6),console.error(jt.t0);case 15:if(jt.prev=15,Ft=JSON.parse(zt.value),At=Ft.type===st.r8.excalidrawClipboardWithAPI,!mn(Ft)){jt.next=20;break}return jt.abrupt("return",{elements:Ft.elements,files:Ft.files,text:vt?JSON.stringify(Ft.elements,null,2):void 0,programmaticAPI:At});case 20:jt.next=24;break;case 22:jt.prev=22,jt.t1=jt.catch(15);case 24:return jt.abrupt("return",{text:zt.value});case 25:case"end":return jt.stop()}},lt,null,[[6,12],[15,22]])}));return function(lt){return gt.apply(this,arguments)}}(),ft=function(){var gt=(0,ot.Z)(ht().mark(function lt(pt){return ht().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:return vt.prev=0,vt.next=3,navigator.clipboard.write([new window.ClipboardItem((0,Et.Z)({},st.LO.png,pt))]);case 3:case 21:vt.next=24;break;case 5:if(vt.prev=5,vt.t0=vt.catch(0),!(0,Nt.y8)(pt)){vt.next=23;break}return vt.t1=navigator.clipboard,vt.t2=window.ClipboardItem,vt.t3=Et.Z,vt.t4={},vt.t5=st.LO.png,vt.next=15,pt;case 15:return vt.t6=vt.sent,vt.t7=(0,vt.t3)(vt.t4,vt.t5,vt.t6),vt.t8=new vt.t2(vt.t7),vt.t9=[vt.t8],vt.next=21,vt.t1.write.call(vt.t1,vt.t9);case 23:throw vt.t0;case 24:case"end":return vt.stop()}},lt,null,[[0,5]])}));return function(lt){return gt.apply(this,arguments)}}(),$=function(){var gt=(0,ot.Z)(ht().mark(function lt(pt,vt){var zt,Qt;return ht().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:if(!bn){Ft.next=10;break}return Ft.prev=1,Ft.next=4,navigator.clipboard.writeText(pt||"");case 4:return Ft.abrupt("return");case 7:Ft.prev=7,Ft.t0=Ft.catch(1),console.error(Ft.t0);case 10:if(Ft.prev=10,!vt){Ft.next=16;break}if((zt=vt.clipboardData)===null||zt===void 0||zt.setData("text/plain",pt||""),((Qt=vt.clipboardData)===null||Qt===void 0?void 0:Qt.getData("text/plain"))===pt){Ft.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return Ft.abrupt("return");case 16:Ft.next=21;break;case 18:Ft.prev=18,Ft.t1=Ft.catch(10),console.error(Ft.t1);case 21:if(wt(pt)){Ft.next=23;break}throw new Error((0,dt.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return Ft.stop()}},lt,null,[[1,7],[10,18]])}));return function(lt,pt){return gt.apply(this,arguments)}}(),wt=function(gt){gt||(gt=" ");var lt=document.documentElement.getAttribute("dir")==="rtl",pt=document.createElement("textarea");pt.style.border="0",pt.style.padding="0",pt.style.margin="0",pt.style.position="absolute",pt.style[lt?"right":"left"]="-9999px";var vt=window.pageYOffset||document.documentElement.scrollTop;pt.style.top="".concat(vt,"px"),pt.style.fontSize="12pt",pt.setAttribute("readonly",""),pt.value=gt,document.body.appendChild(pt);var zt=!1;try{pt.select(),pt.setSelectionRange(0,pt.value.length),zt=document.execCommand("copy")}catch(Qt){console.error(Qt)}return pt.remove(),zt}},9240:function($t,Vt,_){_.d(Vt,{C2:function(){return tt},HO:function(){return dt},Lx:function(){return Bt},SF:function(){return qt},Wk:function(){return mn},_T:function(){return St},ay:function(){return pn},dC:function(){return st},eq:function(){return bn},fY:function(){return sn},sF:function(){return Ut},vq:function(){return Kt},z8:function(){return xt}});var Et=_(7169),ot=_(5284);function it(yt,Ot){var Gt=Object.keys(yt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(yt);Ot&&(Ct=Ct.filter(function(Xt){return Object.getOwnPropertyDescriptor(yt,Xt).enumerable})),Gt.push.apply(Gt,Ct)}return Gt}function nt(yt){for(var Ot=1;Ot<arguments.length;Ot++){var Gt=arguments[Ot]!=null?arguments[Ot]:{};Ot%2?it(Object(Gt),!0).forEach(function(Ct){(0,Et.Z)(yt,Ct,Gt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Gt)):it(Object(Gt)).forEach(function(Ct){Object.defineProperty(yt,Ct,Object.getOwnPropertyDescriptor(Gt,Ct))})}return yt}var ht,Bt=5,st=5,tt=4,xt=4,St=1,Zt=[0,2,4,6,8],Nt=function(yt,Ot){return Ot.map(function(Gt){return ot[yt][Gt]})},dt={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:Nt("gray",Zt),red:Nt("red",Zt),pink:Nt("pink",Zt),grape:Nt("grape",Zt),violet:Nt("violet",Zt),blue:Nt("blue",Zt),cyan:Nt("cyan",Zt),teal:Nt("teal",Zt),green:Nt("green",Zt),yellow:Nt("yellow",Zt),orange:Nt("orange",Zt),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},Yt=(ht=dt,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(yt,Ot){return Ot in ht&&(yt[Ot]=ht[Ot]),yt},{})),sn=[dt.black,dt.red[xt],dt.green[xt],dt.blue[xt],dt.yellow[xt]],bn=[dt.transparent,dt.red[St],dt.green[St],dt.blue[St],dt.yellow[St]],pn=[dt.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],mn=nt({transparent:dt.transparent,white:dt.white,gray:dt.gray,black:dt.black,bronze:dt.bronze},Yt),qt=nt({transparent:dt.transparent,white:dt.white,gray:dt.gray,black:dt.black,bronze:dt.bronze},Yt),Ut=function(yt){return[dt.cyan[yt],dt.blue[yt],dt.violet[yt],dt.grape[yt],dt.pink[yt],dt.green[yt],dt.teal[yt],dt.yellow[yt],dt.orange[yt],dt.red[yt]]},Kt=function(yt,Ot,Gt){return"#".concat(((1<<24)+(yt<<16)+(Ot<<8)+Gt).toString(16).slice(1))}},8973:function($t,Vt,_){_.d(Vt,{o:function(){return St},w:function(){return xt}});var Et=_(2577),ot=_(3607),it=_(5463),nt=_(8227),ht=_(453),Bt=_(8242),st=_(6887),tt=_(1020),xt=(0,ot.cn)(null),St=function(){var Zt=(0,ot.KO)(xt,ht.yE),Nt=(0,Et.Z)(Zt,2),dt=Nt[0],Yt=Nt[1],sn=(0,Bt.eh)();return dt&&dt==="clearCanvas"?(0,tt.jsx)(st.Z,{onConfirm:function(){sn.executeAction(it.mo),Yt(null)},onCancel:function(){return Yt(null)},title:(0,nt.t)("clearCanvasDialog.title"),children:(0,tt.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,nt.t)("alerts.clearReset")]})}):null}},8242:function($t,Vt,_){var j0,_0;_.d(Vt,{ZP:function(){return dI},qD:function(){return O0},hY:function(){return rI},Fy:function(){return b0},eh:function(){return R0},gF:function(){return aI},J0:function(){return M0},bd:function(){return iI},n9:function(){return oI}});var Et=_(6655),ot=_(2577),it=_(1930),nt=_(8950),ht=_(8821),Bt=_(5169),st=_(3173),tt=_(2248),xt=_(7245),St=_(2312),Zt=_(7169),Nt=_(2975),dt=_.n(Nt),Yt=_(9787),sn=_.n(Yt),bn=_(5156),pn=_(9845),mn=_(45),qt=_(5605),Ut=_(5463),Kt=_(8935),yt=_(1512),Ot=_(8227),Gt=_(5491),Ct=_(583),Xt=_(9645),ut=_(9827),ft=_(9937),$=_(1020);function wt(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function gt(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?wt(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):wt(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var lt=function(_e,bt,kt){var Ht=!1;if(!(bt.multiElement||bt.resizingElement||bt.editingElement||bt.draggingElement)){var ln=kt();if(ln===null)return{commitToHistory:Ht};var xn=(0,ut.xn)(_e),Lt=ln.elements,Dt=(0,ut.xn)(Lt),fn=_e.filter(function(Un){return!Dt.has(Un.id)}),Nn=Lt.map(function(Un){return(0,Ct.BE)(xn.get(Un.id)||Un,Un)}).concat(fn.map(function(Un){return(0,Ct.BE)(Un,{isDeleted:!0})}));return(0,Xt.$q)(Nn,fn),{elements:Nn,appState:gt(gt({},bt),ln.appState),commitToHistory:Ht,syncHistory:!0}}return{commitToHistory:Ht}},pt=_(3646),vt=function(_e,bt,kt,Ht,ln,xn){if(_e.trackEvent)try{(0,Et.Z)(_e.trackEvent)==="object"&&(!_e.trackEvent.predicate||_e.trackEvent.predicate(kt,Ht,xn))&&(0,pt.L)(_e.trackEvent.category,_e.trackEvent.action||_e.name,"".concat(bt," (").concat(ln.device.editor.isMobile?"mobile":"desktop",")"))}catch(Lt){console.error("error while logging action:",Lt)}},zt=function(){function _e(bt,kt,Ht,ln){var xn=this;(0,ht.Z)(this,_e),this.actions={},this.renderAction=function(Lt,Dt){var fn=xn.app.props.UIOptions.canvasActions;if(xn.actions[Lt]&&"PanelComponent"in xn.actions[Lt]&&(!(Lt in fn)||fn[Lt])){var Nn=xn.actions[Lt],Un=Nn.PanelComponent;Un.displayName="PanelComponent";var Pn=xn.getElementsIncludingDeleted(),Jn=xn.getAppState();return(0,$.jsx)(Un,{elements:xn.getElementsIncludingDeleted(),appState:xn.getAppState(),updateData:function($n){vt(Nn,"ui",Jn,Pn,xn.app,$n),xn.updater(Nn.perform(xn.getElementsIncludingDeleted(),xn.getAppState(),$n,xn.app))},appProps:xn.app.props,app:xn.app,data:Dt})}return null},this.isActionEnabled=function(Lt){var Dt=xn.getElementsIncludingDeleted(),fn=xn.getAppState();return!Lt.predicate||Lt.predicate(Dt,fn,xn.app.props,xn.app)},this.updater=function(Lt){if(!Lt||!("then"in Lt))return bt(Lt);Lt.then(function(Dt){return bt(Dt)})},this.getAppState=kt,this.getElementsIncludingDeleted=Ht,this.app=ln}return(0,Bt.Z)(_e,[{key:"registerAction",value:function(bt){this.actions[bt.name]=bt}},{key:"registerAll",value:function(bt){var kt=this;bt.forEach(function(Ht){return kt.registerAction(Ht)})}},{key:"handleKeyDown",value:function(bt){var kt=this,Ht=this.app.props.UIOptions.canvasActions,ln=Object.values(this.actions).sort(function(fn,Nn){return(Nn.keyPriority||0)-(fn.keyPriority||0)}).filter(function(fn){return(!(fn.name in Ht)||Ht[fn.name])&&fn.keyTest&&fn.keyTest(bt,kt.getAppState(),kt.getElementsIncludingDeleted(),kt.app)});if(ln.length!==1)return ln.length>1&&console.warn("Canceling as multiple actions match this shortcut",ln),!1;var xn=ln[0];if(this.getAppState().viewModeEnabled&&xn.viewMode!==!0)return!1;var Lt=this.getElementsIncludingDeleted(),Dt=this.getAppState();return vt(xn,"keyboard",Dt,Lt,this.app,null),bt.preventDefault(),bt.stopPropagation(),this.updater(ln[0].perform(Lt,Dt,null,this.app)),!0}},{key:"executeAction",value:function(bt){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ln=this.getElementsIncludingDeleted(),xn=this.getAppState();vt(bt,kt,xn,ln,this.app,Ht),this.updater(bt.perform(ln,xn,Ht,this.app))}}]),_e}(),Qt=_(2767),Ft=_(6853),At=_(4694),Tt=_(2435),jt=_(9326),un=_(7994),Jt=_(7651),hn=_(7422),rn=_(5742),Mt=_(4183),an=function(_e){var bt=Array.from(_e.values());return{x:kn(bt,function(kt){return kt.x})/bt.length,y:kn(bt,function(kt){return kt.y})/bt.length}},Cn=function(_e){var bt=(0,ot.Z)(_e,2),kt=bt[0],Ht=bt[1];return Math.hypot(kt.x-Ht.x,kt.y-Ht.y)},kn=function(_e,bt){return _e.reduce(function(kt,Ht){return kt+bt(Ht)},0)},jn=_(9215);function Dn(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function Fn(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?Dn(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):Dn(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var vn=function(_e){return{selectedElementIds:_e.selectedElementIds,selectedGroupIds:_e.selectedGroupIds,viewBackgroundColor:_e.viewBackgroundColor,editingLinearElement:_e.editingLinearElement,editingGroupId:_e.editingGroupId,name:_e.name}},Gn=function(){function _e(){var bt=this;(0,ht.Z)(this,_e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(kt,Ht){return bt.dehydrateHistoryEntry({appState:vn(kt),elements:Ht.reduce(function(ln,xn){if((0,Mt.bt)(xn)&&kt.multiElement&&kt.multiElement.id===xn.id){if(kt.multiElement&&kt.multiElement.id===xn.id&&xn.points.length<2)return ln;ln.push(Fn(Fn({},xn),{},{points:xn.lastCommittedPoint!==xn.points[xn.points.length-1]?xn.points.slice(0,-1):xn.points}))}else ln.push(xn);return ln},[])})}}return(0,Bt.Z)(_e,[{key:"hydrateHistoryEntry",value:function(bt){var kt=this,Ht=bt.appState,ln=bt.elements;return{appState:JSON.parse(Ht),elements:ln.map(function(xn){var Lt,Dt=(Lt=kt.elementCache.get(xn.id))===null||Lt===void 0?void 0:Lt.get(xn.versionNonce);if(!Dt)throw new Error("Element not found: ".concat(xn.id,":").concat(xn.versionNonce));return Dt})}}},{key:"dehydrateHistoryEntry",value:function(bt){var kt=this,Ht=bt.appState,ln=bt.elements;return{appState:JSON.stringify(Ht),elements:ln.map(function(xn){kt.elementCache.has(xn.id)||kt.elementCache.set(xn.id,new Map);var Lt=kt.elementCache.get(xn.id);return Lt.has(xn.versionNonce)||Lt.set(xn.versionNonce,(0,rn.OL)(xn)),{id:xn.id,versionNonce:xn.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var bt=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(kt){return bt.hydrateHistoryEntry(kt)}),redoStack:this.redoStack.map(function(kt){return bt.hydrateHistoryEntry(kt)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(bt){var kt,Ht=this.lastEntry;if(!Ht||bt.elements.length!==Ht.elements.length)return!0;for(var ln=bt.elements.length-1;ln>-1;ln--){var xn=bt.elements[ln],Lt=Ht.elements[ln];if(!xn||!Lt||xn.id!==Lt.id||xn.versionNonce!==Lt.versionNonce)return!0}for(kt in bt.appState){var Dt,fn;if(!(kt==="editingLinearElement"&&((Dt=bt.appState[kt])===null||Dt===void 0?void 0:Dt.elementId)===((fn=Ht.appState[kt])===null||fn===void 0?void 0:fn.elementId))&&kt!=="selectedElementIds"&&kt!=="selectedGroupIds"&&bt.appState[kt]!==Ht.appState[kt])return!0}return!1}},{key:"pushEntry",value:function(bt,kt){var Ht=this.generateEntry(bt,kt),ln=this.hydrateHistoryEntry(Ht);if(ln){if(!this.shouldCreateEntry(ln))return;this.stateHistory.push(Ht),this.lastEntry=ln,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var bt=this.redoStack.pop();return bt!==void 0?(this.stateHistory.push(bt),this.hydrateHistoryEntry(bt)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var bt=this.stateHistory.pop(),kt=this.stateHistory[this.stateHistory.length-1];return bt!==void 0?(this.redoStack.push(bt),this.hydrateHistoryEntry(kt)):null}},{key:"setCurrentState",value:function(bt,kt){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(bt,kt))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(bt,kt){this.recording&&(this.pushEntry(bt,kt),this.recording=!1)}}]),_e}(),Sn=_(7935),nn=_(2361),Qn=_(4105),tn=_(457),at=_(4116),ct=[{icon:Kt.zu,value:"selection",key:Gt.tW.V,numericKey:Gt.tW[1],fillable:!0},{icon:Kt.OW,value:"rectangle",key:Gt.tW.R,numericKey:Gt.tW[2],fillable:!0},{icon:Kt.nb,value:"diamond",key:Gt.tW.D,numericKey:Gt.tW[3],fillable:!0},{icon:Kt.Re,value:"ellipse",key:Gt.tW.O,numericKey:Gt.tW[4],fillable:!0},{icon:Kt.e0,value:"arrow",key:Gt.tW.A,numericKey:Gt.tW[5],fillable:!0},{icon:Kt.zb,value:"line",key:Gt.tW.L,numericKey:Gt.tW[6],fillable:!0},{icon:Kt.Pm,value:"freedraw",key:[Gt.tW.P,Gt.tW.X],numericKey:Gt.tW[7],fillable:!1},{icon:Kt.VL,value:"text",key:Gt.tW.T,numericKey:Gt.tW[8],fillable:!1},{icon:Kt.XB,value:"image",key:null,numericKey:Gt.tW[9],fillable:!1},{icon:Kt.$q,value:"eraser",key:Gt.tW.E,numericKey:Gt.tW[0],fillable:!1}],mt=_(761),Wt=_(3204),Rt=_(3379),en=_.n(Rt),Pt=_(7795),on=_.n(Pt),Bn=_(569),yn=_.n(Bn),Wn=_(3565),Vn=_.n(Wn),Hn=_(9216),Zn=_.n(Hn),Kn=_(4589),qn=_.n(Kn),sr=_(6578),In={};In.styleTagTransform=qn(),In.setAttributes=Vn(),In.insert=yn().bind(null,"head"),In.domAPI=on(),In.insertStyleElement=Zn(),en()(sr.Z,In),sr.Z&&sr.Z.locals&&sr.Z.locals;var An=_(2529),On="separator",_n=sn().memo(function(_e){var bt=_e.actionManager,kt=_e.items,Ht=_e.top,ln=_e.left,xn=_e.onClose,Lt=aI(),Dt=iI(),fn=kt.reduce(function(Nn,Un){return!Un||Un!==On&&Un.predicate&&!Un.predicate(Dt,Lt,bt.app.props,bt.app)||Nn.push(Un),Nn},[]);return(0,$.jsx)(Wt.J,{onCloseRequest:function(){xn()},top:Ht,left:ln,fitInViewport:!0,offsetLeft:Lt.offsetLeft,offsetTop:Lt.offsetTop,viewportWidth:Lt.width,viewportHeight:Lt.height,children:(0,$.jsx)("ul",{className:"context-menu",onContextMenu:function(Nn){return Nn.preventDefault()},children:fn.map(function(Nn,Un){var Pn;if(Nn===On)return fn[Un-1]&&fn[Un-1]!==On?(0,$.jsx)("hr",{className:"context-menu-item-separator"},Un):null;var Jn=Nn.name,$n="";return Nn.contextItemLabel&&($n=typeof Nn.contextItemLabel=="function"?(0,Ot.t)(Nn.contextItemLabel(Dt,Lt,bt.app)):(0,Ot.t)(Nn.contextItemLabel)),(0,$.jsx)("li",{"data-testid":Jn,onClick:function(){xn(function(){bt.executeAction(Nn,"contextMenu")})},children:(0,$.jsxs)("button",{className:(0,mn.Z)("context-menu-item",{dangerous:Jn==="deleteSelectedElements",checkmark:(Pn=Nn.checked)===null||Pn===void 0?void 0:Pn.call(Nn,Lt)}),children:[(0,$.jsx)("div",{className:"context-menu-item__label",children:$n}),(0,$.jsx)("kbd",{className:"context-menu-item__shortcut",children:Jn?(0,An.C)(Jn):""})]})},Un)})})})}),or=_(2726),ir=_(2540),mr=_(1648),yr=_(8925),cr=_(4761),Ur=_(6086),Wr={};Wr.styleTagTransform=qn(),Wr.setAttributes=Vn(),Wr.insert=yn().bind(null,"head"),Wr.domAPI=on(),Wr.insertStyleElement=Zn(),en()(Ur.Z,Wr),Ur.Z&&Ur.Z.locals&&Ur.Z.locals;var Xr=_(7104);function wr(_e,bt){var kt=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!kt){if(Array.isArray(_e)||(kt=function(fn,Nn){if(fn){if(typeof fn=="string")return Jr(fn,Nn);var Un=Object.prototype.toString.call(fn).slice(8,-1);if(Un==="Object"&&fn.constructor&&(Un=fn.constructor.name),Un==="Map"||Un==="Set")return Array.from(fn);if(Un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un))return Jr(fn,Nn)}}(_e))||bt){kt&&(_e=kt);var Ht=0,ln=function(){};return{s:ln,n:function(){return Ht>=_e.length?{done:!0}:{done:!1,value:_e[Ht++]}},e:function(fn){throw fn},f:ln}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn,Lt=!0,Dt=!1;return{s:function(){kt=kt.call(_e)},n:function(){var fn=kt.next();return Lt=fn.done,fn},e:function(fn){Dt=!0,xn=fn},f:function(){try{Lt||kt.return==null||kt.return()}finally{if(Dt)throw xn}}}}function Jr(_e,bt){(bt==null||bt>_e.length)&&(bt=_e.length);for(var kt=0,Ht=new Array(bt);kt<bt;kt++)Ht[kt]=_e[kt];return Ht}var Kr=function(_e){var bt,kt=_e.appState,Ht=_e.elements,ln=_e.renderAction,xn=(0,Qn.Zs)((0,Jt.Lm)(Ht),kt),Lt=!1;xn.length===2&&((0,Mt.Xo)(xn[0])||(0,Mt.Xo)(xn[1]))&&(Lt=!0);var Dt,fn=!!kt.editingElement,Nn=b0(),Un=document.documentElement.getAttribute("dir")==="rtl",Pn=(0,Qn.$b)(kt.activeTool.type)&&!(0,ut.Qm)(kt.currentItemBackgroundColor)||xn.some(function(br){return(0,Qn.$b)(br.type)&&!(0,ut.Qm)(br.backgroundColor)}),Jn=(0,Qn.$b)(kt.activeTool.type)||xn.some(function(br){return(0,Qn.$b)(br.type)}),$n=xn.length===1||Lt,ur=((bt=xn[0])===null||bt===void 0?void 0:bt.type)||null,hr=wr(xn);try{for(hr.s();!(Dt=hr.n()).done;)if(Dt.value.type!==ur){ur=null;break}}catch(br){hr.e(br)}finally{hr.f()}return(0,$.jsxs)("div",{className:"panelColumn",children:[(0,$.jsx)("div",{children:((0,mr.PD)(kt.activeTool.type)&&kt.activeTool.type!=="image"&&ur!=="image"&&ur!=="frame"||xn.some(function(br){return(0,mr.PD)(br.type)}))&&ln("changeStrokeColor")}),Jn&&(0,$.jsx)("div",{children:ln("changeBackgroundColor")}),Pn&&ln("changeFillStyle"),((0,Qn.Zd)(kt.activeTool.type)||xn.some(function(br){return(0,Qn.Zd)(br.type)}))&&ln("changeStrokeWidth"),(kt.activeTool.type==="freedraw"||xn.some(function(br){return br.type==="freedraw"}))&&ln("changeStrokeShape"),((0,Qn.M9)(kt.activeTool.type)||xn.some(function(br){return(0,Qn.M9)(br.type)}))&&(0,$.jsxs)($.Fragment,{children:[ln("changeStrokeStyle"),ln("changeSloppiness")]}),((0,Qn.sh)(kt.activeTool.type)||xn.some(function(br){return(0,Qn.sh)(br.type)}))&&(0,$.jsx)($.Fragment,{children:ln("changeRoundness")}),(kt.activeTool.type==="text"||xn.some(Mt.iB))&&(0,$.jsxs)($.Fragment,{children:[ln("changeFontSize"),ln("changeFontFamily"),(kt.activeTool.type==="text"||(0,cr.aV)(xn))&&ln("changeTextAlign")]}),(0,cr.cn)(xn)&&ln("changeVerticalAlign"),((0,Qn.Un)(kt.activeTool.type)||xn.some(function(br){return(0,Qn.Un)(br.type)}))&&(0,$.jsx)($.Fragment,{children:ln("changeArrowhead")}),ln("changeOpacity"),(0,$.jsxs)("fieldset",{children:[(0,$.jsx)("legend",{children:(0,Ot.t)("labels.layers")}),(0,$.jsxs)("div",{className:"buttonList",children:[ln("sendToBack"),ln("sendBackward"),ln("bringToFront"),ln("bringForward")]})]}),xn.length>1&&!Lt&&(0,$.jsxs)("fieldset",{children:[(0,$.jsx)("legend",{children:(0,Ot.t)("labels.align")}),(0,$.jsxs)("div",{className:"buttonList",children:[Un?(0,$.jsxs)($.Fragment,{children:[ln("alignRight"),ln("alignHorizontallyCentered"),ln("alignLeft")]}):(0,$.jsxs)($.Fragment,{children:[ln("alignLeft"),ln("alignHorizontallyCentered"),ln("alignRight")]}),xn.length>2&&ln("distributeHorizontally"),(0,$.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,$.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[ln("alignTop"),ln("alignVerticallyCentered"),ln("alignBottom"),xn.length>2&&ln("distributeVertically")]})]})]}),!fn&&xn.length>0&&(0,$.jsxs)("fieldset",{children:[(0,$.jsx)("legend",{children:(0,Ot.t)("labels.actions")}),(0,$.jsxs)("div",{className:"buttonList",children:[!Nn.editor.isMobile&&ln("duplicateSelection"),!Nn.editor.isMobile&&ln("deleteSelectedElements"),ln("group"),ln("ungroup"),$n&&ln("hyperlink")]})]})]})},rr=function(_e){var bt=_e.activeTool,kt=_e.appState,Ht=_e.app,ln=_e.UIOptions,xn=(0,Yt.useState)(!1),Lt=(0,ot.Z)(xn,2),Dt=Lt[0],fn=Lt[1],Nn=bt.type==="frame",Un=bt.type==="laser",Pn=bt.type==="embeddable";return(0,$.jsxs)($.Fragment,{children:[ct.map(function(Jn,$n){var ur,hr=Jn.value,br=Jn.icon,_i=Jn.key,kr=Jn.numericKey,fr=Jn.fillable;if(((ur=ln.tools)===null||ur===void 0?void 0:ur[hr])===!1)return null;var Er=(0,Ot.t)("toolBar.".concat(hr)),Or=_i&&(0,ut.Oo)(typeof _i=="string"?_i:_i[0]),na=Or?"".concat(Or," ").concat((0,Ot.t)("helpDialog.or")," ").concat(kr):"".concat(kr);return(0,$.jsx)(yt.V,{className:(0,mn.Z)("Shape",{fillable:fr}),type:"radio",icon:br,checked:bt.type===hr,name:"editor-current-shape",title:"".concat((0,ut.Oo)(Er)," — ").concat(na),keyBindingLabel:kr||Or,"aria-label":(0,ut.Oo)(Er),"aria-keyshortcuts":na,"data-testid":"toolbar-".concat(hr),onPointerDown:function(ga){var Tr=ga.pointerType;kt.penDetected||Tr!=="pen"||Ht.togglePenMode(!0)},onChange:function(ga){var Tr=ga.pointerType;kt.activeTool.type!==hr&&(0,pt.L)("toolbar",hr,"ui"),hr==="image"?Ht.setActiveTool({type:hr,insertOnCanvasDirectly:Tr!=="mouse"}):Ht.setActiveTool({type:hr})}},hr)}),(0,$.jsx)("div",{className:"App-toolbar__divider"}),(0,$.jsxs)(Xr.Z,{open:Dt,children:[(0,$.jsx)(Xr.Z.Trigger,{className:(0,mn.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":Nn||Pn||Un&&!Ht.props.isCollaborating}),onToggle:function(){return fn(!Dt)},title:(0,Ot.t)("toolBar.extraTools"),children:Kt.dg}),(0,$.jsxs)(Xr.Z.Content,{onClickOutside:function(){return fn(!1)},onSelect:function(){return fn(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,$.jsx)(Xr.Z.Item,{onSelect:function(){return Ht.setActiveTool({type:"frame"})},icon:Kt.zl,shortcut:Gt.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:Nn,children:(0,Ot.t)("toolBar.frame")}),(0,$.jsx)(Xr.Z.Item,{onSelect:function(){return Ht.setActiveTool({type:"embeddable"})},icon:Kt.FL,"data-testid":"toolbar-embeddable",selected:Pn,children:(0,Ot.t)("toolBar.embeddable")}),(0,$.jsx)(Xr.Z.Item,{onSelect:function(){return Ht.setActiveTool({type:"laser"})},icon:Kt.d,"data-testid":"toolbar-laser",selected:Un,shortcut:Gt.tW.K.toLocaleUpperCase(),children:(0,Ot.t)("toolBar.laser")}),(0,$.jsx)(Xr.Z.Item,{onSelect:function(){return Ht.setOpenDialog("mermaid")},icon:Kt.II,"data-testid":"toolbar-embeddable",children:(0,Ot.t)("toolBar.mermaidToExcalidraw")})]})]})]})},Qr=function(_e){var bt=_e.renderAction;return _e.zoom,(0,$.jsx)(ir.Z.Col,{gap:1,className:"zoom-actions",children:(0,$.jsxs)(ir.Z.Row,{align:"center",children:[bt("zoomOut"),bt("resetZoom"),bt("zoomIn")]})})},Ir=function(_e){var bt=_e.renderAction,kt=_e.className;return(0,$.jsxs)("div",{className:"undo-redo-buttons ".concat(kt),children:[(0,$.jsx)("div",{className:"undo-button-container",children:(0,$.jsx)(yr.u,{label:(0,Ot.t)("buttons.undo"),children:bt("undo")})}),(0,$.jsx)("div",{className:"redo-button-container",children:(0,$.jsxs)(yr.u,{label:(0,Ot.t)("buttons.redo"),children:[" ",bt("redo")]})})]})},xr=function(_e){var bt=_e.actionManager,kt=_e.showExitZenModeBtn;return(0,$.jsx)("button",{className:(0,mn.Z)("disable-zen-mode",{"disable-zen-mode--visible":kt}),onClick:function(){return bt.executeAction(Ut.JN)},children:(0,Ot.t)("buttons.exitZenMode")})},pr=function(_e){var bt=_e.renderAction,kt=_e.className;return(0,$.jsx)("div",{className:"finalize-button ".concat(kt),children:bt("finalize",{size:"small"})})},Nr=_(1300),Rr=function(_e){var bt=_e.children,kt=_e.onClose,Ht=(0,Yt.useState)(!!bt),ln=(0,ot.Z)(Ht,2),xn=ln[0],Lt=ln[1],Dt=M0().container,fn=sn().useCallback(function(){Lt(!1),kt&&kt(),Dt==null||Dt.focus()},[kt,Dt]);return(0,$.jsx)($.Fragment,{children:xn&&(0,$.jsx)(Nr.V,{size:"small",onCloseRequest:fn,title:(0,Ot.t)("errorDialog.title"),children:(0,$.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:bt})})})},qr=_(4406),Dr=_(5796),Io=_(6548),ro=_(507),Zo=_(6217),dr={};dr.styleTagTransform=qn(),dr.setAttributes=Vn(),dr.insert=yn().bind(null,"head"),dr.domAPI=on(),dr.insertStyleElement=Zn(),en()(Zo.Z,dr),Zo.Z&&Zo.Z.locals&&Zo.Z.locals;var Hr=function(_e){var bt=_e.onChange,kt=_e.value,Ht=_e.choices,ln=_e.name;return(0,$.jsx)("div",{className:"RadioGroup",children:Ht.map(function(xn){return(0,$.jsxs)("div",{className:(0,mn.Z)("RadioGroup__choice",{active:xn.value===kt}),children:[(0,$.jsx)("input",{name:ln,type:"radio",checked:xn.value===kt,onChange:function(){return bt(xn.value)}}),xn.label]},xn.label)})})},Zr=_(7802),Vr={};Vr.styleTagTransform=qn(),Vr.setAttributes=Vn(),Vr.insert=yn().bind(null,"head"),Vr.domAPI=on(),Vr.insertStyleElement=Zn(),en()(Zr.Z,Vr),Zr.Z&&Zr.Z.locals&&Zr.Z.locals;var Ao=function(_e){var bt=_e.title,kt=_e.name,Ht=_e.checked,ln=_e.onChange,xn=_e.disabled,Lt=xn!==void 0&&xn;return(0,$.jsx)("div",{className:(0,mn.Z)("Switch",{toggled:Ht,disabled:Lt}),children:(0,$.jsx)("input",{name:kt,id:kt,title:bt,type:"checkbox",checked:Ht,disabled:Lt,onChange:function(){return ln(!Ht)},onKeyDown:function(Dt){Dt.key===" "&&ln(!Ht)}})})},xo=_(9706),wo={};wo.styleTagTransform=qn(),wo.setAttributes=Vn(),wo.insert=yn().bind(null,"head"),wo.domAPI=on(),wo.insertStyleElement=Zn(),en()(xo.Z,wo),xo.Z&&xo.Z.locals&&xo.Z.locals;var To=_(8960),ho={};ho.styleTagTransform=qn(),ho.setAttributes=Vn(),ho.insert=yn().bind(null,"head"),ho.domAPI=on(),ho.insertStyleElement=Zn(),en()(To.Z,ho),To.Z&&To.Z.locals&&To.Z.locals;var Cr=(0,Yt.forwardRef)(function(_e,bt){var kt=_e.children,Ht=_e.startIcon,ln=_e.onClick,xn=_e.label,Lt=_e.variant,Dt=Lt===void 0?"filled":Lt,fn=_e.color,Nn=fn===void 0?"primary":fn,Un=_e.size,Pn=Un===void 0?"medium":Un,Jn=_e.fullWidth,$n=_e.className;return(0,$.jsxs)("button",{className:(0,mn.Z)("ExcButton","ExcButton--color-".concat(Nn),"ExcButton--variant-".concat(Dt),"ExcButton--size-".concat(Pn),{"ExcButton--fullWidth":Jn},$n),onClick:ln,type:"button","aria-label":xn,ref:bt,children:[Ht&&(0,$.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:Ht}),Dt!=="icon"&&(kt??xn)]})});function Br(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function Fr(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?Br(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):Br(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var Sr="filter"in document.createElement("canvas").getContext("2d"),to=function(){return(0,$.jsxs)("div",{children:[(0,$.jsx)("h3",{children:(0,Ot.t)("canvasError.cannotShowPreview")}),(0,$.jsx)("p",{children:(0,$.jsx)("span",{children:(0,Ot.t)("canvasError.canvasTooBig")})}),(0,$.jsxs)("em",{children:["(",(0,Ot.t)("canvasError.canvasTooBigTip"),")"]})]})},lo=function(_e){var bt=_e.appStateSnapshot,kt=_e.elementsSnapshot,Ht=_e.files,ln=_e.actionManager,xn=_e.onExportImage,Lt=(0,Qn.N)(kt,bt),Dt=rI(),fn=(0,Yt.useState)(bt.name),Nn=(0,ot.Z)(fn,2),Un=Nn[0],Pn=Nn[1],Jn=(0,Yt.useState)(Lt),$n=(0,ot.Z)(Jn,2),ur=$n[0],hr=$n[1],br=(0,Yt.useState)(bt.exportBackground),_i=(0,ot.Z)(br,2),kr=_i[0],fr=_i[1],Er=(0,Yt.useState)(bt.exportWithDarkMode),Or=(0,ot.Z)(Er,2),na=Or[0],ga=Or[1],Tr=(0,Yt.useState)(bt.exportEmbedScene),Pr=(0,ot.Z)(Tr,2),Bo=Pr[0],Xo=Pr[1],Mo=(0,Yt.useState)(bt.exportScale),zo=(0,ot.Z)(Mo,2),Bl=zo[0],Il=zo[1],ko=(0,Yt.useRef)(null),xl=(0,Yt.useState)(null),Wo=(0,ot.Z)(xl,2),Cl=Wo[0],Tl=Wo[1],Rl=(0,Tt.HD)(kt,bt,ur),Xl=Rl.exportedElements,_c=Rl.exportingFrame;return(0,Yt.useEffect)(function(){var Jo=ko.current;if(Jo){var wl=Jo.offsetWidth,ss=Jo.offsetHeight;wl&&(0,ro.NL)({elements:Xl,appState:Fr(Fr({},bt),{},{name:Un,exportBackground:kr,exportWithDarkMode:na,exportScale:Bl,exportEmbedScene:Bo}),files:Ht,exportPadding:ft.qy,maxWidthOrHeight:Math.max(wl,ss),exportingFrame:_c}).then(function(Jl){return Tl(null),(0,Dr._c)(Jl).then(function(){Jo.replaceChildren(Jl)})}).catch(function(Jl){console.error(Jl),Tl(Jl)})}},[bt,Ht,Xl,_c,Un,kr,na,Bl,Bo]),(0,$.jsxs)("div",{className:"ImageExportModal",children:[(0,$.jsx)("h3",{children:(0,Ot.t)("imageExportDialog.header")}),(0,$.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,$.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:ko,children:Cl&&(0,$.jsx)(to,{})}),(0,$.jsx)("div",{className:"ImageExportModal__preview__filename",children:!Io.kr&&(0,$.jsx)("input",{type:"text",className:"TextInput",value:Un,style:{width:"30ch"},disabled:Dt.name!==void 0||bt.viewModeEnabled,onChange:function(Jo){Pn(Jo.target.value),ln.executeAction(qr.zX,"ui",Jo.target.value)}})})]}),(0,$.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,$.jsx)("h3",{children:(0,Ot.t)("imageExportDialog.header")}),Lt&&(0,$.jsx)(eo,{label:(0,Ot.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,$.jsx)(Ao,{name:"exportOnlySelected",checked:ur,onChange:function(Jo){hr(Jo)}})}),(0,$.jsx)(eo,{label:(0,Ot.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,$.jsx)(Ao,{name:"exportBackgroundSwitch",checked:kr,onChange:function(Jo){fr(Jo),ln.executeAction(qr.XA,"ui",Jo)}})}),Sr&&(0,$.jsx)(eo,{label:(0,Ot.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,$.jsx)(Ao,{name:"exportDarkModeSwitch",checked:na,onChange:function(Jo){ga(Jo),ln.executeAction(qr.bJ,"ui",Jo)}})}),(0,$.jsx)(eo,{label:(0,Ot.t)("imageExportDialog.label.embedScene"),tooltip:(0,Ot.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,$.jsx)(Ao,{name:"exportEmbedSwitch",checked:Bo,onChange:function(Jo){Xo(Jo),ln.executeAction(qr.Du,"ui",Jo)}})}),(0,$.jsx)(eo,{label:(0,Ot.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,$.jsx)(Hr,{name:"exportScale",value:Bl,onChange:function(Jo){Il(Jo),ln.executeAction(qr.sK,"ui",Jo)},choices:ft.ZB.map(function(Jo){return{value:Jo,label:"".concat(Jo,"×")}})})}),(0,$.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,$.jsx)(Cr,{className:"ImageExportModal__settings__buttons__button",label:(0,Ot.t)("imageExportDialog.title.exportToPng"),onClick:function(){return xn(ft.I_.png,Xl,{exportingFrame:_c})},startIcon:Kt.aL,children:(0,Ot.t)("imageExportDialog.button.exportToPng")}),(0,$.jsx)(Cr,{className:"ImageExportModal__settings__buttons__button",label:(0,Ot.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return xn(ft.I_.svg,Xl,{exportingFrame:_c})},startIcon:Kt.aL,children:(0,Ot.t)("imageExportDialog.button.exportToSvg")}),(At.vt||ft.vU)&&(0,$.jsx)(Cr,{className:"ImageExportModal__settings__buttons__button",label:(0,Ot.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return xn(ft.I_.clipboard,Xl,{exportingFrame:_c})},startIcon:Kt.UI,children:(0,Ot.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},eo=function(_e){var bt=_e.label,kt=_e.children,Ht=_e.tooltip,ln=_e.name;return(0,$.jsxs)("div",{className:"ImageExportModal__settings__setting",title:bt,children:[(0,$.jsxs)("label",{htmlFor:ln,className:"ImageExportModal__settings__setting__label",children:[bt,Ht&&(0,$.jsx)(yr.u,{label:Ht,long:!0,children:Kt.mv})]}),(0,$.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:kt})]})},Eo=function(_e){var bt=_e.elements,kt=_e.appState,Ht=_e.files,ln=_e.actionManager,xn=_e.onExportImage,Lt=_e.onCloseRequest,Dt=(0,Yt.useState)(function(){return{appStateSnapshot:(0,ut.xU)(kt),elementsSnapshot:(0,ut.xU)(bt)}}),fn=(0,ot.Z)(Dt,1)[0],Nn=fn.appStateSnapshot,Un=fn.elementsSnapshot;return(0,$.jsx)(Nr.V,{onCloseRequest:Lt,size:"wide",title:!1,children:(0,$.jsx)(lo,{elementsSnapshot:Un,appStateSnapshot:Nn,files:Ht,actionManager:ln,onExportImage:xn})})},go=_(3195),mo={};mo.styleTagTransform=qn(),mo.setAttributes=Vn(),mo.insert=yn().bind(null,"head"),mo.domAPI=on(),mo.insertStyleElement=Zn(),en()(go.Z,mo),go.Z&&go.Z.locals&&go.Z.locals;var Oo=function(_e){var bt=_e.children,kt=_e.side,Ht=_e.className;return(0,$.jsx)("div",{className:(0,mn.Z)("FixedSideContainer","FixedSideContainer_side_".concat(kt),Ht),children:bt})},ao=_(1587),co={};co.styleTagTransform=qn(),co.setAttributes=Vn(),co.insert=yn().bind(null,"head"),co.domAPI=on(),co.insertStyleElement=Zn(),en()(ao.Z,co),ao.Z&&ao.Z.locals&&ao.Z.locals;var po=function(_e){var bt=function(kt){var Ht=kt.appState,ln=kt.isMobile,xn=kt.device,Lt=kt.app,Dt=Ht.activeTool,fn=Ht.isResizing,Nn=Ht.isRotating,Un=Ht.lastPointerDownWith,Pn=Ht.multiElement!==null;if(Ht.openSidebar&&!xn.editor.canFitSidebar)return null;if((0,Ft.EN)(Ht))return(0,Ot.t)("hints.eraserRevert");if(Dt.type==="arrow"||Dt.type==="line")return Pn?(0,Ot.t)("hints.linearElementMulti"):(0,Ot.t)("hints.linearElement");if(Dt.type==="freedraw")return(0,Ot.t)("hints.freeDraw");if(Dt.type==="text")return(0,Ot.t)("hints.text");if(Dt.type==="embeddable")return(0,Ot.t)("hints.embeddable");if(Ht.activeTool.type==="image"&&Ht.pendingImageElementId)return(0,Ot.t)("hints.placeImage");var Jn=Lt.scene.getSelectedElements(Ht);if(fn&&Un==="mouse"&&Jn.length===1){var $n=Jn[0];return(0,Mt.bt)($n)&&$n.points.length===2?(0,Ot.t)("hints.lockAngle"):(0,Mt.pC)($n)?(0,Ot.t)("hints.resizeImage"):(0,Ot.t)("hints.resize")}if(Nn&&Un==="mouse")return(0,Ot.t)("hints.rotate");if(Jn.length===1&&(0,Mt.iB)(Jn[0]))return(0,Ot.t)("hints.text_selected");if(Ht.editingElement&&(0,Mt.iB)(Ht.editingElement))return(0,Ot.t)("hints.text_editing");if(Dt.type==="selection"){var ur;if(((ur=Ht.draggingElement)===null||ur===void 0?void 0:ur.type)==="selection"&&!Jn.length&&!Ht.editingElement&&!Ht.editingLinearElement)return(0,Ot.t)("hints.deepBoxSelect");if(Ht.gridSize&&Ht.draggingElement)return(0,Ot.t)("hints.disableSnapping");if(!Jn.length&&!ln)return(0,Ot.t)("hints.canvasPanning");if(Jn.length===1){if((0,Mt.bt)(Jn[0]))return Ht.editingLinearElement?Ht.editingLinearElement.selectedPointsIndices?(0,Ot.t)("hints.lineEditor_pointSelected"):(0,Ot.t)("hints.lineEditor_nothingSelected"):(0,Ot.t)("hints.lineEditor_info");if(!Ht.draggingElement&&(0,Mt.mG)(Jn[0]))return(0,Ot.t)("hints.bindTextToElement")}}return null}({appState:_e.appState,isMobile:_e.isMobile,device:_e.device,app:_e.app});return bt?(bt=(0,ut.uY)(bt),(0,$.jsx)("div",{className:"HintViewer",children:(0,$.jsx)("span",{children:bt})})):null},so=_(1404),Lo=_(7165),Co=(_(3041),{CHECKED:Kt.FC,UNCHECKED:Kt._C}),Ro=function(_e){return(0,$.jsxs)("label",{className:(0,mn.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":_e.isMobile}),title:"".concat(_e.title," — Q"),children:[(0,$.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:_e.name,onChange:_e.onChange,checked:_e.checked,"aria-label":_e.title,"data-testid":"toolbar-lock"}),(0,$.jsx)("div",{className:"ToolIcon__icon",children:_e.checked?Co.CHECKED:Co.UNCHECKED})]})},Fl=["heading","children"];function Ll(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function Kl(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?Ll(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):Ll(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var rs=function(_e){var bt=_e.heading,kt=_e.children,Ht=(0,or.Z)(_e,Fl),ln=M0().id,xn=(0,$.jsx)("h2",{className:"visually-hidden",id:"".concat(ln,"-").concat(bt,"-title"),children:(0,Ot.t)("headings.".concat(bt))});return(0,$.jsx)("section",Kl(Kl({},Ht),{},{"aria-labelledby":"".concat(ln,"-").concat(bt,"-title"),children:typeof kt=="function"?kt(xn):(0,$.jsxs)($.Fragment,{children:[xn,kt]})}))},is=_(4726),Ol=function(_e){return _e.penDetected?(0,$.jsxs)("label",{className:(0,mn.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":_e.isMobile}),title:"".concat(_e.title),children:[(0,$.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:_e.name,onChange:_e.onChange,checked:_e.checked,"aria-label":_e.title}),(0,$.jsx)("div",{className:"ToolIcon__icon",children:Kt.tb})]}):null},Ml=_(4949),gs=_(2681),cn={};cn.styleTagTransform=qn(),cn.setAttributes=Vn(),cn.insert=yn().bind(null,"head"),cn.domAPI=on(),cn.insertStyleElement=Zn(),en()(gs.Z,cn),gs.Z&&gs.Z.locals&&gs.Z.locals;var wn=function(_e){var bt,kt=(0,Ml.KP)(_e.elements),Ht=(0,Qn.Zs)(_e.elements,_e.appState),ln=(0,Ml.KP)(Ht);return(0,$.jsx)("div",{className:"Stats",children:(0,$.jsxs)(so.W,{padding:2,children:[(0,$.jsx)("div",{className:"close",onClick:_e.onClose,children:Kt.Tw}),(0,$.jsx)("h3",{children:(0,Ot.t)("stats.title")}),(0,$.jsx)("table",{children:(0,$.jsxs)("tbody",{children:[(0,$.jsx)("tr",{children:(0,$.jsx)("th",{colSpan:2,children:(0,Ot.t)("stats.scene")})}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.elements")}),(0,$.jsx)("td",{children:_e.elements.length})]}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.width")}),(0,$.jsx)("td",{children:Math.round(kt[2])-Math.round(kt[0])})]}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.height")}),(0,$.jsx)("td",{children:Math.round(kt[3])-Math.round(kt[1])})]}),Ht.length===1&&(0,$.jsx)("tr",{children:(0,$.jsx)("th",{colSpan:2,children:(0,Ot.t)("stats.element")})}),Ht.length>1&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("tr",{children:(0,$.jsx)("th",{colSpan:2,children:(0,Ot.t)("stats.selected")})}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.elements")}),(0,$.jsx)("td",{children:Ht.length})]})]}),Ht.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"x"}),(0,$.jsx)("td",{children:Math.round(ln[0])})]}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:"y"}),(0,$.jsx)("td",{children:Math.round(ln[1])})]}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.width")}),(0,$.jsx)("td",{children:Math.round(ln[2]-ln[0])})]}),(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.height")}),(0,$.jsx)("td",{children:Math.round(ln[3]-ln[1])})]})]}),Ht.length===1&&(0,$.jsxs)("tr",{children:[(0,$.jsx)("td",{children:(0,Ot.t)("stats.angle")}),(0,$.jsx)("td",{children:"".concat(Math.round(180*Ht[0].angle/Math.PI),"°")})]}),(bt=_e.renderCustomStats)===null||bt===void 0?void 0:bt.call(_e,_e.elements,_e.appState)]})})]})})},Tn=function(_e){return(0,$.jsx)(yt.V,{className:(0,mn.Z)("Shape",{fillable:!1}),type:"radio",icon:Kt.Hk,name:"editor-current-shape",checked:_e.checked,title:"".concat(_e.title," — H"),keyBindingLabel:_e.isMobile?void 0:Gt.tW.H.toLocaleUpperCase(),"aria-label":"".concat(_e.title," — H"),"aria-keyshortcuts":Gt.tW.H,"data-testid":"toolbar-hand",onChange:function(){var bt;return(bt=_e.onChange)===null||bt===void 0?void 0:bt.call(_e)}})},Ln=_(4572);function Ar(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}var $r=function(_e){var bt=_e.appState,kt=_e.elements,Ht=_e.actionManager,ln=_e.setAppState,xn=_e.onLockToggle,Lt=_e.onHandToolToggle,Dt=_e.onPenModeToggle,fn=_e.renderTopRightUI,Nn=_e.renderCustomStats,Un=_e.renderSidebars,Pn=_e.device,Jn=_e.renderWelcomeScreen,$n=_e.UIOptions,ur=_e.app,hr=(0,Ln.R6)(),br=hr.WelcomeScreenCenterTunnel,_i=hr.MainMenuTunnel,kr=hr.DefaultSidebarTriggerTunnel;return(0,$.jsxs)($.Fragment,{children:[Un(),!bt.viewModeEnabled&&(0,$.jsxs)(Oo,{side:"top",className:"App-top-bar",children:[Jn&&(0,$.jsx)(br.Out,{}),(0,$.jsx)(rs,{heading:"shapes",children:function(fr){return(0,$.jsx)(ir.Z.Col,{gap:4,align:"center",children:(0,$.jsxs)(ir.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,$.jsxs)(so.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[fr,(0,$.jsx)(ir.Z.Row,{gap:1,children:(0,$.jsx)(rr,{appState:bt,activeTool:bt.activeTool,UIOptions:$n,app:ur})})]}),fn&&fn(!0,bt),(0,$.jsxs)("div",{className:"mobile-misc-tools-container",children:[!bt.viewModeEnabled&&(0,$.jsx)(kr.Out,{}),(0,$.jsx)(Ol,{checked:bt.penMode,onChange:function(){return Dt(null)},title:(0,Ot.t)("toolBar.penMode"),isMobile:!0,penDetected:bt.penDetected}),(0,$.jsx)(Ro,{checked:bt.activeTool.locked,onChange:xn,title:(0,Ot.t)("toolBar.lock"),isMobile:!0}),(0,$.jsx)(Tn,{checked:(0,Ft.l$)(bt),onChange:function(){return Lt()},title:(0,Ot.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,$.jsx)(po,{appState:bt,isMobile:!0,device:Pn,app:ur})]}),!bt.openMenu&&bt.showStats&&(0,$.jsx)(wn,{appState:bt,setAppState:ln,elements:kt,onClose:function(){Ht.executeAction(Ut.u0)},renderCustomStats:Nn}),(0,$.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:is.nn+2*is.WM,marginLeft:is.nn+2*is.WM,marginRight:is.nn+2*is.WM},children:(0,$.jsxs)(so.W,{padding:0,children:[bt.openMenu==="shape"&&!bt.viewModeEnabled&&(0,Jt.RT)(bt,kt)?(0,$.jsx)(rs,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,$.jsx)(Kr,{appState:bt,elements:kt,renderAction:Ht.renderAction})}):null,(0,$.jsxs)("footer",{className:"App-toolbar",children:[bt.viewModeEnabled?(0,$.jsx)("div",{className:"App-toolbar-content",children:(0,$.jsx)(_i.Out,{})}):(0,$.jsxs)("div",{className:"App-toolbar-content",children:[(0,$.jsx)(_i.Out,{}),Ht.renderAction("toggleEditMenu"),Ht.renderAction("undo"),Ht.renderAction("redo"),Ht.renderAction(bt.multiElement?"finalize":"duplicateSelection"),Ht.renderAction("deleteSelectedElements")]}),bt.scrolledOutside&&!bt.openMenu&&!bt.openSidebar&&(0,$.jsx)("button",{className:"scroll-back-to-content",onClick:function(){ln(function(fr){return function(Er){for(var Or=1;Or<arguments.length;Or++){var na=arguments[Or]!=null?arguments[Or]:{};Or%2?Ar(Object(na),!0).forEach(function(ga){(0,Zt.Z)(Er,ga,na[ga])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Er,Object.getOwnPropertyDescriptors(na)):Ar(Object(na)).forEach(function(ga){Object.defineProperty(Er,ga,Object.getOwnPropertyDescriptor(na,ga))})}return Er}({},(0,Qn.W)(kt,fr))})},children:(0,Ot.t)("buttons.scrollBackToContent")})]})]})})]})},zr=_(5284),xa=_(901),vr=_(3668),ba=_(8461),_a={};_a.styleTagTransform=qn(),_a.setAttributes=Vn(),_a.insert=yn().bind(null,"head"),_a.domAPI=on(),_a.insertStyleElement=Zn(),en()(ba.Z,_a),ba.Z&&ba.Z.locals&&ba.Z.locals;var Fo=function(_e){var bt=(0,Yt.useRef)(null),kt=(0,Yt.useState)(null),Ht=(0,ot.Z)(kt,2),ln=Ht[0],xn=Ht[1];return(0,Yt.useLayoutEffect)(function(){if(_e.spreadsheet){var Lt,Dt=(0,xa.ps)(_e.chartType,_e.spreadsheet,0,0);xn(Dt);var fn=bt.current;return(0,nt.Z)(dt().mark(function Nn(){var Un;return dt().wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,(0,vr.$D)(Dt,{exportBackground:!1,viewBackgroundColor:zr.white},null);case 2:Lt=Pn.sent,(Un=Lt.querySelector(".style-fonts"))===null||Un===void 0||Un.remove(),fn.replaceChildren(),fn.appendChild(Lt),_e.selected&&fn.parentNode.focus();case 7:case"end":return Pn.stop()}},Nn)}))(),function(){fn.replaceChildren()}}},[_e.spreadsheet,_e.chartType,_e.selected]),(0,$.jsx)("button",{className:"ChartPreview",onClick:function(){ln&&_e.onClick(_e.chartType,ln)},children:(0,$.jsx)("div",{ref:bt})})},Uo=function(_e){var bt=_e.setAppState,kt=_e.appState,Ht=_e.onClose,ln=O0().onInsertElements,xn=sn().useCallback(function(){Ht&&Ht()},[Ht]),Lt=function(Dt,fn){ln(fn),(0,pt.L)("magic","chart",Dt),bt({currentChartType:Dt,pasteDialog:{shown:!1,data:null}})};return(0,$.jsx)(Nr.V,{size:"small",onCloseRequest:xn,title:(0,Ot.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,$.jsxs)("div",{className:"container",children:[(0,$.jsx)(Fo,{chartType:"bar",spreadsheet:kt.pasteDialog.data,selected:kt.currentChartType==="bar",onClick:Lt}),(0,$.jsx)(Fo,{chartType:"line",spreadsheet:kt.pasteDialog.data,selected:kt.currentChartType==="line",onClick:Lt})]})})},Go=_(2978),Yo={};Yo.styleTagTransform=qn(),Yo.setAttributes=Vn(),Yo.insert=yn().bind(null,"head"),Yo.domAPI=on(),Yo.insertStyleElement=Zn(),en()(Go.Z,Yo),Go.Z&&Go.Z.locals&&Go.Z.locals;function Vo(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}var Qo=dt().mark(Ss);function Ko(_e,bt){var kt=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!kt){if(Array.isArray(_e)||(kt=function(fn,Nn){if(fn){if(typeof fn=="string")return Al(fn,Nn);var Un=Object.prototype.toString.call(fn).slice(8,-1);if(Un==="Object"&&fn.constructor&&(Un=fn.constructor.name),Un==="Map"||Un==="Set")return Array.from(fn);if(Un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un))return Al(fn,Nn)}}(_e))||bt){kt&&(_e=kt);var Ht=0,ln=function(){};return{s:ln,n:function(){return Ht>=_e.length?{done:!0}:{done:!1,value:_e[Ht++]}},e:function(fn){throw fn},f:ln}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn,Lt=!0,Dt=!1;return{s:function(){kt=kt.call(_e)},n:function(){var fn=kt.next();return Lt=fn.done,fn},e:function(fn){Dt=!0,xn=fn},f:function(){try{Lt||kt.return==null||kt.return()}finally{if(Dt)throw xn}}}}function Al(_e,bt){(bt==null||bt>_e.length)&&(bt=_e.length);for(var kt=0,Ht=new Array(bt);kt<bt;kt++)Ht[kt]=_e[kt];return Ht}var ns=function(){return(0,$.jsxs)("div",{className:"HelpDialog__header",children:[(0,$.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,Ot.t)("helpDialog.documentation"),(0,$.jsx)("div",{className:"HelpDialog__link-icon",children:Kt.h0})]}),(0,$.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,Ot.t)("helpDialog.blog"),(0,$.jsx)("div",{className:"HelpDialog__link-icon",children:Kt.h0})]}),(0,$.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,Ot.t)("helpDialog.github"),(0,$.jsx)("div",{className:"HelpDialog__link-icon",children:Kt.h0})]})]})},ls=function(_e){return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("h3",{children:_e.title}),(0,$.jsx)("div",{className:"HelpDialog__islands-container",children:_e.children})]})},ps=function(_e){return(0,$.jsxs)("div",{className:"HelpDialog__island ".concat(_e.className),children:[(0,$.jsx)("h4",{className:"HelpDialog__island-title",children:_e.caption}),(0,$.jsx)("div",{className:"HelpDialog__island-content",children:_e.children})]})};function Ss(_e,bt){var kt,Ht,ln,xn;return dt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:kt=!0,Ht=Ko(_e),Lt.prev=2,Ht.s();case 4:if((ln=Ht.n()).done){Lt.next=14;break}if(xn=ln.value,kt){Lt.next=9;break}return Lt.next=9,bt;case 9:return kt=!1,Lt.next=12,xn;case 12:Lt.next=4;break;case 14:Lt.next=19;break;case 16:Lt.prev=16,Lt.t0=Lt.catch(2),Ht.e(Lt.t0);case 19:return Lt.prev=19,Ht.f(),Lt.finish(19);case 22:case"end":return Lt.stop()}},Qo,null,[[2,16,19,22]])}var vo=function(_e){var bt=_e.label,kt=_e.shortcuts,Ht=_e.isOr,ln=Ht===void 0||Ht,xn=kt.map(function(Lt){return(Lt.endsWith("++")?[].concat((0,it.Z)(Lt.slice(0,-2).split("+")),["+"]):Lt.split("+")).map(function(Dt){return(0,$.jsx)(yl,{children:(fn=Dt,fn.replace(/\b[a-z]\b/,function(Nn){return Nn.toUpperCase()}))},Dt);var fn})});return(0,$.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,$.jsx)("div",{children:bt}),(0,$.jsx)("div",{className:"HelpDialog__key-container",children:(0,it.Z)(Ss(xn,ln?(0,Ot.t)("helpDialog.or"):null))})]})},yl=function(_e){return(0,$.jsx)("kbd",function(bt){for(var kt=1;kt<arguments.length;kt++){var Ht=arguments[kt]!=null?arguments[kt]:{};kt%2?Vo(Object(Ht),!0).forEach(function(ln){(0,Zt.Z)(bt,ln,Ht[ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(Ht)):Vo(Object(Ht)).forEach(function(ln){Object.defineProperty(bt,ln,Object.getOwnPropertyDescriptor(Ht,ln))})}return bt}({className:"HelpDialog__key"},_e))},Nl=function(_e){var bt=_e.onClose,kt=sn().useCallback(function(){bt&&bt()},[bt]);return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(Nr.V,{onCloseRequest:kt,title:(0,Ot.t)("helpDialog.title"),className:"HelpDialog",children:[(0,$.jsx)(ns,{}),(0,$.jsxs)(ls,{title:(0,Ot.t)("helpDialog.shortcuts"),children:[(0,$.jsxs)(ps,{className:"HelpDialog__island--tools",caption:(0,Ot.t)("helpDialog.tools"),children:[(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.hand"),shortcuts:[Gt.tW.H]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.selection"),shortcuts:[Gt.tW.V,Gt.tW[1]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.rectangle"),shortcuts:[Gt.tW.R,Gt.tW[2]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.diamond"),shortcuts:[Gt.tW.D,Gt.tW[3]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.ellipse"),shortcuts:[Gt.tW.O,Gt.tW[4]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.arrow"),shortcuts:[Gt.tW.A,Gt.tW[5]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.line"),shortcuts:[Gt.tW.L,Gt.tW[6]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.freedraw"),shortcuts:[Gt.tW.P,Gt.tW[7]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.text"),shortcuts:[Gt.tW.T,Gt.tW[8]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.image"),shortcuts:[Gt.tW[9]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.eraser"),shortcuts:[Gt.tW.E,Gt.tW[0]]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.frame"),shortcuts:[Gt.tW.F]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.laser"),shortcuts:[Gt.tW.K]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.eyeDropper"),shortcuts:[Gt.tW.I,"Shift+S","Shift+G"]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Enter")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.editText"),shortcuts:[(0,ut.uY)("Enter")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.textNewLine"),shortcuts:[(0,ut.uY)("Enter"),(0,ut.uY)("Shift+Enter")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.textFinish"),shortcuts:[(0,ut.uY)("Esc"),(0,ut.uY)("CtrlOrCmd+Enter")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,Ot.t)("helpDialog.click"),(0,Ot.t)("helpDialog.click"),(0,Ot.t)("helpDialog.click")],isOr:!1}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.curvedLine"),shortcuts:["L",(0,Ot.t)("helpDialog.click"),(0,Ot.t)("helpDialog.click"),(0,Ot.t)("helpDialog.click")],isOr:!1}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.lock"),shortcuts:[Gt.tW.Q]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.preventBinding"),shortcuts:[(0,ut.uY)("CtrlOrCmd")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("toolBar.link"),shortcuts:[(0,ut.uY)("CtrlOrCmd+K")]})]}),(0,$.jsxs)(ps,{className:"HelpDialog__island--view",caption:(0,Ot.t)("helpDialog.view"),children:[(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.zoomIn"),shortcuts:[(0,ut.uY)("CtrlOrCmd++")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.zoomOut"),shortcuts:[(0,ut.uY)("CtrlOrCmd+-")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.resetZoom"),shortcuts:[(0,ut.uY)("CtrlOrCmd+0")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.zenMode"),shortcuts:[(0,ut.uY)("Alt+Z")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.objectsSnapMode"),shortcuts:[(0,ut.uY)("Alt+S")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.showGrid"),shortcuts:[(0,ut.uY)("CtrlOrCmd+'")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.viewMode"),shortcuts:[(0,ut.uY)("Alt+R")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.toggleTheme"),shortcuts:[(0,ut.uY)("Alt+Shift+D")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("stats.title"),shortcuts:[(0,ut.uY)("Alt+/")]})]}),(0,$.jsxs)(ps,{className:"HelpDialog__island--editor",caption:(0,Ot.t)("helpDialog.editor"),children:[(0,$.jsx)(vo,{label:(0,Ot.t)("labels.moveCanvas"),shortcuts:[(0,ut.uY)("Space+".concat((0,Ot.t)("helpDialog.drag"))),(0,ut.uY)("Wheel+".concat((0,Ot.t)("helpDialog.drag")))],isOr:!0}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.clearReset"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Delete")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.delete"),shortcuts:[(0,ut.uY)("Delete")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.cut"),shortcuts:[(0,ut.uY)("CtrlOrCmd+X")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.copy"),shortcuts:[(0,ut.uY)("CtrlOrCmd+C")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.paste"),shortcuts:[(0,ut.uY)("CtrlOrCmd+V")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.pasteAsPlaintext"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+V")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.selectAll"),shortcuts:[(0,ut.uY)("CtrlOrCmd+A")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.multiSelect"),shortcuts:[(0,ut.uY)("Shift+".concat((0,Ot.t)("helpDialog.click")))]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.deepSelect"),shortcuts:[(0,ut.uY)("CtrlOrCmd+".concat((0,Ot.t)("helpDialog.click")))]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,ut.uY)("CtrlOrCmd+".concat((0,Ot.t)("helpDialog.drag")))]}),(At.vt||ft.vU)&&(0,$.jsx)(vo,{label:(0,Ot.t)("labels.copyAsPng"),shortcuts:[(0,ut.uY)("Shift+Alt+C")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.copyStyles"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Alt+C")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.pasteStyles"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Alt+V")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.sendToBack"),shortcuts:[ft.Um?(0,ut.uY)("CtrlOrCmd+Alt+["):(0,ut.uY)("CtrlOrCmd+Shift+[")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.bringToFront"),shortcuts:[ft.Um?(0,ut.uY)("CtrlOrCmd+Alt+]"):(0,ut.uY)("CtrlOrCmd+Shift+]")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.sendBackward"),shortcuts:[(0,ut.uY)("CtrlOrCmd+[")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.bringForward"),shortcuts:[(0,ut.uY)("CtrlOrCmd+]")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.alignTop"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+Up")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.alignBottom"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+Down")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.alignLeft"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+Left")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.alignRight"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+Right")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.duplicateSelection"),shortcuts:[(0,ut.uY)("CtrlOrCmd+D"),(0,ut.uY)("Alt+".concat((0,Ot.t)("helpDialog.drag")))]}),(0,$.jsx)(vo,{label:(0,Ot.t)("helpDialog.toggleElementLock"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+L")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.undo"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Z")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("buttons.redo"),shortcuts:ft.ED?[(0,ut.uY)("CtrlOrCmd+Y"),(0,ut.uY)("CtrlOrCmd+Shift+Z")]:[(0,ut.uY)("CtrlOrCmd+Shift+Z")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.group"),shortcuts:[(0,ut.uY)("CtrlOrCmd+G")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.ungroup"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+G")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.flipHorizontal"),shortcuts:[(0,ut.uY)("Shift+H")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.flipVertical"),shortcuts:[(0,ut.uY)("Shift+V")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.showStroke"),shortcuts:[(0,ut.uY)("S")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.showBackground"),shortcuts:[(0,ut.uY)("G")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.decreaseFontSize"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+<")]}),(0,$.jsx)(vo,{label:(0,Ot.t)("labels.increaseFontSize"),shortcuts:[(0,ut.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},_l=_(4704),ds=_(4241),Cs={};Cs.styleTagTransform=qn(),Cs.setAttributes=Vn(),Cs.insert=yn().bind(null,"head"),Cs.domAPI=on(),Cs.insertStyleElement=Zn(),en()(ds.Z,Cs),ds.Z&&ds.Z.locals&&ds.Z.locals;var Ms=function(_e){var bt,kt=_e.children,Ht=_e.color;return(0,$.jsx)("div",{className:"Card",style:(bt={},(0,Zt.Z)(bt,"--card-color",Ht==="primary"?"var(--color-primary)":zr[Ht][7]),(0,Zt.Z)(bt,"--card-color-darker",Ht==="primary"?"var(--color-primary-darker)":zr[Ht][8]),(0,Zt.Z)(bt,"--card-color-darkest",Ht==="primary"?"var(--color-primary-darkest)":zr[Ht][9]),bt),children:kt})},ys=_(7955),Fs={};Fs.styleTagTransform=qn(),Fs.setAttributes=Vn(),Fs.insert=yn().bind(null,"head"),Fs.domAPI=on(),Fs.insertStyleElement=Zn(),en()(ys.Z,Fs),ys.Z&&ys.Z.locals&&ys.Z.locals;var Xu=function(_e){var bt=_e.elements,kt=_e.appState,Ht=_e.setAppState,ln=_e.files,xn=_e.actionManager,Lt=_e.exportOpts,Dt=_e.canvas,fn=_e.onCloseRequest,Nn=Lt.onExportToBackend;return(0,$.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,$.jsxs)("div",{className:"ExportDialog-cards",children:[Lt.saveFileToDisk&&(0,$.jsxs)(Ms,{color:"lime",children:[(0,$.jsx)("div",{className:"Card-icon",children:Kt.TP}),(0,$.jsx)("h2",{children:(0,Ot.t)("exportDialog.disk_title")}),(0,$.jsxs)("div",{className:"Card-details",children:[(0,Ot.t)("exportDialog.disk_details"),!Io.kr&&xn.renderAction("changeProjectName")]}),(0,$.jsx)(yt.V,{className:"Card-button",type:"button",title:(0,Ot.t)("exportDialog.disk_button"),"aria-label":(0,Ot.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){xn.executeAction(qr.mM,"ui")}})]}),Nn&&(0,$.jsxs)(Ms,{color:"pink",children:[(0,$.jsx)("div",{className:"Card-icon",children:Kt.xP}),(0,$.jsx)("h2",{children:(0,Ot.t)("exportDialog.link_title")}),(0,$.jsx)("div",{className:"Card-details",children:(0,Ot.t)("exportDialog.link_details")}),(0,$.jsx)(yt.V,{className:"Card-button",type:"button",title:(0,Ot.t)("exportDialog.link_button"),"aria-label":(0,Ot.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,nt.Z)(dt().mark(function Un(){return dt().wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.prev=0,(0,pt.L)("export","link","ui (".concat((0,ut.$h)(),")")),Pn.next=4,Nn(bt,kt,ln,Dt);case 4:fn(),Pn.next=10;break;case 7:Pn.prev=7,Pn.t0=Pn.catch(0),Ht({errorMessage:Pn.t0.message});case 10:case"end":return Pn.stop()}},Un,null,[[0,7]])}))})]}),Lt.renderCustomUI&&Lt.renderCustomUI(bt,kt,ln,Dt)]})})},mu=function(_e){var bt=_e.elements,kt=_e.appState,Ht=_e.files,ln=_e.actionManager,xn=_e.exportOpts,Lt=_e.canvas,Dt=_e.setAppState,fn=sn().useCallback(function(){Dt({openDialog:null})},[Dt]);return(0,$.jsx)($.Fragment,{children:kt.openDialog==="jsonExport"&&(0,$.jsx)(Nr.V,{onCloseRequest:fn,title:(0,Ot.t)("buttons.export"),children:(0,$.jsx)(Xu,{elements:bt,appState:kt,setAppState:Dt,files:Ht,actionManager:ln,onCloseRequest:fn,exportOpts:xn,canvas:Lt})})})},Yu=_(7080),f0=function(_e){return(0,$.jsx)("button",{className:"help-icon",onClick:_e.onClick,type:"button",title:"".concat((0,Ot.t)("helpDialog.title")," — ?"),"aria-label":(0,Ot.t)("helpDialog.title"),children:Kt.by})},Hu=function(_e){var bt=_e.appState,kt=_e.actionManager,Ht=_e.showExitZenModeBtn,ln=_e.renderWelcomeScreen,xn=(0,Ln.R6)(),Lt=xn.FooterCenterTunnel,Dt=xn.WelcomeScreenHelpHintTunnel,fn=b0(),Nn=!bt.viewModeEnabled&&bt.multiElement&&fn.isTouchScreen;return(0,$.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,$.jsx)("div",{className:(0,mn.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":bt.zenModeEnabled}),children:(0,$.jsx)(ir.Z.Col,{gap:2,children:(0,$.jsxs)(rs,{heading:"canvasActions",children:[(0,$.jsx)(Qr,{renderAction:kt.renderAction,zoom:bt.zoom}),!bt.viewModeEnabled&&(0,$.jsx)(Ir,{renderAction:kt.renderAction,className:(0,mn.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":bt.zenModeEnabled})}),Nn&&(0,$.jsx)(pr,{renderAction:kt.renderAction,className:(0,mn.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":bt.zenModeEnabled})})]})})}),(0,$.jsx)(Lt.Out,{}),(0,$.jsx)("div",{className:(0,mn.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":bt.zenModeEnabled}),children:(0,$.jsxs)("div",{style:{position:"relative"},children:[ln&&(0,$.jsx)(Dt.Out,{}),(0,$.jsx)(f0,{onClick:function(){return kt.executeAction(Ut.jY)}})]})}),(0,$.jsx)(xr,{actionManager:kt,showExitZenModeBtn:Ht})]})},zu=Hu;Hu.displayName="Footer";var ju=_(5902),Rs=_(453),pu=_(3607),Bs=_(7021),_u=_(8973),m0=_(6922),ku=_(7827),qs=function(_e){var bt=_e.title,kt=_e.children,Ht=_e.actionLabel,ln=_e.onClick;return(0,$.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,$.jsx)("h4",{children:bt}),(0,$.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:kt}),(0,$.jsx)(Cr,{variant:"outlined",color:"muted",label:Ht,size:"large",fullWidth:!0,onClick:ln})]})},zs=Object.assign(function(_e){var bt=_e.children;return(0,$.jsx)("div",{className:"OverwriteConfirm__Actions",children:bt})},{ExportToImage:function(){var _e=(0,Ot.QT)().t,bt=R0(),kt=oI();return(0,$.jsx)(qs,{title:_e("overwriteConfirm.action.exportToImage.title"),actionLabel:_e("overwriteConfirm.action.exportToImage.button"),onClick:function(){bt.executeAction(qr.Du,"ui",!0),kt({openDialog:"imageExport"})},children:_e("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var _e=(0,Ot.QT)().t,bt=R0();return(0,$.jsx)(qs,{title:_e("overwriteConfirm.action.saveToDisk.title"),actionLabel:_e("overwriteConfirm.action.saveToDisk.button"),onClick:function(){bt.executeAction(Ut.mM,"ui")},children:_e("overwriteConfirm.action.saveToDisk.description")})}}),cu=_(9439),js={};js.styleTagTransform=qn(),js.setAttributes=Vn(),js.insert=yn().bind(null,"head"),js.domAPI=on(),js.insertStyleElement=Zn(),en()(cu.Z,js),cu.Z&&cu.Z.locals&&cu.Z.locals;function Zu(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function su(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?Zu(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):Zu(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var eu=Object.assign((0,m0.$)("OverwriteConfirmDialog",function(_e){var bt=_e.children,kt=(0,Ln.R6)().OverwriteConfirmDialogTunnel,Ht=(0,pu.KO)(ku.K,Rs.yE),ln=(0,ot.Z)(Ht,2),xn=ln[0],Lt=ln[1];return xn.active?(0,$.jsx)(kt.In,{children:(0,$.jsx)(Nr.V,{onCloseRequest:function(){xn.onClose(),Lt(function(Dt){return su(su({},Dt),{},{active:!1})})},title:!1,size:916,children:(0,$.jsxs)("div",{className:"OverwriteConfirm",children:[(0,$.jsx)("h3",{children:xn.title}),(0,$.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(xn.color),children:[(0,$.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:Kt.UT}),(0,$.jsx)("div",{children:xn.description}),(0,$.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,$.jsx)(Cr,{color:xn.color,size:"large",label:xn.actionLabel,onClick:function(){xn.onConfirm(),Lt(function(Dt){return su(su({},Dt),{},{active:!1})})}})]}),(0,$.jsx)(zs,{children:bt})]})})}):null}),{Actions:zs,Action:qs}),Pu=_(100),Nu=_(1925),Tu=_(8924),Cu=_(1434),Qs={};Qs.styleTagTransform=qn(),Qs.setAttributes=Vn(),Qs.insert=yn().bind(null,"head"),Qs.domAPI=on(),Qs.insertStyleElement=Zn(),en()(Cu.Z,Qs),Cu.Z&&Cu.Z.locals&&Cu.Z.locals;var uu=_(9144),tu={};tu.styleTagTransform=qn(),tu.setAttributes=Vn(),tu.insert=yn().bind(null,"head"),tu.domAPI=on(),tu.insertStyleElement=Zn(),en()(uu.Z,tu),uu.Z&&uu.Z.locals&&uu.Z.locals;var Vs=_(2921),p0=function(_e){return(0,$.jsxs)("label",{className:(0,mn.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":_e.isMobile}),title:"".concat(_e.title),children:[(0,$.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:_e.name,onChange:_e.onChange,checked:_e.checked,"aria-label":_e.title,"data-testid":"toolbar-LaserPointer"}),(0,$.jsx)("div",{className:"ToolIcon__icon",children:Kt.d})]})},Ju=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],Ku=["canvas","appState"],nI=["canvas","appState"];function gu(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function C0(_e,bt){var kt=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!kt){if(Array.isArray(_e)||(kt=function(fn,Nn){if(fn){if(typeof fn=="string")return _s(fn,Nn);var Un=Object.prototype.toString.call(fn).slice(8,-1);if(Un==="Object"&&fn.constructor&&(Un=fn.constructor.name),Un==="Map"||Un==="Set")return Array.from(fn);if(Un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un))return _s(fn,Nn)}}(_e))||bt){kt&&(_e=kt);var Ht=0,ln=function(){};return{s:ln,n:function(){return Ht>=_e.length?{done:!0}:{done:!1,value:_e[Ht++]}},e:function(fn){throw fn},f:ln}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn,Lt=!0,Dt=!1;return{s:function(){kt=kt.call(_e)},n:function(){var fn=kt.next();return Lt=fn.done,fn},e:function(fn){Dt=!0,xn=fn},f:function(){try{Lt||kt.return==null||kt.return()}finally{if(Dt)throw xn}}}}function _s(_e,bt){(bt==null||bt>_e.length)&&(bt=_e.length);for(var kt=0,Ht=new Array(bt);kt<bt;kt++)Ht[kt]=_e[kt];return Ht}var B0=function(_e){var bt=_e.UIOptions;return(0,$.jsxs)(Bs.Z,{__fallback:!0,children:[(0,$.jsx)(Bs.Z.DefaultItems.LoadScene,{}),(0,$.jsx)(Bs.Z.DefaultItems.SaveToActiveFile,{}),bt.canvasActions.export&&(0,$.jsx)(Bs.Z.DefaultItems.Export,{}),bt.canvasActions.saveAsImage&&(0,$.jsx)(Bs.Z.DefaultItems.SaveAsImage,{}),(0,$.jsx)(Bs.Z.DefaultItems.Help,{}),(0,$.jsx)(Bs.Z.DefaultItems.ClearCanvas,{}),(0,$.jsx)(Bs.Z.Separator,{}),(0,$.jsx)(Bs.Z.Group,{title:"Excalidraw links",children:(0,$.jsx)(Bs.Z.DefaultItems.Socials,{})}),(0,$.jsx)(Bs.Z.Separator,{}),(0,$.jsx)(Bs.Z.DefaultItems.ToggleTheme,{}),(0,$.jsx)(Bs.Z.DefaultItems.ChangeCanvasBackground,{})]})},A0=function(){return(0,$.jsxs)(eu,{__fallback:!0,children:[(0,$.jsx)(eu.Actions.SaveToDisk,{}),(0,$.jsx)(eu.Actions.ExportToImage,{})]})},y0=function(_e){var bt,kt,Ht=_e.actionManager,ln=_e.appState,xn=_e.files,Lt=_e.setAppState,Dt=_e.elements,fn=_e.canvas,Nn=_e.onLockToggle,Un=_e.onHandToolToggle,Pn=_e.onPenModeToggle,Jn=_e.showExitZenModeBtn,$n=_e.renderTopRightUI,ur=_e.renderCustomStats,hr=_e.UIOptions,br=_e.onExportImage,_i=_e.renderWelcomeScreen,kr=_e.children,fr=_e.app,Er=_e.isCollaborating,Or=b0(),na=(0,Ln.ZC)(),ga=(0,pu.KO)(Tu.$,Rs.yE),Tr=(0,ot.Z)(ga,2),Pr=Tr[0],Bo=Tr[1],Xo=function(){return hr.canvasActions.export?(0,$.jsx)(mu,{elements:Dt,appState:ln,files:xn,actionManager:Ht,exportOpts:hr.canvasActions.export,canvas:fn,setAppState:Lt}):null},Mo=function(){return hr.canvasActions.saveAsImage&&ln.openDialog==="imageExport"?(0,$.jsx)(Eo,{elements:Dt,appState:ln,files:xn,actionManager:Ht,onExportImage:br,onCloseRequest:function(){return Lt({openDialog:null})}}):null},zo=function(){return(0,$.jsx)(Nu.O,{__fallback:!0,onDock:function(ko){(0,pt.L)("sidebar","toggleDock (".concat(ko?"dock":"undock",")"),"(".concat(Or.editor.isMobile?"mobile":"desktop",")"))}})},Bl=(0,pu.Dv)(ju.t6,Rs.yE),Il=(0,$.jsxs)($.Fragment,{children:[kr,(0,$.jsx)(B0,{UIOptions:hr}),(0,$.jsx)(Nu.O.Trigger,{__fallback:!0,icon:Kt.Vq,title:(0,ut.Oo)((0,Ot.t)("toolBar.library")),onToggle:function(ko){ko&&(0,pt.L)("sidebar","".concat(ft.Cc.name," (open)"),"button (".concat(Or.editor.isMobile?"mobile":"desktop",")"))},tab:ft.Cc.defaultTab,children:(0,Ot.t)("toolBar.library")}),(0,$.jsx)(A0,{}),ln.isLoading&&(0,$.jsx)(Lo.z,{delay:250}),ln.errorMessage&&(0,$.jsx)(Rr,{onClose:function(){return Lt({errorMessage:null})},children:ln.errorMessage}),Pr&&!Or.editor.isMobile&&(0,$.jsx)(Tu.p,{colorPickerType:Pr.colorPickerType,onCancel:function(){Bo(null)},onChange:function(ko,xl,Wo,Cl){var Tl=Cl.altKey;if(ko==="elementBackground"||ko==="elementStroke")if(Wo.length){var Rl,Xl,_c=C0(Wo);try{for(_c.s();!(Xl=_c.n()).done;){var Jo=Xl.value;(0,Ct.DR)(Jo,(0,Zt.Z)({},Tl&&Pr.swapPreviewOnAlt?ko==="elementBackground"?"strokeColor":"backgroundColor":ko==="elementBackground"?"backgroundColor":"strokeColor",xl),!1),Vs.R.delete(Jo)}}catch(wl){_c.e(wl)}finally{_c.f()}(Rl=tn.Z.getScene(Wo[0]))===null||Rl===void 0||Rl.informMutation()}else Lt(ko==="elementBackground"?{currentItemBackgroundColor:xl}:{currentItemStrokeColor:xl})},onSelect:function(ko,xl){var Wo;Bo(function(Cl){return Cl!=null&&Cl.keepOpenOnAlt&&xl.altKey?Cl:null}),Pr==null||(Wo=Pr.onSelect)===null||Wo===void 0||Wo.call(Pr,ko,xl)}}),ln.openDialog==="help"&&(0,$.jsx)(Nl,{onClose:function(){Lt({openDialog:null})}}),(0,$.jsx)(_u.o,{}),(0,$.jsx)(na.OverwriteConfirmDialogTunnel.Out,{}),Mo(),Xo(),ln.pasteDialog.shown&&(0,$.jsx)(Uo,{setAppState:Lt,appState:ln,onClose:function(){return Lt({pasteDialog:{shown:!1,data:null}})}}),Or.editor.isMobile&&(0,$.jsx)($r,{app:fr,appState:ln,elements:Dt,actionManager:Ht,renderJSONExportDialog:Xo,renderImageExportDialog:Mo,setAppState:Lt,onLockToggle:Nn,onHandToolToggle:Un,onPenModeToggle:Pn,renderTopRightUI:$n,renderCustomStats:ur,renderSidebars:zo,device:Or,renderWelcomeScreen:_i,UIOptions:hr}),!Or.editor.isMobile&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{className:"layer-ui__wrapper",style:ln.openSidebar&&Bl&&Or.editor.canFitSidebar?{width:"calc(100% - ".concat(ft.EE,"px)")}:{},children:[_i&&(0,$.jsx)(na.WelcomeScreenCenterTunnel.Out,{}),(kt=(0,Jt.RT)(ln,Dt),(0,$.jsx)(Oo,{side:"top",children:(0,$.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,$.jsxs)(ir.Z.Col,{gap:6,className:(0,mn.Z)("App-menu_top__left"),children:[(0,$.jsxs)("div",{style:{position:"relative"},children:[(0,$.jsx)(na.MainMenuTunnel.Out,{}),_i&&(0,$.jsx)(na.WelcomeScreenMenuHintTunnel.Out,{})]}),kt&&(0,$.jsx)(rs,{heading:"selectedShapeActions",className:(0,mn.Z)("selected-shape-actions zen-mode-transition",{"transition-left":ln.zenModeEnabled}),children:(0,$.jsx)(so.W,{className:ft.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(ln.height-166,"px")},children:(0,$.jsx)(Kr,{appState:ln,elements:Dt,renderAction:Ht.renderAction})})})]}),!ln.viewModeEnabled&&(0,$.jsx)(rs,{heading:"shapes",className:"shapes-section",children:function(ko){return(0,$.jsxs)("div",{style:{position:"relative"},children:[_i&&(0,$.jsx)(na.WelcomeScreenToolbarHintTunnel.Out,{}),(0,$.jsx)(ir.Z.Col,{gap:4,align:"start",children:(0,$.jsxs)(ir.Z.Row,{gap:1,className:(0,mn.Z)("App-toolbar-container",{"zen-mode":ln.zenModeEnabled}),children:[(0,$.jsxs)(so.W,{padding:1,className:(0,mn.Z)("App-toolbar",{"zen-mode":ln.zenModeEnabled}),children:[(0,$.jsx)(po,{appState:ln,isMobile:Or.editor.isMobile,device:Or,app:fr}),ko,(0,$.jsxs)(ir.Z.Row,{gap:1,children:[(0,$.jsx)(Ol,{zenModeEnabled:ln.zenModeEnabled,checked:ln.penMode,onChange:function(){return Pn(null)},title:(0,Ot.t)("toolBar.penMode"),penDetected:ln.penDetected}),(0,$.jsx)(Ro,{checked:ln.activeTool.locked,onChange:Nn,title:(0,Ot.t)("toolBar.lock")}),(0,$.jsx)("div",{className:"App-toolbar__divider"}),(0,$.jsx)(Tn,{checked:(0,Ft.l$)(ln),onChange:function(){return Un()},title:(0,Ot.t)("toolBar.hand"),isMobile:!0}),(0,$.jsx)(rr,{appState:ln,activeTool:ln.activeTool,UIOptions:hr,app:fr})]})]}),Er&&(0,$.jsx)(so.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,$.jsx)(p0,{title:(0,Ot.t)("toolBar.laser"),checked:ln.activeTool.type==="laser",onChange:function(){return fr.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,$.jsxs)("div",{className:(0,mn.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":ln.zenModeEnabled}),children:[(0,$.jsx)(_l.Z,{collaborators:ln.collaborators}),$n==null?void 0:$n(Or.editor.isMobile,ln),!ln.viewModeEnabled&&(!Bl||((bt=ln.openSidebar)===null||bt===void 0?void 0:bt.name)!==ft.Cc.name)&&(0,$.jsx)(na.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,$.jsx)(zu,{appState:ln,actionManager:Ht,showExitZenModeBtn:Jn,renderWelcomeScreen:_i}),ln.showStats&&(0,$.jsx)(wn,{appState:ln,setAppState:Lt,elements:Dt,onClose:function(){Ht.executeAction(Yu.u)},renderCustomStats:ur}),ln.scrolledOutside&&(0,$.jsx)("button",{className:"scroll-back-to-content",onClick:function(){Lt(function(ko){return function(xl){for(var Wo=1;Wo<arguments.length;Wo++){var Cl=arguments[Wo]!=null?arguments[Wo]:{};Wo%2?gu(Object(Cl),!0).forEach(function(Tl){(0,Zt.Z)(xl,Tl,Cl[Tl])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xl,Object.getOwnPropertyDescriptors(Cl)):gu(Object(Cl)).forEach(function(Tl){Object.defineProperty(xl,Tl,Object.getOwnPropertyDescriptor(Cl,Tl))})}return xl}({},(0,Qn.W)(Dt,ko))})},children:(0,Ot.t)("buttons.scrollBackToContent")})]}),zo()]})]});return(0,$.jsx)(Pu.k.Provider,{value:ln,children:(0,$.jsx)(pu.zt,{scope:na.jotaiScope,children:(0,$.jsx)(Ln.A3.Provider,{value:na,children:Il})})})},Du=function(_e){return _e.suggestedBindings,_e.startBoundElement,_e.cursorButton,_e.scrollX,_e.scrollY,(0,or.Z)(_e,Ju)},x0=function(_e,bt){if(_e.children!==bt.children)return!1;_e.canvas;var kt=_e.appState,Ht=(0,or.Z)(_e,Ku),ln=(bt.canvas,bt.appState),xn=(0,or.Z)(bt,nI);return(0,ut.w8)(Du(kt),Du(ln),{selectedElementIds:ut.w8,selectedGroupIds:ut.w8})&&(0,ut.w8)(Ht,xn)},v0=sn().memo(y0,x0),Bu=_(9650),Xs={};Xs.styleTagTransform=qn(),Xs.setAttributes=Vn(),Xs.insert=yn().bind(null,"head"),Xs.domAPI=on(),Xs.insertStyleElement=Zn(),en()(Bu.Z,Xs),Bu.Z&&Bu.Z.locals&&Bu.Z.locals;var F0=function(_e){var bt=_e.message,kt=_e.onClose,Ht=_e.closable,ln=Ht!==void 0&&Ht,xn=_e.duration,Lt=xn===void 0?5e3:xn,Dt=(0,Yt.useRef)(0),fn=Lt!==1/0,Nn=(0,Yt.useCallback)(function(){fn&&(Dt.current=window.setTimeout(function(){return kt()},Lt))},[kt,Lt,fn]);(0,Yt.useEffect)(function(){if(fn)return Nn(),function(){return clearTimeout(Dt.current)}},[Nn,bt,Lt,fn]);var Un=fn?function(){return clearTimeout(Dt==null?void 0:Dt.current)}:void 0,Pn=fn?Nn:void 0;return(0,$.jsxs)("div",{className:"Toast",onMouseEnter:Un,onMouseLeave:Pn,children:[(0,$.jsx)("p",{className:"Toast__message",children:bt}),ln&&(0,$.jsx)(yt.V,{icon:Kt.Tw,"aria-label":"close",type:"icon",onClick:kt,className:"close"})]})};function $u(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function qu(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?$u(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):$u(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var Ou=(0,Qt.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(_e){return!_e.viewModeEnabled}},perform:function(_e,bt){return{appState:qu(qu({},bt),{},{viewModeEnabled:!this.checked(bt)}),commitToHistory:!1}},checked:function(_e){return _e.viewModeEnabled},predicate:function(_e,bt,kt){return kt.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(_e){return!_e[Gt.tW.CTRL_OR_CMD]&&_e.altKey&&_e.code===Gt.aU.R}}),Au=_(4178),_g=_(200),Q0=_.n(_g),_d=_(3528),Ps=_(5992),du=_(8020),w0=_(4048),Mu=_(9672);function Ru(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}var e0=(0,Bt.Z)(function _e(bt){var kt=this,Ht=bt.scene,ln=bt.onSceneUpdated;(0,ht.Z)(this,_e),this.onFontsLoaded=function(xn){if(xn.every(function(Dt){var fn="".concat(Dt.family,"-").concat(Dt.style,"-").concat(Dt.weight);return!!_e.loadedFontFaces.has(fn)||(_e.loadedFontFaces.add(fn),!1)}))return!1;var Lt=!1;kt.scene.mapElements(function(Dt){return(0,Jt.iB)(Dt)&&!(0,Mt.Xh)(Dt)?(Vs.R.delete(Dt),Lt=!0,(0,Ct.BE)(Dt,function(fn){for(var Nn=1;Nn<arguments.length;Nn++){var Un=arguments[Nn]!=null?arguments[Nn]:{};Nn%2?Ru(Object(Un),!0).forEach(function(Pn){(0,Zt.Z)(fn,Pn,Un[Pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fn,Object.getOwnPropertyDescriptors(Un)):Ru(Object(Un)).forEach(function(Pn){Object.defineProperty(fn,Pn,Object.getOwnPropertyDescriptor(Un,Pn))})}return fn}({},(0,Jt.JZ)(Dt)))):Dt}),Lt&&kt.onSceneUpdated()},this.loadFontsForElements=function(){var xn=(0,nt.Z)(dt().mark(function Lt(Dt){var fn;return dt().wrap(function(Nn){for(;;)switch(Nn.prev=Nn.next){case 0:return Nn.next=2,Promise.all((0,it.Z)(new Set(Dt.filter(function(Un){return(0,Jt.iB)(Un)}).map(function(Un){return Un.fontFamily}))).map(function(Un){var Pn,Jn,$n,ur,hr=(0,ut.mO)({fontFamily:Un,fontSize:16});if((Pn=document.fonts)===null||Pn===void 0||(Jn=Pn.check)===null||Jn===void 0||!Jn.call(Pn,hr))return($n=document.fonts)===null||$n===void 0||(ur=$n.load)===null||ur===void 0?void 0:ur.call($n,hr)}));case 2:fn=Nn.sent,kt.onFontsLoaded(fn.flat().filter(Boolean));case 4:case"end":return Nn.stop()}},Lt)}));return function(Lt){return xn.apply(this,arguments)}}(),this.scene=Ht,this.onSceneUpdated=ln});e0.loadedFontFaces=new Set;var Yl=_(4682),Ul=_(6264),t0=_(5047),jo=_(7652);function n0(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function xs(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?n0(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):n0(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var r0=function(_e,bt){var kt=bt.scene.getSelectedElements(_e);return kt.length===1&&kt[0].type==="frame"},E0=(0,Qt.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(_e,bt,kt,Ht){var ln=Ht.scene.getSelectedElements(bt)[0];if(ln&&ln.type==="frame"){var xn=(0,Yl.zD)((0,Jt.Lm)(_e),ln.id).filter(function(Lt){return!(Lt.type==="text"&&Lt.containerId)});return{elements:_e,appState:xs(xs({},bt),{},{selectedElementIds:xn.reduce(function(Lt,Dt){return Lt[Dt.id]=!0,Lt},{})}),commitToHistory:!1}}return{elements:_e,appState:bt,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(_e,bt,kt,Ht){return r0(bt,Ht)}}),U0=(0,Qt.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(_e,bt,kt,Ht){var ln=Ht.scene.getSelectedElements(bt)[0];return ln&&ln.type==="frame"?{elements:(0,Yl.yZ)(_e,ln,bt),appState:xs(xs({},bt),{},{selectedElementIds:(0,Zt.Z)({},ln.id,!0)}),commitToHistory:!0}:{elements:_e,appState:bt,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(_e,bt,kt,Ht){return r0(bt,Ht)}}),i0=((0,Qt.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(_e,bt){return{elements:_e,appState:xs(xs({},bt),{},{frameRendering:xs(xs({},bt.frameRendering),{},{enabled:!bt.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(_e){return _e.frameRendering.enabled}}),(0,Qt.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(_e,bt,kt,Ht){var ln=(0,ut.Om)(bt,{type:"frame"});return(0,jo.Uk)(Ht.interactiveCanvas,xs(xs({},bt),{},{activeTool:ln})),{elements:_e,appState:xs(xs({},bt),{},{activeTool:(0,ut.Om)(bt,{type:"frame"})}),commitToHistory:!1}},keyTest:function(_e){return!_e[Gt.tW.CTRL_OR_CMD]&&!_e.shiftKey&&!_e.altKey&&_e.key.toLocaleLowerCase()===Gt.tW.F}}),_(6006)),G0=_(3506);function a0(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function o0(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?a0(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):a0(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}function ws(_e,bt){var kt=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!kt){if(Array.isArray(_e)||(kt=function(fn,Nn){if(fn){if(typeof fn=="string")return Iu(fn,Nn);var Un=Object.prototype.toString.call(fn).slice(8,-1);if(Un==="Object"&&fn.constructor&&(Un=fn.constructor.name),Un==="Map"||Un==="Set")return Array.from(fn);if(Un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un))return Iu(fn,Nn)}}(_e))||bt){kt&&(_e=kt);var Ht=0,ln=function(){};return{s:ln,n:function(){return Ht>=_e.length?{done:!0}:{done:!1,value:_e[Ht++]}},e:function(fn){throw fn},f:ln}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn,Lt=!0,Dt=!1;return{s:function(){kt=kt.call(_e)},n:function(){var fn=kt.next();return Lt=fn.done,fn},e:function(fn){Dt=!0,xn=fn},f:function(){try{Lt||kt.return==null||kt.return()}finally{if(Dt)throw xn}}}}function Iu(_e,bt){(bt==null||bt>_e.length)&&(bt=_e.length);for(var kt=0,Ht=new Array(bt);kt<bt;kt++)Ht[kt]=_e[kt];return Ht}var Ns=function(_e){return 8/_e},Pl=(0,Bt.Z)(function _e(){(0,ht.Z)(this,_e)});Pl.referenceSnapPoints=null,Pl.visibleGaps=null,Pl.setReferenceSnapPoints=function(_e){Pl.referenceSnapPoints=_e},Pl.getReferenceSnapPoints=function(){return Pl.referenceSnapPoints},Pl.setVisibleGaps=function(_e){Pl.visibleGaps=_e},Pl.getVisibleGaps=function(){return Pl.visibleGaps},Pl.destroy=function(){Pl.referenceSnapPoints=null,Pl.visibleGaps=null};var Ts=function(_e){var bt=_e.event,kt=_e.appState,Ht=_e.selectedElements;return bt?kt.objectsSnapModeEnabled&&!bt[Gt.tW.CTRL_OR_CMD]||!kt.objectsSnapModeEnabled&&bt[Gt.tW.CTRL_OR_CMD]&&kt.gridSize===null:(Ht.length!==1||Ht[0].type!=="arrow")&&kt.objectsSnapModeEnabled},hu=function(_e){var bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},kt=bt.omitCenter,Ht=bt.boundingBoxCorners,ln=bt.dragOffset,xn=[];if(_e.length===1){var Lt=_e[0],Dt=(0,Ml.qf)(Lt),fn=(0,ot.Z)(Dt,6),Nn=fn[0],Un=fn[1],Pn=fn[2],Jn=fn[3],$n=fn[4],ur=fn[5];ln&&(Nn+=ln.x,Pn+=ln.x,$n+=ln.x,Un+=ln.y,Jn+=ln.y,ur+=ln.y);var hr=(Pn-Nn)/2,br=(Jn-Un)/2;if(Lt.type!=="diamond"&&Lt.type!=="ellipse"||Ht){var _i=(0,nn.xj)([Nn,Un],[$n,ur],Lt.angle),kr=(0,nn.xj)([Pn,Un],[$n,ur],Lt.angle),fr=(0,nn.xj)([Nn,Jn],[$n,ur],Lt.angle),Er=(0,nn.xj)([Pn,Jn],[$n,ur],Lt.angle),Or=[$n,ur];xn=kt?[_i,kr,fr,Er]:[_i,kr,fr,Er,Or]}else{var na=(0,nn.xj)([Nn,Un+br],[$n,ur],Lt.angle),ga=(0,nn.xj)([Nn+hr,Un],[$n,ur],Lt.angle),Tr=(0,nn.xj)([Pn,Un+br],[$n,ur],Lt.angle),Pr=(0,nn.xj)([Nn+hr,Jn],[$n,ur],Lt.angle),Bo=[$n,ur];xn=kt?[na,ga,Tr,Pr]:[na,ga,Tr,Pr,Bo]}}else if(_e.length>1){var Xo=(0,Ml.hC)(_e,ln??{x:0,y:0}),Mo=(0,ot.Z)(Xo,4),zo=Mo[0],Bl=Mo[1],Il=Mo[2],ko=Mo[3],xl=Il-zo,Wo=ko-Bl,Cl=[zo,Bl],Tl=[Il,Bl],Rl=[zo,ko],Xl=[Il,ko],_c=[zo+xl/2,Bl+Wo/2];xn=kt?[Cl,Tl,Rl,Xl]:[Cl,Tl,Rl,Xl,_c]}return xn.map(function(Jo){return[Yn(Jo[0]),Yn(Jo[1])]})},l0=function(_e,bt,kt){var Ht=bt.filter(function(ln){return(0,Mt.He)(ln)}).map(function(ln){return ln.id});return(0,Ul.CF)(_e,bt,kt).filter(function(ln){return!(ln.frameId&&Ht.includes(ln.frameId))})},S0=function(_e,bt,kt){var Ht=l0(_e,bt,kt),ln=(0,jn.AI)(Ht).filter(function(Wo){return!(Wo.length===1&&(0,Mt.Xh)(Wo[0]))}).map(function(Wo){return(0,Ml.KP)(Wo).map(function(Cl){return Yn(Cl)})}),xn=ln.sort(function(Wo,Cl){return Wo[0]-Cl[0]}),Lt=[],Dt=0;e:for(var fn=0;fn<xn.length;fn++)for(var Nn=xn[fn],Un=fn+1;Un<xn.length;Un++){if(++Dt>99999)break e;var Pn=xn[Un],Jn=(0,ot.Z)(Nn,4),$n=Jn[1],ur=Jn[2],hr=Jn[3],br=(0,ot.Z)(Pn,4),_i=br[0],kr=br[1],fr=br[3];ur<_i&&(0,nn.ep)([$n,hr],[kr,fr])&&Lt.push({startBounds:Nn,endBounds:Pn,startSide:[[ur,$n],[ur,hr]],endSide:[[_i,kr],[_i,fr]],length:_i-ur,overlap:(0,nn.mW)([$n,hr],[kr,fr])})}var Er=ln.sort(function(Wo,Cl){return Wo[1]-Cl[1]}),Or=[];Dt=0;e:for(var na=0;na<Er.length;na++)for(var ga=Er[na],Tr=na+1;Tr<Er.length;Tr++){if(++Dt>99999)break e;var Pr=Er[Tr],Bo=(0,ot.Z)(ga,4),Xo=Bo[0],Mo=Bo[2],zo=Bo[3],Bl=(0,ot.Z)(Pr,3),Il=Bl[0],ko=Bl[1],xl=Bl[2];zo<ko&&(0,nn.ep)([Xo,Mo],[Il,xl])&&Or.push({startBounds:ga,endBounds:Pr,startSide:[[Xo,zo],[Mo,zo]],endSide:[[Il,ko],[xl,ko]],length:ko-zo,overlap:(0,nn.mW)([Xo,Mo],[Il,xl])})}return{horizontalGaps:Lt,verticalGaps:Or}},dn=function(_e,bt,kt,Ht,ln,xn,Lt){if(!Ts({appState:kt,event:Ht,selectedElements:_e}))return[];if(_e.length===0)return[];var Dt=Pl.getVisibleGaps();if(Dt){var fn,Nn=Dt.horizontalGaps,Un=Dt.verticalGaps,Pn=(0,Ml.hC)(_e,bt).map(function(Jl){return Yn(Jl)}),Jn=(0,ot.Z)(Pn,4),$n=Jn[0],ur=Jn[1],hr=Jn[2],br=Jn[3],_i=($n+hr)/2,kr=(ur+br)/2,fr=ws(Nn);try{for(fr.s();!(fn=fr.n()).done;){var Er=fn.value;if((0,nn.ep)([ur,br],Er.overlap)){var Or=Er.startSide[0][0]+Er.length/2,na=Yn(Or-_i);if(Er.length>hr-$n&&Math.abs(na)<=Lt.x){Math.abs(na)<Lt.x&&(ln.length=0),Lt.x=Math.abs(na);var ga={type:"gap",direction:"center_horizontal",gap:Er,offset:na};ln.push(ga)}else{var Tr=$n-(0,ot.Z)(Er.endBounds,3)[2],Pr=Yn(Er.length-Tr);if(Math.abs(Pr)<=Lt.x){Math.abs(Pr)<Lt.x&&(ln.length=0),Lt.x=Math.abs(Pr);var Bo={type:"gap",direction:"side_right",gap:Er,offset:Pr};ln.push(Bo)}else{var Xo=(0,ot.Z)(Er.startBounds,3)[0],Mo=Yn(Xo-hr-Er.length);if(Math.abs(Mo)<=Lt.x){Math.abs(Mo)<Lt.x&&(ln.length=0),Lt.x=Math.abs(Mo);var zo={type:"gap",direction:"side_left",gap:Er,offset:Mo};ln.push(zo)}}}}}}catch(Jl){fr.e(Jl)}finally{fr.f()}var Bl,Il=ws(Un);try{for(Il.s();!(Bl=Il.n()).done;){var ko=Bl.value;if((0,nn.ep)([$n,hr],ko.overlap)){var xl=ko.startSide[0][1]+ko.length/2,Wo=Yn(xl-kr);if(ko.length>br-ur&&Math.abs(Wo)<=Lt.y){Math.abs(Wo)<Lt.y&&(xn.length=0),Lt.y=Math.abs(Wo);var Cl={type:"gap",direction:"center_vertical",gap:ko,offset:Wo};xn.push(Cl)}else{var Tl=(0,ot.Z)(ko.startBounds,3)[1],Rl=Yn(Tl-br-ko.length);if(Math.abs(Rl)<=Lt.y){Math.abs(Rl)<Lt.y&&(xn.length=0),Lt.y=Math.abs(Rl);var Xl={type:"gap",direction:"side_top",gap:ko,offset:Rl};xn.push(Xl)}else{var _c=(0,ot.Z)(ko.endBounds,4)[3],Jo=Yn(ur-_c),wl=ko.length-Jo;if(Math.abs(wl)<=Lt.y){Math.abs(wl)<Lt.y&&(xn.length=0),Lt.y=Math.abs(wl);var ss={type:"gap",direction:"side_bottom",gap:ko,offset:wl};xn.push(ss)}}}}}}catch(Jl){Il.e(Jl)}finally{Il.f()}}},Mn=function(_e,bt,kt){var Ht=l0(_e,bt,kt);return(0,jn.AI)(Ht).filter(function(ln){return!(ln.length===1&&(0,Mt.Xh)(ln[0]))}).flatMap(function(ln){return hu(ln)})},Rn=function(_e,bt,kt,Ht,ln,xn,Lt){if(!Ts({appState:kt,event:Ht,selectedElements:_e})||_e.length===0&&bt.length===0)return[];var Dt=Pl.getReferenceSnapPoints();if(Dt){var fn,Nn=ws(bt);try{for(Nn.s();!(fn=Nn.n()).done;){var Un,Pn=fn.value,Jn=ws(Dt);try{for(Jn.s();!(Un=Jn.n()).done;){var $n=Un.value,ur=$n[0]-Pn[0],hr=$n[1]-Pn[1];Math.abs(ur)<=Lt.x&&(Math.abs(ur)<Lt.x&&(ln.length=0),ln.push({type:"point",points:[Pn,$n],offset:ur}),Lt.x=Math.abs(ur)),Math.abs(hr)<=Lt.y&&(Math.abs(hr)<Lt.y&&(xn.length=0),xn.push({type:"point",points:[Pn,$n],offset:hr}),Lt.y=Math.abs(hr))}}catch(br){Jn.e(br)}finally{Jn.f()}}}catch(br){Nn.e(br)}finally{Nn.f()}}},Yn=function(_e){return Math.round(_e*Math.pow(10,6))/Math.pow(10,6)},nr=function(_e){var bt,kt=new Map,Ht=ws(_e);try{for(Ht.s();!(bt=Ht.n()).done;){var ln=bt.value,xn=ln.join(",");kt.has(xn)||kt.set(xn,ln)}}catch(Lt){Ht.e(Lt)}finally{Ht.f()}return Array.from(kt.values())},lr=function(_e,bt){var kt={},Ht={};if(_e.length>0){var ln,xn=ws(_e);try{for(xn.s();!(ln=xn.n()).done;){var Lt=ln.value;if(Lt.type==="point"){var Dt,fn=Yn(Lt.points[0][0]);kt[fn]||(kt[fn]=[]),(Dt=kt[fn]).push.apply(Dt,(0,it.Z)(Lt.points.map(function(ur){return[Yn(ur[0]),Yn(ur[1])]})))}}}catch(ur){xn.e(ur)}finally{xn.f()}}if(bt.length>0){var Nn,Un=ws(bt);try{for(Un.s();!(Nn=Un.n()).done;){var Pn=Nn.value;if(Pn.type==="point"){var Jn,$n=Yn(Pn.points[0][1]);Ht[$n]||(Ht[$n]=[]),(Jn=Ht[$n]).push.apply(Jn,(0,it.Z)(Pn.points.map(function(ur){return[Yn(ur[0]),Yn(ur[1])]})))}}}catch(ur){Un.e(ur)}finally{Un.f()}}return Object.entries(kt).map(function(ur){var hr=(0,ot.Z)(ur,2),br=hr[0],_i=hr[1];return{type:"points",points:nr(_i.map(function(kr){return[Number(br),kr[1]]}).sort(function(kr,fr){return kr[1]-fr[1]}))}}).concat(Object.entries(Ht).map(function(ur){var hr=(0,ot.Z)(ur,2),br=hr[0],_i=hr[1];return{type:"points",points:nr(_i.map(function(kr){return[kr[0],Number(br)]}).sort(function(kr,fr){return kr[0]-fr[0]}))}}))},gr=function(_e,bt,kt){var Ht,ln=(0,Ml.hC)(_e,bt),xn=(0,ot.Z)(ln,4),Lt=xn[0],Dt=xn[1],fn=xn[2],Nn=xn[3],Un=[],Pn=ws(kt);try{for(Pn.s();!(Ht=Pn.n()).done;){var Jn=Ht.value,$n=(0,ot.Z)(Jn.gap.startBounds,4),ur=$n[0],hr=$n[1],br=$n[2],_i=$n[3],kr=(0,ot.Z)(Jn.gap.endBounds,4),fr=kr[0],Er=kr[1],Or=kr[2],na=kr[3],ga=(0,nn.mW)([Dt,Nn],Jn.gap.overlap),Tr=(0,nn.mW)([Lt,fn],Jn.gap.overlap);switch(Jn.direction){case"center_horizontal":if(ga){var Pr=(ga[0]+ga[1])/2;Un.push({type:"gap",direction:"horizontal",points:[[Jn.gap.startSide[0][0],Pr],[Lt,Pr]]},{type:"gap",direction:"horizontal",points:[[fn,Pr],[Jn.gap.endSide[0][0],Pr]]})}break;case"center_vertical":if(Tr){var Bo=(Tr[0]+Tr[1])/2;Un.push({type:"gap",direction:"vertical",points:[[Bo,Jn.gap.startSide[0][1]],[Bo,Dt]]},{type:"gap",direction:"vertical",points:[[Bo,Nn],[Bo,Jn.gap.endSide[0][1]]]})}break;case"side_right":if(ga){var Xo=(ga[0]+ga[1])/2;Un.push({type:"gap",direction:"horizontal",points:[[br,Xo],[fr,Xo]]},{type:"gap",direction:"horizontal",points:[[Or,Xo],[Lt,Xo]]})}break;case"side_left":if(ga){var Mo=(ga[0]+ga[1])/2;Un.push({type:"gap",direction:"horizontal",points:[[fn,Mo],[ur,Mo]]},{type:"gap",direction:"horizontal",points:[[br,Mo],[fr,Mo]]})}break;case"side_top":if(Tr){var zo=(Tr[0]+Tr[1])/2;Un.push({type:"gap",direction:"vertical",points:[[zo,Nn],[zo,hr]]},{type:"gap",direction:"vertical",points:[[zo,_i],[zo,Er]]})}break;case"side_bottom":if(Tr){var Bl=(Tr[0]+Tr[1])/2;Un.push({type:"gap",direction:"vertical",points:[[Bl,_i],[Bl,Er]]},{type:"gap",direction:"vertical",points:[[Bl,na],[Bl,Dt]]})}}}}catch(Il){Pn.e(Il)}finally{Pn.f()}return function(Il){var ko,xl=new Map,Wo=ws(Il);try{for(Wo.s();!(ko=Wo.n()).done;){var Cl=ko.value,Tl=Cl.points.flat().map(function(Rl){return[Yn(Rl)]}).join(",");xl.has(Tl)||xl.set(Tl,Cl)}}catch(Rl){Wo.e(Rl)}finally{Wo.f()}return Array.from(xl.values())}(Un.map(function(Il){return o0(o0({},Il),{},{points:Il.points.map(function(ko){return[Yn(ko[0]),Yn(ko[1])]})})}))},ar=function(_e,bt,kt,Ht,ln,xn){var Lt,Dt,fn,Nn;if(!Ts({event:Ht,selectedElements:_e,appState:kt})||_e.length===0||_e.length===1&&!function(Mo,zo){var Bl=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(Mo-zo)<=Bl}(_e[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var Un=(0,Ml.KP)(bt),Pn=(0,ot.Z)(Un,4),Jn=Pn[0],$n=Pn[1],ur=Pn[2],hr=Pn[3];xn&&(xn.includes("e")?ur+=ln.x:xn.includes("w")&&(Jn+=ln.x),xn.includes("n")?$n+=ln.y:xn.includes("s")&&(hr+=ln.y));var br=[];if(xn)switch(xn){case"e":br.push([ur,$n],[ur,hr]);break;case"w":br.push([Jn,$n],[Jn,hr]);break;case"n":br.push([Jn,$n],[ur,$n]);break;case"s":br.push([Jn,hr],[ur,hr]);break;case"ne":br.push([ur,$n]);break;case"nw":br.push([Jn,$n]);break;case"se":br.push([ur,hr]);break;case"sw":br.push([Jn,hr])}var _i=Ns(kt.zoom.value),kr={x:_i,y:_i},fr=[],Er=[];Rn(bt,br,kt,Ht,fr,Er,kr);var Or={x:(Lt=(Dt=fr[0])===null||Dt===void 0?void 0:Dt.offset)!==null&&Lt!==void 0?Lt:0,y:(fn=(Nn=Er[0])===null||Nn===void 0?void 0:Nn.offset)!==null&&fn!==void 0?fn:0};kr.x=0,kr.y=0,fr.length=0,Er.length=0;var na=(0,Ml.KP)(_e).map(function(Mo){return Yn(Mo)}),ga=(0,ot.Z)(na,4),Tr=ga[0],Pr=ga[1],Bo=ga[2],Xo=ga[3];return Rn(_e,[[Tr,Pr],[Tr,Xo],[Bo,Pr],[Bo,Xo]],kt,Ht,fr,Er,kr),{snapOffset:Or,snapLines:lr(fr,Er)}},Mr=_(7392),$a=_(9247),jr=function(){return(0,$.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,$.jsx)("p",{children:(0,$.jsx)($a.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(_e){return(0,$.jsx)("span",{style:{fontWeight:600},children:_e})}})}),(0,$.jsx)("p",{children:(0,$.jsx)($a.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(_e){return(0,$.jsx)("span",{style:{fontWeight:600},children:_e})}})}),(0,$.jsx)("p",{children:(0,$.jsx)($a.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(_e){return(0,$.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:_e})}})}),(0,$.jsx)("p",{children:(0,$.jsx)($a.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(_e){return(0,$.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:_e})},discordLink:function(_e){return(0,$.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[_e,"."]})}})})]})},Gr=_(6199),io=_(7766),_r=function(_e){var bt=(0,Yt.useRef)(!1);return(0,Yt.useEffect)(function(){var kt;if(bt.current){var Ht={},ln={},xn={},Lt={},Dt={};_e.appState.collaborators.forEach(function(Nn,Un){if(Nn.selectedElementIds)for(var Pn=0,Jn=Object.keys(Nn.selectedElementIds);Pn<Jn.length;Pn++){var $n=Jn[Pn];$n in xn||(xn[$n]=[]),xn[$n].push(Un)}Nn.pointer&&(Nn.username&&(Lt[Un]=Nn.username),Nn.userState&&(Dt[Un]=Nn.userState),ln[Un]=(0,ut._i)({sceneX:Nn.pointer.x,sceneY:Nn.pointer.y},_e.appState),Ht[Un]=Nn.button)});var fn=((kt=_e.containerRef)===null||kt===void 0?void 0:kt.current)&&getComputedStyle(_e.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,io.tp)({canvas:_e.canvas,elements:_e.elements,visibleElements:_e.visibleElements,selectedElements:_e.selectedElements,scale:window.devicePixelRatio,appState:_e.appState,renderConfig:{remotePointerViewportCoords:ln,remotePointerButton:Ht,remoteSelectedElementIds:xn,remotePointerUsernames:Lt,remotePointerUserStates:Dt,selectionColor:fn,renderScrollbars:!1},callback:_e.renderInteractiveSceneCallback},(0,ut.G9)())}else bt.current=!0}),(0,$.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:_e.appState.width,height:_e.appState.height,cursor:_e.appState.viewModeEnabled?ft.oc.GRAB:ft.oc.AUTO},width:_e.appState.width*_e.scale,height:_e.appState.height*_e.scale,ref:_e.handleCanvasRef,onContextMenu:_e.onContextMenu,onPointerMove:_e.onPointerMove,onPointerUp:_e.onPointerUp,onPointerCancel:_e.onPointerCancel,onTouchMove:_e.onTouchMove,onPointerDown:_e.onPointerDown,onDoubleClick:_e.appState.viewModeEnabled?void 0:_e.onDoubleClick,children:(0,Ot.t)("labels.drawingCanvas")})},oo=function(_e){return{zoom:_e.zoom,scrollX:_e.scrollX,scrollY:_e.scrollY,width:_e.width,height:_e.height,viewModeEnabled:_e.viewModeEnabled,editingGroupId:_e.editingGroupId,editingLinearElement:_e.editingLinearElement,selectedElementIds:_e.selectedElementIds,frameToHighlight:_e.frameToHighlight,offsetLeft:_e.offsetLeft,offsetTop:_e.offsetTop,theme:_e.theme,pendingImageElementId:_e.pendingImageElementId,selectionElement:_e.selectionElement,selectedGroupIds:_e.selectedGroupIds,selectedLinearElement:_e.selectedLinearElement,multiElement:_e.multiElement,isBindingEnabled:_e.isBindingEnabled,suggestedBindings:_e.suggestedBindings,isRotating:_e.isRotating,elementsToHighlight:_e.elementsToHighlight,openSidebar:_e.openSidebar,showHyperlinkPopup:_e.showHyperlinkPopup,collaborators:_e.collaborators,activeEmbeddable:_e.activeEmbeddable,snapLines:_e.snapLines,zenModeEnabled:_e.zenModeEnabled}},Lr=function(_e,bt){return _e.selectionNonce===bt.selectionNonce&&_e.versionNonce===bt.versionNonce&&_e.scale===bt.scale&&_e.elements===bt.elements&&_e.visibleElements===bt.visibleElements&&_e.selectedElements===bt.selectedElements&&(0,ut.w8)(oo(_e.appState),oo(bt.appState))},no=sn().memo(_r,Lr),bo=function(_e){var bt=(0,Yt.useRef)(null),kt=(0,Yt.useRef)(!1);return(0,Yt.useEffect)(function(){var Ht=bt.current;if(Ht){var ln=_e.canvas;kt.current||(kt.current=!0,Ht.replaceChildren(ln),ln.classList.add("excalidraw__canvas","static"));var xn="".concat(_e.appState.width,"px"),Lt="".concat(_e.appState.height,"px");ln.style.width!==xn&&(ln.style.width=xn),ln.style.height!==Lt&&(ln.style.height=Lt);var Dt=_e.appState.width*_e.scale,fn=_e.appState.height*_e.scale;ln.width!==Dt&&(ln.width=Dt),ln.height!==fn&&(ln.height=fn),(0,io.AW)({canvas:ln,rc:_e.rc,scale:_e.scale,elements:_e.elements,visibleElements:_e.visibleElements,appState:_e.appState,renderConfig:_e.renderConfig},(0,ut.G9)())}}),(0,$.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:bt})},yo=function(_e){return{zoom:_e.zoom,scrollX:_e.scrollX,scrollY:_e.scrollY,width:_e.width,height:_e.height,viewModeEnabled:_e.viewModeEnabled,offsetLeft:_e.offsetLeft,offsetTop:_e.offsetTop,theme:_e.theme,pendingImageElementId:_e.pendingImageElementId,shouldCacheIgnoreZoom:_e.shouldCacheIgnoreZoom,viewBackgroundColor:_e.viewBackgroundColor,exportScale:_e.exportScale,selectedElementsAreBeingDragged:_e.selectedElementsAreBeingDragged,gridSize:_e.gridSize,frameRendering:_e.frameRendering,selectedElementIds:_e.selectedElementIds,frameToHighlight:_e.frameToHighlight,editingGroupId:_e.editingGroupId}},fo=function(_e,bt){return _e.versionNonce===bt.versionNonce&&_e.scale===bt.scale&&_e.elements===bt.elements&&_e.visibleElements===bt.visibleElements&&(0,ut.w8)(yo(_e.appState),yo(bt.appState))&&(0,ut.w8)(_e.renderConfig,bt.renderConfig)},uo=sn().memo(bo,fo),No=function(){function _e(bt){var kt=this;(0,ht.Z)(this,_e),this.getRenderableElements=(0,ut.HP)(function(Ht){var ln=Ht.zoom,xn=Ht.offsetLeft,Lt=Ht.offsetTop,Dt=Ht.scrollX,fn=Ht.scrollY,Nn=Ht.height,Un=Ht.width,Pn=Ht.editingElement,Jn=Ht.pendingImageElementId,$n=(Ht.versionNonce,function(hr){var br=hr.editingElement,_i=hr.elements,kr=hr.pendingImageElementId;return _i.filter(function(fr){return!((0,Mt.pC)(fr)&&kr===fr.id||br&&br.type==="text"&&fr.id===br.id)})}({elements:kt.scene.getNonDeletedElements(),editingElement:Pn,pendingImageElementId:Jn})),ur=function(hr){var br=hr.elements,_i=hr.zoom,kr=hr.offsetLeft,fr=hr.offsetTop,Er=hr.scrollX,Or=hr.scrollY,na=hr.height,ga=hr.width;return br.filter(function(Tr){return(0,Sn.PZ)(Tr,ga,na,{zoom:_i,offsetLeft:kr,offsetTop:fr,scrollX:Er,scrollY:Or})})}({elements:$n,zoom:ln,offsetLeft:xn,offsetTop:Lt,scrollX:Dt,scrollY:fn,height:Nn,width:Un});return{canvasElements:$n,visibleElements:ur}}),this.scene=bt}return(0,Bt.Z)(_e,[{key:"destroy",value:function(){(0,io.n_)(),this.getRenderableElements.clear()}}]),_e}(),_o=_(8806),$o=_(4864),So=_(8531),Ho=_(5830),Po={};Po.styleTagTransform=qn(),Po.setAttributes=Vn(),Po.insert=yn().bind(null,"head"),Po.domAPI=on(),Po.insertStyleElement=Zn(),en()(Ho.Z,Po),Ho.Z&&Ho.Z.locals&&Ho.Z.locals;var qo="mermaid-to-excalidraw",Zl=function(_e){var bt=_e.error;return(0,$.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,$.jsx)("p",{children:bt})]})},Ql=function(){var _e=(0,Yt.useState)({loaded:!1,api:null}),bt=(0,ot.Z)(_e,2),kt=bt[0],Ht=bt[1],ln=(0,Yt.useState)(""),xn=(0,ot.Z)(ln,2),Lt=xn[0],Dt=xn[1],fn=(0,Yt.useDeferredValue)(Lt.trim()),Nn=(0,Yt.useState)(null),Un=(0,ot.Z)(Nn,2),Pn=Un[0],Jn=Un[1],$n=(0,Yt.useRef)(null),ur=(0,Yt.useRef)({elements:[],files:null}),hr=O0(),br=function(){var kr=$n.current;if(kr){var fr=kr.parentElement;fr&&(fr.style.background="",Jn(null),kr.replaceChildren())}};(0,Yt.useEffect)(function(){var kr=function(){var fr=(0,nt.Z)(dt().mark(function Er(){var Or;return dt().wrap(function(na){for(;;)switch(na.prev=na.next){case 0:return na.next=2,_.e(4736).then(_.bind(_,1049));case 2:Or=na.sent,Ht({loaded:!0,api:Or});case 4:case"end":return na.stop()}},Er)}));return function(){return fr.apply(this,arguments)}}();kr()},[]),(0,Yt.useEffect)(function(){var kr=function(){try{var fr=localStorage.getItem(qo);if(fr)return fr}catch(Er){console.error(Er)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;Dt(kr)},[]),(0,Yt.useEffect)(function(){var kr=function(){var fr=(0,nt.Z)(dt().mark(function Er(){var Or,na,ga,Tr,Pr,Bo;return dt().wrap(function(Xo){for(;;)switch(Xo.prev=Xo.next){case 0:if(Or=$n.current,na=Or==null?void 0:Or.parentElement,kt.loaded&&Or&&na&&kt.api){Xo.next=4;break}return Xo.abrupt("return");case 4:if(fn){Xo.next=7;break}return br(),Xo.abrupt("return");case 7:return Xo.prev=7,Xo.next=10,kt.api.parseMermaidToExcalidraw(fn,{fontSize:ft.n5});case 10:return ga=Xo.sent,Tr=ga.elements,Pr=ga.files,Jn(null),ur.current={elements:(0,$o.wc)(Tr,{regenerateIds:!0}),files:Pr},Xo.next=17,(0,$o.NL)({elements:ur.current.elements,files:ur.current.files,exportPadding:ft.qy,maxWidthOrHeight:Math.max(na.offsetWidth,na.offsetHeight)*window.devicePixelRatio});case 17:return Bo=Xo.sent,Xo.next=20,(0,Dr._c)(Bo);case 20:na.style.background="var(--default-bg-color)",Or.replaceChildren(Bo),Xo.next=28;break;case 24:Xo.prev=24,Xo.t0=Xo.catch(7),na.style.background="var(--default-bg-color)",fn&&Jn(Xo.t0.message);case 28:case"end":return Xo.stop()}},Er,null,[[7,24]])}));return function(){return fr.apply(this,arguments)}}();kr()},[fn,kt]);var _i=function(){hr.setOpenDialog(null),function(kr){try{localStorage.setItem(qo,kr)}catch(fr){console.error(fr)}}(Lt)};return(0,$.jsx)(Nr.V,{className:"dialog-mermaid",onCloseRequest:_i,size:1200,title:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{className:"dialog-mermaid-title",children:(0,Ot.t)("mermaid.title")}),(0,$.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,$.jsx)($a.Z,{i18nKey:"mermaid.description",flowchartLink:function(kr){return(0,$.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:kr})},sequenceLink:function(kr){return(0,$.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:kr})}}),(0,$.jsx)("br",{})]})]}),children:(0,$.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,$.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,$.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,$.jsx)("label",{children:(0,Ot.t)("mermaid.syntax")}),(0,$.jsx)("textarea",{onChange:function(kr){return Dt(kr.target.value)},value:Lt})]}),(0,$.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,$.jsx)("label",{children:(0,Ot.t)("mermaid.preview")}),(0,$.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[Pn&&(0,$.jsx)(Zl,{error:Pn}),kt.loaded?(0,$.jsx)("div",{ref:$n,style:{opacity:Pn?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,$.jsx)(So.Z,{size:"2rem"})]})]})]}),(0,$.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,$.jsxs)(_o.z,{className:"dialog-mermaid-insert",onSelect:function(){var kr=ur.current,fr=kr.elements,Er=kr.files;hr.addElementsFromPasteOrLibrary({elements:fr,files:Er,position:"center",fitToContent:!0}),_i()},children:[(0,Ot.t)("mermaid.button"),(0,$.jsx)("span",{children:Kt.LZ})]})})]})})},Hl=_(7930),Wl={};Wl.styleTagTransform=qn(),Wl.setAttributes=Vn(),Wl.insert=yn().bind(null,"head"),Wl.domAPI=on(),Wl.insertStyleElement=Zn(),en()(Hl.Z,Wl),Hl.Z&&Hl.Z.locals&&Hl.Z.locals;var Ws=function(_e){var bt=_e.manager,kt=(0,Yt.useRef)(null);return(0,Yt.useEffect)(function(){return kt.current&&bt.start(kt.current),function(){bt.stop()}},[bt]),(0,$.jsx)("div",{className:"LaserToolOverlay",children:(0,$.jsx)("svg",{ref:kt,className:"LaserToolOverlayCanvas"})})},fs,vs,Js,ks;function zl([_e,bt,kt],[Ht,ln,xn]){return[_e+Ht,bt+ln,kt+xn]}function Ls([_e,bt,kt],[Ht,ln,xn]){return[_e-Ht,bt-ln,kt-xn]}function $l([_e,bt,kt],Ht){return[_e*Ht,bt*Ht,kt*Ht]}function Es([_e,bt,kt]){return[_e/Math.sqrt(_e**2+bt**2),bt/Math.sqrt(_e**2+bt**2),kt]}function as([_e,bt,kt],Ht){return[Math.cos(Ht)*_e-Math.sin(Ht)*bt,Math.sin(Ht)*_e+Math.cos(Ht)*bt,kt]}function yu(_e,bt,kt){return Math.atan2(kt[1]-_e[1],kt[0]-_e[0])-Math.atan2(bt[1]-_e[1],bt[0]-_e[0])}function Ds(_e){return Math.atan2(Math.sin(_e),Math.cos(_e))}function xu([_e,bt]){return Math.sqrt(_e**2+bt**2)}function Us([_e,bt],[kt,Ht]){return Math.sqrt((kt-_e)**2+(Ht-bt)**2)}fs={},vs="LaserPointer",Js=()=>Ks,Object.defineProperty(fs,vs,{get:Js,set:ks,enumerable:!0,configurable:!0});function c0(_e,bt,kt){const Ht=Us(bt,kt);if(Ht===0)return Us(_e,bt);const ln=((xn,Lt,Dt)=>Math.max(Lt,Math.min(Dt,xn)))(((_e[0]-bt[0])*(kt[0]-bt[0])+(_e[1]-bt[1])*(kt[1]-bt[1]))/Ht**2,0,1);return Us([bt[0]+ln*(kt[0]-bt[0]),bt[1]+ln*(kt[1]-bt[1]),_e[2]],_e)}function vu(_e,bt){if(bt===0||_e.length<=2)return _e;const kt=_e[0],Ht=_e[_e.length-1],[ln,xn]=_e.reduce(([Lt,Dt],fn,Nn)=>{const Un=c0(fn,kt,Ht);return Un>Lt?[Un,Nn]:[Lt,Dt]},[0,-1]);if(ln>=bt){const Lt=_e[xn];return[...vu([kt,..._e.slice(1,xn),Lt],bt).slice(0,-1),Lt,...vu([Lt,..._e.slice(xn,-1),Ht],bt).slice(1)]}return[kt,Ht]}const Hs=class Hs{constructor(bt){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},Hs.defaults,bt)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(bt){const kt=this.originalPoints[this.originalPoints.length-1];if(!kt||kt[0]!==bt[0]||kt[1]!==bt[1]){if(this.originalPoints.push(bt),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(bt);var Ht,ln,xn;this.options.streamline>0&&(Ht=this.lastPoint,ln=bt,xn=1-this.options.streamline,bt=zl(Ht,$l(Ls(ln,Ht),xn))),this.tailPoints.push(bt),function(Lt){if(Lt.length<2)return 0;let Dt=0;for(let fn=1;fn<=Lt.length-1;fn++)Dt+=Us(Lt[fn-1],Lt[fn]);return Dt+=Us(Lt[Lt.length-2],Lt[Lt.length-1]),Dt}(this.tailPoints)>Hs.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(bt,kt,Ht,ln,xn){return(bt??this.options.size)*this.options.sizeMapping({pressure:kt,runningLength:xn,currentIndex:Ht,totalLength:ln})}getStrokeOutline(bt){if(this.isFresh)return[];let kt=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(kt=vu(kt,this.options.simplify));const Ht=kt.length;if(Ht===0)return[];if(Ht===1){const ga=kt[0],Tr=[];for(let Pr=0;Pr<=2*Math.PI;Pr+=Math.PI/16)Tr.push(zl(ga,$l(as([1,0,0],Pr),this.getSize(bt,ga[2],0,Ht,0))));return Tr.push(zl(ga,$l([1,0,0],this.getSize(bt,ga[2],0,Ht,0)))),Tr}if(Ht===2){const ga=kt[0],Tr=kt[1],Pr=[],Bo=yu(ga,[ga[0],ga[1]-100,ga[2]],Tr);for(let Xo=Bo;Xo<=Math.PI+Bo;Xo+=Math.PI/16)Pr.push(zl(ga,$l(as([1,0,0],Xo),this.getSize(bt,ga[2],0,Ht,0))));for(let Xo=Math.PI+Bo;Xo<=2*Math.PI+Bo;Xo+=Math.PI/16)Pr.push(zl(Tr,$l(as([1,0,0],Xo),this.getSize(bt,Tr[2],0,Ht,0))));return Pr.push(Pr[0]),Pr}const ln=[],xn=[];let Lt=0,Dt=0,fn=0,Nn=0;for(let ga=1;ga<Ht-1;ga++){const Tr=kt[ga-1],Pr=kt[ga],Bo=kt[ga+1];let Xo=Pr[2];const Mo=Us(Tr,Pr);Nn+=Mo,Lt=Dt+.2*(Mo-Dt);const zo=this.getSize(bt,Xo,ga,Ht,Nn);if(zo===0){fn=ga+1;continue}const Bl=Es(Ls(Tr,Pr)),Il=Es(Ls(Bo,Pr)),ko=as(Bl,Math.PI/2),xl=as(Bl,-Math.PI/2),Wo=as(Il,Math.PI/2),Cl=as(Il,-Math.PI/2),Tl=zl(Pr,$l(ko,zo)),Rl=zl(Pr,$l(xl,zo)),Xl=zl(Pr,$l(Wo,zo)),_c=zl(Pr,$l(Cl,zo)),Jo=zl(ko,Cl),wl=zl(xl,Wo),ss=zl(Pr,$l(xu(Jo)===0?Bl:Es(Jo),zo)),Jl=zl(Pr,$l(xu(wl)===0?Il:Es(wl),zo)),us=Ds(yu(Pr,Tr,Bo)),Dl=Hs.constants.cornerDetectionMaxAngle/180*Math.PI*Hs.constants.cornerDetectionVariance(Lt);if(Math.abs(us)<Dl){const os=Math.abs(Ds(Math.PI-us));if(os===0)continue;if(us<0){xn.push(Rl,Jl);for(let es=0;es<=os;es+=os/4)ln.push(zl(Pr,as($l(ko,zo),es)));for(let es=os;es>=0;es-=os/4)xn.push(zl(Pr,as($l(ko,zo),es)));xn.push(Jl,Xl)}else{ln.push(Tl,ss);for(let es=0;es<=os;es+=os/4)xn.push(zl(Pr,as($l(ko,-zo),-es)));for(let es=os;es>=0;es-=os/4)ln.push(zl(Pr,as($l(ko,-zo),-es)));ln.push(ss,_c)}}else ln.push(ss),xn.push(Jl);Dt=Lt}const Un=kt[fn],Pn=kt[fn+1],Jn=kt[Ht-2],$n=kt[Ht-1];if(fn>=Ht-2)return[];const ur=Es(Ls(Pn,Un)),hr=Es(Ls(Jn,$n)),br=as(ur,-Math.PI/2),_i=as(hr,Math.PI/2),kr=this.getSize(bt,Un[2],0,Ht,0),fr=[],Er=this.getSize(bt,Jn[2],Ht-2,Ht,Nn),Or=[];for(let ga=0;ga<=Math.PI;ga+=Math.PI/16)fr.unshift(zl(Un,as($l(br,kr),-ga)));fr.unshift(zl(Un,$l(br,-kr)));for(let ga=0;ga<=Math.PI;ga+=Math.PI/16)Or.push(zl($n,as($l(_i,-Er),-ga)));const na=[...fr,...ln,...Or.reverse(),...xn.reverse()];return fr.length>0&&na.push(fr[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?vu(na,this.options.simplify):na}};j0=new WeakMap,_0=new WeakMap,tI(Hs,j0,(()=>{Hs.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})()),tI(Hs,_0,(()=>{Hs.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:bt=>bt>35?.5:1,maxTailLength:50}})());let Ks=Hs;var X0=_(957);function s0(_e,bt){var kt=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!kt){if(Array.isArray(_e)||(kt=function(fn,Nn){if(fn){if(typeof fn=="string")return u0(fn,Nn);var Un=Object.prototype.toString.call(fn).slice(8,-1);if(Un==="Object"&&fn.constructor&&(Un=fn.constructor.name),Un==="Map"||Un==="Set")return Array.from(fn);if(Un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un))return u0(fn,Nn)}}(_e))||bt){kt&&(_e=kt);var Ht=0,ln=function(){};return{s:ln,n:function(){return Ht>=_e.length?{done:!0}:{done:!1,value:_e[Ht++]}},e:function(fn){throw fn},f:ln}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn,Lt=!0,Dt=!1;return{s:function(){kt=kt.call(_e)},n:function(){var fn=kt.next();return Lt=fn.done,fn},e:function(fn){Dt=!0,xn=fn},f:function(){try{Lt||kt.return==null||kt.return()}finally{if(Dt)throw xn}}}}function u0(_e,bt){(bt==null||bt>_e.length)&&(bt=_e.length);for(var kt=0,Ht=new Array(bt);kt<bt;kt++)Ht[kt]=_e[kt];return Ht}var g0=1e3,Fu=function(_e,bt){return(_e+bt)/2};function d0(_e){return 1-Math.pow(1-_e,3)}function Ys(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function nu(){return Ks.constants.cornerDetectionMaxAngle=70,new Ks({simplify:0,streamline:.4,sizeMapping:function(_e){var bt=Math.max(0,1-(performance.now()-_e.pressure)/1e3),kt=(50-Math.min(50,_e.totalLength-_e.currentIndex))/50;return Math.min(d0(kt),d0(bt))}})}var I0=function(){function _e(bt){(0,ht.Z)(this,_e),this.app=bt,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=Ys()}return(0,Bt.Z)(_e,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=Ys(),this.collaboratorsState=new Map}},{key:"startPath",value:function(bt,kt){this.ownState.currentPath=nu(),this.ownState.currentPath.addPoint([bt,kt,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(bt,kt){var Ht;this.ownState.currentPath&&((Ht=this.ownState.currentPath)===null||Ht===void 0||Ht.addPoint([bt,kt,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(bt){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(bt){bt&&(this.container=bt,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(bt){var kt=this;return function(Ht){var ln=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],xn=Ht.length;if(xn<4)return"";for(var Lt=Ht[0],Dt=Ht[1],fn=Ht[2],Nn="M".concat(Lt[0].toFixed(2),",").concat(Lt[1].toFixed(2)," Q").concat(Dt[0].toFixed(2),",").concat(Dt[1].toFixed(2)," ").concat(Fu(Dt[0],fn[0]).toFixed(2),",").concat(Fu(Dt[1],fn[1]).toFixed(2)," T"),Un=2,Pn=xn-1;Un<Pn;Un++)Lt=Ht[Un],Dt=Ht[Un+1],Nn+="".concat(Fu(Lt[0],Dt[0]).toFixed(2),",").concat(Fu(Lt[1],Dt[1]).toFixed(2)," ");return ln&&(Nn+="Z"),Nn}(bt.getStrokeOutline(bt.options.size/this.app.state.zoom.value).map(function(Ht){var ln=(0,ot.Z)(Ht,2),xn=ln[0],Lt=ln[1],Dt=(0,ut._i)({sceneX:xn,sceneY:Lt},kt.app.state);return[Dt.x,Dt.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var bt,kt=s0(this.app.state.collaborators.entries());try{for(kt.s();!(bt=kt.n()).done;){var Ht=(0,ot.Z)(bt.value,2),ln=Ht[0],xn=Ht[1];if(!this.collaboratorsState.has(ln)){var Lt=Ys();this.container.appendChild(Lt.svg),this.collaboratorsState.set(ln,Lt),this.updatePath(Lt)}var Dt=this.collaboratorsState.get(ln);xn.pointer&&xn.pointer.tool==="laser"&&(xn.button==="down"&&Dt.currentPath===void 0&&(Dt.lastPoint=[xn.pointer.x,xn.pointer.y],Dt.currentPath=nu(),Dt.currentPath.addPoint([xn.pointer.x,xn.pointer.y,performance.now()]),this.updatePath(Dt)),xn.button==="down"&&Dt.currentPath!==void 0&&(xn.pointer.x===Dt.lastPoint[0]&&xn.pointer.y===Dt.lastPoint[1]||(Dt.lastPoint=[xn.pointer.x,xn.pointer.y],Dt.currentPath.addPoint([xn.pointer.x,xn.pointer.y,performance.now()]),this.updatePath(Dt))),xn.button==="up"&&Dt.currentPath!==void 0&&(Dt.lastPoint=[xn.pointer.x,xn.pointer.y],Dt.currentPath.addPoint([xn.pointer.x,xn.pointer.y,performance.now()]),Dt.currentPath.close(),Dt.finishedPaths.push(Dt.currentPath),Dt.currentPath=void 0,this.updatePath(Dt)))}}catch(fn){kt.e(fn)}finally{kt.f()}}}},{key:"update",value:function(){var bt=this;if(this.container){var kt,Ht=!1,ln=s0(this.collaboratorsState.entries());try{for(ln.s();!(kt=ln.n()).done;){var xn=(0,ot.Z)(kt.value,2),Lt=xn[0],Dt=xn[1];if(this.app.state.collaborators.has(Lt)){Dt.finishedPaths=Dt.finishedPaths.filter(function(Un){var Pn=Un.originalPoints[Un.originalPoints.length-1];return!(Pn&&Pn[2]<performance.now()-g0)});var fn=Dt.finishedPaths.map(function(Un){return bt.draw(Un)}).join(" ");Dt.currentPath&&(fn+=" ".concat(this.draw(Dt.currentPath))),fn.trim()&&(Ht=!0),Dt.svg.setAttribute("d",fn),Dt.svg.setAttribute("fill",(0,X0.G)(Lt))}else Dt.svg.remove(),this.collaboratorsState.delete(Lt)}}catch(Un){ln.e(Un)}finally{ln.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(Un){var Pn=Un.originalPoints[Un.originalPoints.length-1];return!(Pn&&Pn[2]<performance.now()-g0)});var Nn=this.ownState.finishedPaths.map(function(Un){return bt.draw(Un)}).join(" ");this.ownState.currentPath&&(Nn+=" ".concat(this.draw(this.ownState.currentPath))),(Nn=Nn.trim())&&(Ht=!0),this.ownState.svg.setAttribute("d",Nn),this.ownState.svg.setAttribute("fill","red"),Ht||(this.isDrawing=!1)}}}]),_e}(),cs=function(){function _e(bt){var kt;(0,ht.Z)(this,_e),this.subscribers=[],this.updateOnChangeOnly=(kt=bt==null?void 0:bt.updateOnChangeOnly)!==null&&kt!==void 0&&kt,this.value=bt==null?void 0:bt.initialState}return(0,Bt.Z)(_e,[{key:"on",value:function(){for(var bt,kt=this,Ht=arguments.length,ln=new Array(Ht),xn=0;xn<Ht;xn++)ln[xn]=arguments[xn];var Lt=ln.flat().filter(function(Dt){return typeof Dt=="function"});return(bt=this.subscribers).push.apply(bt,(0,it.Z)(Lt)),function(){return kt.off(Lt)}}},{key:"off",value:function(){for(var bt=arguments.length,kt=new Array(bt),Ht=0;Ht<bt;Ht++)kt[Ht]=arguments[Ht];var ln=kt.flat();this.subscribers=this.subscribers.filter(function(xn){return!ln.includes(xn)})}},{key:"trigger",value:function(){for(var bt=arguments.length,kt=new Array(bt),Ht=0;Ht<bt;Ht++)kt[Ht]=arguments[Ht];return this.updateOnChangeOnly&&this.value===kt?[]:(this.value=kt,this.subscribers.map(function(ln){return ln.apply(void 0,kt)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),_e}();function Os(_e,bt){var kt=typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!kt){if(Array.isArray(_e)||(kt=function(fn,Nn){if(fn){if(typeof fn=="string")return ru(fn,Nn);var Un=Object.prototype.toString.call(fn).slice(8,-1);if(Un==="Object"&&fn.constructor&&(Un=fn.constructor.name),Un==="Map"||Un==="Set")return Array.from(fn);if(Un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un))return ru(fn,Nn)}}(_e))||bt){kt&&(_e=kt);var Ht=0,ln=function(){};return{s:ln,n:function(){return Ht>=_e.length?{done:!0}:{done:!1,value:_e[Ht++]}},e:function(fn){throw fn},f:ln}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn,Lt=!0,Dt=!1;return{s:function(){kt=kt.call(_e)},n:function(){var fn=kt.next();return Lt=fn.done,fn},e:function(fn){Dt=!0,xn=fn},f:function(){try{Lt||kt.return==null||kt.return()}finally{if(Dt)throw xn}}}}function ru(_e,bt){(bt==null||bt>_e.length)&&(bt=_e.length);for(var kt=0,Ht=new Array(bt);kt<bt;kt++)Ht[kt]=_e[kt];return Ht}function h0(_e){var bt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var kt,Ht=(0,St.Z)(_e);if(bt){var ln=(0,St.Z)(this).constructor;kt=Reflect.construct(Ht,arguments,ln)}else kt=Ht.apply(this,arguments);return(0,xt.Z)(this,kt)}}function Qu(_e,bt){var kt=Object.keys(_e);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(_e);bt&&(Ht=Ht.filter(function(ln){return Object.getOwnPropertyDescriptor(_e,ln).enumerable})),kt.push.apply(kt,Ht)}return kt}function Yr(_e){for(var bt=1;bt<arguments.length;bt++){var kt=arguments[bt]!=null?arguments[bt]:{};bt%2?Qu(Object(kt),!0).forEach(function(Ht){(0,Zt.Z)(_e,Ht,kt[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(kt)):Qu(Object(kt)).forEach(function(Ht){Object.defineProperty(_e,Ht,Object.getOwnPropertyDescriptor(kt,Ht))})}return _e}var wu=sn().createContext(null),Eu=sn().createContext(null),Uu={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},Gu=sn().createContext(Uu);Gu.displayName="DeviceContext";var k0=sn().createContext({container:null,id:null});k0.displayName="ExcalidrawContainerContext";var Z0=sn().createContext([]);Z0.displayName="ExcalidrawElementsContext";var N0=sn().createContext(Yr(Yr({},(0,Ft.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));N0.displayName="ExcalidrawAppStateContext";var T0=sn().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});T0.displayName="ExcalidrawSetAppStateContext";var D0=sn().createContext(null);D0.displayName="ExcalidrawActionManagerContext";var O0=function(){return(0,Yt.useContext)(wu)},rI=function(){return(0,Yt.useContext)(Eu)},b0=function(){return(0,Yt.useContext)(Gu)},M0=function(){return(0,Yt.useContext)(k0)},iI=function(){return(0,Yt.useContext)(Z0)},aI=function(){return(0,Yt.useContext)(N0)},oI=function(){return(0,Yt.useContext)(T0)},R0=function(){return(0,Yt.useContext)(D0)},lI=typeof window<"u"&&"ResizeObserver"in window,Vu=!1,V0=0,bu=!1,Wu=!1,W0=!1,L0={horizontal:null,vertical:null},iu=0,Lu=!1,Y0=new Map,H0=!1,cI=0,sI=!1,au=null,Sl={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},z0=function(_e){(0,tt.Z)(xn,_e);var bt,kt,Ht,ln=h0(xn);function xn(Lt){var Dt;(0,ht.Z)(this,xn),Dt=ln.call(this,Lt),gI.call((0,st.Z)(Dt));var fn,Nn=(0,Ft.im)(),Un=Lt.excalidrawAPI,Pn=Lt.viewModeEnabled,Jn=Pn!==void 0&&Pn,$n=Lt.zenModeEnabled,ur=$n!==void 0&&$n,hr=Lt.gridModeEnabled,br=hr!==void 0&&hr,_i=Lt.objectsSnapModeEnabled,kr=_i!==void 0&&_i,fr=Lt.theme,Er=fr===void 0?Nn.theme:fr,Or=Lt.name,na=Or===void 0?Nn.name:Or;if(Dt.state=Yr(Yr(Yr({},Nn),{},{theme:Er,isLoading:!0},Dt.getCanvasOffsets()),{},{viewModeEnabled:Jn,zenModeEnabled:ur,objectsSnapModeEnabled:kr,gridSize:br?ft.k:null,name:na,width:window.innerWidth,height:window.innerHeight}),Dt.id=(0,qt.x0)(),Dt.library=new jt.ZP((0,st.Z)(Dt)),Dt.scene=new tn.Z,Dt.canvas=document.createElement("canvas"),Dt.rc=pn.Z.canvas(Dt.canvas),Dt.renderer=new No(Dt.scene),Un){var ga={updateScene:Dt.updateScene,updateLibrary:Dt.library.updateLibrary,addFiles:Dt.addFiles,resetScene:Dt.resetScene,getSceneElementsIncludingDeleted:Dt.getSceneElementsIncludingDeleted,history:{clear:Dt.resetHistory},scrollToContent:Dt.scrollToContent,getSceneElements:Dt.getSceneElements,getAppState:function(){return Dt.state},getFiles:function(){return Dt.files},refresh:Dt.refresh,setToast:Dt.setToast,id:Dt.id,setActiveTool:Dt.setActiveTool,setCursor:Dt.setCursor,resetCursor:Dt.resetCursor,updateFrameRendering:Dt.updateFrameRendering,toggleSidebar:Dt.toggleSidebar,onChange:function(Tr){return Dt.onChangeEmitter.on(Tr)},onPointerDown:function(Tr){return Dt.onPointerDownEmitter.on(Tr)},onPointerUp:function(Tr){return Dt.onPointerUpEmitter.on(Tr)}};typeof Un=="function"?Un(ga):console.error("excalidrawAPI should be a function!")}return Dt.excalidrawContainerValue={container:Dt.excalidrawContainerRef.current,id:Dt.id},Dt.fonts=new e0({scene:Dt.scene,onSceneUpdated:Dt.onSceneUpdated}),Dt.history=new Gn,Dt.actionManager=new zt(Dt.syncActionResult,function(){return Dt.state},function(){return Dt.scene.getElementsIncludingDeleted()},(0,st.Z)(Dt)),Dt.actionManager.registerAll(Qt.N),Dt.actionManager.registerAction((fn=Dt.history,{name:"undo",trackEvent:{category:"history"},perform:function(Tr,Pr){return lt(Tr,Pr,function(){return fn.undoOnce()})},keyTest:function(Tr){return Tr[Gt.tW.CTRL_OR_CMD]&&Tr.key.toLowerCase()===Gt.tW.Z&&!Tr.shiftKey},PanelComponent:function(Tr){var Pr=Tr.updateData,Bo=Tr.data;return(0,$.jsx)(yt.V,{type:"button",icon:Kt.UE,"aria-label":(0,Ot.t)("buttons.undo"),onClick:Pr,size:(Bo==null?void 0:Bo.size)||"medium"})},commitToHistory:function(){return!1}})),Dt.actionManager.registerAction(function(Tr){return{name:"redo",trackEvent:{category:"history"},perform:function(Pr,Bo){return lt(Pr,Bo,function(){return Tr.redoOnce()})},keyTest:function(Pr){return Pr[Gt.tW.CTRL_OR_CMD]&&Pr.shiftKey&&Pr.key.toLowerCase()===Gt.tW.Z||ft.ED&&Pr.ctrlKey&&!Pr.shiftKey&&Pr.key===Gt.tW.Y},PanelComponent:function(Pr){var Bo=Pr.updateData,Xo=Pr.data;return(0,$.jsx)(yt.V,{type:"button",icon:Kt.zG,"aria-label":(0,Ot.t)("buttons.redo"),onClick:Bo,size:(Xo==null?void 0:Xo.size)||"medium"})},commitToHistory:function(){return!1}}}(Dt.history)),Dt}return(0,Bt.Z)(xn,[{key:"onWindowMessage",value:function(Lt){if(Lt.origin==="https://player.vimeo.com"||Lt.origin==="https://www.youtube.com"){var Dt=null;try{Dt=JSON.parse(Lt.data)}catch{}if(Dt)switch(Lt.origin){case"https://player.vimeo.com":if(Dt.method==="paused"){var fn,Nn=null,Un=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!Un)break;var Pn,Jn=Os(Un);try{for(Jn.s();!(Pn=Jn.n()).done;){var $n=Pn.value;$n.contentWindow===Lt.source&&(Nn=$n.contentWindow)}}catch(br){Jn.e(br)}finally{Jn.f()}(fn=Nn)===null||fn===void 0||fn.postMessage(JSON.stringify({method:Dt.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(Dt.event==="infoDelivery"&&Dt.info&&Dt.id&&typeof Dt.info.playerState=="number"){var ur=Dt.id,hr=Dt.info.playerState;Object.values(ft.vf).includes(hr)&&Y0.set(ur,hr)}}}}},{key:"updateEmbeddableRef",value:function(Lt,Dt){Dt&&this.iFrameRefs.set(Lt,Dt)}},{key:"getHTMLIFrameElement",value:function(Lt){return this.iFrameRefs.get(Lt)}},{key:"handleEmbeddableCenterClick",value:function(Lt){var Dt,fn,Nn,Un,Pn=this;if(((Dt=this.state.activeEmbeddable)===null||Dt===void 0?void 0:Dt.element)!==Lt||((fn=this.state.activeEmbeddable)===null||fn===void 0?void 0:fn.state)!=="active"){setTimeout(function(){Pn.setState({activeEmbeddable:{element:Lt,state:"active"},selectedElementIds:(0,Zt.Z)({},Lt.id,!0),draggingElement:null,selectionElement:null})},100);var Jn=this.getHTMLIFrameElement(Lt.id);if(Jn!=null&&Jn.contentWindow){if(Jn.src.includes("youtube")){var $n=Y0.get(Lt.id);switch($n||(Y0.set(Lt.id,ft.vf.UNSTARTED),Jn.contentWindow.postMessage(JSON.stringify({event:"listening",id:Lt.id}),"*")),$n){case ft.vf.PLAYING:case ft.vf.BUFFERING:(Nn=Jn.contentWindow)===null||Nn===void 0||Nn.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(Un=Jn.contentWindow)===null||Un===void 0||Un.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}Jn.src.includes("player.vimeo.com")&&Jn.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(Lt,Dt,fn,Nn){var Un,Pn;return Lt&&!Dt.altKey&&!Dt.shiftKey&&!Dt.metaKey&&!Dt.ctrlKey&&(((Un=this.state.activeEmbeddable)===null||Un===void 0?void 0:Un.element)!==Lt||((Pn=this.state.activeEmbeddable)===null||Pn===void 0?void 0:Pn.state)==="hover"||!this.state.activeEmbeddable)&&fn>=Lt.x+Lt.width/3&&fn<=Lt.x+2*Lt.width/3&&Nn>=Lt.y+Lt.height/3&&Nn<=Lt.y+2*Lt.height/3}},{key:"renderEmbeddables",value:function(){var Lt=this,Dt=this.state.zoom.value,fn=this.state.width,Nn=this.state.height,Un=this.scene.getNonDeletedElements().filter(function(Pn){return(0,Mt.gs)(Pn)&&!!Pn.validated});return(0,$.jsx)($.Fragment,{children:Un.map(function(Pn){var Jn,$n,ur,hr,br,_i,kr,fr,Er,Or=(0,ut._i)({sceneX:Pn.x,sceneY:Pn.y},Lt.state),na=Or.x,ga=Or.y,Tr=(0,mt.LM)((0,du.ye)(Pn.link||"")),Pr=(0,Sn.PZ)(Pn,fn,Nn,Lt.state),Bo=((Jn=Lt.state.activeEmbeddable)===null||Jn===void 0?void 0:Jn.element)===Pn&&(($n=Lt.state.activeEmbeddable)===null||$n===void 0?void 0:$n.state)==="active",Xo=((ur=Lt.state.activeEmbeddable)===null||ur===void 0?void 0:ur.element)===Pn&&((hr=Lt.state.activeEmbeddable)===null||hr===void 0?void 0:hr.state)==="hover";return(0,$.jsx)("div",{className:(0,mn.Z)("excalidraw__embeddable-container",{"is-hovered":Xo}),style:(0,Zt.Z)({transform:Pr?"translate(".concat(na-Lt.state.offsetLeft,"px, ").concat(ga-Lt.state.offsetTop,"px) scale(").concat(Dt,")"):"none",display:Pr?"block":"none",opacity:Pn.opacity/100},"--embeddable-radius","".concat((0,nn.yW)(Math.min(Pn.width,Pn.height),Pn),"px")),children:(0,$.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:Pr?"".concat(Pn.width,"px"):0,height:Pr?"".concat(Pn.height,"px"):0,transform:Pr?"rotate(".concat(Pn.angle,"rad)"):"none",pointerEvents:Bo?ft.XI.enabled:ft.XI.disabled},children:[Xo&&(0,$.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,Ot.t)("buttons.embeddableInteractionButton")}),(0,$.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(Pn.strokeWidth,"px")},children:(br=(_i=(kr=Lt.props).renderEmbeddable)===null||_i===void 0?void 0:_i.call(kr,Pn,Lt.state))!==null&&br!==void 0?br:(0,$.jsx)("iframe",{ref:function(Mo){return Lt.updateEmbeddableRef(Pn.id,Mo)},className:"excalidraw__embeddable",srcDoc:(Tr==null?void 0:Tr.type)==="document"?Tr.srcdoc(Lt.state.theme):void 0,src:(Tr==null?void 0:Tr.type)!=="document"?(fr=Tr==null?void 0:Tr.link)!==null&&fr!==void 0?fr:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(Tr!=null&&(Er=Tr.sandbox)!==null&&Er!==void 0&&Er.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},Pn.id)})})}},{key:"render",value:function(){var Lt,Dt,fn,Nn=this,Un=this.scene.getSelectedElements(this.state),Pn=this.props,Jn=Pn.renderTopRightUI,$n=Pn.renderCustomStats,ur=this.scene.getVersionNonce(),hr=this.renderer.getRenderableElements({versionNonce:ur,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),br=hr.canvasElements,_i=hr.visibleElements,kr=!(this.state.editingElement&&(0,Mt.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,Jt.iB)(this.state.editingElement));return(0,$.jsx)("div",{className:(0,mn.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,Zt.Z)({},"--ui-pointerEvents",kr?ft.XI.disabled:ft.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,$.jsx)(wu.Provider,{value:this,children:(0,$.jsx)(Eu.Provider,{value:this.props,children:(0,$.jsx)(k0.Provider,{value:this.excalidrawContainerValue,children:(0,$.jsx)(Gu.Provider,{value:this.device,children:(0,$.jsx)(T0.Provider,{value:this.setAppState,children:(0,$.jsx)(N0.Provider,{value:this.state,children:(0,$.jsxs)(Z0.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,$.jsxs)(D0.Provider,{value:this.actionManager,children:[(0,$.jsxs)(v0,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,Ot.G3)().code,renderTopRightUI:Jn,renderCustomStats:$n,showExitZenModeBtn:((Lt=this.props)===null||Lt===void 0?void 0:Lt.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,$.jsx)(Ql,{})]}),(0,$.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,$.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,$.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,$.jsx)(Ws,{manager:this.laserPathManager}),Un.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,$.jsx)(Ps.nW,{element:Un[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},Un[0].id),this.state.toast!==null&&(0,$.jsx)(F0,{message:this.state.toast.message,onClose:function(){return Nn.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,$.jsx)(_n,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(fr){Nn.setState({contextMenu:null},function(){Nn.focusContainer(),fr==null||fr()})}}),(0,$.jsx)(uo,{canvas:this.canvas,rc:this.rc,elements:br,visibleElements:_i,versionNonce:ur,selectionNonce:(Dt=this.state.selectionElement)===null||Dt===void 0?void 0:Dt.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,$.jsx)(no,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:br,visibleElements:_i,selectedElements:Un,versionNonce:ur,selectionNonce:(fn=this.state.selectionElement)===null||fn===void 0?void 0:fn.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(Ht=(0,nt.Z)(dt().mark(function Lt(){var Dt,fn=this;return dt().wrap(function(Nn){for(;;)switch(Nn.prev=Nn.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,ft.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return fn.state}},setState:{configurable:!0,value:function(){return fn.setState.apply(fn,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,ut.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),lI&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){fn.refreshEditorBreakpoints(),fn.updateDOMRect()}),(Dt=this.resizeObserver)===null||Dt===void 0||Dt.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,ft.jP)()&&!(0,cr.eB)()&&this.setState({errorMessage:(0,$.jsx)(jr,{})});case 11:case"end":return Nn.stop()}},Lt,this)})),function(){return Ht.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var Lt;this.renderer.destroy(),this.scene=new tn.Z,this.renderer=new No(this.scene),this.files={},this.imageCache.clear(),(Lt=this.resizeObserver)===null||Lt===void 0||Lt.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),Vs.R.destroy(),Pl.destroy(),clearTimeout(iu),Qn.N.clearCache(),jn.bO.clearCache(),iu=0}},{key:"removeEventListeners",value:function(){var Lt,Dt,fn,Nn;document.removeEventListener(ft.Ks.POINTER_UP,this.removePointer),document.removeEventListener(ft.Ks.COPY,this.onCopy),document.removeEventListener(ft.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(ft.Ks.CUT,this.onCut),(Lt=this.excalidrawContainerRef.current)===null||Lt===void 0||Lt.removeEventListener(ft.Ks.WHEEL,this.onWheel),(Dt=this.nearestScrollableContainer)===null||Dt===void 0||Dt.removeEventListener(ft.Ks.SCROLL,this.onScroll),document.removeEventListener(ft.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(ft.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(ft.Ks.KEYUP,this.onKeyUp),window.removeEventListener(ft.Ks.RESIZE,this.onResize,!1),window.removeEventListener(ft.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(ft.Ks.BLUR,this.onBlur,!1),(fn=this.excalidrawContainerRef.current)===null||fn===void 0||fn.removeEventListener(ft.Ks.DRAG_OVER,this.disableEvent,!1),(Nn=this.excalidrawContainerRef.current)===null||Nn===void 0||Nn.removeEventListener(ft.Ks.DROP,this.disableEvent,!1),document.removeEventListener(ft.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(ft.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(ft.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(ft.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var Lt,Dt,fn,Nn,Un,Pn=this;this.removeEventListeners(),window.addEventListener(ft.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(ft.Ks.POINTER_UP,this.removePointer),document.addEventListener(ft.Ks.COPY,this.onCopy),(Lt=this.excalidrawContainerRef.current)===null||Lt===void 0||Lt.addEventListener(ft.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(ft.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(ft.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(ft.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(Dt=document.fonts)===null||Dt===void 0||(fn=Dt.addEventListener)===null||fn===void 0||fn.call(Dt,"loadingdone",function(Jn){var $n=Jn.fontfaces;Pn.fonts.onFontsLoaded($n)}),document.addEventListener(ft.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(ft.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(ft.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(ft.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(ft.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,ut.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(ft.Ks.SCROLL,this.onScroll)),window.addEventListener(ft.Ks.RESIZE,this.onResize,!1),window.addEventListener(ft.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(ft.Ks.BLUR,this.onBlur,!1),(Nn=this.excalidrawContainerRef.current)===null||Nn===void 0||Nn.addEventListener(ft.Ks.DRAG_OVER,this.disableEvent,!1),(Un=this.excalidrawContainerRef.current)===null||Un===void 0||Un.addEventListener(ft.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(Lt,Dt){var fn,Nn,Un,Pn,Jn=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),Lt.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),(Dt.scrollX!==this.state.scrollX||Dt.scrollY!==this.state.scrollY)&&((Un=this.props)===null||Un===void 0||(Pn=Un.onScrollChange)===null||Pn===void 0||Pn.call(Un,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,Ft.EN)(this.state)&&this.setState({activeTool:(0,ut.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&Dt.theme!==this.state.theme&&(0,jo.OF)(this.interactiveCanvas,this.state.theme),Dt.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),Lt.langCode!==this.props.langCode&&this.updateLanguage(),Lt.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),Dt.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),Lt.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),Lt.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),Lt.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?ft.k:null}),this.props.name&&Lt.name!==this.props.name&&this.setState({name:this.props.name}),(fn=this.excalidrawContainerRef.current)===null||fn===void 0||fn.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Jn.state.editingLinearElement&&Jn.actionManager.executeAction(Ut.pL)}),(Nn=this.state.editingElement)!==null&&Nn!==void 0&&Nn.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var $n,ur,hr=Dt.multiElement;Dt.activeTool!==this.state.activeTool&&hr!=null&&(0,Xt.N1)(this.state)&&(0,Mt.Mn)(hr,!1)&&(0,Xt.R)(hr,this.state,this.scene,(0,ut.AK)(hn._.getPointAtIndexGlobalCoordinates(hr,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(($n=(ur=this.props).onChange)===null||$n===void 0||$n.call(ur,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(kt=(0,nt.Z)(dt().mark(function Lt(Dt,fn){var Nn,Un,Pn,Jn,$n,ur,hr,br,_i,kr,fr,Er,Or,na,ga;return dt().wrap(function(Tr){for(;;)switch(Tr.prev=Tr.next){case 0:if(Nn=fn.isPlainPaste,Un=fn.sceneX,Pn=fn.sceneY,Nn||!Dt.some(function(Pr){return Pr.type==="imageUrl"})||!this.isToolSupported("image")){Tr.next=35;break}return Jn=Dt.filter(function(Pr){return Pr.type==="imageUrl"}).map(function(Pr){return Pr.value}),Tr.next=5,Promise.all(Jn.map(function(){var Pr=(0,nt.Z)(dt().mark(function Bo(Xo){return dt().wrap(function(Mo){for(;;)switch(Mo.prev=Mo.next){case 0:return Mo.prev=0,Mo.next=3,(0,Dr._p)(Xo);case 3:return Mo.t0=Mo.sent,Mo.abrupt("return",{file:Mo.t0});case 7:return Mo.prev=7,Mo.t1=Mo.catch(0),Mo.abrupt("return",{errorMessage:Mo.t1.message});case 10:case"end":return Mo.stop()}},Bo,null,[[0,7]])}));return function(Bo){return Pr.apply(this,arguments)}}()));case 5:$n=Tr.sent,ur=Pn,hr=!1,br={},_i=Os($n),Tr.prev=10,_i.s();case 12:if((kr=_i.n()).done){Tr.next=22;break}if(!(fr=kr.value).file){Tr.next=20;break}return Er=this.createImageElement({sceneX:Un,sceneY:ur}),Tr.next=18,this.insertImageElement(Er,fr.file);case 18:(Or=Tr.sent)&&(hr||(hr=!0,ur-=Or.height/2),(0,Ct.DR)(Or,{y:ur},!1),ur=Er.y+Er.height+25,br[Er.id]=!0);case 20:Tr.next=12;break;case 22:Tr.next=27;break;case 24:Tr.prev=24,Tr.t0=Tr.catch(10),_i.e(Tr.t0);case 27:return Tr.prev=27,_i.f(),Tr.finish(27);case 30:this.setState({selectedElementIds:(0,Ul.Oh)(br,this.state)}),na=$n.find(function(Pr){return!!Pr.errorMessage}),na&&na.errorMessage&&this.setState({errorMessage:na.errorMessage}),Tr.next=37;break;case 35:(ga=Dt.filter(function(Pr){return Pr.type==="text"})).length&&this.addTextFromPaste(ga.map(function(Pr){return Pr.value}).join(`

`),Nn);case 37:case"end":return Tr.stop()}},Lt,this,[[10,24,27,30]])})),function(Lt,Dt){return kt.apply(this,arguments)})},{key:"addTextFromPaste",value:function(Lt){var Dt=this,fn=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nn=(0,ut.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),Un=Nn.x,Pn=Nn.y,Jn={x:Un,y:Pn,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:Lt,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:ft.hs,locked:!1},$n=10,ur=Pn,hr=fn?[Lt]:Lt.split(`
`),br=hr.reduce(function(kr,fr,Er){var Or=fr.trim(),na=(0,cr.PT)(Jn.fontFamily);if(Or.length){var ga=Dt.getTopLayerFrameAtSceneCoords({x:Un,y:ur}),Tr=(0,Jt.VL)(Yr(Yr({},Jn),{},{x:Un,y:ur,text:Or,lineHeight:na,frameId:ga?ga.id:null}));kr.push(Tr),ur+=Tr.height+$n}else{var Pr;!((Pr=hr[Er-1])===null||Pr===void 0)&&Pr.trim()&&(ur+=(0,cr.Rg)(Jn.fontSize,na)+$n)}return kr},[]);if(br.length!==0){var _i=br[0].frameId;_i?this.scene.insertElementsAtIndex(br,this.scene.getElementIndex(_i)):this.scene.replaceAllElements([].concat((0,it.Z)(this.scene.getElementsIncludingDeleted()),(0,it.Z)(br))),this.setState({selectedElementIds:(0,Ul.Oh)(Object.fromEntries(br.map(function(kr){return[kr.id,!0]})),this.state)}),!fn&&br.length>1&&sI===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,Ot.t)("toast.pasteAsSingleElement",{shortcut:(0,ut.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),sI=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(Lt,Dt){var fn=this,Nn=Dt.isExistingElement,Un=Nn!==void 0&&Nn,Pn=function(Jn,$n,ur){fn.scene.replaceAllElements((0,it.Z)(fn.scene.getElementsIncludingDeleted().map(function(hr){return hr.id===Lt.id&&(0,Jt.iB)(hr)?(0,Jt.N_)(hr,{text:Jn,isDeleted:ur,originalText:$n}):hr})))};(0,Jt.b_)({id:Lt.id,canvas:this.canvas,getViewportCoords:function(Jn,$n){var ur=(0,ut._i)({sceneX:Jn,sceneY:$n},fn.state),hr=ur.x,br=ur.y;return[hr-fn.state.offsetLeft,br-fn.state.offsetTop]},onChange:(0,ut.tH)(function(Jn){Pn(Jn,Jn,!1),(0,Jt.qP)(Lt)&&(0,Xt.Ww)(Lt)}),onSubmit:(0,ut.tH)(function(Jn){var $n=Jn.text,ur=Jn.viaKeyboard,hr=Jn.originalText,br=!$n.trim();if(Pn($n,hr,br),!br&&ur){var _i=Lt.containerId?Lt.containerId:Lt.id;fn.setState(function(kr){return{selectedElementIds:(0,Ul.Oh)(Yr(Yr({},kr.selectedElementIds),{},(0,Zt.Z)({},_i,!0)),kr)}})}br&&(0,Xt.$q)(fn.scene.getNonDeletedElements(),[Lt]),br&&!Un||fn.history.resumeRecording(),fn.setState({draggingElement:null,editingElement:null}),fn.state.activeTool.locked&&(0,jo.Uk)(fn.interactiveCanvas,fn.state),fn.focusContainer()}),element:Lt,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Pn(Lt.text,Lt.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,Ul.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(Lt,Dt){var fn=this.getElementAtPosition(Lt,Dt,{includeBoundTextElement:!0});return fn&&(0,Jt.iB)(fn)&&!fn.isDeleted?fn:null}},{key:"getElementAtPosition",value:function(Lt,Dt,fn){var Nn=this.getElementsAtPosition(Lt,Dt,fn==null?void 0:fn.includeBoundTextElement,fn==null?void 0:fn.includeLockedElements);if(Nn.length>1){if(fn!=null&&fn.preferSelected){for(var Un=Nn.length-1;Un>-1;Un--)if(this.state.selectedElementIds[Nn[Un].id])return Nn[Un]}var Pn=Nn[Nn.length-1];return(0,Jt.wB)(Pn,this.state,this.frameNameBoundsCache,Lt,Dt)?Nn[Nn.length-2]:Pn}return Nn.length===1?Nn[0]:null}},{key:"getElementsAtPosition",value:function(Lt,Dt){var fn=this,Nn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Un=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Pn=Nn&&Un?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(Jn){return(Un||!Jn.locked)&&(Nn||!((0,Jt.iB)(Jn)&&Jn.containerId))});return(0,Qn.CJ)(Pn,function(Jn){return(0,Jt.wX)(Jn,fn.state,fn.frameNameBoundsCache,Lt,Dt)}).filter(function(Jn){var $n=(0,Yl.$Z)(Jn);return!($n&&fn.state.frameRendering.enabled&&fn.state.frameRendering.clip)||(0,Yl.Dn)({x:Lt,y:Dt},$n)})}},{key:"handleHoverSelectedLinearElement",value:function(Lt,Dt,fn){var Nn=hn._.getElement(Lt.elementId),Un=(0,cr.WJ)(Nn);if(Nn)if(this.state.selectedLinearElement){var Pn=-1,Jn=null;(0,_d.Qu)(Nn,this.state,this.frameNameBoundsCache,[Dt,fn])?(Pn=hn._.getPointIndexUnderCursor(Nn,this.state.zoom,Dt,fn),Jn=hn._.getSegmentMidpointHitCoords(Lt,{x:Dt,y:fn},this.state),Pn>=0||Jn?(0,jo.KJ)(this.interactiveCanvas,ft.oc.POINTER):(0,jo.KJ)(this.interactiveCanvas,ft.oc.MOVE)):((0,w0.oY)([Nn],this.state)&&(0,Jt.wB)(Nn,this.state,this.frameNameBoundsCache,Dt,fn)||Un&&(0,Jt.wX)(Un,this.state,this.frameNameBoundsCache,Dt,fn))&&(0,jo.KJ)(this.interactiveCanvas,ft.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Pn&&this.setState({selectedLinearElement:Yr(Yr({},this.state.selectedLinearElement),{},{hoverPointIndex:Pn})}),hn._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,Jn)||this.setState({selectedLinearElement:Yr(Yr({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:Jn})})}else(0,jo.KJ)(this.interactiveCanvas,ft.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(Lt){au!==null&&au(Lt)}},{key:"updateGestureOnPointerDown",value:function(Lt){Sl.pointers.set(Lt.pointerId,{x:Lt.clientX,y:Lt.clientY}),Sl.pointers.size===2&&(Sl.lastCenter=an(Sl.pointers),Sl.initialScale=this.state.zoom.value,Sl.initialDistance=Cn(Array.from(Sl.pointers.values())))}},{key:"initialPointerDownState",value:function(Lt){var Dt=(0,ut.dE)(Lt,this.state),fn=this.scene.getSelectedElements(this.state),Nn=(0,Jt.KP)(fn),Un=(0,ot.Z)(Nn,4),Pn=Un[0],Jn=Un[1],$n=Un[2],ur=Un[3];return{origin:Dt,withCmdOrCtrl:Lt[Gt.tW.CTRL_OR_CMD],originInGrid:(0,ut.AK)((0,nn.wC)(Dt.x,Dt.y,Lt[Gt.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,Qn._4)(L0,Lt.clientX-this.state.offsetLeft,Lt.clientY-this.state.offsetTop),lastCoords:Yr({},Dt),originalElements:this.scene.getNonDeletedElements().reduce(function(hr,br){return hr.set(br.id,(0,rn.OL)(br)),hr},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:($n+Pn)/2,y:(ur+Jn)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(Dt,fn)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(Lt,Dt){var fn=this;if(!Dt.scrollbars.isOverEither||this.state.multiElement)return!1;W0=!0,Dt.lastCoords.x=Lt.clientX,Dt.lastCoords.y=Lt.clientY;var Nn=(0,ut.$9)(function(Pn){Pn.target instanceof HTMLElement&&fn.handlePointerMoveOverScrollbars(Pn,Dt)}),Un=(0,ut.tH)(function(){W0=!1,(0,jo.Uk)(fn.interactiveCanvas,fn.state),au=null,fn.setState({cursorButton:"up"}),fn.savePointer(Lt.clientX,Lt.clientY,"up"),window.removeEventListener(ft.Ks.POINTER_MOVE,Nn),window.removeEventListener(ft.Ks.POINTER_UP,Un),Nn.flush()});return au=Un,window.addEventListener(ft.Ks.POINTER_MOVE,Nn),window.addEventListener(ft.Ks.POINTER_UP,Un),!0}},{key:"isASelectedElement",value:function(Lt){return Lt!=null&&this.state.selectedElementIds[Lt.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(Lt,Dt){if(Dt.length<2)return!1;var fn=10/this.state.zoom.value,Nn=(0,Jt.KP)(Dt),Un=(0,ot.Z)(Nn,4),Pn=Un[0],Jn=Un[1],$n=Un[2],ur=Un[3];return Lt.x>Pn-fn&&Lt.x<$n+fn&&Lt.y>Jn-fn&&Lt.y<ur+fn}},{key:"getCurrentItemRoundness",value:function(Lt){return this.state.currentItemRoundness==="round"?{type:(0,Mt.QI)(Lt)?ft.a6.ADAPTIVE_RADIUS:ft.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(Lt,Dt){var fn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Ts({event:Lt,appState:this.state,selectedElements:Dt})||!fn&&Pl.getReferenceSnapPoints()||Pl.setReferenceSnapPoints(Mn(this.scene.getNonDeletedElements(),Dt,this.state))}},{key:"maybeCacheVisibleGaps",value:function(Lt,Dt){var fn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!Ts({event:Lt,appState:this.state,selectedElements:Dt})||!fn&&Pl.getVisibleGaps()||Pl.setVisibleGaps(S0(this.scene.getNonDeletedElements(),Dt,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(Lt){var Dt=this;return(0,ut.tH)(function(fn){Dt.maybeHandleResize(Lt,fn)||Dt.maybeDragNewGenericElement(Lt,fn)})}},{key:"onKeyUpFromPointerDownHandler",value:function(Lt){var Dt=this;return(0,ut.tH)(function(fn){fn.key===Gt.tW.ALT&&fn.preventDefault(),Dt.maybeHandleResize(Lt,fn)||Dt.maybeDragNewGenericElement(Lt,fn)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(Lt){var Dt=this;return(0,ut.$9)(function(fn){var Nn;if(Lt.drag.offset===null&&(Lt.drag.offset=(0,ut.AK)((0,Jt.$V)(Dt.scene.getSelectedElements(Dt.state),Lt.origin.x,Lt.origin.y))),fn.target instanceof HTMLElement&&!Dt.handlePointerMoveOverScrollbars(fn,Lt)){var Un=(0,ut.dE)(fn,Dt.state);if((0,Ft.EN)(Dt.state))Dt.handleEraser(fn,Lt,Un);else{Dt.state.activeTool.type==="laser"&&Dt.laserPathManager.addPointToPath(Un.x,Un.y);var Pn=(0,nn.wC)(Un.x,Un.y,fn[Gt.tW.CTRL_OR_CMD]?null:Dt.state.gridSize),Jn=(0,ot.Z)(Pn,2),$n=Jn[0],ur=Jn[1];if(Lt.drag.hasOccurred||Dt.state.activeTool.type!=="arrow"&&Dt.state.activeTool.type!=="line"||!((0,nn.LW)(Un.x,Un.y,Lt.origin.x,Lt.origin.y)<ft.f)){if(Lt.resize.isResizing&&(Lt.lastCoords.x=Un.x,Lt.lastCoords.y=Un.y,Dt.maybeHandleResize(Lt,fn)))return!0;if(Dt.state.selectedLinearElement){var hr=Dt.state.editingLinearElement||Dt.state.selectedLinearElement;if(hn._.shouldAddMidpoint(Dt.state.selectedLinearElement,Un,Dt.state)){var br=hn._.addMidpoint(Dt.state.selectedLinearElement,Un,Dt.state,!fn[Gt.tW.CTRL_OR_CMD]);return br?void(0,bn.flushSync)(function(){Dt.state.selectedLinearElement&&Dt.setState({selectedLinearElement:Yr(Yr({},Dt.state.selectedLinearElement),{},{pointerDownState:br.pointerDownState,selectedPointsIndices:br.selectedPointsIndices})}),Dt.state.editingLinearElement&&Dt.setState({editingLinearElement:Yr(Yr({},Dt.state.editingLinearElement),{},{pointerDownState:br.pointerDownState,selectedPointsIndices:br.selectedPointsIndices})})}):void 0}if(hr.pointerDownState.segmentMidpoint.value!==null&&!hr.pointerDownState.segmentMidpoint.added)return;var _i=hn._.handlePointDragging(fn,Dt.state,Un.x,Un.y,function(El,bs){Dt.maybeSuggestBindingsForLinearElementAtCoords(El,bs)},hr);if(_i)return Lt.lastCoords.x=Un.x,Lt.lastCoords.y=Un.y,Lt.drag.hasOccurred=!0,Dt.state.editingLinearElement&&!Dt.state.editingLinearElement.isDragging&&Dt.setState({editingLinearElement:Yr(Yr({},Dt.state.editingLinearElement),{},{isDragging:!0})}),void(Dt.state.selectedLinearElement.isDragging||Dt.setState({selectedLinearElement:Yr(Yr({},Dt.state.selectedLinearElement),{},{isDragging:!0})}))}var kr=Lt.hit.allHitElements.some(function(El){return Dt.isASelectedElement(El)}),fr=Dt.state.editingLinearElement&&fn.shiftKey&&Dt.state.editingLinearElement.elementId===((Nn=Lt.hit.element)===null||Nn===void 0?void 0:Nn.id);if((kr||Lt.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!fr){var Er,Or=Dt.scene.getSelectedElements(Dt.state);if(Or.every(function(El){return El.locked}))return;var na=Or.find(function(El){return(0,Mt.He)(El)}),ga=Dt.getTopLayerFrameAtSceneCoords(Un);if(Dt.setState({frameToHighlight:ga&&!na?ga:null}),Lt.drag.hasOccurred=!0,Dt.setState({selectedElementsAreBeingDragged:!0}),Or.length>0&&!Lt.withCmdOrCtrl&&!Dt.state.editingElement&&((Er=Dt.state.activeEmbeddable)===null||Er===void 0?void 0:Er.state)!=="active"){var Tr={x:Un.x-Lt.origin.x,y:Un.y-Lt.origin.y},Pr=(0,it.Z)(Lt.originalElements.values()),Bo=fn.shiftKey;if(Bo){var Xo=Math.abs(Tr.x),Mo=Math.abs(Tr.y),zo=Bo&&Xo>Mo;Bo&&Xo<Mo&&(Tr.x=0),zo&&(Tr.y=0)}Dt.maybeCacheVisibleGaps(fn,Or),Dt.maybeCacheReferenceSnapPoints(fn,Or);var Bl=function(El,bs,Gs,fu){var P0,J0,K0,$0;if(!Ts({appState:Gs,event:fu,selectedElements:El})||El.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};bs.x=Yn(bs.x),bs.y=Yn(bs.y);var ou=[],lu=[],uI=Ns(Gs.zoom.value),Su={x:uI,y:uI},II=hu(El,{dragOffset:bs});Rn(El,II,Gs,fu,ou,lu,Su),dn(El,bs,Gs,fu,ou,lu,Su);var q0={x:(P0=(J0=ou[0])===null||J0===void 0?void 0:J0.offset)!==null&&P0!==void 0?P0:0,y:(K0=($0=lu[0])===null||$0===void 0?void 0:$0.offset)!==null&&K0!==void 0?K0:0};Su.x=0,Su.y=0,ou.length=0,lu.length=0;var eI={x:Yn(bs.x+q0.x),y:Yn(bs.y+q0.y)};Rn(El,hu(El,{dragOffset:eI}),Gs,fu,ou,lu,Su),dn(El,eI,Gs,fu,ou,lu,Su);var hI=lr(ou,lu),bI=gr(El,eI,[].concat(ou,lu).filter(function(fI){return fI.type==="gap"}));return{snapOffset:q0,snapLines:[].concat(hI,bI)}}((0,Qn.eD)(Pr,Dt.state),Tr,Dt.state,fn),Il=Bl.snapOffset,ko=Bl.snapLines;if(Dt.setState({snapLines:ko}),!Dt.state.editingFrame&&(0,Jt.o8)(Lt,Or,Tr,Dt.state,Dt.scene,Il,fn[Gt.tW.CTRL_OR_CMD]?null:Dt.state.gridSize),Dt.maybeSuggestBindingForAll(Or),fn.altKey&&!Lt.hit.hasBeenDuplicated){Lt.hit.hasBeenDuplicated=!0;var xl,Wo=[],Cl=[],Tl=new Map,Rl=new Map,Xl=Lt.hit.element,_c=new Set(Dt.scene.getSelectedElements({selectedElementIds:Dt.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(El){return El.id})),Jo=Os(Dt.scene.getElementsIncludingDeleted());try{for(Jo.s();!(xl=Jo.n()).done;){var wl=xl.value;if(_c.has(wl.id)||wl.id===(Xl==null?void 0:Xl.id)&&Lt.hit.wasAddedToSelection){var ss=(0,Jt.Sy)(Dt.state.editingGroupId,Tl,wl),Jl=Lt.originalElements.get(wl.id);(0,Ct.DR)(ss,{x:Jl.x,y:Jl.y}),Lt.originalElements.set(ss.id,ss),Wo.push(ss),Cl.push(wl),Rl.set(wl.id,ss.id)}else Wo.push(wl)}}catch(El){Jo.e(El)}finally{Jo.f()}var us=[].concat(Wo,Cl);(0,cr.P7)(Wo,Cl,Rl),(0,Xt.ek)(us,Cl,Rl,"duplicatesServeAsOld"),(0,Yl.xr)(us,Cl,Rl),Dt.scene.replaceAllElements(us),Dt.maybeCacheVisibleGaps(fn,Or,!0),Dt.maybeCacheReferenceSnapPoints(fn,Or,!0)}return}}var Dl=Dt.state.draggingElement;if(Dl){if(Dl.type==="freedraw"){var os=Dl.points,es=Un.x-Dl.x,Gl=Un.y-Dl.y,$s=os.length>0&&os[os.length-1];if(!($s&&$s[0]===es&&$s[1]===Gl)){var Zs=Dl.simulatePressure?Dl.pressures:[].concat((0,it.Z)(Dl.pressures),[fn.pressure]);(0,Ct.DR)(Dl,{points:[].concat((0,it.Z)(os),[[es,Gl]]),pressures:Zs})}}else if((0,Mt.bt)(Dl)){Lt.drag.hasOccurred=!0,Dt.setState({selectedElementsAreBeingDragged:!0});var Do=Dl.points,Vl=$n-Dl.x,ts=ur-Dl.y;if((0,Gt.Ge)(fn)&&Do.length===2){var Is=(0,Jt.o4)(Dl.x,Dl.y,Un.x,Un.y);Vl=Is.width,ts=Is.height}Do.length===1?(0,Ct.DR)(Dl,{points:[].concat((0,it.Z)(Do),[[Vl,ts]])}):Do.length===2&&(0,Ct.DR)(Dl,{points:[].concat((0,it.Z)(Do.slice(0,-1)),[[Vl,ts]])}),(0,Mt.Mn)(Dl,!1)&&Dt.maybeSuggestBindingsForLinearElementAtCoords(Dl,[Un],Dt.state.startBoundElement)}else Lt.lastCoords.x=Un.x,Lt.lastCoords.y=Un.y,Dt.maybeDragNewGenericElement(Lt,fn);if(Dt.state.activeTool.type==="selection"){Lt.boxSelection.hasOccurred=!0;var hs=Dt.scene.getNonDeletedElements();if(Dt.state.editingLinearElement)hn._.handleBoxSelection(fn,Dt.state,Dt.setState.bind(Dt));else{var ms=!0;!fn.shiftKey&&(0,Qn.N)(hs,Dt.state)&&(Lt.withCmdOrCtrl&&Lt.hit.element?Dt.setState(function(El){return(0,jn.bO)(Yr(Yr({},El),{},{selectedElementIds:(0,Zt.Z)({},Lt.hit.element.id,!0)}),Dt.scene.getNonDeletedElements(),El,Dt)}):ms=!1);var As=(0,Qn.Yp)(hs,Dl);Dt.setState(function(El){var bs=Yr(Yr({},ms&&El.selectedElementIds),As.reduce(function(Gs,fu){return Gs[fu.id]=!0,Gs},{}));return Lt.hit.element&&(As.length?delete bs[Lt.hit.element.id]:bs[Lt.hit.element.id]=!0),El=ms?El:Yr(Yr({},El),{},{selectedGroupIds:{},editingGroupId:null}),Yr(Yr({},(0,jn.bO)({editingGroupId:El.editingGroupId,selectedElementIds:bs},Dt.scene.getNonDeletedElements(),El,Dt)),{},{selectedLinearElement:As.length===1&&(0,Mt.bt)(As[0])?new hn._(As[0],Dt.scene):null,showHyperlinkPopup:!(As.length!==1||!As[0].link&&!(0,Mt.gs)(As[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(Lt,Dt){if(Dt.scrollbars.isOverHorizontal){var fn=Lt.clientX,Nn=fn-Dt.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Nn/this.state.zoom.value}),Dt.lastCoords.x=fn,!0}if(Dt.scrollbars.isOverVertical){var Un=Lt.clientY,Pn=Un-Dt.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Pn/this.state.zoom.value}),Dt.lastCoords.y=Un,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(Lt){var Dt=this;return(0,ut.tH)(function(fn){var Nn;Lt.eventListeners.onMove&&Lt.eventListeners.onMove.flush();var Un,Pn,Jn=Dt.state,$n=Jn.draggingElement,ur=Jn.resizingElement,hr=Jn.multiElement,br=Jn.activeTool,_i=Jn.isResizing,kr=Jn.isRotating;if(Dt.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:hr||(0,Jt.iB)(Dt.state.editingElement)?Dt.state.editingElement:null,snapLines:[],originSnapOffset:null}),Pl.setReferenceSnapPoints(null),Pl.setVisibleGaps(null),Dt.savePointer(fn.clientX,fn.clientY,"up"),Dt.setState({selectedElementsAreBeingDragged:!1}),Dt.state.editingLinearElement)if(Lt.boxSelection.hasOccurred||((Un=Lt.hit)===null||Un===void 0||(Pn=Un.element)===null||Pn===void 0?void 0:Pn.id)===Dt.state.editingLinearElement.elementId){var fr=hn._.handlePointerUp(fn,Dt.state.editingLinearElement,Dt.state);fr!==Dt.state.editingLinearElement&&Dt.setState({editingLinearElement:fr,suggestedBindings:[]})}else Dt.actionManager.executeAction(Ut.pL);else if(Dt.state.selectedLinearElement){var Er,Or;if(((Er=Lt.hit)===null||Er===void 0||(Or=Er.element)===null||Or===void 0?void 0:Or.id)!==Dt.state.selectedLinearElement.elementId)Dt.scene.getSelectedElements(Dt.state).length>1&&Dt.setState({selectedLinearElement:null});else{var na=hn._.handlePointerUp(fn,Dt.state.selectedLinearElement,Dt.state),ga=na.startBindingElement,Tr=na.endBindingElement,Pr=Dt.scene.getElement(na.elementId);(0,Mt.Mn)(Pr)&&(0,Xt.HG)(Pr,ga,Tr),na!==Dt.state.selectedLinearElement&&Dt.setState({selectedLinearElement:Yr(Yr({},na),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(au=null,window.removeEventListener(ft.Ks.POINTER_MOVE,Lt.eventListeners.onMove),window.removeEventListener(ft.Ks.POINTER_UP,Lt.eventListeners.onUp),window.removeEventListener(ft.Ks.KEYDOWN,Lt.eventListeners.onKeyDown),window.removeEventListener(ft.Ks.KEYUP,Lt.eventListeners.onKeyUp),Dt.state.pendingImageElementId&&Dt.setState({pendingImageElementId:null}),Dt.onPointerUpEmitter.trigger(Dt.state.activeTool,Lt,fn),($n==null?void 0:$n.type)==="freedraw"){var Bo=(0,ut.dE)(fn,Dt.state),Xo=$n.points,Mo=Bo.x-$n.x,zo=Bo.y-$n.y;Mo===Xo[0][0]&&zo===Xo[0][1]&&(zo+=1e-4,Mo+=1e-4);var Bl=$n.simulatePressure?[]:[].concat((0,it.Z)($n.pressures),[fn.pressure]);return(0,Ct.DR)($n,{points:[].concat((0,it.Z)(Xo),[[Mo,zo]]),pressures:Bl,lastCommittedPoint:[Mo,zo]}),void Dt.actionManager.executeAction(Ut.pL)}if((0,Mt.pC)($n)){var Il=$n;try{Dt.initializeImageDimensions(Il),Dt.setState({selectedElementIds:(0,Ul.Oh)((0,Zt.Z)({},Il.id,!0),Dt.state)},function(){Dt.actionManager.executeAction(Ut.pL)})}catch(Do){console.error(Do),Dt.scene.replaceAllElements(Dt.scene.getElementsIncludingDeleted().filter(function(Vl){return Vl.id!==Il.id})),Dt.actionManager.executeAction(Ut.pL)}}else if((0,Mt.bt)($n)){$n.points.length>1&&Dt.history.resumeRecording();var ko=(0,ut.dE)(fn,Dt.state);Lt.drag.hasOccurred||!$n||hr?Lt.drag.hasOccurred&&!hr&&((0,Xt.N1)(Dt.state)&&(0,Mt.Mn)($n,!1)&&(0,Xt.R)($n,Dt.state,Dt.scene,ko),Dt.setState({suggestedBindings:[],startBoundElement:null}),br.locked?Dt.setState(function(Do){return{draggingElement:null}}):((0,jo.z8)(Dt.interactiveCanvas),Dt.setState(function(Do){return{draggingElement:null,activeTool:(0,ut.Om)(Dt.state,{type:"selection"}),selectedElementIds:(0,Ul.Oh)(Yr(Yr({},Do.selectedElementIds),{},(0,Zt.Z)({},$n.id,!0)),Do),selectedLinearElement:new hn._($n,Dt.scene)}}))):((0,Ct.DR)($n,{points:[].concat((0,it.Z)($n.points),[[ko.x-$n.x,ko.y-$n.y]])}),Dt.setState({multiElement:$n,editingElement:Dt.state.draggingElement}))}else{if(br.type!=="selection"&&$n&&(0,Jt.QD)($n))return Dt.scene.replaceAllElements(Dt.scene.getElementsIncludingDeleted().filter(function(Do){return Do.id!==$n.id})),void Dt.setState({draggingElement:null});if($n){if(Lt.drag.hasOccurred){var xl=(0,ut.dE)(fn,Dt.state);if(Dt.state.selectedLinearElement&&Dt.state.selectedLinearElement.isDragging){var Wo=Dt.scene.getElement(Dt.state.selectedLinearElement.elementId);if(Wo!=null&&Wo.frameId){var Cl=(0,Yl.$Z)(Wo);Cl&&Wo&&((0,Yl.cO)(Wo,Cl)||((0,Ct.DR)(Wo,{groupIds:[]}),Dt.scene.replaceAllElements((0,Yl.lz)(Dt.scene.getElementsIncludingDeleted(),[Wo],Dt.state))))}}else{var Tl=Dt.getTopLayerFrameAtSceneCoords(xl),Rl=Dt.scene.getSelectedElements(Dt.state),Xl=Dt.scene.getElementsIncludingDeleted(),_c=function(Do){if(Do.length>0){var Vl,ts=Os(Do);try{for(ts.s();!(Vl=ts.n()).done;){var Is=Vl.value,hs=Is.groupIds.indexOf(Dt.state.editingGroupId);(0,Ct.DR)(Is,{groupIds:Is.groupIds.slice(0,hs)},!1)}}catch(ms){ts.e(ms)}finally{ts.f()}Xl.forEach(function(ms){ms.groupIds.length&&(0,jn.Fb)(Xl,ms.groupIds[ms.groupIds.length-1]).length<2&&(0,Ct.DR)(ms,{groupIds:[]},!1)}),Dt.setState({editingGroupId:null})}};if(Tl&&!Dt.state.selectedElementIds[Tl.id]){var Jo=Rl.filter(function(Do){return Do.frameId!==Tl.id&&(0,Yl.Qs)(Do,Xl,Dt.state)});Dt.state.editingGroupId&&_c(Jo),Xl=(0,Yl.A_)(Xl,Jo,Tl)}else if(!Tl&&Dt.state.editingGroupId){var wl=Rl.filter(function(Do){return Do.frameId&&!(0,Yl.Qs)(Do,Xl,Dt.state)});_c(wl)}Xl=(0,Yl.Tq)(Xl,Dt.state,Dt),Dt.scene.replaceAllElements(Xl)}}if($n.type==="frame"){var ss=(0,Yl.fj)(Dt.scene.getElementsIncludingDeleted(),$n);Dt.scene.replaceAllElements((0,Yl.A_)(Dt.scene.getElementsIncludingDeleted(),ss,$n))}(0,Ct.DR)($n,(0,Jt.Qp)($n))}if(ur&&Dt.history.resumeRecording(),ur&&(0,Jt.QD)(ur)&&Dt.scene.replaceAllElements(Dt.scene.getElementsIncludingDeleted().filter(function(Do){return Do.id!==ur.id})),Lt.resize.isResizing){var Jl,us=(0,Yl.Tq)(Dt.scene.getElementsIncludingDeleted(),Dt.state,Dt),Dl=Dt.scene.getSelectedElements(Dt.state).filter(function(Do){return Do.type==="frame"}),os=Os(Dl);try{for(os.s();!(Jl=os.n()).done;){var es=Jl.value;us=(0,Yl.pr)(us,(0,Yl.ni)(Dt.scene.getElementsIncludingDeleted(),es,Dt.state),es,Dt.state)}}catch(Do){os.e(Do)}finally{os.f()}Dt.scene.replaceAllElements(us)}var Gl=Lt.hit.element;if(((Nn=Dt.state.selectedLinearElement)===null||Nn===void 0?void 0:Nn.elementId)!==(Gl==null?void 0:Gl.id)&&(0,Mt.bt)(Gl)&&Dt.scene.getSelectedElements(Dt.state).length===1&&Dt.setState({selectedLinearElement:new hn._(Gl,Dt.scene)}),(0,Ft.EN)(Dt.state)){if((0,nn.LW)(Dt.lastPointerDownEvent.clientX,Dt.lastPointerDownEvent.clientY,Dt.lastPointerUpEvent.clientX,Dt.lastPointerUpEvent.clientY)===0){var $s=(0,ut.dE)({clientX:Dt.lastPointerUpEvent.clientX,clientY:Dt.lastPointerUpEvent.clientY},Dt.state);Dt.getElementsAtPosition($s.x,$s.y).forEach(function(Do){return Lt.elementIdsToErase[Do.id]={erase:!0,opacity:Do.opacity}})}Dt.eraseElements(Lt)}else{var Zs;Object.keys(Lt.elementIdsToErase).length&&Dt.restoreReadyToEraseElements(Lt),Gl&&!Lt.drag.hasOccurred&&!Lt.hit.wasAddedToSelection&&(!Dt.state.editingLinearElement||!Lt.boxSelection.hasOccurred)&&(fn.shiftKey&&!Dt.state.editingLinearElement?Dt.state.selectedElementIds[Gl.id]?(0,jn.zq)(Dt.state,Gl)?Dt.setState(function(Do){var Vl,ts=Yr({},Do.selectedElementIds),Is=Os(Gl.groupIds.flatMap(function(hs){return(0,jn.Fb)(Dt.scene.getNonDeletedElements(),hs)}));try{for(Is.s();!(Vl=Is.n()).done;)delete ts[Vl.value.id]}catch(hs){Is.e(hs)}finally{Is.f()}return{selectedGroupIds:Yr(Yr({},Do.selectedElementIds),Gl.groupIds.map(function(hs){return(0,Zt.Z)({},hs,!1)}).reduce(function(hs,ms){return Yr(Yr({},hs),ms)},{})),selectedElementIds:(0,Ul.Oh)(ts,Do)}}):(Zs=Dt.state.selectedLinearElement)!==null&&Zs!==void 0&&Zs.isDragging||Dt.setState(function(Do){var Vl=Yr({},Do.selectedElementIds);delete Vl[Gl.id];var ts=(0,Qn.eD)(Dt.scene.getNonDeletedElements(),{selectedElementIds:Vl});return Yr(Yr({},(0,jn.bO)({editingGroupId:Do.editingGroupId,selectedElementIds:Vl},Dt.scene.getNonDeletedElements(),Do,Dt)),{},{selectedLinearElement:ts.length===1&&(0,Mt.bt)(ts[0])?new hn._(ts[0],Dt.scene):Do.selectedLinearElement})}):Gl.frameId&&Dt.state.selectedElementIds[Gl.frameId]?Dt.setState(function(Do){var Vl,ts,Is=Yr(Yr({},Do.selectedElementIds),{},(0,Zt.Z)({},Gl.id,!0));return delete Is[Gl.frameId],((Vl=(ts=Dt.scene.getElement(Gl.frameId))===null||ts===void 0?void 0:ts.groupIds)!==null&&Vl!==void 0?Vl:[]).flatMap(function(hs){return(0,jn.Fb)(Dt.scene.getNonDeletedElements(),hs)}).forEach(function(hs){delete Is[hs.id]}),Yr(Yr({},(0,jn.bO)({editingGroupId:Do.editingGroupId,selectedElementIds:Is},Dt.scene.getNonDeletedElements(),Do,Dt)),{},{showHyperlinkPopup:!(!Gl.link&&!(0,Mt.gs)(Gl))&&"info"})}):Dt.setState(function(Do){return{selectedElementIds:(0,Ul.Oh)(Yr(Yr({},Do.selectedElementIds),{},(0,Zt.Z)({},Gl.id,!0)),Do)}}):Dt.setState(function(Do){var Vl;return Yr(Yr({},(0,jn.bO)({editingGroupId:Do.editingGroupId,selectedElementIds:(0,Zt.Z)({},Gl.id,!0)},Dt.scene.getNonDeletedElements(),Do,Dt)),{},{selectedLinearElement:(0,Mt.bt)(Gl)&&((Vl=Do.selectedLinearElement)===null||Vl===void 0?void 0:Vl.elementId)!==Gl.id?new hn._(Gl,Dt.scene):Do.selectedLinearElement})})),Lt.drag.hasOccurred||Dt.state.isResizing||!(Gl&&(0,Jt.wB)(Gl,Dt.state,Dt.frameNameBoundsCache,Lt.origin.x,Lt.origin.y)||!Gl&&Lt.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!br.locked&&br.type!=="freedraw"&&$n&&$n.type!=="selection"&&Dt.setState(function(Do){return{selectedElementIds:(0,Ul.Oh)(Yr(Yr({},Do.selectedElementIds),{},(0,Zt.Z)({},$n.id,!0)),Do),showHyperlinkPopup:(0,Mt.gs)($n)&&!$n.link?"editor":Do.showHyperlinkPopup}}),(br.type!=="selection"||(0,Qn.N)(Dt.scene.getNonDeletedElements(),Dt.state))&&Dt.history.resumeRecording(),(Lt.drag.hasOccurred||_i||kr)&&((0,Xt.N1)(Dt.state)?Xt.el:Xt.H)(Dt.scene.getSelectedElements(Dt.state)),br.type!=="laser"?(br.locked||br.type==="freedraw"?Dt.setState({draggingElement:null,suggestedBindings:[]}):((0,jo.z8)(Dt.interactiveCanvas),Dt.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,ut.Om)(Dt.state,{type:"selection"})})),Gl&&Dt.lastPointerUpEvent&&Dt.lastPointerDownEvent&&Dt.lastPointerUpEvent.timeStamp-Dt.lastPointerDownEvent.timeStamp<300&&Sl.pointers.size<=1&&(0,Mt.gs)(Gl)&&Dt.isEmbeddableCenter(Gl,Dt.lastPointerUpEvent,Lt.origin.x,Lt.origin.y)&&Dt.handleEmbeddableCenterClick(Gl)):Dt.laserPathManager.endPath()):Dt.state.editingLinearElement?Dt.setState({editingLinearElement:null}):Dt.setState({selectedElementIds:(0,Ul.Oh)({},Dt.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(Lt){if(!(Lt.length>50)){var Dt=(0,Xt.ZB)(Lt);this.setState({suggestedBindings:Dt})}}},{key:"clearSelection",value:function(Lt){this.setState(function(Dt){return{selectedElementIds:(0,Ul.Oh)({},Dt),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:Dt.editingGroupId&&Lt!=null&&(0,jn.Nd)(Lt,Dt.editingGroupId)?Dt.editingGroupId:null}}),this.setState({selectedElementIds:(0,Ul.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(Lt,Dt,fn,Nn){if(Nn){var Un=Nn.x+Nn.width/2,Pn=Nn.y+Nn.height/2,Jn=(0,cr.TP)(Nn,fn);if(Jn&&(Un=Jn.x,Pn=Jn.y),Math.hypot(Lt-Un,Dt-Pn)<ft.wZ){var $n=(0,ut._i)({sceneX:Un,sceneY:Pn},fn);return{viewportX:$n.x,viewportY:$n.y,elementCenterX:Un,elementCenterY:Pn}}}}},{key:"getCanvasOffsets",value:function(){var Lt;if((Lt=this.excalidrawContainerRef)!==null&&Lt!==void 0&&Lt.current){var Dt=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:Dt.left,offsetTop:Dt.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(bt=(0,nt.Z)(dt().mark(function Lt(){var Dt,fn=this;return dt().wrap(function(Nn){for(;;)switch(Nn.prev=Nn.next){case 0:return Dt=Ot.Mj.find(function(Un){return Un.code===fn.props.langCode})||Ot.Fp,Nn.next=3,(0,Ot.m0)(Dt);case 3:this.setAppState({});case 4:case"end":return Nn.stop()}},Lt,this)})),function(){return bt.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Vu=!1}}]),xn}(sn().Component);z0.defaultProps={UIOptions:ft.cW};var gI=function(){var _e=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=Uu,this.excalidrawContainerRef=sn().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new I0(this),this.onChangeEmitter=new cs,this.onPointerDownEmitter=new cs,this.onPointerUpEmitter=new cs,this.updateEmbeddables=function(){var bt=new Map,kt=!1;_e.scene.getNonDeletedElements().filter(function(Ht){if((0,Mt.gs)(Ht)&&(bt.set(Ht.id,!0),Ht.validated==null)){kt=!0;var ln=(0,mt.xm)(Ht.link,_e.props.validateEmbeddable);(0,Ct.DR)(Ht,{validated:ln},!1),Vs.R.delete(Ht)}return!1}),kt&&_e.scene.informMutation(),_e.iFrameRefs.forEach(function(Ht,ln){bt.has(ln)||_e.iFrameRefs.delete(ln)})},this.getFrameNameDOMId=function(bt){return"".concat(_e.id,"-frame-name-").concat(bt.id)},this.frameNameBoundsCache={get:function(bt){var kt=_e.frameNameBoundsCache._cache.get(bt.id);if(!kt||kt.zoom!==_e.state.zoom.value||kt.versionNonce!==bt.versionNonce){var Ht=document.getElementById(_e.getFrameNameDOMId(bt));if(Ht){var ln=Ht.getBoundingClientRect(),xn=(0,ut.dE)({clientX:ln.x,clientY:ln.y},_e.state),Lt=(0,ut.dE)({clientX:ln.right,clientY:ln.bottom},_e.state);return kt={x:xn.x,y:xn.y,width:Lt.x-xn.x,height:Lt.y-xn.y,angle:0,zoom:_e.state.zoom.value,versionNonce:bt.versionNonce},_e.frameNameBoundsCache._cache.set(bt.id,kt),kt}return null}return kt},_cache:new Map},this.renderFrameNames=function(){if(!_e.state.frameRendering.enabled||!_e.state.frameRendering.name)return null;var bt=_e.state.theme==="dark";return _e.scene.getNonDeletedFrames().map(function(kt,Ht){if(!(0,Sn.PZ)(kt,_e.canvas.width/window.devicePixelRatio,_e.canvas.height/window.devicePixelRatio,{offsetLeft:_e.state.offsetLeft,offsetTop:_e.state.offsetTop,scrollX:_e.state.scrollX,scrollY:_e.state.scrollY,zoom:_e.state.zoom}))return null;var ln,xn=(0,ut._i)({sceneX:kt.x,sceneY:kt.y},_e.state),Lt=xn.x,Dt=xn.y,fn=function(){var Un;((Un=kt.name)===null||Un===void 0?void 0:Un.trim())===""&&(0,Ct.DR)(kt,{name:null}),_e.setState({editingFrame:null})};if(kt.id===_e.state.editingFrame){var Nn=kt.name==null?"Frame ".concat(Ht+1):kt.name;ln=(0,$.jsx)("input",{autoFocus:!0,value:Nn,onChange:function(Un){(0,Ct.DR)(kt,{name:Un.target.value})},onBlur:function(){return fn()},onKeyDown:function(Un){Un.key!==Gt.tW.ESCAPE&&Un.key!==Gt.tW.ENTER||fn()},style:{background:_e.state.viewBackgroundColor,filter:bt?ft.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-Lt-6,"px")},size:Nn.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else ln=kt.name==null||kt.name.trim()===""?"Frame ".concat(Ht+1):kt.name.trim();return(0,$.jsx)("div",{id:_e.getFrameNameDOMId(kt),style:{position:"absolute",bottom:"".concat(_e.state.height+ft.iG.nameOffsetY-Dt+_e.state.offsetTop,"px"),left:"".concat(Lt-_e.state.offsetLeft,"px"),zIndex:2,fontSize:ft.iG.nameFontSize,color:bt?ft.iG.nameColorDarkTheme:ft.iG.nameColorLightTheme,lineHeight:ft.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(kt.width,"px"),overflow:kt.id===_e.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:ft.oc.MOVE,pointerEvents:_e.state.viewModeEnabled?ft.XI.disabled:ft.XI.enabled},onPointerDown:function(Un){return _e.handleCanvasPointerDown(Un)},onWheel:function(Un){return _e.handleWheel(Un)},onContextMenu:_e.handleCanvasContextMenu,onDoubleClick:function(){_e.setState({editingFrame:kt.id})},children:ln},kt.id)})},this.focusContainer=function(){var bt;(bt=_e.excalidrawContainerRef.current)===null||bt===void 0||bt.focus()},this.getSceneElementsIncludingDeleted=function(){return _e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return _e.scene.getNonDeletedElements()},this.onInsertElements=function(bt){_e.addElementsFromPasteOrLibrary({elements:bt,position:"center",files:null})},this.onExportImage=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht,ln,xn){var Lt;return dt().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return(0,pt.L)("export",Ht,"ui"),Dt.next=3,(0,Tt.p1)(Ht,ln,_e.state,_e.files,{exportBackground:_e.state.exportBackground,name:_e.state.name,viewBackgroundColor:_e.state.viewBackgroundColor,exportingFrame:xn.exportingFrame}).catch(ut.FG).catch(function(fn){console.error(fn),_e.setState({errorMessage:fn.message})});case 3:Lt=Dt.sent,_e.state.exportEmbedScene&&Lt&&(0,Dr.g8)(Lt)&&_e.setState({fileHandle:Lt});case 5:case"end":return Dt.stop()}},kt)}));return function(kt,Ht,ln){return bt.apply(this,arguments)}}(),this.openEyeDropper=function(bt){var kt=bt.type;Rs.e_.set(Tu.$,{swapPreviewOnAlt:!0,colorPickerType:kt==="stroke"?"elementStroke":"elementBackground",onSelect:function(Ht,ln){var xn=kt==="background"&&ln.altKey||kt==="stroke"&&!ln.altKey;_e.scene.getSelectedElements(_e.state).length&&_e.state.activeTool.type==="selection"?_e.updateScene({elements:_e.scene.getElementsIncludingDeleted().map(function(Lt){return _e.state.selectedElementIds[Lt.id]?(0,Ct.BE)(Lt,(0,Zt.Z)({},xn?"strokeColor":"backgroundColor",Ht)):Lt})}):xn?_e.syncActionResult({appState:Yr(Yr({},_e.state),{},{currentItemStrokeColor:Ht}),commitToHistory:!0}):_e.syncActionResult({appState:Yr(Yr({},_e.state),{},{currentItemBackgroundColor:Ht}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,ut.tH)(function(bt){if(!_e.unmounted&&bt!==!1){var kt=null;if(bt.elements&&(bt.elements.forEach(function(fr){var Er;((Er=_e.state.editingElement)===null||Er===void 0?void 0:Er.id)===fr.id&&_e.state.editingElement!==fr&&(0,Jt.qP)(fr)&&(kt=fr)}),_e.scene.replaceAllElements(bt.elements),bt.commitToHistory&&_e.history.resumeRecording()),bt.files&&(_e.files=bt.replaceFiles?bt.files:Yr(Yr({},_e.files),bt.files),_e.addNewImagesToImageCache()),bt.appState||kt||_e.state.contextMenu){var Ht,ln,xn,Lt,Dt,fn,Nn,Un,Pn,Jn;bt.commitToHistory&&_e.history.resumeRecording();var $n=(bt==null||(Ht=bt.appState)===null||Ht===void 0?void 0:Ht.viewModeEnabled)||!1,ur=(bt==null||(ln=bt.appState)===null||ln===void 0?void 0:ln.zenModeEnabled)||!1,hr=(bt==null||(xn=bt.appState)===null||xn===void 0?void 0:xn.gridSize)||null,br=(bt==null||(Lt=bt.appState)===null||Lt===void 0?void 0:Lt.theme)||_e.props.theme||ft.C6.LIGHT,_i=(Dt=bt==null||(fn=bt.appState)===null||fn===void 0?void 0:fn.name)!==null&&Dt!==void 0?Dt:_e.state.name,kr=(Nn=bt==null||(Un=bt.appState)===null||Un===void 0?void 0:Un.errorMessage)!==null&&Nn!==void 0?Nn:_e.state.errorMessage;_e.props.viewModeEnabled!==void 0&&($n=_e.props.viewModeEnabled),_e.props.zenModeEnabled!==void 0&&(ur=_e.props.zenModeEnabled),_e.props.gridModeEnabled!==void 0&&(hr=_e.props.gridModeEnabled?ft.k:null),_e.props.name!==void 0&&(_i=_e.props.name),(Jn=kt=kt||((Pn=bt.appState)===null||Pn===void 0?void 0:Pn.editingElement)||null)!==null&&Jn!==void 0&&Jn.isDeleted&&(kt=null),_e.setState(function(fr){return Object.assign(bt.appState||{},{contextMenu:null,editingElement:kt,viewModeEnabled:$n,zenModeEnabled:ur,gridSize:hr,theme:br,name:_i,errorMessage:kr})},function(){bt.syncHistory&&_e.history.setCurrentState(_e.state,_e.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,ut.tH)(function(){bu=!1,_e.setState({isBindingEnabled:!0})}),this.onUnload=function(){_e.onBlur()},this.disableEvent=function(bt){bt.preventDefault()},this.resetHistory=function(){_e.history.clear()},this.resetScene=(0,ut.tH)(function(bt){_e.scene.replaceAllElements([]),_e.setState(function(kt){return Yr(Yr({},(0,Ft.im)()),{},{isLoading:(bt==null||!bt.resetLoadingState)&&kt.isLoading,theme:_e.state.theme})}),_e.resetHistory()}),this.initializeScene=(0,nt.Z)(dt().mark(function bt(){var kt,Ht,ln,xn,Lt;return dt().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var fn=(0,nt.Z)(dt().mark(function Nn(Un){var Pn,Jn;return dt().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:if(Un.files.length){$n.next=2;break}return $n.abrupt("return");case 2:return Pn=Un.files[0],$n.next=5,Pn.getFile();case 5:Jn=$n.sent,_e.loadFileToCanvas(new File([Jn],Jn.name||"",{type:Jn.type}),Pn);case 7:case"end":return $n.stop()}},Nn)}));return function(Nn){return fn.apply(this,arguments)}}()),_e.props.theme&&_e.setState({theme:_e.props.theme}),_e.state.isLoading||_e.setState({isLoading:!0}),ln=null,Dt.prev=4,Dt.next=7,_e.props.initialData;case 7:if(Dt.t0=Dt.sent,Dt.t0){Dt.next=10;break}Dt.t0=null;case 10:ln=Dt.t0,(xn=ln)!==null&&xn!==void 0&&xn.libraryItems&&_e.library.updateLibrary({libraryItems:ln.libraryItems,merge:!0}).catch(function(fn){console.error(fn)}),Dt.next=18;break;case 14:Dt.prev=14,Dt.t1=Dt.catch(4),console.error(Dt.t1),ln={appState:{errorMessage:Dt.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(Lt=(0,un.nu)(ln,null,null,{repairBindings:!0})).appState=Yr(Yr({},Lt.appState),{},{theme:_e.props.theme||Lt.appState.theme,openSidebar:((kt=Lt.appState)===null||kt===void 0?void 0:kt.openSidebar)||_e.state.openSidebar,activeTool:Lt.appState.activeTool.type==="image"?Yr(Yr({},Lt.appState.activeTool),{},{type:"selection"}):Lt.appState.activeTool,isLoading:!1,toast:_e.state.toast}),(Ht=ln)!==null&&Ht!==void 0&&Ht.scrollToContent&&(Lt.appState=Yr(Yr({},Lt.appState),(0,Qn.W)(Lt.elements,Yr(Yr({},Lt.appState),{},{width:_e.state.width,height:_e.state.height,offsetTop:_e.state.offsetTop,offsetLeft:_e.state.offsetLeft})))),_e.fonts.loadFontsForElements(Lt.elements),_e.resetHistory(),_e.syncActionResult(Yr(Yr({},Lt),{},{commitToHistory:!0}));case 24:case"end":return Dt.stop()}},bt,null,[[4,14]])})),this.isMobileBreakpoint=function(bt,kt){return bt<ft.kV||kt<ft.Yx&&bt<ft.sS},this.refreshViewportBreakpoints=function(){if(_e.excalidrawContainerRef.current){var bt=document.body,kt=bt.clientWidth,Ht=bt.clientHeight,ln=_e.device.viewport,xn=(0,ut.v4)(ln,{isLandscape:kt>Ht,isMobile:_e.isMobileBreakpoint(kt,Ht)});return ln!==xn&&(_e.device=Yr(Yr({},_e.device),{},{viewport:xn}),!0)}},this.refreshEditorBreakpoints=function(){var bt=_e.excalidrawContainerRef.current;if(bt){var kt=bt.getBoundingClientRect(),Ht=kt.width,ln=kt.height,xn=_e.props.UIOptions.dockedSidebarBreakpoint!=null?_e.props.UIOptions.dockedSidebarBreakpoint:ft.sk,Lt=_e.device.editor,Dt=(0,ut.v4)(Lt,{isMobile:_e.isMobileBreakpoint(Ht,ln),canFitSidebar:Ht>xn});return Lt!==Dt&&(_e.device=Yr(Yr({},_e.device),{},{editor:Dt}),!0)}},this.onResize=(0,ut.tH)(function(){_e.scene.getElementsIncludingDeleted().forEach(function(bt){return Vs.R.delete(bt)}),_e.refreshViewportBreakpoints(),_e.updateDOMRect(),lI||_e.refreshEditorBreakpoints(),_e.setState({})}),this.renderInteractiveSceneCallback=function(bt){var kt=bt.atLeastOneVisibleElement,Ht=bt.scrollBars,ln=bt.elements;Ht&&(L0=Ht);var xn=!(0,Jt.iB)(_e.state.editingElement)&&!kt&&ln.length>0;_e.state.scrolledOutside!==xn&&_e.setState({scrolledOutside:xn}),_e.scheduleImageRefresh()},this.onScroll=(0,ut.Ds)(function(){var bt=_e.getCanvasOffsets(),kt=bt.offsetTop,Ht=bt.offsetLeft;_e.setState(function(ln){return ln.offsetLeft===Ht&&ln.offsetTop===kt?null:{offsetTop:kt,offsetLeft:Ht}})},ft.HM),this.onCut=(0,ut.tH)(function(bt){var kt;!((kt=_e.excalidrawContainerRef.current)===null||kt===void 0)&&kt.contains(document.activeElement)&&!(0,ut.s)(bt.target)&&(_e.actionManager.executeAction(Ut.ZM,"keyboard",bt),bt.preventDefault(),bt.stopPropagation())}),this.onCopy=(0,ut.tH)(function(bt){var kt;!((kt=_e.excalidrawContainerRef.current)===null||kt===void 0)&&kt.contains(document.activeElement)&&!(0,ut.s)(bt.target)&&(_e.actionManager.executeAction(Ut.uN,"keyboard",bt),bt.preventDefault(),bt.stopPropagation())}),this.onTouchStart=function(bt){if(ft.Dt||bt.preventDefault(),!Vu)return Vu=!0,clearTimeout(V0),void(V0=window.setTimeout(z0.resetTapTwice,ft.Gj));if(Vu&&bt.touches.length===1){var kt=bt.touches[0];_e.handleCanvasDoubleClick({clientX:kt.clientX,clientY:kt.clientY}),Vu=!1,clearTimeout(V0)}ft.Dt&&bt.preventDefault(),bt.touches.length===2&&_e.setState({selectedElementIds:(0,Ul.Oh)({},_e.state),activeEmbeddable:null})},this.onTouchEnd=function(bt){_e.resetContextMenuTimer(),bt.touches.length>0?_e.setState({previousSelectedElementIds:{},selectedElementIds:(0,Ul.Oh)(_e.state.previousSelectedElementIds,_e.state)}):Sl.pointers.clear()},this.pasteFromClipboard=(0,ut.tH)(function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht){var ln,xn,Lt,Dt,fn,Nn,Un,Pn,Jn,$n,ur,hr,br,_i,kr,fr,Er;return dt().wrap(function(Or){for(;;)switch(Or.prev=Or.next){case 0:if(Lt=!!H0,Dt=document.activeElement,fn=(ln=_e.excalidrawContainerRef.current)===null||ln===void 0?void 0:ln.contains(Dt),!Ht||fn){Or.next=5;break}return Or.abrupt("return");case 5:if(Nn=document.elementFromPoint(_e.lastViewportPosition.x,_e.lastViewportPosition.y),!Ht||Nn instanceof HTMLCanvasElement&&!(0,ut.s)(Dt)){Or.next=8;break}return Or.abrupt("return");case 8:return Un=(0,ut.dE)({clientX:_e.lastViewportPosition.x,clientY:_e.lastViewportPosition.y},_e.state),Pn=Un.x,Jn=Un.y,$n=Ht==null||(xn=Ht.clipboardData)===null||xn===void 0?void 0:xn.files[0],Or.next=12,(0,At.mQ)(Ht,Lt);case 12:if(ur=Or.sent,$n||Lt){Or.next=19;break}if(!ur.mixedContent){Or.next=18;break}return Or.abrupt("return",_e.addElementsFromMixedContentPaste(ur.mixedContent,{isPlainPaste:Lt,sceneX:Pn,sceneY:Jn}));case 18:ur.text&&(hr=ur.text.trim()).startsWith("<svg")&&hr.endsWith("</svg>")&&($n=(0,Dr.Pn)(hr));case 19:if(!(0,Dr.Wr)($n)||ur.spreadsheet){Or.next=28;break}if(_e.isToolSupported("image")){Or.next=23;break}return _e.setState({errorMessage:(0,Ot.t)("errors.imageToolNotSupported")}),Or.abrupt("return");case 23:return br=_e.createImageElement({sceneX:Pn,sceneY:Jn}),_e.insertImageElement(br,$n),_e.initializeImageDimensions(br),_e.setState({selectedElementIds:(0,Ul.Oh)((0,Zt.Z)({},br.id,!0),_e.state)}),Or.abrupt("return");case 28:if(!_e.props.onPaste){Or.next=40;break}return Or.prev=29,Or.next=32,_e.props.onPaste(ur,Ht);case 32:if(Or.t0=Or.sent,Or.t0!==!1){Or.next=35;break}return Or.abrupt("return");case 35:Or.next=40;break;case 37:Or.prev=37,Or.t1=Or.catch(29),console.error(Or.t1);case 40:if(!ur.errorMessage){Or.next=44;break}_e.setState({errorMessage:ur.errorMessage}),Or.next=60;break;case 44:if(!ur.spreadsheet||Lt){Or.next=48;break}_e.setState({pasteDialog:{data:ur.spreadsheet,shown:!0}}),Or.next=60;break;case 48:if(!ur.elements){Or.next=53;break}_i=ur.programmaticAPI?(0,Gr.w)(ur.elements):ur.elements,_e.addElementsFromPasteOrLibrary({elements:_i,files:ur.files||null,position:"cursor",retainSeed:Lt}),Or.next=60;break;case 53:if(!ur.text){Or.next=60;break}if(fr=(0,mt.eX)(ur.text),Lt||!(0,mt.xm)(fr,_e.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(fr)&&((kr=(0,mt.LM)(fr))===null||kr===void 0?void 0:kr.type)!=="video"){Or.next=59;break}return(Er=_e.insertEmbeddableElement({sceneX:Pn,sceneY:Jn,link:(0,du.$u)(fr)}))&&_e.setState({selectedElementIds:(0,Zt.Z)({},Er.id,!0)}),Or.abrupt("return");case 59:_e.addTextFromPaste(ur.text,Lt);case 60:_e.setActiveTool({type:"selection"}),Ht==null||Ht.preventDefault();case 62:case"end":return Or.stop()}},kt,null,[[29,37]])}));return function(kt){return bt.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(bt){var kt=(0,un.ET)(bt.elements,null,void 0),Ht=(0,Jt.KP)(kt),ln=(0,ot.Z)(Ht,4),xn=ln[0],Lt=ln[1],Dt=ln[2],fn=ln[3],Nn=(0,ut.TE)(xn,Dt)/2,Un=(0,ut.TE)(Lt,fn)/2,Pn=(0,Et.Z)(bt.position)==="object"?bt.position.clientX:bt.position==="cursor"?_e.lastViewportPosition.x:_e.state.width/2+_e.state.offsetLeft,Jn=(0,Et.Z)(bt.position)==="object"?bt.position.clientY:bt.position==="cursor"?_e.lastViewportPosition.y:_e.state.height/2+_e.state.offsetTop,$n=(0,ut.dE)({clientX:Pn,clientY:Jn},_e.state),ur=$n.x-Nn,hr=$n.y-Un,br=(0,nn.wC)(ur,hr,_e.state.gridSize),_i=(0,ot.Z)(br,2),kr=_i[0],fr=_i[1],Er=(0,rn._N)(kt.map(function(ga){return(0,Ct.BE)(ga,{x:ga.x+kr-xn,y:ga.y+fr-Lt})}),{randomizeSeed:!bt.retainSeed}),Or=[].concat((0,it.Z)(_e.scene.getElementsIncludingDeleted()),(0,it.Z)(Er));_e.scene.replaceAllElements(Or),Er.forEach(function(ga){if((0,Jt.iB)(ga)&&(0,Mt.Xh)(ga)){var Tr=(0,cr.tl)(ga);(0,Jt.oN)(ga,Tr)}}),bt.files&&(_e.files=Yr(Yr({},_e.files),bt.files)),_e.history.resumeRecording();var na=(0,Ul.aI)(Er);_e.setState(Yr(Yr({},_e.state),{},{openSidebar:_e.state.openSidebar&&_e.device.editor.canFitSidebar&&Rs.e_.get(ju.t6)?_e.state.openSidebar:null},(0,jn.bO)({editingGroupId:null,selectedElementIds:na.reduce(function(ga,Tr){return(0,Mt.Xh)(Tr)||(ga[Tr.id]=!0),ga},{})},_e.scene.getNonDeletedElements(),_e.state,_e)),function(){bt.files&&_e.addNewImagesToImageCache()}),_e.setActiveTool({type:"selection"}),bt.fitToContent&&_e.scrollToContent(Er,{fitToContent:!0})},this.setAppState=function(bt,kt){_e.setState(bt,kt)},this.removePointer=function(bt){iu&&_e.resetContextMenuTimer(),Sl.pointers.delete(bt.pointerId)},this.toggleLock=function(){var bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";_e.state.activeTool.locked||(0,pt.L)("toolbar","toggleLock","".concat(bt," (").concat(_e.device.editor.isMobile?"mobile":"desktop",")")),_e.setState(function(kt){return{activeTool:Yr(Yr(Yr({},kt.activeTool),(0,ut.Om)(_e.state,kt.activeTool.locked?{type:"selection"}:kt.activeTool)),{},{locked:!kt.activeTool.locked})}})},this.updateFrameRendering=function(bt){_e.setState(function(kt){var Ht,ln,xn,Lt,Dt=typeof bt=="function"?bt(kt.frameRendering):bt;return{frameRendering:{enabled:(Ht=Dt==null?void 0:Dt.enabled)!==null&&Ht!==void 0?Ht:kt.frameRendering.enabled,clip:(ln=Dt==null?void 0:Dt.clip)!==null&&ln!==void 0?ln:kt.frameRendering.clip,name:(xn=Dt==null?void 0:Dt.name)!==null&&xn!==void 0?xn:kt.frameRendering.name,outline:(Lt=Dt==null?void 0:Dt.outline)!==null&&Lt!==void 0?Lt:kt.frameRendering.outline}}})},this.togglePenMode=function(bt){_e.setState(function(kt){return{penMode:bt??!kt.penMode,penDetected:!0}})},this.onHandToolToggle=function(){_e.actionManager.executeAction(i0.eF)},this.zoomCanvas=function(bt){_e.setState(Yr({},(0,at.E)({viewportX:_e.state.width/2+_e.state.offsetLeft,viewportY:_e.state.height/2+_e.state.offsetTop,nextZoom:(0,Qn.j)(bt)},_e.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var bt,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.scene.getNonDeletedElements(),Ht=arguments.length>1?arguments[1]:void 0;(bt=_e.cancelInProgresAnimation)===null||bt===void 0||bt.call(_e);var ln=Array.isArray(kt)?kt:[kt],xn=_e.state.zoom,Lt=_e.state.scrollX,Dt=_e.state.scrollY;if(Ht!=null&&Ht.fitToContent||Ht!=null&&Ht.fitToViewport){var fn=(0,i0.JB)({targetElements:ln,appState:_e.state,fitToViewport:!(Ht==null||!Ht.fitToViewport),viewportZoomFactor:Ht==null?void 0:Ht.viewportZoomFactor}),Nn=fn.appState;xn=Nn.zoom,Lt=Nn.scrollX,Dt=Nn.scrollY}else{var Un=(0,Qn.W)(ln,_e.state);Lt=Un.scrollX,Dt=Un.scrollY}if(Ht!=null&&Ht.animate){var Pn,Jn=_e.state.scrollX,$n=_e.state.scrollY,ur=_e.state.zoom.value,hr=(0,ut.B4)({fromValues:{scrollX:Jn,scrollY:$n,zoom:ur},toValues:{scrollX:Lt,scrollY:Dt,zoom:xn.value},interpolateValue:function(br,_i,kr,fr){if(fr==="zoom")return br*Math.pow(_i/br,(0,ut.Vv)(kr))},onStep:function(br){var _i=br.scrollX,kr=br.scrollY,fr=br.zoom;_e.setState({scrollX:_i,scrollY:kr,zoom:{value:fr}})},onStart:function(){_e.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){_e.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){_e.setState({shouldCacheIgnoreZoom:!1})},duration:(Pn=Ht==null?void 0:Ht.duration)!==null&&Pn!==void 0?Pn:500});_e.cancelInProgresAnimation=function(){hr(),_e.cancelInProgresAnimation=null}}else _e.setState({scrollX:Lt,scrollY:Dt,zoom:xn})},this.translateCanvas=function(bt){var kt;(kt=_e.cancelInProgresAnimation)===null||kt===void 0||kt.call(_e),_e.setState(bt)},this.setToast=function(bt){_e.setState({toast:bt})},this.restoreFileFromShare=(0,nt.Z)(dt().mark(function bt(){var kt,Ht,ln,xn;return dt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.prev=0,Lt.next=3,caches.open("web-share-target");case 3:return kt=Lt.sent,Lt.next=6,kt.match("shared-file");case 6:if(!(Ht=Lt.sent)){Lt.next=16;break}return Lt.next=10,Ht.blob();case 10:return ln=Lt.sent,xn=new File([ln],ln.name||"",{type:ln.type}),_e.loadFileToCanvas(xn,null),Lt.next=15,kt.delete("shared-file");case 15:window.history.replaceState(null,ft.iC,window.location.pathname);case 16:Lt.next=21;break;case 18:Lt.prev=18,Lt.t0=Lt.catch(0),_e.setState({errorMessage:Lt.t0.message});case 21:case"end":return Lt.stop()}},bt,null,[[0,18]])})),this.addFiles=(0,ut.tH)(function(bt){var kt=bt.reduce(function(Ht,ln){return Ht.set(ln.id,ln),Ht},new Map);_e.files=Yr(Yr({},_e.files),Object.fromEntries(kt)),_e.scene.getNonDeletedElements().forEach(function(Ht){(0,Mt.wi)(Ht)&&kt.has(Ht.fileId)&&(_e.imageCache.delete(Ht.fileId),Vs.R.delete(Ht))}),_e.scene.informMutation(),_e.addNewImagesToImageCache()}),this.updateScene=(0,ut.tH)(function(bt){bt.commitToHistory&&_e.history.resumeRecording(),bt.appState&&_e.setState(bt.appState),bt.elements&&_e.scene.replaceAllElements(bt.elements),bt.collaborators&&_e.setState({collaborators:bt.collaborators})}),this.onSceneUpdated=function(){_e.setState({})},this.toggleSidebar=function(bt){var kt,Ht,ln=bt.name,xn=bt.tab,Lt=bt.force;return Lt===void 0?kt=((Ht=_e.state.openSidebar)===null||Ht===void 0?void 0:Ht.name)===ln?null:ln:kt=Lt?ln:null,_e.setState({openSidebar:kt?{name:kt,tab:xn}:null}),!!kt},this.updateCurrentCursorPosition=(0,ut.tH)(function(bt){_e.lastViewportPosition.x=bt.clientX,_e.lastViewportPosition.y=bt.clientY}),this.onKeyDown=(0,ut.tH)(function(bt){if("Proxy"in window&&(!bt.shiftKey&&/^[A-Z]$/.test(bt.key)||bt.shiftKey&&/^[a-z]$/.test(bt.key))&&(bt=new Proxy(bt,{get:function(kr,fr){var Er=kr[fr];return typeof Er=="function"?Er.bind(kr):fr==="key"?bt.shiftKey?kr.key.toUpperCase():kr.key.toLowerCase():Er}})),bt[Gt.tW.CTRL_OR_CMD]&&bt.key.toLowerCase()===Gt.tW.V&&(H0=bt.shiftKey,clearTimeout(cI),cI=window.setTimeout(function(){H0=!1},100)),!bt[Gt.tW.CTRL_OR_CMD]||!(0,ut.s)(bt.target)||bt.code!==Gt.aU.MINUS&&bt.code!==Gt.aU.EQUAL){if(!((0,ut.s)(bt.target)&&bt.key!==Gt.tW.ESCAPE||(0,Gt.Wl)(bt.key)&&(0,ut._Z)(bt.target)))if(bt.key!==Gt.tW.QUESTION_MARK){if(bt.key.toLowerCase()===Gt.tW.E&&bt.shiftKey&&bt[Gt.tW.CTRL_OR_CMD])return bt.preventDefault(),void _e.setState({openDialog:"imageExport"});if(bt.key===Gt.tW.PAGE_UP||bt.key===Gt.tW.PAGE_DOWN){var kt=(bt.shiftKey?_e.state.width:_e.state.height)/_e.state.zoom.value;bt.key===Gt.tW.PAGE_DOWN&&(kt=-kt),bt.shiftKey?_e.translateCanvas(function(kr){return{scrollX:kr.scrollX+kt}}):_e.translateCanvas(function(kr){return{scrollY:kr.scrollY+kt}})}if(!_e.actionManager.handleKeyDown(bt)&&!_e.state.viewModeEnabled){if(bt[Gt.tW.CTRL_OR_CMD]&&_e.state.isBindingEnabled&&_e.setState({isBindingEnabled:!1}),(0,Gt.Wl)(bt.key)){var Ht=_e.state.gridSize&&(bt.shiftKey?ft.$e:_e.state.gridSize)||(bt.shiftKey?ft.Iw:ft.$e),ln=0,xn=0;bt.key===Gt.tW.ARROW_LEFT?ln=-Ht:bt.key===Gt.tW.ARROW_RIGHT?ln=Ht:bt.key===Gt.tW.ARROW_UP?xn=-Ht:bt.key===Gt.tW.ARROW_DOWN&&(xn=Ht);var Lt=_e.scene.getSelectedElements({selectedElementIds:_e.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});Lt.forEach(function(kr){(0,Ct.DR)(kr,{x:kr.x+ln,y:kr.y+xn}),(0,Xt.Ww)(kr,{simultaneouslyUpdated:Lt})}),_e.maybeSuggestBindingForAll(Lt),bt.preventDefault()}else if(bt.key===Gt.tW.ENTER){var Dt=_e.scene.getSelectedElements(_e.state);if(Dt.length===1){var fn=Dt[0];if(bt[Gt.tW.CTRL_OR_CMD])(0,Mt.bt)(fn)&&(_e.state.editingLinearElement&&_e.state.editingLinearElement.elementId===Dt[0].id||(_e.history.resumeRecording(),_e.setState({editingLinearElement:new hn._(fn,_e.scene)})));else{if((0,Jt.iB)(fn)||(0,cr.Zr)(fn)){var Nn;(0,Jt.iB)(fn)||(Nn=fn);var Un=(0,cr.TP)(fn,_e.state),Pn=Un.x,Jn=Un.y;return _e.startTextEditing({sceneX:Pn,sceneY:Jn,container:Nn}),void bt.preventDefault()}(0,Mt.He)(fn)&&_e.setState({editingFrame:fn.id})}}}else if(!bt.ctrlKey&&!bt.altKey&&!bt.metaKey&&_e.state.draggingElement===null){var $n=function(kr){var fr=ct.find(function(Er,Or){return Er.numericKey!=null&&kr===Er.numericKey.toString()||Er.key&&(typeof Er.key=="string"?Er.key===kr:Er.key.includes(kr))});return(fr==null?void 0:fr.value)||null}(bt.key);$n?(_e.state.activeTool.type!==$n&&(0,pt.L)("toolbar",$n,"keyboard (".concat(_e.device.editor.isMobile?"mobile":"desktop",")")),_e.setActiveTool({type:$n}),bt.stopPropagation()):bt.key===Gt.tW.Q&&(_e.toggleLock("keyboard"),bt.stopPropagation())}if(bt.key===Gt.tW.SPACE&&Sl.pointers.size===0&&(bu=!0,(0,jo.KJ)(_e.interactiveCanvas,ft.oc.GRAB),bt.preventDefault()),!(bt.key!==Gt.tW.G&&bt.key!==Gt.tW.S||bt.altKey||bt[Gt.tW.CTRL_OR_CMD])){var ur=_e.scene.getSelectedElements(_e.state);if(_e.state.activeTool.type==="selection"&&!ur.length)return;bt.key===Gt.tW.G&&((0,Qn.$b)(_e.state.activeTool.type)||ur.some(function(kr){return(0,Qn.$b)(kr.type)}))&&(_e.setState({openPopup:"elementBackground"}),bt.stopPropagation()),bt.key===Gt.tW.S&&(_e.setState({openPopup:"elementStroke"}),bt.stopPropagation())}if(bt.key!==Gt.tW.K||bt.altKey||bt[Gt.tW.CTRL_OR_CMD]){!bt[Gt.tW.CTRL_OR_CMD]||bt.key!==Gt.tW.BACKSPACE&&bt.key!==Gt.tW.DELETE||Rs.e_.set(_u.w,"clearCanvas");var hr=bt.key.toLocaleLowerCase(),br=hr===Gt.tW.S&&bt.shiftKey,_i=bt.key===Gt.tW.I||hr===Gt.tW.G&&bt.shiftKey;(br||_i)&&_e.openEyeDropper({type:br?"stroke":"background"})}else _e.state.activeTool.type==="laser"?_e.setActiveTool({type:"selection"}):_e.setActiveTool({type:"laser"})}}else _e.setState({openDialog:"help"})}else bt.preventDefault()}),this.onWheel=(0,ut.tH)(function(bt){bt.target instanceof HTMLCanvasElement||!bt.ctrlKey||bt.preventDefault()}),this.onKeyUp=(0,ut.tH)(function(bt){if(bt.key===Gt.tW.SPACE&&(_e.state.viewModeEnabled?(0,jo.KJ)(_e.interactiveCanvas,ft.oc.GRAB):_e.state.activeTool.type==="selection"?(0,jo.z8)(_e.interactiveCanvas):((0,jo.Uk)(_e.interactiveCanvas,_e.state),_e.setState({selectedElementIds:(0,Ul.Oh)({},_e.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),bu=!1),bt[Gt.tW.CTRL_OR_CMD]||_e.state.isBindingEnabled||_e.setState({isBindingEnabled:!0}),(0,Gt.Wl)(bt.key)){var kt=_e.scene.getSelectedElements(_e.state);(0,Xt.N1)(_e.state)?(0,Xt.el)(kt):(0,Xt.H)(kt),_e.setState({suggestedBindings:[]})}}),this.isToolSupported=function(bt){var kt;return((kt=_e.props.UIOptions.tools)===null||kt===void 0?void 0:kt[bt])!==!1},this.setActiveTool=function(bt){if(_e.isToolSupported(bt.type)){var kt,Ht=(0,ut.Om)(_e.state,bt);Ht.type==="hand"?(0,jo.KJ)(_e.interactiveCanvas,ft.oc.GRAB):bu||(0,jo.Uk)(_e.interactiveCanvas,_e.state),(0,ut.wO)(document.activeElement)&&_e.focusContainer(),(0,Mt.dt)(Ht.type)||_e.setState({suggestedBindings:[]}),Ht.type==="image"&&_e.onImageAction({insertOnCanvasDirectly:(kt=bt.type==="image"&&bt.insertOnCanvasDirectly)!==null&&kt!==void 0&&kt}),_e.setState(function(ln){var xn={snapLines:ln.snapLines.length?[]:ln.snapLines,originSnapOffset:null,activeEmbeddable:null};return Ht.type!=="selection"?Yr(Yr({},ln),{},{activeTool:Ht,selectedElementIds:(0,Ul.Oh)({},ln),selectedGroupIds:(0,Ul.Oh)({},ln),editingGroupId:null,multiElement:null},xn):Yr(Yr({},ln),{},{activeTool:Ht},xn)})}else console.warn('"'.concat(bt.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(bt.type,'"'))},this.setOpenDialog=function(bt){_e.setState({openDialog:bt})},this.setCursor=function(bt){(0,jo.KJ)(_e.interactiveCanvas,bt)},this.resetCursor=function(){(0,jo.z8)(_e.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return Sl.pointers.size>=2},this.onGestureStart=(0,ut.tH)(function(bt){bt.preventDefault(),_e.isTouchScreenMultiTouchGesture()&&_e.setState({selectedElementIds:(0,Ul.Oh)({},_e.state),activeEmbeddable:null}),Sl.initialScale=_e.state.zoom.value}),this.onGestureChange=(0,ut.tH)(function(bt){if(bt.preventDefault(),!_e.isTouchScreenMultiTouchGesture()){var kt=Sl.initialScale;kt&&_e.setState(function(Ht){return Yr({},(0,at.E)({viewportX:_e.lastViewportPosition.x,viewportY:_e.lastViewportPosition.y,nextZoom:(0,Qn.j)(kt*bt.scale)},Ht))})}}),this.onGestureEnd=(0,ut.tH)(function(bt){bt.preventDefault(),_e.isTouchScreenMultiTouchGesture()&&_e.setState({previousSelectedElementIds:{},selectedElementIds:(0,Ul.Oh)(_e.state.previousSelectedElementIds,_e.state)}),Sl.initialScale=null}),this.startTextEditing=function(bt){var kt,Ht,ln,xn,Lt=bt.sceneX,Dt=bt.sceneY,fn=bt.insertAtParentCenter,Nn=fn===void 0||fn,Un=bt.container,Pn=!1,Jn=Nn&&_e.getTextWysiwygSnappedToCenterPosition(Lt,Dt,_e.state,Un);Un&&Jn&&((0,cr.WJ)(Un)||(Pn=!0));var $n=null,ur=_e.scene.getSelectedElements(_e.state),hr=((kt=$n=ur.length===1?(0,Jt.iB)(ur[0])?ur[0]:Un?(0,cr.WJ)(ur[0]):_e.getTextElementAtPosition(Lt,Dt):_e.getTextElementAtPosition(Lt,Dt))===null||kt===void 0?void 0:kt.fontFamily)||_e.state.currentItemFontFamily,br=((Ht=$n)===null||Ht===void 0?void 0:Ht.lineHeight)||(0,cr.PT)(hr),_i=_e.state.currentItemFontSize;if(!$n&&Pn&&Un&&!(0,Mt.Yv)(Un)){var kr={fontSize:_i,fontFamily:hr},fr=(0,cr.AT)((0,ut.mO)(kr),br),Er=(0,cr.w_)(_i,br),Or=Math.max(Un.height,Er),na=Math.max(Un.width,fr);(0,Ct.DR)(Un,{height:Or,width:na}),Lt=Un.x+na/2,Dt=Un.y+Or/2,Jn&&(Jn=_e.getTextWysiwygSnappedToCenterPosition(Lt,Dt,_e.state,Un))}var ga=_e.getTopLayerFrameAtSceneCoords({x:Lt,y:Dt}),Tr=$n||(0,Jt.VL)({x:Jn?Jn.elementCenterX:Lt,y:Jn?Jn.elementCenterY:Dt,strokeColor:_e.state.currentItemStrokeColor,backgroundColor:_e.state.currentItemBackgroundColor,fillStyle:_e.state.currentItemFillStyle,strokeWidth:_e.state.currentItemStrokeWidth,strokeStyle:_e.state.currentItemStrokeStyle,roughness:_e.state.currentItemRoughness,opacity:_e.state.currentItemOpacity,text:"",fontSize:_i,fontFamily:hr,textAlign:Jn?"center":_e.state.currentItemTextAlign,verticalAlign:Jn?ft.oX.MIDDLE:ft.hs,containerId:Pn?Un==null?void 0:Un.id:void 0,groupIds:(ln=Un==null?void 0:Un.groupIds)!==null&&ln!==void 0?ln:[],lineHeight:br,angle:(xn=Un==null?void 0:Un.angle)!==null&&xn!==void 0?xn:0,frameId:ga?ga.id:null});if(!$n&&Pn&&Un&&(0,Ct.DR)(Un,{boundElements:(Un.boundElements||[]).concat({type:"text",id:Tr.id})}),_e.setState({editingElement:Tr}),!$n)if(Un&&Pn){var Pr=_e.scene.getElementIndex(Un.id);_e.scene.insertElementAtIndex(Tr,Pr+1)}else _e.scene.addNewElement(Tr);_e.setState({editingElement:Tr}),_e.handleTextWysiwyg(Tr,{isExistingElement:!!$n})},this.handleCanvasDoubleClick=function(bt){if(!_e.state.multiElement&&_e.state.activeTool.type==="selection"){var kt=_e.scene.getSelectedElements(_e.state);if(kt.length===1&&(0,Mt.bt)(kt[0])){if(bt[Gt.tW.CTRL_OR_CMD]&&(!_e.state.editingLinearElement||_e.state.editingLinearElement.elementId!==kt[0].id))return _e.history.resumeRecording(),void _e.setState({editingLinearElement:new hn._(kt[0],_e.scene)});if(_e.state.editingLinearElement&&_e.state.editingLinearElement.elementId===kt[0].id)return}(0,jo.z8)(_e.interactiveCanvas);var Ht=(0,ut.dE)(bt,_e.state),ln=Ht.x,xn=Ht.y;if((0,jn.iJ)(_e.state).length>0){var Lt=_e.getElementAtPosition(ln,xn),Dt=Lt&&(0,jn.YS)(Lt,_e.state.selectedGroupIds);if(Dt)return void _e.setState(function(Pn){return Yr(Yr({},Pn),(0,jn.bO)({editingGroupId:Dt,selectedElementIds:(0,Zt.Z)({},Lt.id,!0)},_e.scene.getNonDeletedElements(),Pn,_e))})}if((0,jo.z8)(_e.interactiveCanvas),!bt[Gt.tW.CTRL_OR_CMD]&&!_e.state.viewModeEnabled){var fn=_e.getElementAtPosition(ln,xn);if((0,Mt.gs)(fn))return void _e.setState({activeEmbeddable:{element:fn,state:"active"}});var Nn=(0,cr.OW)(_e.scene.getNonDeletedElements(),_e.state,ln,xn);if(Nn&&((0,Mt.Xo)(Nn)||!(0,ut.Qm)(Nn.backgroundColor)||(0,_d.Qu)(Nn,_e.state,_e.frameNameBoundsCache,[ln,xn]))){var Un=(0,cr.TP)(Nn,_e.state);ln=Un.x,xn=Un.y}_e.startTextEditing({sceneX:ln,sceneY:xn,insertAtParentCenter:!bt.altKey,container:Nn})}}},this.getElementLinkAtPosition=function(bt,kt){var Ht=_e.scene.getNonDeletedElements().slice().reverse(),ln=1/0;return Ht.find(function(xn,Lt){return kt&&xn.id===kt.id&&(ln=Lt),xn.link&&Lt<=ln&&(0,Ps.Ni)(xn,_e.state,[bt.x,bt.y],_e.device.editor.isMobile)})},this.redirectToLink=function(bt,kt){var Ht=(0,nn.LW)(_e.lastPointerDownEvent.clientX,_e.lastPointerDownEvent.clientY,_e.lastPointerUpEvent.clientX,_e.lastPointerUpEvent.clientY);if(!(!_e.hitLinkElement||kt&&Ht>ft.f||!kt&&Ht!==0)){var ln=(0,ut.dE)(_e.lastPointerDownEvent,_e.state),xn=(0,Ps.Ni)(_e.hitLinkElement,_e.state,[ln.x,ln.y],_e.device.editor.isMobile),Lt=(0,ut.dE)(_e.lastPointerUpEvent,_e.state),Dt=(0,Ps.Ni)(_e.hitLinkElement,_e.state,[Lt.x,Lt.y],_e.device.editor.isMobile);if(xn&&Dt){var fn,Nn,Un=_e.hitLinkElement.link;if(Un&&(Un=(0,du.$u)(Un),_e.props.onLinkOpen&&(Nn=(0,ut.ag)(ft.Ks.EXCALIDRAW_LINK,bt.nativeEvent),_e.props.onLinkOpen(Yr(Yr({},_e.hitLinkElement),{},{link:Un}),Nn)),(fn=Nn)===null||fn===void 0||!fn.defaultPrevented)){var Pn=(0,du.q$)(Un)?"_self":"_blank",Jn=window.open(void 0,Pn);Jn&&(Jn.opener=null,Jn.location=Un)}}}},this.getTopLayerFrameAtSceneCoords=function(bt){var kt=_e.scene.getNonDeletedFrames().filter(function(Ht){return(0,Yl.Dn)(bt,Ht)});return kt.length?kt[kt.length-1]:null},this.handleCanvasPointerMove=function(bt){_e.savePointer(bt.clientX,bt.clientY,_e.state.cursorButton),Sl.pointers.has(bt.pointerId)&&Sl.pointers.set(bt.pointerId,{x:bt.clientX,y:bt.clientY});var kt=Sl.initialScale;if(Sl.pointers.size===2&&Sl.lastCenter&&kt&&Sl.initialDistance){var Ht=an(Sl.pointers),ln=Ht.x-Sl.lastCenter.x,xn=Ht.y-Sl.lastCenter.y;Sl.lastCenter=Ht;var Lt=Cn(Array.from(Sl.pointers.values())),Dt=_e.state.activeTool.type==="freedraw"&&_e.state.penMode?1:Lt/Sl.initialDistance,fn=Dt?(0,Qn.j)(kt*Dt):_e.state.zoom.value;_e.setState(function(Jl){var us=(0,at.E)({viewportX:Ht.x,viewportY:Ht.y,nextZoom:fn},Jl);_e.translateCanvas({zoom:us.zoom,scrollX:us.scrollX+ln/fn,scrollY:us.scrollY+xn/fn,shouldCacheIgnoreZoom:!0})}),_e.resetShouldCacheIgnoreZoomDebounced()}else Sl.lastCenter=Sl.initialDistance=Sl.initialScale=null;if(!(bu||Wu||W0||(0,Ft.l$)(_e.state))){var Nn=(0,Qn._4)(L0,bt.clientX-_e.state.offsetLeft,bt.clientY-_e.state.offsetTop).isOverEither;_e.state.draggingElement||_e.state.multiElement||(Nn?(0,jo.z8)(_e.interactiveCanvas):(0,jo.Uk)(_e.interactiveCanvas,_e.state));var Un,Pn=(0,ut.dE)(bt,_e.state),Jn=Pn.x,$n=Pn.y;if(_e.state.draggingElement||(Un=_e.state.activeTool.type)!=="rectangle"&&Un!=="ellipse"&&Un!=="diamond"&&Un!=="frame"&&Un!=="image")_e.state.draggingElement||_e.setState({snapLines:[]});else{var ur=function(Jl,us,Dl,os){if(!Ts({event:os,selectedElements:[],appState:us}))return{originOffset:{x:0,y:0},snapLines:[]};var es,Gl=(0,Ul.CF)(Jl,[],us),$s=Ns(us.zoom.value),Zs={x:$s,y:$s},Do=[],Vl=[],ts=ws(Gl);try{for(ts.s();!(es=ts.n()).done;){var Is,hs=es.value,ms=ws(hu([hs]));try{for(ms.s();!(Is=ms.n()).done;){var As=Is.value,El=As[0]-Dl.x;Math.abs(El)<=Math.abs(Zs.x)&&(Math.abs(El)<Math.abs(Zs.x)&&(Vl.length=0),Vl.push({type:"pointer",points:[As,[As[0],Dl.y]],direction:"vertical"}),Zs.x=El);var bs=As[1]-Dl.y;Math.abs(bs)<=Math.abs(Zs.y)&&(Math.abs(bs)<Math.abs(Zs.y)&&(Do.length=0),Do.push({type:"pointer",points:[As,[Dl.x,As[1]]],direction:"horizontal"}),Zs.y=bs)}}catch(Gs){ms.e(Gs)}finally{ms.f()}}}catch(Gs){ts.e(Gs)}finally{ts.f()}return{originOffset:{x:Vl.length>0?Vl[0].points[0][0]-Dl.x:0,y:Do.length>0?Do[0].points[0][1]-Dl.y:0},snapLines:[].concat(Vl,Do)}}(_e.scene.getNonDeletedElements(),_e.state,{x:Jn,y:$n},bt),hr=ur.originOffset,br=ur.snapLines;_e.setState({snapLines:br,originSnapOffset:hr})}if(_e.state.editingLinearElement&&!_e.state.editingLinearElement.isDragging){var _i=hn._.handlePointerMove(bt,Jn,$n,_e.state);_i&&_i!==_e.state.editingLinearElement&&(0,bn.flushSync)(function(){_e.setState({editingLinearElement:_i})}),(_i==null?void 0:_i.lastUncommittedPoint)!=null?_e.maybeSuggestBindingAtCursor(Pn):(0,bn.flushSync)(function(){_e.setState({suggestedBindings:[]})})}if((0,Mt.Lx)(_e.state.activeTool.type)){var kr=_e.state.draggingElement;(0,Mt.Mn)(kr,!1)?_e.maybeSuggestBindingsForLinearElementAtCoords(kr,[Pn],_e.state.startBoundElement):_e.maybeSuggestBindingAtCursor(Pn)}if(_e.state.multiElement){var fr=_e.state.multiElement,Er=fr.x,Or=fr.y,na=fr.points,ga=fr.lastCommittedPoint,Tr=na[na.length-1];if((0,jo.Uk)(_e.interactiveCanvas,_e.state),Tr===ga)(0,nn.LW)(Jn-Er,$n-Or,Tr[0],Tr[1])>=ft.qx?(0,Ct.DR)(fr,{points:[].concat((0,it.Z)(na),[[Jn-Er,$n-Or]])}):(0,jo.KJ)(_e.interactiveCanvas,ft.oc.POINTER);else if(na.length>2&&ga&&(0,nn.LW)(Jn-Er,$n-Or,ga[0],ga[1])<ft.qx)(0,jo.KJ)(_e.interactiveCanvas,ft.oc.POINTER),(0,Ct.DR)(fr,{points:na.slice(0,-1)});else{var Pr,Bo=(0,nn.wC)(Jn,$n,bt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),Xo=(0,ot.Z)(Bo,2),Mo=Xo[0],zo=Xo[1],Bl=(Pr=fr==null?void 0:fr.lastCommittedPoint)!==null&&Pr!==void 0?Pr:[0,0],Il=(0,ot.Z)(Bl,2),ko=Il[0],xl=Il[1],Wo=Mo-Er-ko,Cl=zo-Or-xl;if((0,Gt.Ge)(bt)){var Tl=(0,Jt.o4)(ko+Er,xl+Or,Mo,zo);Wo=Tl.width,Cl=Tl.height}(0,nn.g6)(na,_e.state.zoom.value)&&(0,jo.KJ)(_e.interactiveCanvas,ft.oc.POINTER),(0,Ct.DR)(fr,{points:[].concat((0,it.Z)(na.slice(0,-1)),[[ko+Wo,xl+Cl]])})}}else if(!(bt.buttons||_e.state.activeTool.type!=="selection"&&_e.state.activeTool.type!=="text"&&_e.state.activeTool.type!=="eraser")){var Rl=_e.scene.getNonDeletedElements(),Xl=_e.scene.getSelectedElements(_e.state);if(Xl.length!==1||Nn||_e.state.editingLinearElement){if(Xl.length>1&&!Nn){var _c=(0,Jt.n2)((0,Jt.KP)(Xl),Jn,$n,_e.state.zoom,bt.pointerType);if(_c)return void(0,jo.KJ)(_e.interactiveCanvas,(0,Jt.Un)({transformHandleType:_c}))}}else{var Jo=(0,Jt.jt)(Rl,_e.state,Jn,$n,_e.state.zoom,bt.pointerType);if(Jo&&Jo.transformHandleType)return void(0,jo.KJ)(_e.interactiveCanvas,(0,Jt.Un)(Jo))}var wl=_e.getElementAtPosition(Pn.x,Pn.y);if(_e.hitLinkElement=_e.getElementLinkAtPosition(Pn,wl),!(0,Ft.EN)(_e.state))if(_e.hitLinkElement&&!_e.state.selectedElementIds[_e.hitLinkElement.id])(0,jo.KJ)(_e.interactiveCanvas,ft.oc.POINTER),(0,Ps.Pp)(_e.hitLinkElement,_e.state);else if((0,Ps.lV)(),wl&&(wl.link||(0,Mt.gs)(wl))&&_e.state.selectedElementIds[wl.id]&&!_e.state.contextMenu&&!_e.state.showHyperlinkPopup)_e.setState({showHyperlinkPopup:"info"});else if(_e.state.activeTool.type==="text")(0,jo.KJ)(_e.interactiveCanvas,(0,Jt.iB)(wl)?ft.oc.TEXT:ft.oc.CROSSHAIR);else if(_e.state.viewModeEnabled)(0,jo.KJ)(_e.interactiveCanvas,ft.oc.GRAB);else if(Nn)(0,jo.KJ)(_e.interactiveCanvas,ft.oc.AUTO);else if(_e.state.selectedLinearElement)_e.handleHoverSelectedLinearElement(_e.state.selectedLinearElement,Jn,$n);else if(bt[Gt.tW.CTRL_OR_CMD])(0,jo.KJ)(_e.interactiveCanvas,ft.oc.AUTO);else{var ss;(wl||_e.isHittingCommonBoundingBoxOfSelectedElements(Pn,Xl))&&(wl==null||!wl.locked)&&(wl&&(0,Mt.gs)(wl)&&_e.isEmbeddableCenter(wl,bt,Jn,$n)?((0,jo.KJ)(_e.interactiveCanvas,ft.oc.POINTER),_e.setState({activeEmbeddable:{element:wl,state:"hover"}})):((0,jo.KJ)(_e.interactiveCanvas,ft.oc.MOVE),((ss=_e.state.activeEmbeddable)===null||ss===void 0?void 0:ss.state)==="hover"&&_e.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(bt,kt,Ht){for(var ln=function(ur){ur.forEach(function(hr){hr.locked||(xn.push(hr.id),bt.altKey?kt.elementIdsToErase[hr.id]&&kt.elementIdsToErase[hr.id].erase&&(kt.elementIdsToErase[hr.id].erase=!1):kt.elementIdsToErase[hr.id]||(kt.elementIdsToErase[hr.id]={erase:!0,opacity:hr.opacity}))})},xn=[],Lt=(0,nn.LW)(kt.lastCoords.x,kt.lastCoords.y,Ht.x,Ht.y),Dt=10/_e.state.zoom.value,fn=Yr({},kt.lastCoords),Nn=0;Nn<=Lt&&(ln(_e.getElementsAtPosition(fn.x,fn.y)),Nn!==Lt);){var Un=(Nn=Math.min(Nn+Dt,Lt))/Lt,Pn=(1-Un)*fn.x+Un*Ht.x,Jn=(1-Un)*fn.y+Un*Ht.y;fn.x=Pn,fn.y=Jn}var $n=_e.scene.getElementsIncludingDeleted().map(function(ur){var hr=(0,Mt.Xh)(ur)&&xn.includes(ur.containerId)?ur.containerId:ur.id;if(xn.includes(hr)){if(!bt.altKey)return(0,Ct.BE)(ur,{opacity:ft.xY});if(kt.elementIdsToErase[hr]&&kt.elementIdsToErase[hr].erase===!1)return(0,Ct.BE)(ur,{opacity:kt.elementIdsToErase[hr].opacity})}return ur});_e.scene.replaceAllElements($n),kt.lastCoords.x=Ht.x,kt.lastCoords.y=Ht.y},this.handleTouchMove=function(bt){Lu=!0},this.handleCanvasPointerDown=function(bt){var kt,Ht;if(_e.state.contextMenu&&_e.setState({contextMenu:null}),_e.state.snapLines&&_e.setAppState({snapLines:[]}),_e.updateGestureOnPointerDown(bt),bt.pointerType==="touch"&&_e.state.draggingElement&&_e.state.draggingElement.type==="freedraw"){var ln=_e.state.draggingElement;_e.updateScene(Yr(Yr({},ln.points.length<10?{elements:_e.scene.getElementsIncludingDeleted().filter(function(br){return br.id!==ln.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,Ul.Oh)(Object.keys(_e.state.selectedElementIds).filter(function(br){return br!==ln.id}).reduce(function(br,_i){return br[_i]=_e.state.selectedElementIds[_i],br},{}),_e.state)}}))}else{var xn=document.getSelection();if(xn!=null&&xn.anchorNode&&xn.removeAllRanges(),_e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(bt),_e.maybeCleanupAfterMissingPointerUp(bt),_e.state.penDetected||bt.pointerType!=="pen"||_e.setState(function(br){return{penMode:!0,penDetected:!0}}),!_e.device.isTouchScreen&&["pen","touch"].includes(bt.pointerType)&&(_e.device=(0,ut.v4)(_e.device,{isTouchScreen:!0})),!(Wu||(_e.lastPointerDownEvent=bt,_e.handleCanvasPanUsingWheelOrSpaceDrag(bt)||(_e.setState({lastPointerDownWith:bt.pointerType,cursorButton:"down"}),_e.savePointer(bt.clientX,bt.clientY,"down"),bt.button!==ft.Oh.MAIN&&bt.button!==ft.Oh.TOUCH||Sl.pointers.size>1)))){var Lt=_e.initialPointerDownState(bt);if(_e.setState({selectedElementsAreBeingDragged:!1}),!_e.handleDraggingScrollBar(bt,Lt)&&(_e.clearSelectionIfNotUsingSelection(),_e.updateBindingEnabledOnPointerMove(bt),!_e.handleSelectionOnPointerDown(bt,Lt)&&(!_e.state.penMode||bt.pointerType!=="touch"||_e.state.activeTool.type==="selection"||_e.state.activeTool.type==="text"||_e.state.activeTool.type==="image")))if(_e.state.activeTool.type!=="text"){if(_e.state.activeTool.type==="arrow"||_e.state.activeTool.type==="line")_e.handleLinearElementOnPointerDown(bt,_e.state.activeTool.type,Lt);else if(_e.state.activeTool.type==="image"){(0,jo.KJ)(_e.interactiveCanvas,ft.oc.CROSSHAIR);var Dt=_e.state.pendingImageElementId&&_e.scene.getElement(_e.state.pendingImageElementId);if(!Dt)return;_e.setState({draggingElement:Dt,editingElement:Dt,pendingImageElementId:null,multiElement:null});var fn=(0,ut.dE)(bt,_e.state),Nn=fn.x,Un=fn.y,Pn=_e.getTopLayerFrameAtSceneCoords({x:Nn,y:Un});(0,Ct.DR)(Dt,{x:Nn,y:Un,frameId:Pn?Pn.id:null})}else _e.state.activeTool.type==="freedraw"?_e.handleFreeDrawElementOnPointerDown(bt,_e.state.activeTool.type,Lt):_e.state.activeTool.type==="custom"?(0,jo.Uk)(_e.interactiveCanvas,_e.state):_e.state.activeTool.type==="frame"?_e.createFrameElementOnPointerDown(Lt):_e.state.activeTool.type==="laser"?_e.laserPathManager.startPath(Lt.lastCoords.x,Lt.lastCoords.y):_e.state.activeTool.type!=="eraser"&&_e.state.activeTool.type!=="hand"&&_e.createGenericElementOnPointerDown(_e.state.activeTool.type,Lt);(kt=_e.props)===null||kt===void 0||(Ht=kt.onPointerDown)===null||Ht===void 0||Ht.call(kt,_e.state.activeTool,Lt),_e.onPointerDownEmitter.trigger(_e.state.activeTool,Lt,bt);var Jn=_e.onPointerMoveFromPointerDownHandler(Lt),$n=_e.onPointerUpFromPointerDownHandler(Lt),ur=_e.onKeyDownFromPointerDownHandler(Lt),hr=_e.onKeyUpFromPointerDownHandler(Lt);au=$n,_e.state.viewModeEnabled&&_e.state.activeTool.type!=="laser"||(window.addEventListener(ft.Ks.POINTER_MOVE,Jn),window.addEventListener(ft.Ks.POINTER_UP,$n),window.addEventListener(ft.Ks.KEYDOWN,ur),window.addEventListener(ft.Ks.KEYUP,hr),Lt.eventListeners.onMove=Jn,Lt.eventListeners.onUp=$n,Lt.eventListeners.onKeyUp=hr,Lt.eventListeners.onKeyDown=ur)}else _e.handleTextOnPointerDown(bt,Lt)}}},this.handleCanvasPointerUp=function(bt){var kt,Ht;_e.removePointer(bt),_e.lastPointerUpEvent=bt;var ln=(0,ut.dE)({clientX:bt.clientX,clientY:bt.clientY},_e.state),xn=bt.timeStamp-((kt=(Ht=_e.lastPointerDownEvent)===null||Ht===void 0?void 0:Ht.timeStamp)!==null&&kt!==void 0?kt:0);if(_e.device.editor.isMobile&&xn<300){var Lt=_e.getElementAtPosition(ln.x,ln.y);if((0,Mt.gs)(Lt)&&_e.isEmbeddableCenter(Lt,bt,ln.x,ln.y))return void _e.handleEmbeddableCenterClick(Lt)}if(_e.device.isTouchScreen){var Dt=_e.getElementAtPosition(ln.x,ln.y);_e.hitLinkElement=_e.getElementLinkAtPosition(ln,Dt)}_e.hitLinkElement&&!_e.state.selectedElementIds[_e.hitLinkElement.id]?xn<300&&_e.hitLinkElement.type==="embeddable"&&!(0,Ps.wq)(_e.hitLinkElement,_e.state,[ln.x,ln.y])?_e.handleEmbeddableCenterClick(_e.hitLinkElement):_e.redirectToLink(bt,_e.device.isTouchScreen):_e.state.viewModeEnabled&&_e.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(bt){bt.pointerType==="touch"&&(Lu=!1,iu?Lu=!0:iu=window.setTimeout(function(){iu=0,Lu||_e.handleCanvasContextMenu(bt)},ft.nM))},this.resetContextMenuTimer=function(){clearTimeout(iu),iu=0,Lu=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(bt){if(!(Sl.pointers.size<=1&&(bt.button===ft.Oh.WHEEL||bt.button===ft.Oh.MAIN&&bu||(0,Ft.l$)(_e.state)||_e.state.viewModeEnabled))||(0,Jt.iB)(_e.state.editingElement))return!1;Wu=!0,bt.preventDefault();var kt=!1,Ht=/Linux/.test(window.navigator.platform);(0,jo.KJ)(_e.interactiveCanvas,ft.oc.GRABBING);var ln=bt.clientX,xn=bt.clientY,Lt=(0,ut.$9)(function(fn){var Nn=ln-fn.clientX,Un=xn-fn.clientY;if(ln=fn.clientX,xn=fn.clientY,Ht&&!kt&&(Math.abs(Nn)>1||Math.abs(Un)>1)){kt=!0;var Pn=function Jn($n){document.body.removeEventListener(ft.Ks.PASTE,Jn),$n.stopPropagation()};document.body.addEventListener(ft.Ks.PASTE,Pn),window.addEventListener(ft.Ks.POINTER_UP,function Jn(){setTimeout(function(){document.body.removeEventListener(ft.Ks.PASTE,Pn),window.removeEventListener(ft.Ks.POINTER_UP,Jn)},100)})}_e.translateCanvas({scrollX:_e.state.scrollX-Nn/_e.state.zoom.value,scrollY:_e.state.scrollY-Un/_e.state.zoom.value})}),Dt=(0,ut.tH)(au=function(){au=null,Wu=!1,bu||(_e.state.viewModeEnabled?(0,jo.KJ)(_e.interactiveCanvas,ft.oc.GRAB):(0,jo.Uk)(_e.interactiveCanvas,_e.state)),_e.setState({cursorButton:"up"}),_e.savePointer(bt.clientX,bt.clientY,"up"),window.removeEventListener(ft.Ks.POINTER_MOVE,Lt),window.removeEventListener(ft.Ks.POINTER_UP,Dt),window.removeEventListener(ft.Ks.BLUR,Dt),Lt.flush()});return window.addEventListener(ft.Ks.BLUR,Dt),window.addEventListener(ft.Ks.POINTER_MOVE,Lt,{passive:!0}),window.addEventListener(ft.Ks.POINTER_UP,Dt),!0},this.clearSelectionIfNotUsingSelection=function(){_e.state.activeTool.type!=="selection"&&_e.setState({selectedElementIds:(0,Ul.Oh)({},_e.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(bt,kt){if(_e.state.activeTool.type==="selection"){var Ht=_e.scene.getNonDeletedElements(),ln=_e.scene.getSelectedElements(_e.state);if(ln.length!==1||_e.state.editingLinearElement)ln.length>1&&(kt.resize.handleType=(0,Jt.n2)((0,Jt.KP)(ln),kt.origin.x,kt.origin.y,_e.state.zoom,bt.pointerType));else{var xn=(0,Jt.jt)(Ht,_e.state,kt.origin.x,kt.origin.y,_e.state.zoom,bt.pointerType);xn!=null&&(_e.setState({resizingElement:xn.element}),kt.resize.handleType=xn.transformHandleType)}if(kt.resize.handleType)kt.resize.isResizing=!0,kt.resize.offset=(0,ut.AK)((0,Jt.xx)(kt.resize.handleType,ln,kt.origin.x,kt.origin.y)),ln.length===1&&(0,Mt.bt)(ln[0])&&ln[0].points.length===2&&(kt.resize.arrowDirection=(0,Jt.T)(kt.resize.handleType,ln[0]));else{var Lt;if(_e.state.selectedLinearElement){var Dt=_e.state.editingLinearElement||_e.state.selectedLinearElement,fn=hn._.handlePointerDown(bt,_e.state,_e.history,kt.origin,Dt);if(fn.hitElement&&(kt.hit.element=fn.hitElement),fn.linearElementEditor&&(_e.setState({selectedLinearElement:fn.linearElementEditor}),_e.state.editingLinearElement&&_e.setState({editingLinearElement:fn.linearElementEditor})),fn.didAddPoint)return!0}if(kt.hit.element=(Lt=kt.hit.element)!==null&&Lt!==void 0?Lt:_e.getElementAtPosition(kt.origin.x,kt.origin.y),kt.hit.element&&_e.getElementLinkAtPosition({x:kt.origin.x,y:kt.origin.y},kt.hit.element))return!1;kt.hit.allHitElements=_e.getElementsAtPosition(kt.origin.x,kt.origin.y);var Nn=kt.hit.element,Un=kt.hit.allHitElements.some(function(Pn){return _e.isASelectedElement(Pn)});if(Nn!==null&&Un||bt.shiftKey||kt.hit.hasHitCommonBoundingBoxOfSelectedElements||_e.clearSelection(Nn),_e.state.editingLinearElement)_e.setState({selectedElementIds:(0,Ul.Oh)((0,Zt.Z)({},_e.state.editingLinearElement.elementId,!0),_e.state)});else if(Nn!=null){if(bt[Gt.tW.CTRL_OR_CMD])return _e.state.selectedElementIds[Nn.id]||(kt.hit.wasAddedToSelection=!0),_e.setState(function(Pn){return Yr(Yr({},(0,jn.iE)(Pn,Nn)),{},{previousSelectedElementIds:_e.state.selectedElementIds})}),!1;_e.state.selectedElementIds[Nn.id]||(_e.state.editingGroupId&&!(0,jn.Nd)(Nn,_e.state.editingGroupId)&&_e.setState({selectedElementIds:(0,Ul.Oh)({},_e.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),Un||kt.hit.hasHitCommonBoundingBoxOfSelectedElements||(_e.setState(function(Pn){var Jn=Yr(Yr({},Pn.selectedElementIds),{},(0,Zt.Z)({},Nn.id,!0)),$n=[];if(Object.keys(Pn.selectedElementIds).forEach(function(br){var _i=_e.scene.getElement(br);_i&&$n.push(_i)}),Nn.type==="frame")(0,Yl.zD)($n,Nn.id).forEach(function(br){delete Jn[br.id]});else if(Nn.frameId)Jn[Nn.frameId]&&delete Jn[Nn.id];else{var ur=Nn.groupIds,hr=new Set(ur.flatMap(function(br){return(0,jn.Fb)(_e.scene.getNonDeletedElements(),br)}).filter(function(br){return br.type==="frame"}).map(function(br){return br.id}));hr.size>0&&$n.forEach(function(br){br.frameId&&hr.has(br.frameId)&&(delete Jn[br.id],br.groupIds.flatMap(function(_i){return(0,jn.Fb)(_e.scene.getNonDeletedElements(),_i)}).forEach(function(_i){delete Jn[_i.id]}))})}return Yr(Yr({},(0,jn.bO)({editingGroupId:Pn.editingGroupId,selectedElementIds:Jn},_e.scene.getNonDeletedElements(),Pn,_e)),{},{showHyperlinkPopup:!(!Nn.link&&!(0,Mt.gs)(Nn))&&"info"})}),kt.hit.wasAddedToSelection=!0))}_e.setState({previousSelectedElementIds:_e.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(bt,kt){if(!(0,Jt.iB)(_e.state.editingElement)){var Ht=kt.origin.x,ln=kt.origin.y,xn=_e.getElementAtPosition(Ht,ln,{includeBoundTextElement:!0}),Lt=(0,cr.OW)(_e.scene.getNonDeletedElements(),_e.state,Ht,ln);(0,Mt.Xo)(xn)&&(Lt=xn,Ht=xn.x+xn.width/2,ln=xn.y+xn.height/2),_e.startTextEditing({sceneX:Ht,sceneY:ln,insertAtParentCenter:!bt.altKey,container:Lt}),(0,jo.z8)(_e.interactiveCanvas),_e.state.activeTool.locked||_e.setState({activeTool:(0,ut.Om)(_e.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(bt,kt,Ht){var ln=(0,nn.wC)(Ht.origin.x,Ht.origin.y,null),xn=(0,ot.Z)(ln,2),Lt=xn[0],Dt=xn[1],fn=_e.getTopLayerFrameAtSceneCoords({x:Lt,y:Dt}),Nn=(0,rn.KE)({type:kt,x:Lt,y:Dt,strokeColor:_e.state.currentItemStrokeColor,backgroundColor:_e.state.currentItemBackgroundColor,fillStyle:_e.state.currentItemFillStyle,strokeWidth:_e.state.currentItemStrokeWidth,strokeStyle:_e.state.currentItemStrokeStyle,roughness:_e.state.currentItemRoughness,opacity:_e.state.currentItemOpacity,roundness:null,simulatePressure:bt.pressure===.5,locked:!1,frameId:fn?fn.id:null});_e.setState(function(Jn){var $n=Yr({},Jn.selectedElementIds);return delete $n[Nn.id],{selectedElementIds:(0,Ul.Oh)($n,Jn)}});var Un=Nn.simulatePressure?Nn.pressures:[].concat((0,it.Z)(Nn.pressures),[bt.pressure]);(0,Ct.DR)(Nn,{points:[[0,0]],pressures:Un});var Pn=(0,Xt.Y9)(Ht.origin,_e.scene);_e.scene.addNewElement(Nn),_e.setState({draggingElement:Nn,editingElement:Nn,startBoundElement:Pn,suggestedBindings:[]})},this.insertEmbeddableElement=function(bt){var kt,Ht=bt.sceneX,ln=bt.sceneY,xn=bt.link,Lt=(0,nn.wC)(Ht,ln,(kt=_e.lastPointerDownEvent)!==null&&kt!==void 0&&kt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),Dt=(0,ot.Z)(Lt,2),fn=Dt[0],Nn=Dt[1],Un=(0,mt.LM)(xn);if(Un){Un.warning&&_e.setToast({message:Un.warning,closable:!0});var Pn=(0,rn.M)({type:"embeddable",x:fn,y:Nn,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:_e.state.currentItemFillStyle,strokeWidth:_e.state.currentItemStrokeWidth,strokeStyle:_e.state.currentItemStrokeStyle,roughness:_e.state.currentItemRoughness,roundness:_e.getCurrentItemRoundness("embeddable"),opacity:_e.state.currentItemOpacity,locked:!1,width:Un.aspectRatio.w,height:Un.aspectRatio.h,link:xn,validated:null});return _e.scene.replaceAllElements([].concat((0,it.Z)(_e.scene.getElementsIncludingDeleted()),[Pn])),Pn}},this.createImageElement=function(bt){var kt,Ht=bt.sceneX,ln=bt.sceneY,xn=bt.addToFrameUnderCursor,Lt=xn===void 0||xn,Dt=(0,nn.wC)(Ht,ln,(kt=_e.lastPointerDownEvent)!==null&&kt!==void 0&&kt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),fn=(0,ot.Z)(Dt,2),Nn=fn[0],Un=fn[1],Pn=Lt?_e.getTopLayerFrameAtSceneCoords({x:Nn,y:Un}):null;return(0,Jt.vw)({type:"image",x:Nn,y:Un,strokeColor:_e.state.currentItemStrokeColor,backgroundColor:_e.state.currentItemBackgroundColor,fillStyle:_e.state.currentItemFillStyle,strokeWidth:_e.state.currentItemStrokeWidth,strokeStyle:_e.state.currentItemStrokeStyle,roughness:_e.state.currentItemRoughness,roundness:null,opacity:_e.state.currentItemOpacity,locked:!1,frameId:Pn?Pn.id:null})},this.handleLinearElementOnPointerDown=function(bt,kt,Ht){if(_e.state.multiElement){var ln=_e.state.multiElement;if(ln.type==="line"&&(0,nn.g6)(ln.points,_e.state.zoom.value))return(0,Ct.DR)(ln,{lastCommittedPoint:ln.points[ln.points.length-1]}),void _e.actionManager.executeAction(Ut.pL);var xn=ln.x,Lt=ln.y,Dt=ln.lastCommittedPoint;if(ln.points.length>1&&Dt&&(0,nn.LW)(Ht.origin.x-xn,Ht.origin.y-Lt,Dt[0],Dt[1])<ft.qx)return void _e.actionManager.executeAction(Ut.pL);_e.setState(function(na){return{selectedElementIds:(0,Ul.Oh)(Yr(Yr({},na.selectedElementIds),{},(0,Zt.Z)({},ln.id,!0)),na)}}),(0,Ct.DR)(ln,{lastCommittedPoint:ln.points[ln.points.length-1]}),(0,jo.KJ)(_e.interactiveCanvas,ft.oc.POINTER)}else{var fn=(0,nn.wC)(Ht.origin.x,Ht.origin.y,bt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),Nn=(0,ot.Z)(fn,2),Un=Nn[0],Pn=Nn[1],Jn=_e.getTopLayerFrameAtSceneCoords({x:Un,y:Pn}),$n=_e.state,ur=$n.currentItemStartArrowhead,hr=$n.currentItemEndArrowhead,br=kt==="arrow"?[ur,hr]:[null,null],_i=(0,ot.Z)(br,2),kr=_i[0],fr=_i[1],Er=(0,Jt.y8)({type:kt,x:Un,y:Pn,strokeColor:_e.state.currentItemStrokeColor,backgroundColor:_e.state.currentItemBackgroundColor,fillStyle:_e.state.currentItemFillStyle,strokeWidth:_e.state.currentItemStrokeWidth,strokeStyle:_e.state.currentItemStrokeStyle,roughness:_e.state.currentItemRoughness,opacity:_e.state.currentItemOpacity,roundness:_e.state.currentItemRoundness==="round"?{type:ft.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:kr,endArrowhead:fr,locked:!1,frameId:Jn?Jn.id:null});_e.setState(function(na){var ga=Yr({},na.selectedElementIds);return delete ga[Er.id],{selectedElementIds:(0,Ul.Oh)(ga,na)}}),(0,Ct.DR)(Er,{points:[].concat((0,it.Z)(Er.points),[[0,0]])});var Or=(0,Xt.Y9)(Ht.origin,_e.scene);_e.scene.addNewElement(Er),_e.setState({draggingElement:Er,editingElement:Er,startBoundElement:Or,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(bt,kt){var Ht,ln,xn=(0,nn.wC)(kt.origin.x,kt.origin.y,(Ht=_e.lastPointerDownEvent)!==null&&Ht!==void 0&&Ht[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),Lt=(0,ot.Z)(xn,2),Dt=Lt[0],fn=Lt[1],Nn=_e.getTopLayerFrameAtSceneCoords({x:Dt,y:fn}),Un={x:Dt,y:fn,strokeColor:_e.state.currentItemStrokeColor,backgroundColor:_e.state.currentItemBackgroundColor,fillStyle:_e.state.currentItemFillStyle,strokeWidth:_e.state.currentItemStrokeWidth,strokeStyle:_e.state.currentItemStrokeStyle,roughness:_e.state.currentItemRoughness,opacity:_e.state.currentItemOpacity,roundness:_e.getCurrentItemRoundness(bt),locked:!1,frameId:Nn?Nn.id:null};(ln=bt==="embeddable"?(0,rn.M)(Yr({type:"embeddable",validated:null},Un)):(0,Jt.Up)(Yr({type:bt},Un))).type==="selection"?_e.setState({selectionElement:ln,draggingElement:ln}):(_e.scene.addNewElement(ln),_e.setState({multiElement:null,draggingElement:ln,editingElement:ln}))},this.createFrameElementOnPointerDown=function(bt){var kt,Ht=(0,nn.wC)(bt.origin.x,bt.origin.y,(kt=_e.lastPointerDownEvent)!==null&&kt!==void 0&&kt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),ln=(0,ot.Z)(Ht,2),xn=ln[0],Lt=ln[1],Dt=(0,rn.M3)(Yr({x:xn,y:Lt,opacity:_e.state.currentItemOpacity,locked:!1},ft.iG));_e.scene.replaceAllElements([].concat((0,it.Z)(_e.scene.getElementsIncludingDeleted()),[Dt])),_e.setState({multiElement:null,draggingElement:Dt,editingElement:Dt})},this.restoreReadyToEraseElements=function(bt){var kt=_e.scene.getElementsIncludingDeleted().map(function(Ht){return bt.elementIdsToErase[Ht.id]&&bt.elementIdsToErase[Ht.id].erase?(0,Ct.BE)(Ht,{opacity:bt.elementIdsToErase[Ht.id].opacity}):(0,Mt.Xh)(Ht)&&bt.elementIdsToErase[Ht.containerId]&&bt.elementIdsToErase[Ht.containerId].erase?(0,Ct.BE)(Ht,{opacity:bt.elementIdsToErase[Ht.containerId].opacity}):Ht.frameId&&bt.elementIdsToErase[Ht.frameId]&&bt.elementIdsToErase[Ht.frameId].erase?(0,Ct.BE)(Ht,{opacity:bt.elementIdsToErase[Ht.frameId].opacity}):Ht});_e.scene.replaceAllElements(kt)},this.eraseElements=function(bt){var kt=_e.scene.getElementsIncludingDeleted().map(function(Ht){return bt.elementIdsToErase[Ht.id]&&bt.elementIdsToErase[Ht.id].erase||(0,Mt.Xh)(Ht)&&bt.elementIdsToErase[Ht.containerId]&&bt.elementIdsToErase[Ht.containerId].erase||Ht.frameId&&bt.elementIdsToErase[Ht.frameId]&&bt.elementIdsToErase[Ht.frameId].erase?(0,Ct.BE)(Ht,{isDeleted:!0}):Ht});_e.history.resumeRecording(),_e.scene.replaceAllElements(kt)},this.initializeImage=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht){var ln,xn,Lt,Dt,fn,Nn,Un,Pn,Jn,$n,ur,hr,br,_i,kr;return dt().wrap(function(fr){for(;;)switch(fr.prev=fr.next){case 0:if(Dt=Ht.imageFile,fn=Ht.imageElement,Nn=Ht.showCursorImagePreview,Un=Nn!==void 0&&Nn,(0,Dr.Wr)(Dt)){fr.next=3;break}throw new Error((0,Ot.t)("errors.unsupportedFileType"));case 3:if(Pn=Dt.type,(0,jo.KJ)(_e.interactiveCanvas,"wait"),Pn!==ft.LO.svg){fr.next=23;break}return fr.prev=6,fr.t0=Dr.Pn,fr.t1=Au.bp,fr.next=11,Dt.text();case 11:return fr.t2=fr.sent,fr.next=14,(0,fr.t1)(fr.t2);case 14:fr.t3=fr.sent,fr.t4=Dt.name,Dt=(0,fr.t0)(fr.t3,fr.t4),fr.next=23;break;case 19:throw fr.prev=19,fr.t5=fr.catch(6),console.warn(fr.t5),new Error((0,Ot.t)("errors.svgImageInsertError"));case 23:return fr.next=25,((ln=(xn=_e.props).generateIdForFile)===null||ln===void 0?void 0:ln.call(xn,Dt))||(0,Dr.tW)(Dt);case 25:if(Jn=fr.sent){fr.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,Ot.t)("errors.imageInsertError"));case 29:if(($n=_e.files[Jn])!=null&&$n.dataURL){fr.next=42;break}return fr.prev=31,fr.next=34,(0,Dr.Tu)(Dt,{maxWidthOrHeight:ft.h6});case 34:Dt=fr.sent,fr.next=40;break;case 37:fr.prev=37,fr.t6=fr.catch(31),console.error("error trying to resing image file on insertion",fr.t6);case 40:if(!(Dt.size>ft.$n)){fr.next=42;break}throw new Error((0,Ot.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(ft.$n/1024/1024),"MB")}));case 42:if(Un&&(hr=(ur=_e.files[Jn])===null||ur===void 0?void 0:ur.dataURL,br=hr&&(0,Dr.KG)(hr),_e.setImagePreviewCursor(br||Dt)),fr.t7=(Lt=_e.files[Jn])===null||Lt===void 0?void 0:Lt.dataURL,fr.t7){fr.next=48;break}return fr.next=47,(0,Dr.Sf)(Dt);case 47:fr.t7=fr.sent;case 48:return _i=fr.t7,kr=(0,Ct.DR)(fn,{fileId:Jn},!1),fr.abrupt("return",new Promise(function(){var Er=(0,nt.Z)(dt().mark(function Or(na,ga){var Tr,Pr;return dt().wrap(function(Bo){for(;;)switch(Bo.prev=Bo.next){case 0:if(Bo.prev=0,_e.files=Yr(Yr({},_e.files),{},(0,Zt.Z)({},Jn,{mimeType:Pn,id:Jn,dataURL:_i,created:Date.now(),lastRetrieved:Date.now()})),Pr=_e.imageCache.get(Jn)){Bo.next=7;break}return _e.addNewImagesToImageCache(),Bo.next=7,_e.updateImageCache([kr]);case 7:if(!((Pr==null?void 0:Pr.image)instanceof Promise)){Bo.next=10;break}return Bo.next=10,Pr.image;case 10:_e.state.pendingImageElementId!==kr.id&&((Tr=_e.state.draggingElement)===null||Tr===void 0?void 0:Tr.id)!==kr.id&&_e.initializeImageDimensions(kr,!0),na(kr),Bo.next=18;break;case 14:Bo.prev=14,Bo.t0=Bo.catch(0),console.error(Bo.t0),ga(new Error((0,Ot.t)("errors.imageInsertError")));case 18:return Bo.prev=18,Un||(0,jo.z8)(_e.interactiveCanvas),Bo.finish(18);case 21:case"end":return Bo.stop()}},Or,null,[[0,14,18,21]])}));return function(Or,na){return Er.apply(this,arguments)}}()));case 51:case"end":return fr.stop()}},kt,null,[[6,19],[31,37]])}));return function(kt){return bt.apply(this,arguments)}}(),this.insertImageElement=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht,ln,xn){return dt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(_e.isToolSupported("image")){Lt.next=3;break}return _e.setState({errorMessage:(0,Ot.t)("errors.imageToolNotSupported")}),Lt.abrupt("return");case 3:return _e.scene.addNewElement(Ht),Lt.prev=4,Lt.next=7,_e.initializeImage({imageFile:ln,imageElement:Ht,showCursorImagePreview:xn});case 7:return Lt.abrupt("return",Lt.sent);case 10:return Lt.prev=10,Lt.t0=Lt.catch(4),(0,Ct.DR)(Ht,{isDeleted:!0}),_e.actionManager.executeAction(Ut.pL),_e.setState({errorMessage:Lt.t0.message||(0,Ot.t)("errors.imageInsertError")}),Lt.abrupt("return",null);case 16:case"end":return Lt.stop()}},kt,null,[[4,10]])}));return function(kt,Ht,ln){return bt.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht){var ln,xn,Lt,Dt,fn,Nn,Un;return dt().wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return ln=96,Pn.next=3,(0,Dr.Tu)(Ht,{maxWidthOrHeight:ln});case 3:return xn=Pn.sent,Pn.next=6,(0,Dr.Sf)(xn);case 6:if(Lt=Pn.sent,Ht.type!==ft.LO.svg){Pn.next=20;break}return Pn.next=10,(0,Au.PK)(Lt);case 10:Dt=Pn.sent,fn=Math.min(Dt.height,ln),(Nn=fn*(Dt.width/Dt.height))>ln&&(fn=(Nn=ln)*(Dt.height/Dt.width)),(Un=document.createElement("canvas")).height=fn,Un.width=Nn,Un.getContext("2d").drawImage(Dt,0,0,Nn,fn),Lt=Un.toDataURL(ft.LO.svg);case 20:_e.state.pendingImageElementId&&(0,jo.KJ)(_e.interactiveCanvas,"url(".concat(Lt,") 4 4, auto"));case 21:case"end":return Pn.stop()}},kt)}));return function(kt){return bt.apply(this,arguments)}}(),this.onImageAction=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht){var ln,xn,Lt,Dt,fn,Nn,Un,Pn;return dt().wrap(function(Jn){for(;;)switch(Jn.prev=Jn.next){case 0:return ln=Ht.insertOnCanvasDirectly,Jn.prev=1,xn=_e.state.width/2+_e.state.offsetLeft,Lt=_e.state.height/2+_e.state.offsetTop,Dt=(0,ut.dE)({clientX:xn,clientY:Lt},_e.state),fn=Dt.x,Nn=Dt.y,Jn.next=7,(0,Io.I$)({description:"Image",extensions:Object.keys(ft.KL)});case 7:Un=Jn.sent,Pn=_e.createImageElement({sceneX:fn,sceneY:Nn,addToFrameUnderCursor:!1}),ln?(_e.insertImageElement(Pn,Un),_e.initializeImageDimensions(Pn),_e.setState({selectedElementIds:(0,Ul.Oh)((0,Zt.Z)({},Pn.id,!0),_e.state)},function(){_e.actionManager.executeAction(Ut.pL)})):_e.setState({pendingImageElementId:Pn.id},function(){_e.insertImageElement(Pn,Un,!0)}),Jn.next=16;break;case 12:Jn.prev=12,Jn.t0=Jn.catch(1),Jn.t0.name!=="AbortError"?console.error(Jn.t0):console.warn(Jn.t0),_e.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,ut.Om)(_e.state,{type:"selection"})},function(){_e.actionManager.executeAction(Ut.pL)});case 16:case"end":return Jn.stop()}},kt,null,[[1,12]])}));return function(kt){return bt.apply(this,arguments)}}(),this.initializeImageDimensions=function(bt){var kt,Ht=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ln=(0,Mt.wi)(bt)&&((kt=_e.imageCache.get(bt.fileId))===null||kt===void 0?void 0:kt.image);if(!ln||ln instanceof Promise){if(bt.width<ft.f/_e.state.zoom.value&&bt.height<ft.f/_e.state.zoom.value){var xn=100/_e.state.zoom.value;(0,Ct.DR)(bt,{x:bt.x-xn/2,y:bt.y-xn/2,width:xn,height:xn})}}else if(Ht||bt.width<ft.f/_e.state.zoom.value&&bt.height<ft.f/_e.state.zoom.value){var Lt=Math.max(_e.state.height-120,160),Dt=Math.min(Lt,Math.floor(.5*_e.state.height)/_e.state.zoom.value),fn=Math.min(ln.naturalHeight,Dt),Nn=fn*(ln.naturalWidth/ln.naturalHeight),Un=bt.x+bt.width/2-Nn/2,Pn=bt.y+bt.height/2-fn/2;(0,Ct.DR)(bt,{x:Un,y:Pn,width:Nn,height:fn})}},this.updateImageCache=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht){var ln,xn,Lt,Dt,fn,Nn,Un,Pn=arguments;return dt().wrap(function(Jn){for(;;)switch(Jn.prev=Jn.next){case 0:return ln=Pn.length>1&&Pn[1]!==void 0?Pn[1]:_e.files,Jn.next=3,(0,Au.Xx)({imageCache:_e.imageCache,fileIds:Ht.map(function($n){return $n.fileId}),files:ln});case 3:if(xn=Jn.sent,Lt=xn.updatedFiles,Dt=xn.erroredFiles,Lt.size||Dt.size){fn=Os(Ht);try{for(fn.s();!(Nn=fn.n()).done;)Un=Nn.value,Lt.has(Un.fileId)&&Vs.R.delete(Un)}catch($n){fn.e($n)}finally{fn.f()}}return Dt.size&&_e.scene.replaceAllElements(_e.scene.getElementsIncludingDeleted().map(function($n){return(0,Mt.wi)($n)&&Dt.has($n.fileId)?(0,Ct.BE)($n,{status:"error"}):$n})),Jn.abrupt("return",{updatedFiles:Lt,erroredFiles:Dt});case 9:case"end":return Jn.stop()}},kt)}));return function(kt){return bt.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,nt.Z)(dt().mark(function bt(){var kt,Ht,ln,xn,Lt=arguments;return dt().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:if(kt=Lt.length>0&&Lt[0]!==void 0?Lt[0]:(0,Au.oA)(_e.scene.getNonDeletedElements()),Ht=Lt.length>1&&Lt[1]!==void 0?Lt[1]:_e.files,!(ln=kt.filter(function(fn){return!fn.isDeleted&&!_e.imageCache.has(fn.fileId)})).length){Dt.next=9;break}return Dt.next=6,_e.updateImageCache(ln,Ht);case 6:xn=Dt.sent,xn.updatedFiles.size&&_e.scene.informMutation();case 9:case"end":return Dt.stop()}},bt)})),this.scheduleImageRefresh=Q0()(function(){_e.addNewImagesToImageCache()},ft.LL),this.updateBindingEnabledOnPointerMove=function(bt){var kt=(0,Xt.cz)(bt);_e.state.isBindingEnabled!==kt&&_e.setState({isBindingEnabled:kt})},this.maybeSuggestBindingAtCursor=function(bt){var kt=(0,Xt.Y9)(bt,_e.scene);_e.setState({suggestedBindings:kt!=null?[kt]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(bt,kt,Ht){if(kt.length){var ln=kt.reduce(function(xn,Lt){var Dt=(0,Xt.Y9)(Lt,_e.scene);return Dt==null||(0,Xt.DK)(bt,Ht==null?void 0:Ht.id,Dt)||xn.push(Dt),xn},[]);_e.setState({suggestedBindings:ln})}},this.handleInteractiveCanvasRef=function(bt){var kt,Ht,ln;bt!==null?(_e.interactiveCanvas=bt,_e.interactiveCanvas.addEventListener(ft.Ks.WHEEL,_e.handleWheel),_e.interactiveCanvas.addEventListener(ft.Ks.TOUCH_START,_e.onTouchStart),_e.interactiveCanvas.addEventListener(ft.Ks.TOUCH_END,_e.onTouchEnd)):((kt=_e.interactiveCanvas)===null||kt===void 0||kt.removeEventListener(ft.Ks.WHEEL,_e.handleWheel),(Ht=_e.interactiveCanvas)===null||Ht===void 0||Ht.removeEventListener(ft.Ks.TOUCH_START,_e.onTouchStart),(ln=_e.interactiveCanvas)===null||ln===void 0||ln.removeEventListener(ft.Ks.TOUCH_END,_e.onTouchEnd))},this.handleAppOnDrop=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht){var ln,xn,Lt,Dt,fn,Nn,Un,Pn,Jn,$n,ur,hr,br,_i,kr,fr;return dt().wrap(function(Er){for(;;)switch(Er.prev=Er.next){case 0:return Er.next=2,(0,Dr.bv)(Ht);case 2:if(Lt=Er.sent,Dt=Lt.file,fn=Lt.fileHandle,Nn=(0,ut.dE)(Ht,_e.state),Un=Nn.x,Pn=Nn.y,Er.prev=6,!(0,Dr.Wr)(Dt)||!_e.isToolSupported("image")){Er.next=26;break}if((Dt==null?void 0:Dt.type)!==ft.LO.png&&(Dt==null?void 0:Dt.type)!==ft.LO.svg){Er.next=21;break}return Er.prev=9,Er.next=12,(0,Tt.cT)(Dt,_e.state,_e.scene.getElementsIncludingDeleted(),fn);case 12:return Jn=Er.sent,_e.syncActionResult(Yr(Yr({},Jn),{},{appState:Yr(Yr({},Jn.appState||_e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Er.abrupt("return");case 17:if(Er.prev=17,Er.t0=Er.catch(9),Er.t0.name==="EncodingError"){Er.next=21;break}throw Er.t0;case 21:return $n=_e.createImageElement({sceneX:Un,sceneY:Pn}),_e.insertImageElement($n,Dt),_e.initializeImageDimensions($n),_e.setState({selectedElementIds:(0,Ul.Oh)((0,Zt.Z)({},$n.id,!0),_e.state)}),Er.abrupt("return");case 26:Er.next=31;break;case 28:return Er.prev=28,Er.t1=Er.catch(6),Er.abrupt("return",_e.setState({isLoading:!1,errorMessage:Er.t1.message}));case 31:if(!(ur=Ht.dataTransfer.getData(ft.LO.excalidrawlib))||typeof ur!="string"){Er.next=35;break}try{hr=(0,Dr.wf)(ur),_e.addElementsFromPasteOrLibrary({elements:(0,jt.WV)(hr),position:Ht,files:null})}catch(Or){_e.setState({errorMessage:Or.message})}return Er.abrupt("return");case 35:if(!Dt){Er.next=38;break}return Er.next=38,_e.loadFileToCanvas(Dt,fn);case 38:(ln=Ht.dataTransfer)!==null&&ln!==void 0&&(xn=ln.types)!==null&&xn!==void 0&&xn.includes("text/plain")&&(kr=(br=Ht.dataTransfer)===null||br===void 0?void 0:br.getData("text"))&&(0,mt.xm)(kr,_e.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(kr)||((_i=(0,mt.LM)(kr))===null||_i===void 0?void 0:_i.type)==="video")&&(fr=_e.insertEmbeddableElement({sceneX:Un,sceneY:Pn,link:(0,du.$u)(kr)}))&&_e.setState({selectedElementIds:(0,Zt.Z)({},fr.id,!0)});case 39:case"end":return Er.stop()}},kt,null,[[6,28],[9,17]])}));return function(kt){return bt.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var bt=(0,nt.Z)(dt().mark(function kt(Ht,ln){var xn;return dt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,(0,Dr.gY)(Ht);case 2:return Ht=Lt.sent,Lt.prev=3,Lt.next=6,(0,Dr.ZY)(Ht,_e.state,_e.scene.getElementsIncludingDeleted(),ln);case 6:if((xn=Lt.sent).type!==ft.LO.excalidraw){Lt.next=12;break}_e.setState({isLoading:!0}),_e.syncActionResult(Yr(Yr({},xn.data),{},{appState:Yr(Yr({},xn.data.appState||_e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Lt.next=15;break;case 12:if(xn.type!==ft.LO.excalidrawlib){Lt.next=15;break}return Lt.next=15,_e.library.updateLibrary({libraryItems:Ht,merge:!0,openLibraryMenu:!0}).catch(function(Dt){console.error(Dt),_e.setState({errorMessage:(0,Ot.t)("errors.importLibraryError")})});case 15:Lt.next=23;break;case 17:if(Lt.prev=17,Lt.t0=Lt.catch(3),!(Lt.t0 instanceof G0.jk&&Lt.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||_e.isToolSupported("image")){Lt.next=22;break}return _e.setState({isLoading:!1,errorMessage:(0,Ot.t)("errors.imageToolNotSupported")}),Lt.abrupt("return");case 22:_e.setState({isLoading:!1,errorMessage:Lt.t0.message});case 23:case"end":return Lt.stop()}},kt,null,[[3,17]])}));return function(kt,Ht){return bt.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(bt){if(bt.preventDefault(),!("pointerType"in bt.nativeEvent&&bt.nativeEvent.pointerType==="touch"||"pointerType"in bt.nativeEvent&&bt.nativeEvent.pointerType==="pen"&&bt.button!==ft.Oh.SECONDARY)||_e.state.activeTool.type==="selection"){var kt=(0,ut.dE)(bt,_e.state),Ht=kt.x,ln=kt.y,xn=_e.getElementAtPosition(Ht,ln,{preferSelected:!0,includeLockedElements:!0}),Lt=_e.scene.getSelectedElements(_e.state),Dt=_e.isHittingCommonBoundingBoxOfSelectedElements({x:Ht,y:ln},Lt),fn=xn||Dt?"element":"canvas",Nn=_e.excalidrawContainerRef.current.getBoundingClientRect(),Un=Nn.top,Pn=Nn.left,Jn=bt.clientX-Pn,$n=bt.clientY-Un;(0,pt.L)("contextMenu","openContextMenu",fn),_e.setState(Yr(Yr({},xn&&!_e.state.selectedElementIds[xn.id]?Yr(Yr(Yr({},_e.state),(0,jn.bO)({editingGroupId:_e.state.editingGroupId,selectedElementIds:(0,Zt.Z)({},xn.id,!0)},_e.scene.getNonDeletedElements(),_e.state,_e)),{},{selectedLinearElement:(0,Mt.bt)(xn)?new hn._(xn,_e.scene):null}):_e.state),{},{showHyperlinkPopup:!1}),function(){_e.setState({contextMenu:{top:$n,left:Jn,items:_e.getContextMenuItems(fn)}})})}},this.maybeDragNewGenericElement=function(bt,kt){var Ht=_e.state.draggingElement,ln=bt.lastCoords;if(Ht)if(Ht.type==="selection"&&_e.state.activeTool.type!=="eraser")(0,Jt.EJ)(Ht,_e.state.activeTool.type,bt.origin.x,bt.origin.y,ln.x,ln.y,(0,ut.TE)(bt.origin.x,ln.x),(0,ut.TE)(bt.origin.y,ln.y),(0,Gt.E0)(kt),(0,Gt.OA)(kt));else{var xn,Lt,Dt,fn,Nn,Un=(0,nn.wC)(ln.x,ln.y,kt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),Pn=(0,ot.Z)(Un,2),Jn=Pn[0],$n=Pn[1],ur=(0,Mt.wi)(Ht)&&((xn=_e.imageCache.get(Ht.fileId))===null||xn===void 0?void 0:xn.image),hr=!ur||ur instanceof Promise?null:ur.width/ur.height;_e.maybeCacheReferenceSnapPoints(kt,[Ht]);var br=function(fr,Er,Or,na,ga){var Tr,Pr,Bo,Xo;if(!Ts({event:Or,selectedElements:[fr],appState:Er}))return{snapOffset:{x:0,y:0},snapLines:[]};var Mo=[[na.x+ga.x,na.y+ga.y]],zo=Ns(Er.zoom.value),Bl={x:zo,y:zo},Il=[],ko=[];Rn([fr],Mo,Er,Or,Il,ko,Bl);var xl={x:(Tr=(Pr=Il[0])===null||Pr===void 0?void 0:Pr.offset)!==null&&Tr!==void 0?Tr:0,y:(Bo=(Xo=ko[0])===null||Xo===void 0?void 0:Xo.offset)!==null&&Bo!==void 0?Bo:0};Bl.x=0,Bl.y=0,Il.length=0,ko.length=0;var Wo=hu([fr],{boundingBoxCorners:!0,omitCenter:!0});return Rn([fr],Wo,Er,Or,Il,ko,Bl),{snapOffset:xl,snapLines:lr(Il,ko)}}(Ht,_e.state,kt,{x:bt.originInGrid.x+((Lt=(Dt=_e.state.originSnapOffset)===null||Dt===void 0?void 0:Dt.x)!==null&&Lt!==void 0?Lt:0),y:bt.originInGrid.y+((fn=(Nn=_e.state.originSnapOffset)===null||Nn===void 0?void 0:Nn.y)!==null&&fn!==void 0?fn:0)},{x:Jn-bt.originInGrid.x,y:$n-bt.originInGrid.y}),_i=br.snapOffset,kr=br.snapLines;Jn+=_i.x,$n+=_i.y,_e.setState({snapLines:kr}),(0,Jt.EJ)(Ht,_e.state.activeTool.type,bt.originInGrid.x,bt.originInGrid.y,Jn,$n,(0,ut.TE)(bt.originInGrid.x,Jn),(0,ut.TE)(bt.originInGrid.y,$n),(0,Mt.pC)(Ht)?!(0,Gt.E0)(kt):(0,Gt.E0)(kt),(0,Gt.OA)(kt),hr,_e.state.originSnapOffset),_e.maybeSuggestBindingForAll([Ht]),_e.state.activeTool.type==="frame"&&_e.setState({elementsToHighlight:(0,Yl.ni)(_e.scene.getNonDeletedElements(),Ht,_e.state)})}},this.maybeHandleResize=function(bt,kt){var Ht=_e.scene.getSelectedElements(_e.state),ln=Ht.filter(function(na){return na.type==="frame"}),xn=bt.resize.handleType;if(ln.length>0&&xn==="rotation")return!1;_e.setState({isResizing:xn&&xn!=="rotation",isRotating:xn==="rotation",activeEmbeddable:null});var Lt=bt.lastCoords,Dt=(0,nn.wC)(Lt.x-bt.resize.offset.x,Lt.y-bt.resize.offset.y,kt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),fn=(0,ot.Z)(Dt,2),Nn=fn[0],Un=fn[1],Pn=new Map;if(ln.forEach(function(na){(0,Yl.zD)(_e.scene.getNonDeletedElements(),na.id).forEach(function(ga){Pn.set(na.id+ga.id,{x:ga.x-na.x,y:ga.y-na.y})})}),!_e.state.selectedElementsAreBeingDragged){var Jn=(0,nn.wC)(Lt.x,Lt.y,kt[Gt.tW.CTRL_OR_CMD]?null:_e.state.gridSize),$n=(0,ot.Z)(Jn,2),ur=$n[0],hr=$n[1],br={x:ur-bt.originInGrid.x,y:hr-bt.originInGrid.y},_i=(0,it.Z)(bt.originalElements.values());_e.maybeCacheReferenceSnapPoints(kt,Ht);var kr=ar(Ht,(0,Qn.eD)(_i,_e.state),_e.state,kt,br,xn),fr=kr.snapOffset,Er=kr.snapLines;Nn+=fr.x,Un+=fr.y,_e.setState({snapLines:Er})}if((0,Jt.vY)(bt,xn,Ht,bt.resize.arrowDirection,(0,Gt.Ge)(kt),(0,Gt.OA)(kt),Ht.length===1&&(0,Mt.pC)(Ht[0])?!(0,Gt.E0)(kt):(0,Gt.E0)(kt),Nn,Un,bt.resize.center.x,bt.resize.center.y,_e.state)){_e.maybeSuggestBindingForAll(Ht);var Or=new Set;return ln.forEach(function(na){var ga=(0,Yl.zD)(_e.scene.getNonDeletedElements(),na.id);xn&&(xn.includes("w")&&ga.forEach(function(Tr){var Pr,Bo;(0,Ct.DR)(Tr,{x:na.x+(((Pr=Pn.get(na.id+Tr.id))===null||Pr===void 0?void 0:Pr.x)||0),y:na.y+(((Bo=Pn.get(na.id+Tr.id))===null||Bo===void 0?void 0:Bo.y)||0)})}),xn.includes("n")&&ga.forEach(function(Tr){var Pr,Bo;(0,Ct.DR)(Tr,{x:na.x+(((Pr=Pn.get(na.id+Tr.id))===null||Pr===void 0?void 0:Pr.x)||0),y:na.y+(((Bo=Pn.get(na.id+Tr.id))===null||Bo===void 0?void 0:Bo.y)||0)})})),(0,Yl.ni)(_e.scene.getNonDeletedElements(),na,_e.state).forEach(function(Tr){return Or.add(Tr)})}),_e.setState({elementsToHighlight:(0,it.Z)(Or)}),!0}return!1},this.getContextMenuItems=function(bt){var kt=[];return kt.push(Ut.jK,Ut.FA),bt==="canvas"?_e.state.viewModeEnabled?[].concat(kt,[Ut.Pb,Ut.JN,Ou,Ut.u0]):[t0.yQ,On,Ut.jK,Ut.FA,Ut.zp,On,Ut.Yy,Mu.U,On,Ut.Pb,Ut.pm,Ut.JN,Ou,Ut.u0]:(kt.push(Ut.zp),_e.state.viewModeEnabled?[Ut.uN].concat(kt):[Ut.ZM,Ut.uN,t0.yQ,E0,U0,On].concat(kt,[On,Ut.pw,Ut.W3,On,Ut.EQ,Ut.y7,Ut.vD,Mr.JQ,Ut.s,On,Ut.FL,On,Ut.V,Ut.yA,Ut.zi,Ut.BZ,On,Ut.jl,Ut.kt,On,Ut.Qs,Ut.nz,Ut.xF,Ut.$h,On,Ut.X9]))},this.handleWheel=(0,ut.tH)(function(bt){if(bt.preventDefault(),!Wu){var kt=bt.deltaX,Ht=bt.deltaY;if(bt.metaKey||bt.ctrlKey){var ln=Math.sign(Ht),xn=100*ft.V4,Lt=Math.abs(Ht),Dt=Ht;Lt>xn&&(Dt=xn*ln);var fn=_e.state.zoom.value-Dt/100;return fn+=Math.log10(Math.max(1,_e.state.zoom.value))*-ln*Math.min(1,Lt/20),_e.translateCanvas(function(Nn){return Yr(Yr({},(0,at.E)({viewportX:_e.lastViewportPosition.x,viewportY:_e.lastViewportPosition.y,nextZoom:(0,Qn.j)(fn)},Nn)),{},{shouldCacheIgnoreZoom:!0})}),void _e.resetShouldCacheIgnoreZoomDebounced()}bt.shiftKey?_e.translateCanvas(function(Nn){var Un=Nn.zoom;return{scrollX:Nn.scrollX-(Ht||kt)/Un.value}}):_e.translateCanvas(function(Nn){var Un=Nn.zoom,Pn=Nn.scrollX,Jn=Nn.scrollY;return{scrollX:Pn-kt/Un.value,scrollY:Jn-Ht/Un.value}})}}),this.savePointer=function(bt,kt,Ht){var ln,xn;if(bt&&kt){var Lt=(0,ut.dE)({clientX:bt,clientY:kt},_e.state),Dt=Lt.x,fn=Lt.y,Nn={x:Dt,y:fn,tool:_e.state.activeTool.type==="laser"?"laser":"pointer"};(ln=(xn=_e.props).onPointerUpdate)===null||ln===void 0||ln.call(xn,{pointer:Nn,button:Ht,pointersMap:Sl.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,ut.Ds)(function(){_e.unmounted||_e.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(bt){var kt;if((kt=_e.excalidrawContainerRef)!==null&&kt!==void 0&&kt.current){var Ht=_e.excalidrawContainerRef.current.getBoundingClientRect(),ln=Ht.width,xn=Ht.height,Lt=Ht.left,Dt=Ht.top,fn=_e.state,Nn=fn.width,Un=fn.height,Pn=fn.offsetTop,Jn=fn.offsetLeft;if(ln===Nn&&xn===Un&&Lt===Jn&&Dt===Pn)return void(bt&&bt());_e.setState({width:ln,height:xn,offsetLeft:Lt,offsetTop:Dt},function(){bt&&bt()})}},this.refresh=function(){_e.setState(Yr({},_e.getCanvasOffsets()))}};ft.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var _e;return(_e=this.app)===null||_e===void 0?void 0:_e.scene.getElementsIncludingDeleted()},set:function(_e){var bt;return(bt=this.app)===null||bt===void 0?void 0:bt.scene.replaceAllElements(_e)}}}));var dI=z0},8806:function($t,Vt,_){_.d(Vt,{z:function(){return Ot}});var Et=_(7169),ot=_(2726),it=_(45),nt=_(9827),ht=_(3379),Bt=_.n(ht),st=_(7795),tt=_.n(st),xt=_(569),St=_.n(xt),Zt=_(3565),Nt=_.n(Zt),dt=_(9216),Yt=_.n(dt),sn=_(4589),bn=_.n(sn),pn=_(3137),mn={};mn.styleTagTransform=bn(),mn.setAttributes=Nt(),mn.insert=St().bind(null,"head"),mn.domAPI=tt(),mn.insertStyleElement=Yt(),Bt()(pn.Z,mn),pn.Z&&pn.Z.locals&&pn.Z.locals;var qt=_(1020),Ut=["type","onSelect","selected","children","className"];function Kt(Gt,Ct){var Xt=Object.keys(Gt);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(Gt);Ct&&(ut=ut.filter(function(ft){return Object.getOwnPropertyDescriptor(Gt,ft).enumerable})),Xt.push.apply(Xt,ut)}return Xt}function yt(Gt){for(var Ct=1;Ct<arguments.length;Ct++){var Xt=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Kt(Object(Xt),!0).forEach(function(ut){(0,Et.Z)(Gt,ut,Xt[ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gt,Object.getOwnPropertyDescriptors(Xt)):Kt(Object(Xt)).forEach(function(ut){Object.defineProperty(Gt,ut,Object.getOwnPropertyDescriptor(Xt,ut))})}return Gt}var Ot=function(Gt){var Ct=Gt.type,Xt=Ct===void 0?"button":Ct,ut=Gt.onSelect,ft=Gt.selected,$=Gt.children,wt=Gt.className,gt=wt===void 0?"":wt,lt=(0,ot.Z)(Gt,Ut);return(0,qt.jsx)("button",yt(yt({onClick:(0,nt.Mj)(lt.onClick,function(pt){ut()}),type:Xt,className:(0,it.Z)("excalidraw-button",gt,{selected:ft})},lt),{},{children:$}))}},6238:function($t,Vt,_){_.d(Vt,{o:function(){return mn}});var Et=_(45),ot=_(8935),it=_(3379),nt=_.n(it),ht=_(7795),Bt=_.n(ht),st=_(569),tt=_.n(st),xt=_(3565),St=_.n(xt),Zt=_(9216),Nt=_.n(Zt),dt=_(4589),Yt=_.n(dt),sn=_(6029),bn={};bn.styleTagTransform=Yt(),bn.setAttributes=St(),bn.insert=tt().bind(null,"head"),bn.domAPI=Bt(),bn.insertStyleElement=Nt(),nt()(sn.Z,bn),sn.Z&&sn.Z.locals&&sn.Z.locals;var pn=_(1020),mn=function(qt){var Ut=qt.children,Kt=qt.checked,yt=qt.onChange,Ot=qt.className;return(0,pn.jsxs)("div",{className:(0,Et.Z)("Checkbox",Ot,{"is-checked":Kt}),onClick:function(Gt){yt(!Kt,Gt),Gt.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,pn.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":Kt,children:ot.eQ}),(0,pn.jsx)("div",{className:"Checkbox-label",children:Ut})]})}},193:function($t,Vt,_){_.d(Vt,{z:function(){return S0},L:function(){return Ts}});var Et=_(2577),ot=_(9827),it=_(45),nt=_(9240),ht=_(1020),Bt=function(dn){var Mn,Rn=dn.onChange,Yn=dn.type,nr=dn.activeColor,lr=dn.topPicks;return Yn==="elementStroke"&&(Mn=nt.fY),Yn==="elementBackground"&&(Mn=nt.eq),Yn==="canvasBackground"&&(Mn=nt.ay),lr&&(Mn=lr),Mn?(0,ht.jsx)("div",{className:"color-picker__top-picks",children:Mn.map(function(gr){return(0,ht.jsx)("button",{className:(0,it.Z)("color-picker__button",{active:gr===nr,"is-transparent":gr==="transparent"||!gr}),style:{"--swatch-color":gr},type:"button",title:gr,onClick:function(){return Rn(gr)},"data-testid":"color-top-pick-".concat(gr),children:(0,ht.jsx)("div",{className:"color-picker__button-outline"})},gr)})}):(console.error("Invalid type for TopPicks"),null)},st=_(9787),tt=_.n(st),xt=_(8227),St=_(3607),Zt=_(1930),Nt=function(dn){for(var Mn=dn.palette,Rn=dn.color,Yn=0,nr=Object.entries(Mn);Yn<nr.length;Yn++){var lr=(0,Et.Z)(nr[Yn],2),gr=lr[0],ar=lr[1];if(Array.isArray(ar)){var Mr=ar.indexOf(Rn);if(Mr>-1)return{colorName:gr,shade:Mr}}else if(ar===Rn)return{colorName:gr,shade:null}}return null},dt=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),Yt=function(dn){var Mn=dn.color,Rn=dn.palette;return!Object.values(Rn).flat().includes(Mn)},sn=(0,St.cn)(null),bn=function(dn,Mn,Rn){return(299*dn+587*Mn+114*Rn)/1e3>=160?"black":"white"},pn=function(dn,Mn){if(Mn){var Rn=new Option().style;if(Rn.color=dn,Rn.color){var Yn=Rn.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),nr=parseInt(Yn[0]),lr=parseInt(Yn[1]),gr=parseInt(Yn[2]);return bn(nr,lr,gr)}}if(dn==="transparent")return"black";var ar=parseInt(dn.substring(1,3),16),Mr=parseInt(dn.substring(3,5),16),$a=parseInt(dn.substring(5,7),16);return bn(ar,Mr,$a)},mn=function(dn){var Mn=dn.color,Rn=dn.keyLabel,Yn=dn.isCustomColor,nr=Yn!==void 0&&Yn,lr=dn.isShade,gr=lr!==void 0&&lr;return(0,ht.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:pn(Mn,nr)},children:[gr&&"⇧",Rn]})},qt=function(dn){var Mn=dn.hex,Rn=dn.onChange,Yn=dn.palette,nr=Nt({color:Mn||"transparent",palette:Yn}),lr=(0,St.KO)(sn),gr=(0,Et.Z)(lr,2),ar=gr[0],Mr=gr[1],$a=(0,st.useRef)(null);if((0,st.useEffect)(function(){$a.current&&ar==="shades"&&$a.current.focus()},[nr,ar]),nr){var jr=nr.colorName,Gr=nr.shade,io=Yn[jr];if(Array.isArray(io))return(0,ht.jsx)("div",{className:"color-picker-content--default shades",children:io.map(function(_r,oo){return(0,ht.jsxs)("button",{ref:oo===Gr&&ar==="shades"?$a:void 0,tabIndex:-1,type:"button",className:(0,it.Z)("color-picker__button color-picker__button--large",{active:oo===Gr}),"aria-label":"Shade",title:"".concat(jr," - ").concat(oo+1),style:_r?{"--swatch-color":_r}:void 0,onClick:function(){Rn(_r),Mr("shades")},children:[(0,ht.jsx)("div",{className:"color-picker__button-outline"}),(0,ht.jsx)(mn,{color:_r,keyLabel:oo+1,isShade:!0})]},oo)})})}return(0,ht.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,ht.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,ht.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,xt.t)("colorPicker.noShades")})]})},Ut=function(dn){var Mn=dn.palette,Rn=dn.color,Yn=dn.onChange,nr=(dn.label,dn.activeShade),lr=Nt({color:Rn||"transparent",palette:Mn}),gr=(0,St.KO)(sn),ar=(0,Et.Z)(gr,2),Mr=ar[0],$a=ar[1],jr=(0,st.useRef)(null);return(0,st.useEffect)(function(){jr.current&&Mr==="baseColors"&&jr.current.focus()},[lr==null?void 0:lr.colorName,Mr]),(0,ht.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Mn).map(function(Gr,io){var _r=(0,Et.Z)(Gr,2),oo=_r[0],Lr=_r[1],no=(Array.isArray(Lr)?Lr[nr]:Lr)||"transparent",bo=dt[io],yo=(0,xt.t)("colors.".concat(oo.replace(/\d+/,"")),null,"");return(0,ht.jsxs)("button",{ref:(lr==null?void 0:lr.colorName)===oo?jr:void 0,tabIndex:-1,type:"button",className:(0,it.Z)("color-picker__button color-picker__button--large",{active:(lr==null?void 0:lr.colorName)===oo,"is-transparent":no==="transparent"||!no}),onClick:function(){Yn(no),$a("baseColors")},title:"".concat(yo).concat(no.startsWith("#")?" ".concat(no):""," — ").concat(bo),"aria-label":"".concat(yo," — ").concat(bo),style:no?{"--swatch-color":no}:void 0,"data-testid":"color-".concat(oo),children:[(0,ht.jsx)("div",{className:"color-picker__button-outline"}),(0,ht.jsx)(mn,{color:no,keyLabel:bo})]},oo)})})},Kt=function(dn){var Mn=dn.colors,Rn=dn.color,Yn=dn.onChange,nr=dn.label,lr=(0,St.KO)(sn),gr=(0,Et.Z)(lr,2),ar=gr[0],Mr=gr[1],$a=(0,st.useRef)(null);return(0,st.useEffect)(function(){$a.current&&$a.current.focus()},[Rn,ar]),(0,ht.jsx)("div",{className:"color-picker-content--default",children:Mn.map(function(jr,Gr){return(0,ht.jsxs)("button",{ref:Rn===jr?$a:void 0,tabIndex:-1,type:"button",className:(0,it.Z)("color-picker__button color-picker__button--large",{active:Rn===jr,"is-transparent":jr==="transparent"||!jr}),onClick:function(){Yn(jr),Mr("custom")},title:jr,"aria-label":nr,style:{"--swatch-color":jr},children:[(0,ht.jsx)("div",{className:"color-picker__button-outline"}),(0,ht.jsx)(mn,{color:jr,keyLabel:Gr+1,isCustomColor:!0})]},Gr)})})},yt=_(5491),Ot=function(dn,Mn,Rn){var Yn,nr=Math.ceil(Rn/nt.dC);switch(Mn=(Yn=Mn)!==null&&Yn!==void 0?Yn:-1,dn){case"ArrowLeft":var lr=Mn-1;return lr<0?Rn-1:lr;case"ArrowRight":return(Mn+1)%Rn;case"ArrowDown":var gr=Mn+nt.dC;return gr>=Rn?Mn%nt.dC:gr;case"ArrowUp":var ar=Mn-nt.dC,Mr=ar<0?nt.dC*nr+ar:ar;return Mr>=Rn?void 0:Mr}},Gt=function(dn){var Mn=dn.event,Rn=dn.activeColorPickerSection,Yn=dn.palette,nr=dn.color,lr=dn.onChange,gr=dn.customColors,ar=dn.setActiveColorPickerSection,Mr=dn.activeShade,$a=dn.onEyeDropperToggle,jr=dn.onEscape;if(Mn[yt.tW.CTRL_OR_CMD])return!1;if(Mn.key===yt.tW.ESCAPE)return jr(Mn),!0;if(Mn.key===yt.tW.ALT)return $a(!0),!0;if(Mn.key===yt.tW.I)return $a(),!0;var Gr=Nt({color:nr,palette:Yn});if(Mn.key===yt.tW.TAB){var io={custom:!!gr.length,baseColors:!0,shades:(Gr==null?void 0:Gr.shade)!=null,hex:!0},_r=Object.entries(io).reduce(function(Po,qo){var Zl=(0,Et.Z)(qo,2),Ql=Zl[0];return Zl[1]&&Po.push(Ql),Po},[]),oo=_r.indexOf(Rn),Lr=Mn.shiftKey?-1:1,no=_r[oo+Lr>_r.length-1?0:oo+Lr<0?_r.length-1:oo+Lr];return no&&ar(no),no==="custom"?lr(gr[0]):no==="baseColors"&&(Object.entries(Yn).find(function(Po){var qo=(0,Et.Z)(Po,2),Zl=qo[0],Ql=qo[1];return Array.isArray(Ql)?Ql.includes(nr):Ql===nr?Zl:null})||lr(nt.HO.black)),Mn.preventDefault(),Mn.stopPropagation(),!0}if(function(Po){var qo=Po.e,Zl=Po.colorObj,Ql=Po.onChange,Hl=Po.palette,Wl=Po.customColors,Ws=Po.setActiveColorPickerSection,fs=Po.activeShade;if((Zl==null?void 0:Zl.shade)!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(qo.code)&&qo.shiftKey){var vs=Number(qo.code.slice(-1))-1;return Ql(Hl[Zl.colorName][vs]),Ws("shades"),!0}if(["1","2","3","4","5"].includes(qo.key)&&Wl[Number(qo.key)-1])return Ql(Wl[Number(qo.key)-1]),Ws("custom"),!0;if(dt.includes(qo.key)){var Js=dt.indexOf(qo.key),ks=Hl[Object.keys(Hl)[Js]];return Ql(Array.isArray(ks)?ks[fs]:ks),Ws("baseColors"),!0}return!1}({e:Mn,colorObj:Gr,onChange:lr,palette:Yn,customColors:gr,setActiveColorPickerSection:ar,activeShade:Mr}))return!0;if(Rn==="shades"&&Gr){var bo=Gr.shade,yo=Ot(Mn.key,bo,nt.dC);if(yo!==void 0)return lr(Yn[Gr.colorName][yo]),!0}if(Rn==="baseColors"&&Gr){var fo=Gr.colorName,uo=Object.keys(Yn),No=uo.indexOf(fo),_o=Ot(Mn.key,No,uo.length);if(_o!==void 0){var $o=Yn[uo[_o]];return lr(Array.isArray($o)?$o[Mr]:$o),!0}}if(Rn==="custom"){var So=gr.indexOf(nr),Ho=Ot(Mn.key,So,gr.length);if(Ho!==void 0)return lr(gr[Ho]),!0}return!1},Ct=function(dn){var Mn=dn.children;return(0,ht.jsx)("div",{className:"color-picker__heading",children:Mn})},Xt=_(9937),ut=function(dn){var Mn,Rn=dn.color,Yn=dn.onChange,nr=dn.label,lr=dn.type,gr=dn.elements,ar=dn.palette,Mr=dn.updateData,$a=dn.children,jr=dn.onEyeDropperToggle,Gr=dn.onEscape,io=tt().useState(function(){return lr==="canvasBackground"?[]:function(So,Ho,Po){var qo={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Zl=So.filter(function(Hl){if(Hl.isDeleted)return!1;var Wl=Hl[qo[Ho]];return Yt({color:Wl,palette:Po})}),Ql=new Map;return Zl.forEach(function(Hl){var Wl=Hl[qo[Ho]];Ql.has(Wl)?Ql.set(Wl,Ql.get(Wl)+1):Ql.set(Wl,1)}),(0,Zt.Z)(Ql.entries()).sort(function(Hl,Wl){return Wl[1]-Hl[1]}).map(function(Hl){return Hl[0]}).slice(0,nt.Lx)}(gr,lr,ar)}),_r=(0,Et.Z)(io,1)[0],oo=(0,St.KO)(sn),Lr=(0,Et.Z)(oo,2),no=Lr[0],bo=Lr[1],yo=Nt({color:Rn,palette:ar});(0,st.useEffect)(function(){if(!no){var So=Yt({color:Rn,palette:ar}),Ho=So&&!_r.includes(Rn);bo(Ho?"hex":So?"custom":(yo==null?void 0:yo.shade)!=null?"shades":"baseColors")}},[no,Rn,ar,bo,yo,_r]);var fo=(0,st.useState)((Mn=yo==null?void 0:yo.shade)!==null&&Mn!==void 0?Mn:lr==="elementBackground"?nt._T:nt.z8),uo=(0,Et.Z)(fo,2),No=uo[0],_o=uo[1];(0,st.useEffect)(function(){(yo==null?void 0:yo.shade)!=null&&_o(yo.shade);var So=function(Ho){Ho.key===yt.tW.ALT&&jr(!1)};return document.addEventListener(Xt.Ks.KEYUP,So,{capture:!0}),function(){document.removeEventListener(Xt.Ks.KEYUP,So,{capture:!0})}},[yo,jr]);var $o=tt().useRef(null);return(0,ht.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,xt.t)("labels.colorPicker"),children:(0,ht.jsxs)("div",{ref:$o,onKeyDown:function(So){Gt({event:So,activeColorPickerSection:no,palette:ar,color:Rn,onChange:Yn,onEyeDropperToggle:jr,customColors:_r,setActiveColorPickerSection:bo,updateData:Mr,activeShade:No,onEscape:Gr})&&(So.preventDefault(),So.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!_r.length&&(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Ct,{children:(0,xt.t)("colorPicker.mostUsedCustomColors")}),(0,ht.jsx)(Kt,{colors:_r,color:Rn,label:(0,xt.t)("colorPicker.mostUsedCustomColors"),onChange:Yn})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Ct,{children:(0,xt.t)("colorPicker.colors")}),(0,ht.jsx)(Ut,{color:Rn,label:nr,palette:ar,onChange:Yn,activeShade:No})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Ct,{children:(0,xt.t)("colorPicker.shades")}),(0,ht.jsx)(qt,{hex:Rn,onChange:Yn,palette:ar})]}),$a]})})},ft=_(11),$=_(7217),wt=_(9335),gt=_(1267),lt=_(3119),pt=_(3060);const vt="dismissableLayer.update",zt="dismissableLayer.pointerDownOutside",Qt="dismissableLayer.focusOutside";let Ft;const At=(0,st.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tt=(0,st.forwardRef)((dn,Mn)=>{var Rn;const{disableOutsidePointerEvents:Yn=!1,onEscapeKeyDown:nr,onPointerDownOutside:lr,onFocusOutside:gr,onInteractOutside:ar,onDismiss:Mr,...$a}=dn,jr=(0,st.useContext)(At),[Gr,io]=(0,st.useState)(null),_r=(Rn=Gr==null?void 0:Gr.ownerDocument)!==null&&Rn!==void 0?Rn:globalThis==null?void 0:globalThis.document,[,oo]=(0,st.useState)({}),Lr=(0,wt.e)(Mn,So=>io(So)),no=Array.from(jr.layers),[bo]=[...jr.layersWithOutsidePointerEventsDisabled].slice(-1),yo=no.indexOf(bo),fo=Gr?no.indexOf(Gr):-1,uo=jr.layersWithOutsidePointerEventsDisabled.size>0,No=fo>=yo,_o=function(So,Ho=globalThis==null?void 0:globalThis.document){const Po=(0,pt.W)(So),qo=(0,st.useRef)(!1),Zl=(0,st.useRef)(()=>{});return(0,st.useEffect)(()=>{const Ql=Wl=>{if(Wl.target&&!qo.current){let vs=function(){un(zt,Po,fs,{discrete:!0})};var Ws=vs;const fs={originalEvent:Wl};Wl.pointerType==="touch"?(Ho.removeEventListener("click",Zl.current),Zl.current=vs,Ho.addEventListener("click",Zl.current,{once:!0})):vs()}qo.current=!1},Hl=window.setTimeout(()=>{Ho.addEventListener("pointerdown",Ql)},0);return()=>{window.clearTimeout(Hl),Ho.removeEventListener("pointerdown",Ql),Ho.removeEventListener("click",Zl.current)}},[Ho,Po]),{onPointerDownCapture:()=>qo.current=!0}}(So=>{const Ho=So.target,Po=[...jr.branches].some(qo=>qo.contains(Ho));No&&!Po&&(lr==null||lr(So),ar==null||ar(So),So.defaultPrevented||Mr==null||Mr())},_r),$o=function(So,Ho=globalThis==null?void 0:globalThis.document){const Po=(0,pt.W)(So),qo=(0,st.useRef)(!1);return(0,st.useEffect)(()=>{const Zl=Ql=>{Ql.target&&!qo.current&&un(Qt,Po,{originalEvent:Ql},{discrete:!1})};return Ho.addEventListener("focusin",Zl),()=>Ho.removeEventListener("focusin",Zl)},[Ho,Po]),{onFocusCapture:()=>qo.current=!0,onBlurCapture:()=>qo.current=!1}}(So=>{const Ho=So.target;[...jr.branches].some(Po=>Po.contains(Ho))||(gr==null||gr(So),ar==null||ar(So),So.defaultPrevented||Mr==null||Mr())},_r);return function(So,Ho=globalThis==null?void 0:globalThis.document){const Po=(0,pt.W)(So);(0,st.useEffect)(()=>{const qo=Zl=>{Zl.key==="Escape"&&Po(Zl)};return Ho.addEventListener("keydown",qo),()=>Ho.removeEventListener("keydown",qo)},[Po,Ho])}(So=>{fo===jr.layers.size-1&&(nr==null||nr(So),!So.defaultPrevented&&Mr&&(So.preventDefault(),Mr()))},_r),(0,st.useEffect)(()=>{if(Gr)return Yn&&(jr.layersWithOutsidePointerEventsDisabled.size===0&&(Ft=_r.body.style.pointerEvents,_r.body.style.pointerEvents="none"),jr.layersWithOutsidePointerEventsDisabled.add(Gr)),jr.layers.add(Gr),jt(),()=>{Yn&&jr.layersWithOutsidePointerEventsDisabled.size===1&&(_r.body.style.pointerEvents=Ft)}},[Gr,_r,Yn,jr]),(0,st.useEffect)(()=>()=>{Gr&&(jr.layers.delete(Gr),jr.layersWithOutsidePointerEventsDisabled.delete(Gr),jt())},[Gr,jr]),(0,st.useEffect)(()=>{const So=()=>oo({});return document.addEventListener(vt,So),()=>document.removeEventListener(vt,So)},[]),(0,st.createElement)(lt.WV.div,(0,ft.Z)({},$a,{ref:Lr,style:{pointerEvents:uo?No?"auto":"none":void 0,...dn.style},onFocusCapture:(0,$.M)(dn.onFocusCapture,$o.onFocusCapture),onBlurCapture:(0,$.M)(dn.onBlurCapture,$o.onBlurCapture),onPointerDownCapture:(0,$.M)(dn.onPointerDownCapture,_o.onPointerDownCapture)}))});function jt(){const dn=new CustomEvent(vt);document.dispatchEvent(dn)}function un(dn,Mn,Rn,{discrete:Yn}){const nr=Rn.originalEvent.target,lr=new CustomEvent(dn,{bubbles:!1,cancelable:!0,detail:Rn});Mn&&nr.addEventListener(dn,Mn,{once:!0}),Yn?(0,lt.jH)(nr,lr):nr.dispatchEvent(lr)}let Jt=0;function hn(){(0,st.useEffect)(()=>{var dn,Mn;const Rn=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(dn=Rn[0])!==null&&dn!==void 0?dn:rn()),document.body.insertAdjacentElement("beforeend",(Mn=Rn[1])!==null&&Mn!==void 0?Mn:rn()),Jt++,()=>{Jt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Yn=>Yn.remove()),Jt--}},[])}function rn(){const dn=document.createElement("span");return dn.setAttribute("data-radix-focus-guard",""),dn.tabIndex=0,dn.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",dn}const Mt="focusScope.autoFocusOnMount",an="focusScope.autoFocusOnUnmount",Cn={bubbles:!1,cancelable:!0},kn=(0,st.forwardRef)((dn,Mn)=>{const{loop:Rn=!1,trapped:Yn=!1,onMountAutoFocus:nr,onUnmountAutoFocus:lr,...gr}=dn,[ar,Mr]=(0,st.useState)(null),$a=(0,pt.W)(nr),jr=(0,pt.W)(lr),Gr=(0,st.useRef)(null),io=(0,wt.e)(Mn,Lr=>Mr(Lr)),_r=(0,st.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,st.useEffect)(()=>{if(Yn){let bo=function(fo){if(_r.paused||!ar)return;const uo=fo.target;ar.contains(uo)?Gr.current=uo:vn(Gr.current,{select:!0})},yo=function(fo){!_r.paused&&ar&&(ar.contains(fo.relatedTarget)||vn(Gr.current,{select:!0}))};var Lr=bo,no=yo;return document.addEventListener("focusin",bo),document.addEventListener("focusout",yo),()=>{document.removeEventListener("focusin",bo),document.removeEventListener("focusout",yo)}}},[Yn,ar,_r.paused]),(0,st.useEffect)(()=>{if(ar){Gn.add(_r);const no=document.activeElement;if(!ar.contains(no)){const bo=new CustomEvent(Mt,Cn);ar.addEventListener(Mt,$a),ar.dispatchEvent(bo),bo.defaultPrevented||(function(yo,{select:fo=!1}={}){const uo=document.activeElement;for(const No of yo)if(vn(No,{select:fo}),document.activeElement!==uo)return}((Lr=jn(ar),Lr.filter(yo=>yo.tagName!=="A")),{select:!0}),document.activeElement===no&&vn(ar))}return()=>{ar.removeEventListener(Mt,$a),setTimeout(()=>{const bo=new CustomEvent(an,Cn);ar.addEventListener(an,jr),ar.dispatchEvent(bo),bo.defaultPrevented||vn(no??document.body,{select:!0}),ar.removeEventListener(an,jr),Gn.remove(_r)},0)}}var Lr},[ar,$a,jr,_r]);const oo=(0,st.useCallback)(Lr=>{if(!Rn&&!Yn||_r.paused)return;const no=Lr.key==="Tab"&&!Lr.altKey&&!Lr.ctrlKey&&!Lr.metaKey,bo=document.activeElement;if(no&&bo){const yo=Lr.currentTarget,[fo,uo]=function(No){const _o=jn(No),$o=Dn(_o,No),So=Dn(_o.reverse(),No);return[$o,So]}(yo);fo&&uo?Lr.shiftKey||bo!==uo?Lr.shiftKey&&bo===fo&&(Lr.preventDefault(),Rn&&vn(uo,{select:!0})):(Lr.preventDefault(),Rn&&vn(fo,{select:!0})):bo===yo&&Lr.preventDefault()}},[Rn,Yn,_r.paused]);return(0,st.createElement)(lt.WV.div,(0,ft.Z)({tabIndex:-1},gr,{ref:io,onKeyDown:oo}))});function jn(dn){const Mn=[],Rn=document.createTreeWalker(dn,NodeFilter.SHOW_ELEMENT,{acceptNode:Yn=>{const nr=Yn.tagName==="INPUT"&&Yn.type==="hidden";return Yn.disabled||Yn.hidden||nr?NodeFilter.FILTER_SKIP:Yn.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Rn.nextNode();)Mn.push(Rn.currentNode);return Mn}function Dn(dn,Mn){for(const Rn of dn)if(!Fn(Rn,{upTo:Mn}))return Rn}function Fn(dn,{upTo:Mn}){if(getComputedStyle(dn).visibility==="hidden")return!0;for(;dn;){if(Mn!==void 0&&dn===Mn)return!1;if(getComputedStyle(dn).display==="none")return!0;dn=dn.parentElement}return!1}function vn(dn,{select:Mn=!1}={}){if(dn&&dn.focus){const Rn=document.activeElement;dn.focus({preventScroll:!0}),dn!==Rn&&function(Yn){return Yn instanceof HTMLInputElement&&"select"in Yn}(dn)&&Mn&&dn.select()}}const Gn=function(){let dn=[];return{add(Mn){const Rn=dn[0];Mn!==Rn&&(Rn==null||Rn.pause()),dn=Sn(dn,Mn),dn.unshift(Mn)},remove(Mn){var Rn;dn=Sn(dn,Mn),(Rn=dn[0])===null||Rn===void 0||Rn.resume()}}}();function Sn(dn,Mn){const Rn=[...dn],Yn=Rn.indexOf(Mn);return Yn!==-1&&Rn.splice(Yn,1),Rn}var nn=_(5622);function Qn(dn){return dn.split("-")[0]}function tn(dn){return dn.split("-")[1]}function at(dn){return["top","bottom"].includes(Qn(dn))?"x":"y"}function ct(dn){return dn==="y"?"height":"width"}function mt(dn,Mn,Rn){let{reference:Yn,floating:nr}=dn;const lr=Yn.x+Yn.width/2-nr.width/2,gr=Yn.y+Yn.height/2-nr.height/2,ar=at(Mn),Mr=ct(ar),$a=Yn[Mr]/2-nr[Mr]/2,jr=ar==="x";let Gr;switch(Qn(Mn)){case"top":Gr={x:lr,y:Yn.y-nr.height};break;case"bottom":Gr={x:lr,y:Yn.y+Yn.height};break;case"right":Gr={x:Yn.x+Yn.width,y:gr};break;case"left":Gr={x:Yn.x-nr.width,y:gr};break;default:Gr={x:Yn.x,y:Yn.y}}switch(tn(Mn)){case"start":Gr[ar]-=$a*(Rn&&jr?-1:1);break;case"end":Gr[ar]+=$a*(Rn&&jr?-1:1)}return Gr}function Wt(dn){return typeof dn!="number"?function(Mn){return{top:0,right:0,bottom:0,left:0,...Mn}}(dn):{top:dn,right:dn,bottom:dn,left:dn}}function Rt(dn){return{...dn,top:dn.y,left:dn.x,right:dn.x+dn.width,bottom:dn.y+dn.height}}async function en(dn,Mn){var Rn;Mn===void 0&&(Mn={});const{x:Yn,y:nr,platform:lr,rects:gr,elements:ar,strategy:Mr}=dn,{boundary:$a="clippingAncestors",rootBoundary:jr="viewport",elementContext:Gr="floating",altBoundary:io=!1,padding:_r=0}=Mn,oo=Wt(_r),Lr=ar[io?Gr==="floating"?"reference":"floating":Gr],no=Rt(await lr.getClippingRect({element:(Rn=await(lr.isElement==null?void 0:lr.isElement(Lr)))==null||Rn?Lr:Lr.contextElement||await(lr.getDocumentElement==null?void 0:lr.getDocumentElement(ar.floating)),boundary:$a,rootBoundary:jr,strategy:Mr})),bo=Rt(lr.convertOffsetParentRelativeRectToViewportRelativeRect?await lr.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Gr==="floating"?{...gr.floating,x:Yn,y:nr}:gr.reference,offsetParent:await(lr.getOffsetParent==null?void 0:lr.getOffsetParent(ar.floating)),strategy:Mr}):gr[Gr]);return{top:no.top-bo.top+oo.top,bottom:bo.bottom-no.bottom+oo.bottom,left:no.left-bo.left+oo.left,right:bo.right-no.right+oo.right}}const Pt=Math.min,on=Math.max;function Bn(dn,Mn,Rn){return on(dn,Pt(Mn,Rn))}const yn=dn=>({name:"arrow",options:dn,async fn(Mn){const{element:Rn,padding:Yn=0}=dn??{},{x:nr,y:lr,placement:gr,rects:ar,platform:Mr}=Mn;if(Rn==null)return{};const $a=Wt(Yn),jr={x:nr,y:lr},Gr=at(gr),io=tn(gr),_r=ct(Gr),oo=await Mr.getDimensions(Rn),Lr=Gr==="y"?"top":"left",no=Gr==="y"?"bottom":"right",bo=ar.reference[_r]+ar.reference[Gr]-jr[Gr]-ar.floating[_r],yo=jr[Gr]-ar.reference[Gr],fo=await(Mr.getOffsetParent==null?void 0:Mr.getOffsetParent(Rn));let uo=fo?Gr==="y"?fo.clientHeight||0:fo.clientWidth||0:0;uo===0&&(uo=ar.floating[_r]);const No=bo/2-yo/2,_o=$a[Lr],$o=uo-oo[_r]-$a[no],So=uo/2-oo[_r]/2+No,Ho=Bn(_o,So,$o),Po=(io==="start"?$a[Lr]:$a[no])>0&&So!==Ho&&ar.reference[_r]<=ar.floating[_r];return{[Gr]:jr[Gr]-(Po?So<_o?_o-So:$o-So:0),data:{[Gr]:Ho,centerOffset:So-Ho}}}}),Wn={left:"right",right:"left",bottom:"top",top:"bottom"};function Vn(dn){return dn.replace(/left|right|bottom|top/g,Mn=>Wn[Mn])}function Hn(dn,Mn,Rn){Rn===void 0&&(Rn=!1);const Yn=tn(dn),nr=at(dn),lr=ct(nr);let gr=nr==="x"?Yn===(Rn?"end":"start")?"right":"left":Yn==="start"?"bottom":"top";return Mn.reference[lr]>Mn.floating[lr]&&(gr=Vn(gr)),{main:gr,cross:Vn(gr)}}const Zn={start:"end",end:"start"};function Kn(dn){return dn.replace(/start|end/g,Mn=>Zn[Mn])}const qn=["top","right","bottom","left"],sr=(qn.reduce((dn,Mn)=>dn.concat(Mn,Mn+"-start",Mn+"-end"),[]),function(dn){return dn===void 0&&(dn={}),{name:"flip",options:dn,async fn(Mn){var Rn;const{placement:Yn,middlewareData:nr,rects:lr,initialPlacement:gr,platform:ar,elements:Mr}=Mn,{mainAxis:$a=!0,crossAxis:jr=!0,fallbackPlacements:Gr,fallbackStrategy:io="bestFit",flipAlignment:_r=!0,...oo}=dn,Lr=Qn(Yn),no=Gr||(Lr!==gr&&_r?function(So){const Ho=Vn(So);return[Kn(So),Ho,Kn(Ho)]}(gr):[Vn(gr)]),bo=[gr,...no],yo=await en(Mn,oo),fo=[];let uo=((Rn=nr.flip)==null?void 0:Rn.overflows)||[];if($a&&fo.push(yo[Lr]),jr){const{main:So,cross:Ho}=Hn(Yn,lr,await(ar.isRTL==null?void 0:ar.isRTL(Mr.floating)));fo.push(yo[So],yo[Ho])}if(uo=[...uo,{placement:Yn,overflows:fo}],!fo.every(So=>So<=0)){var No,_o;const So=((No=(_o=nr.flip)==null?void 0:_o.index)!=null?No:0)+1,Ho=bo[So];if(Ho)return{data:{index:So,overflows:uo},reset:{placement:Ho}};let Po="bottom";switch(io){case"bestFit":{var $o;const qo=($o=uo.map(Zl=>[Zl,Zl.overflows.filter(Ql=>Ql>0).reduce((Ql,Hl)=>Ql+Hl,0)]).sort((Zl,Ql)=>Zl[1]-Ql[1])[0])==null?void 0:$o[0].placement;qo&&(Po=qo);break}case"initialPlacement":Po=gr}if(Yn!==Po)return{reset:{placement:Po}}}return{}}}});function In(dn,Mn){return{top:dn.top-Mn.height,right:dn.right-Mn.width,bottom:dn.bottom-Mn.height,left:dn.left-Mn.width}}function An(dn){return qn.some(Mn=>dn[Mn]>=0)}const On=function(dn){let{strategy:Mn="referenceHidden",...Rn}=dn===void 0?{}:dn;return{name:"hide",async fn(Yn){const{rects:nr}=Yn;switch(Mn){case"referenceHidden":{const lr=In(await en(Yn,{...Rn,elementContext:"reference"}),nr.reference);return{data:{referenceHiddenOffsets:lr,referenceHidden:An(lr)}}}case"escaped":{const lr=In(await en(Yn,{...Rn,altBoundary:!0}),nr.floating);return{data:{escapedOffsets:lr,escaped:An(lr)}}}default:return{}}}}},_n=function(dn){return dn===void 0&&(dn=0),{name:"offset",options:dn,async fn(Mn){const{x:Rn,y:Yn}=Mn,nr=await async function(lr,gr){const{placement:ar,platform:Mr,elements:$a}=lr,jr=await(Mr.isRTL==null?void 0:Mr.isRTL($a.floating)),Gr=Qn(ar),io=tn(ar),_r=at(ar)==="x",oo=["left","top"].includes(Gr)?-1:1,Lr=jr&&_r?-1:1,no=typeof gr=="function"?gr(lr):gr;let{mainAxis:bo,crossAxis:yo,alignmentAxis:fo}=typeof no=="number"?{mainAxis:no,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...no};return io&&typeof fo=="number"&&(yo=io==="end"?-1*fo:fo),_r?{x:yo*Lr,y:bo*oo}:{x:bo*oo,y:yo*Lr}}(Mn,dn);return{x:Rn+nr.x,y:Yn+nr.y,data:nr}}}};function or(dn){return dn==="x"?"y":"x"}const ir=function(dn){return dn===void 0&&(dn={}),{name:"shift",options:dn,async fn(Mn){const{x:Rn,y:Yn,placement:nr}=Mn,{mainAxis:lr=!0,crossAxis:gr=!1,limiter:ar={fn:no=>{let{x:bo,y:yo}=no;return{x:bo,y:yo}}},...Mr}=dn,$a={x:Rn,y:Yn},jr=await en(Mn,Mr),Gr=at(Qn(nr)),io=or(Gr);let _r=$a[Gr],oo=$a[io];if(lr){const no=Gr==="y"?"bottom":"right";_r=Bn(_r+jr[Gr==="y"?"top":"left"],_r,_r-jr[no])}if(gr){const no=io==="y"?"bottom":"right";oo=Bn(oo+jr[io==="y"?"top":"left"],oo,oo-jr[no])}const Lr=ar.fn({...Mn,[Gr]:_r,[io]:oo});return{...Lr,data:{x:Lr.x-Rn,y:Lr.y-Yn}}}}},mr=function(dn){return dn===void 0&&(dn={}),{options:dn,fn(Mn){const{x:Rn,y:Yn,placement:nr,rects:lr,middlewareData:gr}=Mn,{offset:ar=0,mainAxis:Mr=!0,crossAxis:$a=!0}=dn,jr={x:Rn,y:Yn},Gr=at(nr),io=or(Gr);let _r=jr[Gr],oo=jr[io];const Lr=typeof ar=="function"?ar({...lr,placement:nr}):ar,no=typeof Lr=="number"?{mainAxis:Lr,crossAxis:0}:{mainAxis:0,crossAxis:0,...Lr};if(Mr){const No=Gr==="y"?"height":"width",_o=lr.reference[Gr]-lr.floating[No]+no.mainAxis,$o=lr.reference[Gr]+lr.reference[No]-no.mainAxis;_r<_o?_r=_o:_r>$o&&(_r=$o)}if($a){var bo,yo,fo,uo;const No=Gr==="y"?"width":"height",_o=["top","left"].includes(Qn(nr)),$o=lr.reference[io]-lr.floating[No]+(_o&&(bo=(yo=gr.offset)==null?void 0:yo[io])!=null?bo:0)+(_o?0:no.crossAxis),So=lr.reference[io]+lr.reference[No]+(_o?0:(fo=(uo=gr.offset)==null?void 0:uo[io])!=null?fo:0)-(_o?no.crossAxis:0);oo<$o?oo=$o:oo>So&&(oo=So)}return{[Gr]:_r,[io]:oo}}}},yr=function(dn){return dn===void 0&&(dn={}),{name:"size",options:dn,async fn(Mn){const{placement:Rn,rects:Yn,platform:nr,elements:lr}=Mn,{apply:gr,...ar}=dn,Mr=await en(Mn,ar),$a=Qn(Rn),jr=tn(Rn);let Gr,io;$a==="top"||$a==="bottom"?(Gr=$a,io=jr===(await(nr.isRTL==null?void 0:nr.isRTL(lr.floating))?"start":"end")?"left":"right"):(io=$a,Gr=jr==="end"?"top":"bottom");const _r=on(Mr.left,0),oo=on(Mr.right,0),Lr=on(Mr.top,0),no=on(Mr.bottom,0),bo={availableHeight:Yn.floating.height-(["left","right"].includes(Rn)?2*(Lr!==0||no!==0?Lr+no:on(Mr.top,Mr.bottom)):Mr[Gr]),availableWidth:Yn.floating.width-(["top","bottom"].includes(Rn)?2*(_r!==0||oo!==0?_r+oo:on(Mr.left,Mr.right)):Mr[io])},yo=await nr.getDimensions(lr.floating);gr==null||gr({...Mn,...bo});const fo=await nr.getDimensions(lr.floating);return yo.width!==fo.width||yo.height!==fo.height?{reset:{rects:!0}}:{}}}};function cr(dn){return dn&&dn.document&&dn.location&&dn.alert&&dn.setInterval}function Ur(dn){if(dn==null)return window;if(!cr(dn)){const Mn=dn.ownerDocument;return Mn&&Mn.defaultView||window}return dn}function Wr(dn){return Ur(dn).getComputedStyle(dn)}function Xr(dn){return cr(dn)?"":dn?(dn.nodeName||"").toLowerCase():""}function wr(){const dn=navigator.userAgentData;return dn!=null&&dn.brands?dn.brands.map(Mn=>Mn.brand+"/"+Mn.version).join(" "):navigator.userAgent}function Jr(dn){return dn instanceof Ur(dn).HTMLElement}function Kr(dn){return dn instanceof Ur(dn).Element}function rr(dn){return typeof ShadowRoot<"u"&&(dn instanceof Ur(dn).ShadowRoot||dn instanceof ShadowRoot)}function Qr(dn){const{overflow:Mn,overflowX:Rn,overflowY:Yn}=Wr(dn);return/auto|scroll|overlay|hidden/.test(Mn+Yn+Rn)}function Ir(dn){return["table","td","th"].includes(Xr(dn))}function xr(dn){const Mn=/firefox/i.test(wr()),Rn=Wr(dn);return Rn.transform!=="none"||Rn.perspective!=="none"||Rn.contain==="paint"||["transform","perspective"].includes(Rn.willChange)||Mn&&Rn.willChange==="filter"||Mn&&!!Rn.filter&&Rn.filter!=="none"}function pr(){return!/^((?!chrome|android).)*safari/i.test(wr())}const Nr=Math.min,Rr=Math.max,qr=Math.round;function Dr(dn,Mn,Rn){var Yn,nr,lr,gr;Mn===void 0&&(Mn=!1),Rn===void 0&&(Rn=!1);const ar=dn.getBoundingClientRect();let Mr=1,$a=1;Mn&&Jr(dn)&&(Mr=dn.offsetWidth>0&&qr(ar.width)/dn.offsetWidth||1,$a=dn.offsetHeight>0&&qr(ar.height)/dn.offsetHeight||1);const jr=Kr(dn)?Ur(dn):window,Gr=!pr()&&Rn,io=(ar.left+(Gr&&(Yn=(nr=jr.visualViewport)==null?void 0:nr.offsetLeft)!=null?Yn:0))/Mr,_r=(ar.top+(Gr&&(lr=(gr=jr.visualViewport)==null?void 0:gr.offsetTop)!=null?lr:0))/$a,oo=ar.width/Mr,Lr=ar.height/$a;return{width:oo,height:Lr,top:_r,right:io+oo,bottom:_r+Lr,left:io,x:io,y:_r}}function Io(dn){return(Mn=dn,(Mn instanceof Ur(Mn).Node?dn.ownerDocument:dn.document)||window.document).documentElement;var Mn}function ro(dn){return Kr(dn)?{scrollLeft:dn.scrollLeft,scrollTop:dn.scrollTop}:{scrollLeft:dn.pageXOffset,scrollTop:dn.pageYOffset}}function Zo(dn){return Dr(Io(dn)).left+ro(dn).scrollLeft}function dr(dn,Mn,Rn){const Yn=Jr(Mn),nr=Io(Mn),lr=Dr(dn,Yn&&function(Mr){const $a=Dr(Mr);return qr($a.width)!==Mr.offsetWidth||qr($a.height)!==Mr.offsetHeight}(Mn),Rn==="fixed");let gr={scrollLeft:0,scrollTop:0};const ar={x:0,y:0};if(Yn||!Yn&&Rn!=="fixed")if((Xr(Mn)!=="body"||Qr(nr))&&(gr=ro(Mn)),Jr(Mn)){const Mr=Dr(Mn,!0);ar.x=Mr.x+Mn.clientLeft,ar.y=Mr.y+Mn.clientTop}else nr&&(ar.x=Zo(nr));return{x:lr.left+gr.scrollLeft-ar.x,y:lr.top+gr.scrollTop-ar.y,width:lr.width,height:lr.height}}function Hr(dn){return Xr(dn)==="html"?dn:dn.assignedSlot||dn.parentNode||(rr(dn)?dn.host:null)||Io(dn)}function Zr(dn){return Jr(dn)&&getComputedStyle(dn).position!=="fixed"?dn.offsetParent:null}function Vr(dn){const Mn=Ur(dn);let Rn=Zr(dn);for(;Rn&&Ir(Rn)&&getComputedStyle(Rn).position==="static";)Rn=Zr(Rn);return Rn&&(Xr(Rn)==="html"||Xr(Rn)==="body"&&getComputedStyle(Rn).position==="static"&&!xr(Rn))?Mn:Rn||function(Yn){let nr=Hr(Yn);for(rr(nr)&&(nr=nr.host);Jr(nr)&&!["html","body"].includes(Xr(nr));){if(xr(nr))return nr;nr=nr.parentNode}return null}(dn)||Mn}function Ao(dn){if(Jr(dn))return{width:dn.offsetWidth,height:dn.offsetHeight};const Mn=Dr(dn);return{width:Mn.width,height:Mn.height}}function xo(dn){const Mn=Hr(dn);return["html","body","#document"].includes(Xr(Mn))?dn.ownerDocument.body:Jr(Mn)&&Qr(Mn)?Mn:xo(Mn)}function wo(dn,Mn){var Rn;Mn===void 0&&(Mn=[]);const Yn=xo(dn),nr=Yn===((Rn=dn.ownerDocument)==null?void 0:Rn.body),lr=Ur(Yn),gr=nr?[lr].concat(lr.visualViewport||[],Qr(Yn)?Yn:[]):Yn,ar=Mn.concat(gr);return nr?ar:ar.concat(wo(gr))}function To(dn,Mn,Rn){return Mn==="viewport"?Rt(function(Yn,nr){const lr=Ur(Yn),gr=Io(Yn),ar=lr.visualViewport;let Mr=gr.clientWidth,$a=gr.clientHeight,jr=0,Gr=0;if(ar){Mr=ar.width,$a=ar.height;const io=pr();(io||!io&&nr==="fixed")&&(jr=ar.offsetLeft,Gr=ar.offsetTop)}return{width:Mr,height:$a,x:jr,y:Gr}}(dn,Rn)):Kr(Mn)?function(Yn,nr){const lr=Dr(Yn,!1,nr==="fixed"),gr=lr.top+Yn.clientTop,ar=lr.left+Yn.clientLeft;return{top:gr,left:ar,x:ar,y:gr,right:ar+Yn.clientWidth,bottom:gr+Yn.clientHeight,width:Yn.clientWidth,height:Yn.clientHeight}}(Mn,Rn):Rt(function(Yn){var nr;const lr=Io(Yn),gr=ro(Yn),ar=(nr=Yn.ownerDocument)==null?void 0:nr.body,Mr=Rr(lr.scrollWidth,lr.clientWidth,ar?ar.scrollWidth:0,ar?ar.clientWidth:0),$a=Rr(lr.scrollHeight,lr.clientHeight,ar?ar.scrollHeight:0,ar?ar.clientHeight:0);let jr=-gr.scrollLeft+Zo(Yn);const Gr=-gr.scrollTop;return Wr(ar||lr).direction==="rtl"&&(jr+=Rr(lr.clientWidth,ar?ar.clientWidth:0)-Mr),{width:Mr,height:$a,x:jr,y:Gr}}(Io(dn)))}function ho(dn){const Mn=wo(dn),Rn=["absolute","fixed"].includes(Wr(dn).position)&&Jr(dn)?Vr(dn):dn;return Kr(Rn)?Mn.filter(Yn=>Kr(Yn)&&function(nr,lr){const gr=lr.getRootNode==null?void 0:lr.getRootNode();if(nr.contains(lr))return!0;if(gr&&rr(gr)){let ar=lr;do{if(ar&&nr===ar)return!0;ar=ar.parentNode||ar.host}while(ar)}return!1}(Yn,Rn)&&Xr(Yn)!=="body"):[]}const Cr={getClippingRect:function(dn){let{element:Mn,boundary:Rn,rootBoundary:Yn,strategy:nr}=dn;const lr=[...Rn==="clippingAncestors"?ho(Mn):[].concat(Rn),Yn],gr=lr[0],ar=lr.reduce((Mr,$a)=>{const jr=To(Mn,$a,nr);return Mr.top=Rr(jr.top,Mr.top),Mr.right=Nr(jr.right,Mr.right),Mr.bottom=Nr(jr.bottom,Mr.bottom),Mr.left=Rr(jr.left,Mr.left),Mr},To(Mn,gr,nr));return{width:ar.right-ar.left,height:ar.bottom-ar.top,x:ar.left,y:ar.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(dn){let{rect:Mn,offsetParent:Rn,strategy:Yn}=dn;const nr=Jr(Rn),lr=Io(Rn);if(Rn===lr)return Mn;let gr={scrollLeft:0,scrollTop:0};const ar={x:0,y:0};if((nr||!nr&&Yn!=="fixed")&&((Xr(Rn)!=="body"||Qr(lr))&&(gr=ro(Rn)),Jr(Rn))){const Mr=Dr(Rn,!0);ar.x=Mr.x+Rn.clientLeft,ar.y=Mr.y+Rn.clientTop}return{...Mn,x:Mn.x-gr.scrollLeft+ar.x,y:Mn.y-gr.scrollTop+ar.y}},isElement:Kr,getDimensions:Ao,getOffsetParent:Vr,getDocumentElement:Io,getElementRects:dn=>{let{reference:Mn,floating:Rn,strategy:Yn}=dn;return{reference:dr(Mn,Vr(Rn),Yn),floating:{...Ao(Rn),x:0,y:0}}},getClientRects:dn=>Array.from(dn.getClientRects()),isRTL:dn=>Wr(dn).direction==="rtl"};function Br(dn,Mn,Rn,Yn){Yn===void 0&&(Yn={});const{ancestorScroll:nr=!0,ancestorResize:lr=!0,elementResize:gr=!0,animationFrame:ar=!1}=Yn,Mr=nr&&!ar,$a=lr&&!ar,jr=Mr||$a?[...Kr(dn)?wo(dn):[],...wo(Mn)]:[];jr.forEach(oo=>{Mr&&oo.addEventListener("scroll",Rn,{passive:!0}),$a&&oo.addEventListener("resize",Rn)});let Gr,io=null;if(gr){let oo=!0;io=new ResizeObserver(()=>{oo||Rn(),oo=!1}),Kr(dn)&&!ar&&io.observe(dn),io.observe(Mn)}let _r=ar?Dr(dn):null;return ar&&function oo(){const Lr=Dr(dn);!_r||Lr.x===_r.x&&Lr.y===_r.y&&Lr.width===_r.width&&Lr.height===_r.height||Rn(),_r=Lr,Gr=requestAnimationFrame(oo)}(),Rn(),()=>{var oo;jr.forEach(Lr=>{Mr&&Lr.removeEventListener("scroll",Rn),$a&&Lr.removeEventListener("resize",Rn)}),(oo=io)==null||oo.disconnect(),io=null,ar&&cancelAnimationFrame(Gr)}}const Fr=(dn,Mn,Rn)=>(async(Yn,nr,lr)=>{const{placement:gr="bottom",strategy:ar="absolute",middleware:Mr=[],platform:$a}=lr,jr=await($a.isRTL==null?void 0:$a.isRTL(nr));let Gr=await $a.getElementRects({reference:Yn,floating:nr,strategy:ar}),{x:io,y:_r}=mt(Gr,gr,jr),oo=gr,Lr={},no=0;for(let bo=0;bo<Mr.length;bo++){const{name:yo,fn:fo}=Mr[bo],{x:uo,y:No,data:_o,reset:$o}=await fo({x:io,y:_r,initialPlacement:gr,placement:oo,strategy:ar,middlewareData:Lr,rects:Gr,platform:$a,elements:{reference:Yn,floating:nr}});io=uo??io,_r=No??_r,Lr={...Lr,[yo]:{...Lr[yo],..._o}},$o&&no<=50&&(no++,typeof $o=="object"&&($o.placement&&(oo=$o.placement),$o.rects&&(Gr=$o.rects===!0?await $a.getElementRects({reference:Yn,floating:nr,strategy:ar}):$o.rects),{x:io,y:_r}=mt(Gr,oo,jr)),bo=-1)}return{x:io,y:_r,placement:oo,strategy:ar,middlewareData:Lr}})(dn,Mn,{platform:Cr,...Rn});var Sr=_(5156),to=_.n(Sr),lo=typeof document<"u"?st.useLayoutEffect:st.useEffect;function eo(dn,Mn){if(dn===Mn)return!0;if(typeof dn!=typeof Mn)return!1;if(typeof dn=="function"&&dn.toString()===Mn.toString())return!0;let Rn,Yn,nr;if(dn&&Mn&&typeof dn=="object"){if(Array.isArray(dn)){if(Rn=dn.length,Rn!=Mn.length)return!1;for(Yn=Rn;Yn--!=0;)if(!eo(dn[Yn],Mn[Yn]))return!1;return!0}if(nr=Object.keys(dn),Rn=nr.length,Rn!==Object.keys(Mn).length)return!1;for(Yn=Rn;Yn--!=0;)if(!Object.prototype.hasOwnProperty.call(Mn,nr[Yn]))return!1;for(Yn=Rn;Yn--!=0;){const lr=nr[Yn];if((lr!=="_owner"||!dn.$$typeof)&&!eo(dn[lr],Mn[lr]))return!1}return!0}return dn!=dn&&Mn!=Mn}function Eo(dn){let{middleware:Mn,placement:Rn="bottom",strategy:Yn="absolute",whileElementsMounted:nr}=dn===void 0?{}:dn;const lr=st.useRef(null),gr=st.useRef(null),ar=function(fo){const uo=st.useRef(fo);return lo(()=>{uo.current=fo}),uo}(nr),Mr=st.useRef(null),[$a,jr]=st.useState({x:null,y:null,strategy:Yn,placement:Rn,middlewareData:{}}),[Gr,io]=st.useState(Mn);eo(Gr==null?void 0:Gr.map(fo=>{let{options:uo}=fo;return uo}),Mn==null?void 0:Mn.map(fo=>{let{options:uo}=fo;return uo}))||io(Mn);const _r=st.useCallback(()=>{lr.current&&gr.current&&Fr(lr.current,gr.current,{middleware:Gr,placement:Rn,strategy:Yn}).then(fo=>{oo.current&&Sr.flushSync(()=>{jr(fo)})})},[Gr,Rn,Yn]);lo(()=>{oo.current&&_r()},[_r]);const oo=st.useRef(!1);lo(()=>(oo.current=!0,()=>{oo.current=!1}),[]);const Lr=st.useCallback(()=>{if(typeof Mr.current=="function"&&(Mr.current(),Mr.current=null),lr.current&&gr.current)if(ar.current){const fo=ar.current(lr.current,gr.current,_r);Mr.current=fo}else _r()},[_r,ar]),no=st.useCallback(fo=>{lr.current=fo,Lr()},[Lr]),bo=st.useCallback(fo=>{gr.current=fo,Lr()},[Lr]),yo=st.useMemo(()=>({reference:lr,floating:gr}),[]);return st.useMemo(()=>({...$a,update:_r,refs:yo,reference:no,floating:bo}),[$a,_r,yo,no,bo])}const go=dn=>{const{element:Mn,padding:Rn}=dn;return{name:"arrow",options:dn,fn(Yn){return nr=Mn,Object.prototype.hasOwnProperty.call(nr,"current")?Mn.current!=null?yn({element:Mn.current,padding:Rn}).fn(Yn):{}:Mn?yn({element:Mn,padding:Rn}).fn(Yn):{};var nr}}},mo=(0,st.forwardRef)((dn,Mn)=>{const{children:Rn,width:Yn=10,height:nr=5,...lr}=dn;return(0,st.createElement)(lt.WV.svg,(0,ft.Z)({},lr,{ref:Mn,width:Yn,height:nr,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),dn.asChild?Rn:(0,st.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),Oo=mo;var ao=_(3348);const co="Popper",[po,so]=(0,gt.b)(co),[Lo,Co]=po(co),Ro=dn=>{const{__scopePopper:Mn,children:Rn}=dn,[Yn,nr]=(0,st.useState)(null);return(0,st.createElement)(Lo,{scope:Mn,anchor:Yn,onAnchorChange:nr},Rn)},Fl="PopperAnchor",Ll=(0,st.forwardRef)((dn,Mn)=>{const{__scopePopper:Rn,virtualRef:Yn,...nr}=dn,lr=Co(Fl,Rn),gr=(0,st.useRef)(null),ar=(0,wt.e)(Mn,gr);return(0,st.useEffect)(()=>{lr.onAnchorChange((Yn==null?void 0:Yn.current)||gr.current)}),Yn?null:(0,st.createElement)(lt.WV.div,(0,ft.Z)({},nr,{ref:ar}))}),Kl="PopperContent",[rs,is]=po(Kl),[Ol,Ml]=po(Kl,{hasParent:!1,positionUpdateFns:new Set}),gs=(0,st.forwardRef)((dn,Mn)=>{var Rn,Yn,nr,lr,gr,ar,Mr,$a;const{__scopePopper:jr,side:Gr="bottom",sideOffset:io=0,align:_r="center",alignOffset:oo=0,arrowPadding:Lr=0,collisionBoundary:no=[],collisionPadding:bo=0,sticky:yo="partial",hideWhenDetached:fo=!1,avoidCollisions:uo=!0,onPlaced:No,..._o}=dn,$o=Co(Kl,jr),[So,Ho]=(0,st.useState)(null),Po=(0,wt.e)(Mn,cs=>Ho(cs)),[qo,Zl]=(0,st.useState)(null),Ql=function(cs){const[Os,ru]=(0,st.useState)(void 0);return(0,ao.b)(()=>{if(cs){ru({width:cs.offsetWidth,height:cs.offsetHeight});const h0=new ResizeObserver(Qu=>{if(!Array.isArray(Qu)||!Qu.length)return;const Yr=Qu[0];let wu,Eu;if("borderBoxSize"in Yr){const Uu=Yr.borderBoxSize,Gu=Array.isArray(Uu)?Uu[0]:Uu;wu=Gu.inlineSize,Eu=Gu.blockSize}else wu=cs.offsetWidth,Eu=cs.offsetHeight;ru({width:wu,height:Eu})});return h0.observe(cs,{box:"border-box"}),()=>h0.unobserve(cs)}ru(void 0)},[cs]),Os}(qo),Hl=(Rn=Ql==null?void 0:Ql.width)!==null&&Rn!==void 0?Rn:0,Wl=(Yn=Ql==null?void 0:Ql.height)!==null&&Yn!==void 0?Yn:0,Ws=Gr+(_r!=="center"?"-"+_r:""),fs=typeof bo=="number"?bo:{top:0,right:0,bottom:0,left:0,...bo},vs=Array.isArray(no)?no:[no],Js=vs.length>0,ks={padding:fs,boundary:vs.filter(Ar),altBoundary:Js},{reference:zl,floating:Ls,strategy:$l,x:Es,y:as,placement:yu,middlewareData:Ds,update:xu}=Eo({strategy:"fixed",placement:Ws,whileElementsMounted:Br,middleware:[$r(),_n({mainAxis:io+Wl,alignmentAxis:oo}),uo?ir({mainAxis:!0,crossAxis:!1,limiter:yo==="partial"?mr():void 0,...ks}):void 0,qo?go({element:qo,padding:Lr}):void 0,uo?sr({...ks}):void 0,yr({...ks,apply:({elements:cs,availableWidth:Os,availableHeight:ru})=>{cs.floating.style.setProperty("--radix-popper-available-width",`${Os}px`),cs.floating.style.setProperty("--radix-popper-available-height",`${ru}px`)}}),zr({arrowWidth:Hl,arrowHeight:Wl}),fo?On({strategy:"referenceHidden"}):void 0].filter(Ln)});(0,ao.b)(()=>{zl($o.anchor)},[zl,$o.anchor]);const Us=Es!==null&&as!==null,[c0,vu]=xa(yu),Ks=(0,pt.W)(No);(0,ao.b)(()=>{Us&&(Ks==null||Ks())},[Us,Ks]);const X0=(nr=Ds.arrow)===null||nr===void 0?void 0:nr.x,s0=(lr=Ds.arrow)===null||lr===void 0?void 0:lr.y,u0=((gr=Ds.arrow)===null||gr===void 0?void 0:gr.centerOffset)!==0,[g0,Fu]=(0,st.useState)();(0,ao.b)(()=>{So&&Fu(window.getComputedStyle(So).zIndex)},[So]);const{hasParent:d0,positionUpdateFns:Ys}=Ml(Kl,jr),nu=!d0;(0,st.useLayoutEffect)(()=>{if(!nu)return Ys.add(xu),()=>{Ys.delete(xu)}},[nu,Ys,xu]),(0,ao.b)(()=>{nu&&Us&&Array.from(Ys).reverse().forEach(cs=>requestAnimationFrame(cs))},[nu,Us,Ys]);const I0={"data-side":c0,"data-align":vu,..._o,ref:Po,style:{..._o.style,animation:Us?void 0:"none",opacity:(ar=Ds.hide)!==null&&ar!==void 0&&ar.referenceHidden?0:void 0}};return(0,st.createElement)("div",{ref:Ls,"data-radix-popper-content-wrapper":"",style:{position:$l,left:0,top:0,transform:Us?`translate3d(${Math.round(Es)}px, ${Math.round(as)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:g0,"--radix-popper-transform-origin":[(Mr=Ds.transformOrigin)===null||Mr===void 0?void 0:Mr.x,($a=Ds.transformOrigin)===null||$a===void 0?void 0:$a.y].join(" ")},dir:dn.dir},(0,st.createElement)(rs,{scope:jr,placedSide:c0,onArrowChange:Zl,arrowX:X0,arrowY:s0,shouldHideArrow:u0},nu?(0,st.createElement)(Ol,{scope:jr,hasParent:!0,positionUpdateFns:Ys},(0,st.createElement)(lt.WV.div,I0)):(0,st.createElement)(lt.WV.div,I0)))}),cn="PopperArrow",wn={top:"bottom",right:"left",bottom:"top",left:"right"},Tn=(0,st.forwardRef)(function(dn,Mn){const{__scopePopper:Rn,...Yn}=dn,nr=is(cn,Rn),lr=wn[nr.placedSide];return(0,st.createElement)("span",{ref:nr.onArrowChange,style:{position:"absolute",left:nr.arrowX,top:nr.arrowY,[lr]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[nr.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[nr.placedSide],visibility:nr.shouldHideArrow?"hidden":void 0}},(0,st.createElement)(Oo,(0,ft.Z)({},Yn,{ref:Mn,style:{...Yn.style,display:"block"}})))});function Ln(dn){return dn!==void 0}function Ar(dn){return dn!==null}const $r=()=>({name:"anchorCssProperties",fn(dn){const{rects:Mn,elements:Rn}=dn,{width:Yn,height:nr}=Mn.reference;return Rn.floating.style.setProperty("--radix-popper-anchor-width",`${Yn}px`),Rn.floating.style.setProperty("--radix-popper-anchor-height",`${nr}px`),{}}}),zr=dn=>({name:"transformOrigin",options:dn,fn(Mn){var Rn,Yn,nr,lr,gr;const{placement:ar,rects:Mr,middlewareData:$a}=Mn,jr=((Rn=$a.arrow)===null||Rn===void 0?void 0:Rn.centerOffset)!==0,Gr=jr?0:dn.arrowWidth,io=jr?0:dn.arrowHeight,[_r,oo]=xa(ar),Lr={start:"0%",center:"50%",end:"100%"}[oo],no=((Yn=(nr=$a.arrow)===null||nr===void 0?void 0:nr.x)!==null&&Yn!==void 0?Yn:0)+Gr/2,bo=((lr=(gr=$a.arrow)===null||gr===void 0?void 0:gr.y)!==null&&lr!==void 0?lr:0)+io/2;let yo="",fo="";return _r==="bottom"?(yo=jr?Lr:`${no}px`,fo=-io+"px"):_r==="top"?(yo=jr?Lr:`${no}px`,fo=`${Mr.floating.height+io}px`):_r==="right"?(yo=-io+"px",fo=jr?Lr:`${bo}px`):_r==="left"&&(yo=`${Mr.floating.width+io}px`,fo=jr?Lr:`${bo}px`),{data:{x:yo,y:fo}}}});function xa(dn){const[Mn,Rn="center"]=dn.split("-");return[Mn,Rn]}const vr=Ro,ba=Ll,_a=gs,Fo=Tn,Uo=(0,st.forwardRef)((dn,Mn)=>{var Rn;const{container:Yn=globalThis==null||(Rn=globalThis.document)===null||Rn===void 0?void 0:Rn.body,...nr}=dn;return Yn?to().createPortal((0,st.createElement)(lt.WV.div,(0,ft.Z)({},nr,{ref:Mn})),Yn):null});var Go=_(1483),Yo=_(4801),Vo=_(2673),Qo=function(dn){return typeof document>"u"?null:(Array.isArray(dn)?dn[0]:dn).ownerDocument.body},Ko=new WeakMap,Al=new WeakMap,ns={},ls=0,ps=function(dn){return dn&&(dn.host||ps(dn.parentNode))},Ss=function(dn,Mn,Rn,Yn){var nr=function(Gr,io){return io.map(function(_r){if(Gr.contains(_r))return _r;var oo=ps(_r);return oo&&Gr.contains(oo)?oo:(console.error("aria-hidden",_r,"in not contained inside",Gr,". Doing nothing"),null)}).filter(function(_r){return!!_r})}(Mn,Array.isArray(dn)?dn:[dn]);ns[Rn]||(ns[Rn]=new WeakMap);var lr=ns[Rn],gr=[],ar=new Set,Mr=new Set(nr),$a=function(Gr){Gr&&!ar.has(Gr)&&(ar.add(Gr),$a(Gr.parentNode))};nr.forEach($a);var jr=function(Gr){Gr&&!Mr.has(Gr)&&Array.prototype.forEach.call(Gr.children,function(io){if(ar.has(io))jr(io);else{var _r=io.getAttribute(Yn),oo=_r!==null&&_r!=="false",Lr=(Ko.get(io)||0)+1,no=(lr.get(io)||0)+1;Ko.set(io,Lr),lr.set(io,no),gr.push(io),Lr===1&&oo&&Al.set(io,!0),no===1&&io.setAttribute(Rn,"true"),oo||io.setAttribute(Yn,"true")}})};return jr(Mn),ar.clear(),ls++,function(){gr.forEach(function(Gr){var io=Ko.get(Gr)-1,_r=lr.get(Gr)-1;Ko.set(Gr,io),lr.set(Gr,_r),io||(Al.has(Gr)||Gr.removeAttribute(Yn),Al.delete(Gr)),_r||Gr.removeAttribute(Rn)}),--ls||(Ko=new WeakMap,Ko=new WeakMap,Al=new WeakMap,ns={})}},vo=function(dn,Mn,Rn){Rn===void 0&&(Rn="data-aria-hidden");var Yn=Array.from(Array.isArray(dn)?dn:[dn]),nr=Qo(dn);return nr?(Yn.push.apply(Yn,Array.from(nr.querySelectorAll("[aria-live]"))),Ss(Yn,nr,Rn,"aria-hidden")):function(){return null}},yl=function(){return yl=Object.assign||function(dn){for(var Mn,Rn=1,Yn=arguments.length;Rn<Yn;Rn++)for(var nr in Mn=arguments[Rn])Object.prototype.hasOwnProperty.call(Mn,nr)&&(dn[nr]=Mn[nr]);return dn},yl.apply(this,arguments)};function Nl(dn,Mn){var Rn={};for(var Yn in dn)Object.prototype.hasOwnProperty.call(dn,Yn)&&Mn.indexOf(Yn)<0&&(Rn[Yn]=dn[Yn]);if(dn!=null&&typeof Object.getOwnPropertySymbols=="function"){var nr=0;for(Yn=Object.getOwnPropertySymbols(dn);nr<Yn.length;nr++)Mn.indexOf(Yn[nr])<0&&Object.prototype.propertyIsEnumerable.call(dn,Yn[nr])&&(Rn[Yn[nr]]=dn[Yn[nr]])}return Rn}var _l="right-scroll-bar-position",ds="width-before-scroll-bar";function Cs(dn,Mn){return Rn=null,Yn=function(lr){return dn.forEach(function(gr){return function(ar,Mr){return typeof ar=="function"?ar(Mr):ar&&(ar.current=Mr),ar}(gr,lr)})},(nr=(0,st.useState)(function(){return{value:Rn,callback:Yn,facade:{get current(){return nr.value},set current(lr){var gr=nr.value;gr!==lr&&(nr.value=lr,nr.callback(lr,gr))}}}})[0]).callback=Yn,nr.facade;var Rn,Yn,nr}function Ms(dn){return dn}function ys(dn,Mn){Mn===void 0&&(Mn=Ms);var Rn=[],Yn=!1,nr={read:function(){if(Yn)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Rn.length?Rn[Rn.length-1]:dn},useMedium:function(lr){var gr=Mn(lr,Yn);return Rn.push(gr),function(){Rn=Rn.filter(function(ar){return ar!==gr})}},assignSyncMedium:function(lr){for(Yn=!0;Rn.length;){var gr=Rn;Rn=[],gr.forEach(lr)}Rn={push:function(ar){return lr(ar)},filter:function(){return Rn}}},assignMedium:function(lr){Yn=!0;var gr=[];if(Rn.length){var ar=Rn;Rn=[],ar.forEach(lr),gr=Rn}var Mr=function(){var jr=gr;gr=[],jr.forEach(lr)},$a=function(){return Promise.resolve().then(Mr)};$a(),Rn={push:function(jr){gr.push(jr),$a()},filter:function(jr){return gr=gr.filter(jr),Rn}}}};return nr}var Fs=function(dn){dn===void 0&&(dn={});var Mn=ys(null);return Mn.options=yl({async:!0,ssr:!1},dn),Mn}(),Xu=function(){},mu=st.forwardRef(function(dn,Mn){var Rn=st.useRef(null),Yn=st.useState({onScrollCapture:Xu,onWheelCapture:Xu,onTouchMoveCapture:Xu}),nr=Yn[0],lr=Yn[1],gr=dn.forwardProps,ar=dn.children,Mr=dn.className,$a=dn.removeScrollBar,jr=dn.enabled,Gr=dn.shards,io=dn.sideCar,_r=dn.noIsolation,oo=dn.inert,Lr=dn.allowPinchZoom,no=dn.as,bo=no===void 0?"div":no,yo=Nl(dn,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),fo=io,uo=Cs([Rn,Mn]),No=yl(yl({},yo),nr);return st.createElement(st.Fragment,null,jr&&st.createElement(fo,{sideCar:Fs,removeScrollBar:$a,shards:Gr,noIsolation:_r,inert:oo,setCallbacks:lr,allowPinchZoom:!!Lr,lockRef:Rn}),gr?st.cloneElement(st.Children.only(ar),yl(yl({},No),{ref:uo})):st.createElement(bo,yl({},No,{className:Mr,ref:uo}),ar))});mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},mu.classNames={fullWidth:ds,zeroRight:_l};var Yu=function(dn){var Mn=dn.sideCar,Rn=Nl(dn,["sideCar"]);if(!Mn)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Yn=Mn.read();if(!Yn)throw new Error("Sidecar medium not found");return st.createElement(Yn,yl({},Rn))};Yu.isSideCarExport=!0;function f0(){if(!document)return null;var dn=document.createElement("style");dn.type="text/css";var Mn=_.nc;return Mn&&dn.setAttribute("nonce",Mn),dn}var Hu=function(){var dn=0,Mn=null;return{add:function(Rn){var Yn,nr;dn==0&&(Mn=f0())&&(nr=Rn,(Yn=Mn).styleSheet?Yn.styleSheet.cssText=nr:Yn.appendChild(document.createTextNode(nr)),function(lr){(document.head||document.getElementsByTagName("head")[0]).appendChild(lr)}(Mn)),dn++},remove:function(){!--dn&&Mn&&(Mn.parentNode&&Mn.parentNode.removeChild(Mn),Mn=null)}}},zu=function(){var dn,Mn=(dn=Hu(),function(Rn,Yn){st.useEffect(function(){return dn.add(Rn),function(){dn.remove()}},[Rn&&Yn])});return function(Rn){var Yn=Rn.styles,nr=Rn.dynamic;return Mn(Yn,nr),null}},ju={left:0,top:0,right:0,gap:0},Rs=function(dn){return parseInt(dn||"",10)||0},pu=function(dn){if(dn===void 0&&(dn="margin"),typeof window>"u")return ju;var Mn=function(nr){var lr=window.getComputedStyle(document.body),gr=lr[nr==="padding"?"paddingLeft":"marginLeft"],ar=lr[nr==="padding"?"paddingTop":"marginTop"],Mr=lr[nr==="padding"?"paddingRight":"marginRight"];return[Rs(gr),Rs(ar),Rs(Mr)]}(dn),Rn=document.documentElement.clientWidth,Yn=window.innerWidth;return{left:Mn[0],top:Mn[1],right:Mn[2],gap:Math.max(0,Yn-Rn+Mn[2]-Mn[0])}},Bs=zu(),_u=function(dn,Mn,Rn,Yn){var nr=dn.left,lr=dn.top,gr=dn.right,ar=dn.gap;return Rn===void 0&&(Rn="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(Yn,`;
   padding-right: `).concat(ar,"px ").concat(Yn,`;
  }
  body {
    overflow: hidden `).concat(Yn,`;
    overscroll-behavior: contain;
    `).concat([Mn&&"position: relative ".concat(Yn,";"),Rn==="margin"&&`
    padding-left: `.concat(nr,`px;
    padding-top: `).concat(lr,`px;
    padding-right: `).concat(gr,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ar,"px ").concat(Yn,`;
    `),Rn==="padding"&&"padding-right: ".concat(ar,"px ").concat(Yn,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_l,` {
    right: `).concat(ar,"px ").concat(Yn,`;
  }
  
  .`).concat(ds,` {
    margin-right: `).concat(ar,"px ").concat(Yn,`;
  }
  
  .`).concat(_l," .").concat(_l,` {
    right: 0 `).concat(Yn,`;
  }
  
  .`).concat(ds," .").concat(ds,` {
    margin-right: 0 `).concat(Yn,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(ar,`px;
  }
`)},m0=function(dn){var Mn=dn.noRelative,Rn=dn.noImportant,Yn=dn.gapMode,nr=Yn===void 0?"margin":Yn,lr=st.useMemo(function(){return pu(nr)},[nr]);return st.createElement(Bs,{styles:_u(lr,!Mn,nr,Rn?"":"!important")})},ku=!1;if(typeof window<"u")try{var qs=Object.defineProperty({},"passive",{get:function(){return ku=!0,!0}});window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{ku=!1}var zs=!!ku&&{passive:!1},cu=function(dn,Mn){var Rn=window.getComputedStyle(dn);return Rn[Mn]!=="hidden"&&!(Rn.overflowY===Rn.overflowX&&!function(Yn){return Yn.tagName==="TEXTAREA"}(dn)&&Rn[Mn]==="visible")},js=function(dn,Mn){var Rn=Mn;do{if(typeof ShadowRoot<"u"&&Rn instanceof ShadowRoot&&(Rn=Rn.host),Zu(dn,Rn)){var Yn=su(dn,Rn);if(Yn[1]>Yn[2])return!0}Rn=Rn.parentNode}while(Rn&&Rn!==document.body);return!1},Zu=function(dn,Mn){return dn==="v"?function(Rn){return cu(Rn,"overflowY")}(Mn):function(Rn){return cu(Rn,"overflowX")}(Mn)},su=function(dn,Mn){return dn==="v"?[(Rn=Mn).scrollTop,Rn.scrollHeight,Rn.clientHeight]:function(Yn){return[Yn.scrollLeft,Yn.scrollWidth,Yn.clientWidth]}(Mn);var Rn},eu=function(dn){return"changedTouches"in dn?[dn.changedTouches[0].clientX,dn.changedTouches[0].clientY]:[0,0]},Pu=function(dn){return[dn.deltaX,dn.deltaY]},Nu=function(dn){return dn&&"current"in dn?dn.current:dn},Tu=function(dn){return`
  .block-interactivity-`.concat(dn,` {pointer-events: none;}
  .allow-interactivity-`).concat(dn,` {pointer-events: all;}
`)},Cu=0,Qs=[],uu,tu=(uu=function(dn){var Mn=st.useRef([]),Rn=st.useRef([0,0]),Yn=st.useRef(),nr=st.useState(Cu++)[0],lr=st.useState(function(){return zu()})[0],gr=st.useRef(dn);st.useEffect(function(){gr.current=dn},[dn]),st.useEffect(function(){if(dn.inert){document.body.classList.add("block-interactivity-".concat(nr));var Lr=function(no,bo,yo){for(var fo,uo=0,No=bo.length;uo<No;uo++)!fo&&uo in bo||(fo||(fo=Array.prototype.slice.call(bo,0,uo)),fo[uo]=bo[uo]);return no.concat(fo||Array.prototype.slice.call(bo))}([dn.lockRef.current],(dn.shards||[]).map(Nu)).filter(Boolean);return Lr.forEach(function(no){return no.classList.add("allow-interactivity-".concat(nr))}),function(){document.body.classList.remove("block-interactivity-".concat(nr)),Lr.forEach(function(no){return no.classList.remove("allow-interactivity-".concat(nr))})}}},[dn.inert,dn.lockRef.current,dn.shards]);var ar=st.useCallback(function(Lr,no){if("touches"in Lr&&Lr.touches.length===2)return!gr.current.allowPinchZoom;var bo,yo=eu(Lr),fo=Rn.current,uo="deltaX"in Lr?Lr.deltaX:fo[0]-yo[0],No="deltaY"in Lr?Lr.deltaY:fo[1]-yo[1],_o=Lr.target,$o=Math.abs(uo)>Math.abs(No)?"h":"v";if("touches"in Lr&&$o==="h"&&_o.type==="range")return!1;var So=js($o,_o);if(!So)return!0;if(So?bo=$o:(bo=$o==="v"?"h":"v",So=js($o,_o)),!So)return!1;if(!Yn.current&&"changedTouches"in Lr&&(uo||No)&&(Yn.current=bo),!bo)return!0;var Ho=Yn.current||bo;return function(Po,qo,Zl,Ql,Hl){var Wl=function(yu,Ds){return yu==="h"&&Ds==="rtl"?-1:1}(Po,window.getComputedStyle(qo).direction),Ws=Wl*Ql,fs=Zl.target,vs=qo.contains(fs),Js=!1,ks=Ws>0,zl=0,Ls=0;do{var $l=su(Po,fs),Es=$l[0],as=$l[1]-$l[2]-Wl*Es;(Es||as)&&Zu(Po,fs)&&(zl+=as,Ls+=Es),fs=fs.parentNode}while(!vs&&fs!==document.body||vs&&(qo.contains(fs)||qo===fs));return(ks&&(zl===0||!Hl)||!ks&&(Ls===0||!Hl))&&(Js=!0),Js}(Ho,no,Lr,Ho==="h"?uo:No,!0)},[]),Mr=st.useCallback(function(Lr){var no=Lr;if(Qs.length&&Qs[Qs.length-1]===lr){var bo="deltaY"in no?Pu(no):eu(no),yo=Mn.current.filter(function(uo){return uo.name===no.type&&uo.target===no.target&&function(No,_o){return No[0]===_o[0]&&No[1]===_o[1]}(uo.delta,bo)})[0];if(yo&&yo.should)no.cancelable&&no.preventDefault();else if(!yo){var fo=(gr.current.shards||[]).map(Nu).filter(Boolean).filter(function(uo){return uo.contains(no.target)});(fo.length>0?ar(no,fo[0]):!gr.current.noIsolation)&&no.cancelable&&no.preventDefault()}}},[]),$a=st.useCallback(function(Lr,no,bo,yo){var fo={name:Lr,delta:no,target:bo,should:yo};Mn.current.push(fo),setTimeout(function(){Mn.current=Mn.current.filter(function(uo){return uo!==fo})},1)},[]),jr=st.useCallback(function(Lr){Rn.current=eu(Lr),Yn.current=void 0},[]),Gr=st.useCallback(function(Lr){$a(Lr.type,Pu(Lr),Lr.target,ar(Lr,dn.lockRef.current))},[]),io=st.useCallback(function(Lr){$a(Lr.type,eu(Lr),Lr.target,ar(Lr,dn.lockRef.current))},[]);st.useEffect(function(){return Qs.push(lr),dn.setCallbacks({onScrollCapture:Gr,onWheelCapture:Gr,onTouchMoveCapture:io}),document.addEventListener("wheel",Mr,zs),document.addEventListener("touchmove",Mr,zs),document.addEventListener("touchstart",jr,zs),function(){Qs=Qs.filter(function(Lr){return Lr!==lr}),document.removeEventListener("wheel",Mr,zs),document.removeEventListener("touchmove",Mr,zs),document.removeEventListener("touchstart",jr,zs)}},[]);var _r=dn.removeScrollBar,oo=dn.inert;return st.createElement(st.Fragment,null,oo?st.createElement(lr,{styles:Tu(nr)}):null,_r?st.createElement(m0,{gapMode:"margin"}):null)},Fs.useMedium(uu),Yu),Vs=st.forwardRef(function(dn,Mn){return st.createElement(mu,yl({},dn,{ref:Mn,sideCar:tu}))});Vs.classNames=mu.classNames;var p0=Vs;const Ju="Popover",[Ku,nI]=(0,gt.b)(Ju,[so]),gu=so(),[C0,_s]=Ku(Ju),B0=dn=>{const{__scopePopover:Mn,children:Rn,open:Yn,defaultOpen:nr,onOpenChange:lr,modal:gr=!1}=dn,ar=gu(Mn),Mr=(0,st.useRef)(null),[$a,jr]=(0,st.useState)(!1),[Gr=!1,io]=(0,Vo.T)({prop:Yn,defaultProp:nr,onChange:lr});return(0,st.createElement)(vr,ar,(0,st.createElement)(C0,{scope:Mn,contentId:(0,nn.M)(),triggerRef:Mr,open:Gr,onOpenChange:io,onOpenToggle:(0,st.useCallback)(()=>io(_r=>!_r),[io]),hasCustomAnchor:$a,onCustomAnchorAdd:(0,st.useCallback)(()=>jr(!0),[]),onCustomAnchorRemove:(0,st.useCallback)(()=>jr(!1),[]),modal:gr},Rn))},A0="PopoverTrigger",y0=(0,st.forwardRef)((dn,Mn)=>{const{__scopePopover:Rn,...Yn}=dn,nr=_s(A0,Rn),lr=gu(Rn),gr=(0,wt.e)(Mn,nr.triggerRef),ar=(0,st.createElement)(lt.WV.button,(0,ft.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":nr.open,"aria-controls":nr.contentId,"data-state":_g(nr.open)},Yn,{ref:gr,onClick:(0,$.M)(dn.onClick,nr.onOpenToggle)}));return nr.hasCustomAnchor?ar:(0,st.createElement)(ba,(0,ft.Z)({asChild:!0},lr),ar)}),Du="PopoverPortal",[x0,v0]=Ku(Du,{forceMount:void 0}),Bu=dn=>{const{__scopePopover:Mn,forceMount:Rn,children:Yn,container:nr}=dn,lr=_s(Du,Mn);return(0,st.createElement)(x0,{scope:Mn,forceMount:Rn},(0,st.createElement)(Go.z,{present:Rn||lr.open},(0,st.createElement)(Uo,{asChild:!0,container:nr},Yn)))},Xs="PopoverContent",F0=(0,st.forwardRef)((dn,Mn)=>{const Rn=v0(Xs,dn.__scopePopover),{forceMount:Yn=Rn.forceMount,...nr}=dn,lr=_s(Xs,dn.__scopePopover);return(0,st.createElement)(Go.z,{present:Yn||lr.open},lr.modal?(0,st.createElement)($u,(0,ft.Z)({},nr,{ref:Mn})):(0,st.createElement)(qu,(0,ft.Z)({},nr,{ref:Mn})))}),$u=(0,st.forwardRef)((dn,Mn)=>{const Rn=_s(Xs,dn.__scopePopover),Yn=(0,st.useRef)(null),nr=(0,wt.e)(Mn,Yn),lr=(0,st.useRef)(!1);return(0,st.useEffect)(()=>{const gr=Yn.current;if(gr)return vo(gr)},[]),(0,st.createElement)(p0,{as:Yo.g7,allowPinchZoom:!0},(0,st.createElement)(Ou,(0,ft.Z)({},dn,{ref:nr,trapFocus:Rn.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,$.M)(dn.onCloseAutoFocus,gr=>{var ar;gr.preventDefault(),lr.current||(ar=Rn.triggerRef.current)===null||ar===void 0||ar.focus()}),onPointerDownOutside:(0,$.M)(dn.onPointerDownOutside,gr=>{const ar=gr.detail.originalEvent,Mr=ar.button===0&&ar.ctrlKey===!0,$a=ar.button===2||Mr;lr.current=$a},{checkForDefaultPrevented:!1}),onFocusOutside:(0,$.M)(dn.onFocusOutside,gr=>gr.preventDefault(),{checkForDefaultPrevented:!1})})))}),qu=(0,st.forwardRef)((dn,Mn)=>{const Rn=_s(Xs,dn.__scopePopover),Yn=(0,st.useRef)(!1);return(0,st.createElement)(Ou,(0,ft.Z)({},dn,{ref:Mn,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:nr=>{var lr,gr;(lr=dn.onCloseAutoFocus)===null||lr===void 0||lr.call(dn,nr),nr.defaultPrevented||(Yn.current||(gr=Rn.triggerRef.current)===null||gr===void 0||gr.focus(),nr.preventDefault()),Yn.current=!1},onInteractOutside:nr=>{var lr,gr;(lr=dn.onInteractOutside)===null||lr===void 0||lr.call(dn,nr),nr.defaultPrevented||(Yn.current=!0);const ar=nr.target;!((gr=Rn.triggerRef.current)===null||gr===void 0)&&gr.contains(ar)&&nr.preventDefault()}}))}),Ou=(0,st.forwardRef)((dn,Mn)=>{const{__scopePopover:Rn,trapFocus:Yn,onOpenAutoFocus:nr,onCloseAutoFocus:lr,disableOutsidePointerEvents:gr,onEscapeKeyDown:ar,onPointerDownOutside:Mr,onFocusOutside:$a,onInteractOutside:jr,...Gr}=dn,io=_s(Xs,Rn),_r=gu(Rn);return hn(),(0,st.createElement)(kn,{asChild:!0,loop:!0,trapped:Yn,onMountAutoFocus:nr,onUnmountAutoFocus:lr},(0,st.createElement)(Tt,{asChild:!0,disableOutsidePointerEvents:gr,onInteractOutside:jr,onEscapeKeyDown:ar,onPointerDownOutside:Mr,onFocusOutside:$a,onDismiss:()=>io.onOpenChange(!1)},(0,st.createElement)(_a,(0,ft.Z)({"data-state":_g(io.open),role:"dialog",id:io.contentId},_r,Gr,{ref:Mn,style:{...Gr.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),Au=(0,st.forwardRef)((dn,Mn)=>{const{__scopePopover:Rn,...Yn}=dn,nr=gu(Rn);return(0,st.createElement)(Fo,(0,ft.Z)({},nr,Yn,{ref:Mn}))});function _g(dn){return dn?"open":"closed"}const Q0=B0,_d=y0,Ps=Bu,du=F0,w0=Au;var Mu=_(8242),Ru=_(453),e0=_(8935),Yl=_(8924),Ul=function(dn){var Mn=dn.color,Rn=dn.onChange,Yn=dn.label,nr=dn.colorPickerType,lr=(0,Mu.Fy)(),gr=(0,st.useState)(Mn),ar=(0,Et.Z)(gr,2),Mr=ar[0],$a=ar[1],jr=(0,St.KO)(sn),Gr=(0,Et.Z)(jr,2),io=Gr[0],_r=Gr[1];(0,st.useEffect)(function(){$a(Mn)},[Mn]);var oo=(0,st.useCallback)(function(No){var _o=No.toLowerCase(),$o=Ts(_o);$o&&Rn($o),$a(_o)},[Rn]),Lr=(0,st.useRef)(null),no=(0,st.useRef)(null);(0,st.useEffect)(function(){Lr.current&&Lr.current.focus()},[io]);var bo=(0,St.KO)(Yl.$,Ru.yE),yo=(0,Et.Z)(bo,2),fo=yo[0],uo=yo[1];return(0,st.useEffect)(function(){return function(){uo(null)}},[uo]),(0,ht.jsxs)("div",{className:"color-picker__input-label",children:[(0,ht.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,ht.jsx)("input",{ref:io==="hex"?Lr:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":Yn,onChange:function(No){oo(No.target.value)},value:(Mr||"").replace(/^#/,""),onBlur:function(){$a(Mn)},tabIndex:-1,onFocus:function(){return _r("hex")},onKeyDown:function(No){var _o;No.key!==yt.tW.TAB&&(No.key===yt.tW.ESCAPE&&((_o=no.current)===null||_o===void 0||_o.focus()),No.stopPropagation())}}),!lr.editor.isMobile&&(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,ht.jsx)("div",{ref:no,className:(0,it.Z)("excalidraw-eye-dropper-trigger",{selected:fo}),onClick:function(){return uo(function(No){return No?null:{keepOpenOnAlt:!1,onSelect:function(_o){return Rn(_o)},colorPickerType:nr}})},title:"".concat((0,xt.t)("labels.eyeDropper")," — ").concat(yt.tW.I.toLocaleUpperCase()," or ").concat((0,ot.uY)("Alt")," "),children:e0.$W})]})]})},t0=_(3379),jo=_.n(t0),n0=_(7795),xs=_.n(n0),r0=_(569),E0=_.n(r0),U0=_(3565),i0=_.n(U0),G0=_(9216),a0=_.n(G0),o0=_(4589),ws=_.n(o0),Iu=_(4269),Ns={};Ns.styleTagTransform=ws(),Ns.setAttributes=i0(),Ns.insert=E0().bind(null,"head"),Ns.domAPI=xs(),Ns.insertStyleElement=a0(),jo()(Iu.Z,Ns),Iu.Z&&Iu.Z.locals&&Iu.Z.locals;var Pl=function(dn){var Mn=new Option().style;return Mn.color=dn,!!Mn.color},Ts=function(dn){return(0,ot.Qm)(dn)?dn:Pl("#".concat(dn))?"#".concat(dn):Pl(dn)?dn:null},hu=function(dn){var Mn=dn.type,Rn=dn.color,Yn=dn.onChange,nr=dn.label,lr=dn.elements,gr=dn.palette,ar=gr===void 0?nt.HO:gr,Mr=dn.updateData,$a=(0,St.KO)(sn),jr=(0,Et.Z)($a,2)[1],Gr=(0,St.KO)(Yl.$,Ru.yE),io=(0,Et.Z)(Gr,2),_r=io[0],oo=io[1],Lr=(0,Mu.J0)().container,no=(0,Mu.Fy)(),bo=(0,ht.jsxs)("div",{children:[(0,ht.jsx)(Ct,{children:(0,xt.t)("colorPicker.hexCode")}),(0,ht.jsx)(Ul,{color:Rn,label:nr,onChange:function(uo){Yn(uo)},colorPickerType:Mn})]}),yo=(0,st.useRef)(null),fo=function(){var uo,No;(uo=yo.current)===null||uo===void 0||(No=uo.querySelector(".color-picker-content"))===null||No===void 0||No.focus()};return(0,ht.jsx)(Ps,{container:Lr,children:(0,ht.jsxs)(du,{ref:yo,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(uo){fo(),uo.preventDefault()},onPointerDownOutside:function(uo){_r&&uo.preventDefault()},onCloseAutoFocus:function(uo){uo.stopPropagation(),uo.preventDefault(),Lr&&!(0,ot.y1)(document.activeElement)&&Lr.focus(),Mr({openPopup:null}),jr(null)},side:no.editor.isMobile&&!no.viewport.isLandscape?"bottom":"right",align:no.editor.isMobile&&!no.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[ar?(0,ht.jsx)(ut,{palette:ar,color:Rn,onChange:function(uo){Yn(uo)},onEyeDropperToggle:function(uo){oo(function(No){return uo?((No=No||{keepOpenOnAlt:!0,onSelect:Yn,colorPickerType:Mn}).keepOpenOnAlt=!0,No):uo===!1||No?null:{keepOpenOnAlt:!1,onSelect:Yn,colorPickerType:Mn}})},onEscape:function(uo){_r?oo(null):(0,ot.s)(uo.target)?fo():Mr({openPopup:null})},label:nr,type:Mn,elements:lr,updateData:Mr,children:bo}):bo,(0,ht.jsx)(w0,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},l0=function(dn){var Mn=dn.label,Rn=dn.color,Yn=dn.type;return(0,ht.jsx)(_d,{type:"button",className:(0,it.Z)("color-picker__button active-color",{"is-transparent":Rn==="transparent"||!Rn}),"aria-label":Mn,style:Rn?{"--swatch-color":Rn}:void 0,title:Yn==="elementStroke"?(0,xt.t)("labels.showStroke"):(0,xt.t)("labels.showBackground"),children:(0,ht.jsx)("div",{className:"color-picker__button-outline"})})},S0=function(dn){var Mn=dn.type,Rn=dn.color,Yn=dn.onChange,nr=dn.label,lr=dn.elements,gr=dn.palette,ar=gr===void 0?nt.HO:gr,Mr=dn.topPicks,$a=dn.updateData,jr=dn.appState;return(0,ht.jsx)("div",{children:(0,ht.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,ht.jsx)(Bt,{activeColor:Rn,onChange:Yn,type:Mn,topPicks:Mr}),(0,ht.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,ht.jsxs)(Q0,{open:jr.openPopup===Mn,onOpenChange:function(Gr){$a({openPopup:Gr?Mn:null})},children:[(0,ht.jsx)(l0,{color:Rn,label:nr,type:Mn}),jr.openPopup===Mn&&(0,ht.jsx)(hu,{type:Mn,color:Rn,onChange:Yn,label:nr,elements:lr,palette:ar,updateData:$a})]})]})})}},6887:function($t,Vt,_){_.d(Vt,{Z:function(){return ft}});var Et=_(7169),ot=_(2726),it=_(8227),nt=_(1300),ht=_(3379),Bt=_.n(ht),st=_(7795),tt=_.n(st),xt=_(569),St=_.n(xt),Zt=_(3565),Nt=_.n(Zt),dt=_(9216),Yt=_.n(dt),sn=_(4589),bn=_.n(sn),pn=_(9393),mn={};mn.styleTagTransform=bn(),mn.setAttributes=Nt(),mn.insert=St().bind(null,"head"),mn.domAPI=tt(),mn.insertStyleElement=Yt(),Bt()(pn.Z,mn),pn.Z&&pn.Z.locals&&pn.Z.locals;var qt=_(4932),Ut=_(3607),Kt=_(3116),yt=_(8242),Ot=_(453),Gt=_(1020),Ct=["onConfirm","onCancel","children","confirmText","cancelText","className"];function Xt($,wt){var gt=Object.keys($);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols($);wt&&(lt=lt.filter(function(pt){return Object.getOwnPropertyDescriptor($,pt).enumerable})),gt.push.apply(gt,lt)}return gt}function ut($){for(var wt=1;wt<arguments.length;wt++){var gt=arguments[wt]!=null?arguments[wt]:{};wt%2?Xt(Object(gt),!0).forEach(function(lt){(0,Et.Z)($,lt,gt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(gt)):Xt(Object(gt)).forEach(function(lt){Object.defineProperty($,lt,Object.getOwnPropertyDescriptor(gt,lt))})}return $}var ft=function($){var wt=$.onConfirm,gt=$.onCancel,lt=$.children,pt=$.confirmText,vt=pt===void 0?(0,it.t)("buttons.confirm"):pt,zt=$.cancelText,Qt=zt===void 0?(0,it.t)("buttons.cancel"):zt,Ft=$.className,At=Ft===void 0?"":Ft,Tt=(0,ot.Z)($,Ct),jt=(0,yt.n9)(),un=(0,Ut.b9)(Kt.uh,Ot.yE),Jt=(0,yt.J0)().container;return(0,Gt.jsxs)(nt.V,ut(ut({onCloseRequest:gt,size:"small"},Tt),{},{className:"confirm-dialog ".concat(At),children:[lt,(0,Gt.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,Gt.jsx)(qt.Z,{label:Qt,onClick:function(){jt({openMenu:null}),un(!1),gt(),Jt==null||Jt.focus()}}),(0,Gt.jsx)(qt.Z,{label:vt,onClick:function(){jt({openMenu:null}),un(!1),wt(),Jt==null||Jt.focus()},actionType:"danger"})]})]}))}},1925:function($t,Vt,_){_.d(Vt,{O:function(){return Kt}});var Et=_(2726),ot=_(7169),it=_(45),nt=_(9937),ht=_(4572),Bt=_(100),st=_(8227),tt=_(9827),xt=_(8242),St=_(6922),Zt=_(3116),Nt=_(5902),dt=_(1020),Yt=_(9787),sn=["children"],bn=["children","className","onDock","docked"];function pn(yt,Ot){var Gt=Object.keys(yt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(yt);Ot&&(Ct=Ct.filter(function(Xt){return Object.getOwnPropertyDescriptor(yt,Xt).enumerable})),Gt.push.apply(Gt,Ct)}return Gt}function mn(yt){for(var Ot=1;Ot<arguments.length;Ot++){var Gt=arguments[Ot]!=null?arguments[Ot]:{};Ot%2?pn(Object(Gt),!0).forEach(function(Ct){(0,ot.Z)(yt,Ct,Gt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Gt)):pn(Object(Gt)).forEach(function(Ct){Object.defineProperty(yt,Ct,Object.getOwnPropertyDescriptor(Gt,Ct))})}return yt}var qt=(0,St.$)("DefaultSidebarTrigger",function(yt){var Ot=(0,ht.R6)().DefaultSidebarTriggerTunnel;return(0,dt.jsx)(Ot.In,{children:(0,dt.jsx)(Nt.YE.Trigger,mn(mn({},yt),{},{className:"default-sidebar-trigger",name:nt.Cc.name}))})});qt.displayName="DefaultSidebarTrigger";var Ut=function(yt){var Ot=yt.children,Gt=(0,Et.Z)(yt,sn),Ct=(0,ht.R6)().DefaultSidebarTabTriggersTunnel;return(0,dt.jsx)(Ct.In,{children:(0,dt.jsx)(Nt.YE.TabTriggers,mn(mn({},Gt),{},{children:Ot}))})};Ut.displayName="DefaultTabTriggers";var Kt=Object.assign((0,St.$)("DefaultSidebar",function(yt){var Ot=yt.children,Gt=yt.className,Ct=yt.onDock,Xt=yt.docked,ut=(0,Et.Z)(yt,bn),ft=(0,Bt.I)(),$=(0,xt.n9)(),wt=(0,ht.R6)().DefaultSidebarTabTriggersTunnel;return(0,Yt.createElement)(Nt.YE,mn(mn({},ut),{},{name:"default",key:"default",className:(0,it.Z)("default-sidebar",Gt),docked:Xt??ft.defaultSidebarDockedPreference,onDock:Ct===!1||!Ct&&Xt!=null?void 0:(0,tt.Mj)(Ct,function(gt){$({defaultSidebarDockedPreference:gt})})}),(0,dt.jsxs)(Nt.YE.Tabs,{children:[(0,dt.jsxs)(Nt.YE.Header,{children:[ut.__fallback&&(0,dt.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,st.t)("toolBar.library")}),(0,dt.jsx)(wt.Out,{})]}),(0,dt.jsx)(Nt.YE.Tab,{tab:nt.tf,children:(0,dt.jsx)(Zt.rY,{})}),Ot]}))}),{Trigger:qt,TabTriggers:Ut})},1300:function($t,Vt,_){_.d(Vt,{V:function(){return vt}});var Et=_(2577),ot=_(45),it=_(9787),nt=_(8227),ht=_(8242),Bt=_(5491),st=_(3379),tt=_.n(st),xt=_(7795),St=_.n(xt),Zt=_(569),Nt=_.n(Zt),dt=_(3565),Yt=_.n(dt),sn=_(9216),bn=_.n(sn),pn=_(4589),mn=_.n(pn),qt=_(9482),Ut={};Ut.styleTagTransform=mn(),Ut.setAttributes=Yt(),Ut.insert=Nt().bind(null,"head"),Ut.domAPI=St(),Ut.insertStyleElement=bn(),tt()(qt.Z,Ut),qt.Z&&qt.Z.locals&&qt.Z.locals;var Kt=_(8935),yt=_(1404),Ot=_(6843),Gt={};Gt.styleTagTransform=mn(),Gt.setAttributes=Yt(),Gt.insert=Nt().bind(null,"head"),Gt.domAPI=St(),Gt.insertStyleElement=bn(),tt()(Ot.Z,Gt),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;var Ct=_(5156),Xt=_(334),ut=_(1020),ft=function(zt){var Qt=zt.closeOnClickOutside,Ft=Qt===void 0||Qt,At=(0,Xt.F)({className:"excalidraw-modal-container"});return At?(0,Ct.createPortal)((0,ut.jsxs)("div",{className:(0,ot.Z)("Modal",zt.className),role:"dialog","aria-modal":"true",onKeyDown:function(Tt){Tt.key===Bt.tW.ESCAPE&&(Tt.nativeEvent.stopImmediatePropagation(),Tt.stopPropagation(),zt.onCloseRequest())},"aria-labelledby":zt.labelledBy,"data-prevent-outside-click":!0,children:[(0,ut.jsx)("div",{className:"Modal__background",onClick:Ft?zt.onCloseRequest:void 0}),(0,ut.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(zt.maxWidth,"px")},tabIndex:0,children:zt.children})]}),At):null},$=_(9827),wt=_(3607),gt=_(3116),lt=_(453);function pt(zt){if(zt&&typeof zt=="number")return zt;switch(zt){case"small":return 550;case"wide":return 1024;default:return 800}}var vt=function(zt){var Qt=function(){var Cn=(0,it.useState)(null),kn=(0,Et.Z)(Cn,2),jn=kn[0],Dn=kn[1];return[jn,(0,it.useCallback)(function(Fn){return Dn(Fn)},[])]}(),Ft=(0,Et.Z)(Qt,2),At=Ft[0],Tt=Ft[1],jt=(0,it.useState)(document.activeElement),un=(0,Et.Z)(jt,1)[0],Jt=(0,ht.J0)().id,hn=(0,ht.Fy)().viewport.isMobile;(0,it.useEffect)(function(){if(At){var Cn=(0,$.xp)(At);Cn.length>0&&zt.autofocus!==!1&&(Cn[1]||Cn[0]).focus();var kn=function(jn){if(jn.key===Bt.tW.TAB){var Dn=(0,$.xp)(At),Fn=document.activeElement,vn=Dn.findIndex(function(Gn){return Gn===Fn});vn===0&&jn.shiftKey?(Dn[Dn.length-1].focus(),jn.preventDefault()):vn!==Dn.length-1||jn.shiftKey||(Dn[0].focus(),jn.preventDefault())}};return At.addEventListener("keydown",kn),function(){return At.removeEventListener("keydown",kn)}}},[At,zt.autofocus]);var rn=(0,ht.n9)(),Mt=(0,wt.b9)(gt.uh,lt.yE),an=function(){rn({openMenu:null}),Mt(!1),un.focus(),zt.onCloseRequest()};return(0,ut.jsx)(ft,{className:(0,ot.Z)("Dialog",zt.className,{"Dialog--fullscreen":hn}),labelledBy:"dialog-title",maxWidth:pt(zt.size),onCloseRequest:an,closeOnClickOutside:zt.closeOnClickOutside,children:(0,ut.jsxs)(yt.W,{ref:Tt,children:[zt.title&&(0,ut.jsx)("h2",{id:"".concat(Jt,"-dialog-title"),className:"Dialog__title",children:(0,ut.jsx)("span",{className:"Dialog__titleContent",children:zt.title})}),(0,ut.jsx)("button",{className:"Dialog__close",onClick:an,title:(0,nt.t)("buttons.close"),"aria-label":(0,nt.t)("buttons.close"),children:hn?Kt.op:Kt.Tw}),(0,ut.jsx)("div",{className:"Dialog__content",children:zt.children})]})})}},4932:function($t,Vt,_){_.d(Vt,{Z:function(){return Ot}});var Et=_(7169),ot=_(2726),it=_(45),nt=_(3379),ht=_.n(nt),Bt=_(7795),st=_.n(Bt),tt=_(569),xt=_.n(tt),St=_(3565),Zt=_.n(St),Nt=_(9216),dt=_.n(Nt),Yt=_(4589),sn=_.n(Yt),bn=_(6148),pn={};pn.styleTagTransform=sn(),pn.setAttributes=Zt(),pn.insert=xt().bind(null,"head"),pn.domAPI=st(),pn.insertStyleElement=dt(),ht()(bn.Z,pn),bn.Z&&bn.Z.locals&&bn.Z.locals;var mn=_(8531),qt=_(1020),Ut=["label","onClick","className","children","actionType","type","isLoading"];function Kt(Gt,Ct){var Xt=Object.keys(Gt);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(Gt);Ct&&(ut=ut.filter(function(ft){return Object.getOwnPropertyDescriptor(Gt,ft).enumerable})),Xt.push.apply(Xt,ut)}return Xt}function yt(Gt){for(var Ct=1;Ct<arguments.length;Ct++){var Xt=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Kt(Object(Xt),!0).forEach(function(ut){(0,Et.Z)(Gt,ut,Xt[ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gt,Object.getOwnPropertyDescriptors(Xt)):Kt(Object(Xt)).forEach(function(ut){Object.defineProperty(Gt,ut,Object.getOwnPropertyDescriptor(Xt,ut))})}return Gt}var Ot=function(Gt){var Ct=Gt.label,Xt=Gt.onClick,ut=Gt.className,ft=Gt.children,$=Gt.actionType,wt=Gt.type,gt=wt===void 0?"button":wt,lt=Gt.isLoading,pt=(0,ot.Z)(Gt,Ut),vt=$?"Dialog__action-button--".concat($):"";return(0,qt.jsxs)("button",yt(yt({className:(0,it.Z)("Dialog__action-button",vt,ut),type:gt,"aria-label":Ct,onClick:Xt},pt),{},{children:[ft&&(0,qt.jsx)("div",{style:lt?{visibility:"hidden"}:{},children:ft}),(0,qt.jsx)("div",{style:lt?{visibility:"hidden"}:{},children:Ct}),lt&&(0,qt.jsx)("div",{style:{position:"absolute",inset:0},children:(0,qt.jsx)(mn.Z,{})})]}))}},8924:function($t,Vt,_){_.d(Vt,{p:function(){return ft},$:function(){return ut}});var Et=_(3607),ot=_(9787),it=_(5156),nt=_(9240),ht=_(9937),Bt=_(100),st=_(334),tt=_(1901),xt=_(5491),St=_(4105),Zt=_(8242),Nt=_(3379),dt=_.n(Nt),Yt=_(7795),sn=_.n(Yt),bn=_(569),pn=_.n(bn),mn=_(3565),qt=_.n(mn),Ut=_(9216),Kt=_.n(Ut),yt=_(4589),Ot=_.n(yt),Gt=_(7522),Ct={};Ct.styleTagTransform=Ot(),Ct.setAttributes=qt(),Ct.insert=pn().bind(null,"head"),Ct.domAPI=sn(),Ct.insertStyleElement=Kt(),dt()(Gt.Z,Ct),Gt.Z&&Gt.Z.locals&&Gt.Z.locals;var Xt=_(1020),ut=(0,Et.cn)(null),ft=function($){var wt=$.onCancel,gt=$.onChange,lt=$.onSelect,pt=$.colorPickerType,vt=(0,st.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),zt=(0,Bt.I)(),Qt=(0,Zt.bd)(),Ft=(0,Zt.qD)(),At=(0,St.eD)(Qt,zt),Tt=function(Jt){var hn=(0,ot.useRef)(Jt);return Object.assign(hn.current,Jt),hn.current}({app:Ft,onCancel:wt,onChange:gt,onSelect:lt,selectedElements:At}),jt=(0,Zt.J0)().container;(0,ot.useEffect)(function(){var Jt=un.current;if(Jt&&Ft.canvas&&vt){var hn=!1,rn=Ft.canvas.getContext("2d"),Mt=function(Fn){var vn=Fn.clientX,Gn=Fn.clientY,Sn=rn.getImageData((vn-zt.offsetLeft)*window.devicePixelRatio,(Gn-zt.offsetTop)*window.devicePixelRatio,1,1).data;return(0,nt.vq)(Sn[0],Sn[1],Sn[2])},an=function(Fn){var vn=Fn.clientX,Gn=Fn.clientY,Sn=Fn.altKey;Jt.style.top="".concat(Gn+20,"px"),Jt.style.left="".concat(vn+20,"px");var nn=Mt({clientX:vn,clientY:Gn});hn&&Tt.onChange(pt,nn,Tt.selectedElements,{altKey:Sn}),Jt.style.background=nn},Cn=function(){Tt.onCancel()},kn=function(Fn){hn=!0,Fn.stopImmediatePropagation()},jn=function(Fn){hn=!1,jt==null||jt.focus(),Fn.stopImmediatePropagation(),Fn.preventDefault(),function(vn,Gn){Tt.onSelect(vn,Gn)}(Mt(Fn),Fn)},Dn=function(Fn){Fn.key===xt.tW.ESCAPE&&(Fn.preventDefault(),Fn.stopImmediatePropagation(),Cn())};return vt.tabIndex=-1,vt.focus(),an({clientX:Tt.app.lastViewportPosition.x,clientY:Tt.app.lastViewportPosition.y,altKey:!1}),vt.addEventListener(ht.Ks.KEYDOWN,Dn),vt.addEventListener(ht.Ks.POINTER_DOWN,kn),vt.addEventListener(ht.Ks.POINTER_UP,jn),window.addEventListener("pointermove",an,{passive:!0}),window.addEventListener(ht.Ks.BLUR,Cn),function(){hn=!1,vt.removeEventListener(ht.Ks.KEYDOWN,Dn),vt.removeEventListener(ht.Ks.POINTER_DOWN,kn),vt.removeEventListener(ht.Ks.POINTER_UP,jn),window.removeEventListener("pointermove",an),window.removeEventListener(ht.Ks.BLUR,Cn)}}},[Tt,Ft.canvas,vt,pt,jt,zt.offsetLeft,zt.offsetTop]);var un=(0,ot.useRef)(null);return(0,tt.O)(un,function(){wt()},function(Jt){return!!Jt.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),vt?(0,it.createPortal)((0,Xt.jsx)("div",{ref:un,className:"excalidraw-eye-dropper-preview"}),vt):null}},1404:function($t,Vt,_){_.d(Vt,{W:function(){return yt}});var Et=_(7169),ot=_(3379),it=_.n(ot),nt=_(7795),ht=_.n(nt),Bt=_(569),st=_.n(Bt),tt=_(3565),xt=_.n(tt),St=_(9216),Zt=_.n(St),Nt=_(4589),dt=_.n(Nt),Yt=_(7369),sn={};sn.styleTagTransform=dt(),sn.setAttributes=xt(),sn.insert=st().bind(null,"head"),sn.domAPI=ht(),sn.insertStyleElement=Zt(),it()(Yt.Z,sn),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var bn=_(9787),pn=_.n(bn),mn=_(45),qt=_(1020);function Ut(Ot,Gt){var Ct=Object.keys(Ot);if(Object.getOwnPropertySymbols){var Xt=Object.getOwnPropertySymbols(Ot);Gt&&(Xt=Xt.filter(function(ut){return Object.getOwnPropertyDescriptor(Ot,ut).enumerable})),Ct.push.apply(Ct,Xt)}return Ct}function Kt(Ot){for(var Gt=1;Gt<arguments.length;Gt++){var Ct=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?Ut(Object(Ct),!0).forEach(function(Xt){(0,Et.Z)(Ot,Xt,Ct[Xt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ot,Object.getOwnPropertyDescriptors(Ct)):Ut(Object(Ct)).forEach(function(Xt){Object.defineProperty(Ot,Xt,Object.getOwnPropertyDescriptor(Ct,Xt))})}return Ot}var yt=pn().forwardRef(function(Ot,Gt){var Ct=Ot.children,Xt=Ot.padding,ut=Ot.className,ft=Ot.style;return(0,qt.jsx)("div",{className:(0,mn.Z)("Island",ut),style:Kt({"--padding":Xt},ft),ref:Gt,children:Ct})})},3116:function($t,Vt,_){_.d(Vt,{rY:function(){return Kr},uh:function(){return Xr}});var Et=_(6655),ot=_(1930),it=_(8950),nt=_(2577),ht=_(2975),Bt=_.n(ht),st=_(9787),tt=_.n(st),xt=_(9326),St=_(8227),Zt=_(4643),Nt=_(7169),dt=_(4419),Yt=_(9827),sn=_(2540),bn=_(9937),pn=_(8531),mn=_(5742),qt=_(1020),Ut=function(rr){var Qr=rr.theme,Ir=rr.id,xr=rr.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,qt.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(xr,"&useHash=true&token=").concat(Ir,"&theme=").concat(Qr,"&version=").concat(bn.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,St.t)("labels.libraries")})},Kt=_(45),yt=function(rr){var Qr=rr.libraryReturnUrl,Ir=rr.theme,xr=rr.id,pr=rr.style,Nr=rr.children,Rr=rr.className;return(0,qt.jsxs)("div",{className:(0,Kt.Z)("library-menu-control-buttons",Rr),style:pr,children:[(0,qt.jsx)(Ut,{id:xr,libraryReturnUrl:Qr,theme:Ir}),Nr]})},Ot=_(9247),Gt=_(453),Ct=_(8242),Xt=_(8935),ut=_(1512),ft=_(6548),$=_(3607),wt=_(6887),gt=_(5284),lt=_(1300),pt=_(507),vt=_(5796),zt=_(4932),Qt=_(3379),Ft=_.n(Qt),At=_(7795),Tt=_.n(At),jt=_(569),un=_.n(jt),Jt=_(3565),hn=_.n(Jt),rn=_(9216),Mt=_.n(rn),an=_(4589),Cn=_.n(an),kn=_(7589),jn={};jn.styleTagTransform=Cn(),jn.setAttributes=hn(),jn.insert=un().bind(null,"head"),jn.domAPI=Tt(),jn.insertStyleElement=Mt(),Ft()(kn.Z,jn),kn.Z&&kn.Z.locals&&kn.Z.locals;function Dn(rr,Qr){var Ir=Object.keys(rr);if(Object.getOwnPropertySymbols){var xr=Object.getOwnPropertySymbols(rr);Qr&&(xr=xr.filter(function(pr){return Object.getOwnPropertyDescriptor(rr,pr).enumerable})),Ir.push.apply(Ir,xr)}return Ir}function Fn(rr){for(var Qr=1;Qr<arguments.length;Qr++){var Ir=arguments[Qr]!=null?arguments[Qr]:{};Qr%2?Dn(Object(Ir),!0).forEach(function(xr){(0,Nt.Z)(rr,xr,Ir[xr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(Ir)):Dn(Object(Ir)).forEach(function(xr){Object.defineProperty(rr,xr,Object.getOwnPropertyDescriptor(Ir,xr))})}return rr}function vn(rr,Qr){var Ir=typeof Symbol<"u"&&rr[Symbol.iterator]||rr["@@iterator"];if(!Ir){if(Array.isArray(rr)||(Ir=function(Dr,Io){if(Dr){if(typeof Dr=="string")return Gn(Dr,Io);var ro=Object.prototype.toString.call(Dr).slice(8,-1);if(ro==="Object"&&Dr.constructor&&(ro=Dr.constructor.name),ro==="Map"||ro==="Set")return Array.from(Dr);if(ro==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ro))return Gn(Dr,Io)}}(rr))||Qr){Ir&&(rr=Ir);var xr=0,pr=function(){};return{s:pr,n:function(){return xr>=rr.length?{done:!0}:{done:!1,value:rr[xr++]}},e:function(Dr){throw Dr},f:pr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nr,Rr=!0,qr=!1;return{s:function(){Ir=Ir.call(rr)},n:function(){var Dr=Ir.next();return Rr=Dr.done,Dr},e:function(Dr){qr=!0,Nr=Dr},f:function(){try{Rr||Ir.return==null||Ir.return()}finally{if(qr)throw Nr}}}}function Gn(rr,Qr){(Qr==null||Qr>rr.length)&&(Qr=rr.length);for(var Ir=0,xr=new Array(Qr);Ir<Qr;Ir++)xr[Ir]=rr[Ir];return xr}var Sn="publish-library-data",nn=function(){var rr=(0,it.Z)(Bt().mark(function Qr(Ir){var xr,pr,Nr,Rr,qr,Dr,Io,ro,Zo,dr,Hr,Zr,Vr,Ao,xo,wo,To;return Bt().wrap(function(ho){for(;;)switch(ho.prev=ho.next){case 0:xr=6,pr=128,Nr=Math.round(pr/16),Rr=Math.max(Math.round(pr/64),2),qr=(0,Yt.yo)(Ir,xr),(Dr=document.createElement("canvas")).width=qr[0].length*pr+(qr[0].length+1)*(2*Nr)-2*Nr,Dr.height=qr.length*pr+(qr.length+1)*(2*Nr)-2*Nr,(Io=Dr.getContext("2d")).fillStyle=gt.white,Io.fillRect(0,0,Dr.width,Dr.height),ro=vn(Ir.entries()),ho.prev=12,ro.s();case 14:if((Zo=ro.n()).done){ho.next=28;break}return dr=(0,nt.Z)(Zo.value,2),Hr=dr[0],Zr=dr[1],ho.next=18,(0,pt.NL)({elements:Zr.elements,files:null,maxWidthOrHeight:pr});case 18:Vr=ho.sent,Ao=Vr.width,xo=Vr.height,wo=Math.floor(Hr/xr)*(pr+2*Nr),To=Hr%xr*(pr+2*Nr),Io.drawImage(Vr,To+(pr-Ao)/2+Nr,wo+(pr-xo)/2+Nr),Io.lineWidth=Rr,Io.strokeStyle=gt.gray[4],Io.strokeRect(To+Nr/2,wo+Nr/2,pr+Nr,pr+Nr);case 26:ho.next=14;break;case 28:ho.next=33;break;case 30:ho.prev=30,ho.t0=ho.catch(12),ro.e(ho.t0);case 33:return ho.prev=33,ro.f(),ho.finish(33);case 36:return ho.t1=vt.Tu,ho.t2=File,ho.next=40,(0,vt._c)(Dr);case 40:return ho.t3=ho.sent,ho.t4=[ho.t3],ho.t5={type:bn.LO.png},ho.t6=new ho.t2(ho.t4,"preview",ho.t5),ho.t7={outputType:bn.LO.jpg,maxWidthOrHeight:5e3},ho.next=47,(0,ho.t1)(ho.t6,ho.t7);case 47:return ho.abrupt("return",ho.sent);case 48:case"end":return ho.stop()}},Qr,null,[[12,30,33,36]])}));return function(Qr){return rr.apply(this,arguments)}}(),Qn=function(rr){var Qr=rr.libItem,Ir=rr.appState,xr=rr.index,pr=rr.onChange,Nr=rr.onRemove,Rr=(0,st.useRef)(null),qr=(0,st.useRef)(null);return(0,st.useEffect)(function(){var Dr=Rr.current;Dr&&(0,it.Z)(Bt().mark(function Io(){var ro;return Bt().wrap(function(Zo){for(;;)switch(Zo.prev=Zo.next){case 0:return Zo.next=2,(0,pt.$D)({elements:Qr.elements,appState:Fn(Fn({},Ir),{},{viewBackgroundColor:gt.white,exportBackground:!0}),files:null});case 2:ro=Zo.sent,Dr.innerHTML=ro.outerHTML;case 4:case"end":return Zo.stop()}},Io)}))()},[Qr.elements,Ir]),(0,qt.jsxs)("div",{className:"single-library-item",children:[Qr.status==="published"&&(0,qt.jsx)("span",{className:"single-library-item-status",children:(0,St.t)("labels.statusPublished")}),(0,qt.jsx)("div",{ref:Rr,className:"single-library-item__svg"}),(0,qt.jsx)(ut.V,{"aria-label":(0,St.t)("buttons.remove"),type:"button",icon:Xt.Tw,className:"single-library-item--remove",onClick:Nr.bind(null,Qr.id),title:(0,St.t)("buttons.remove")}),(0,qt.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,qt.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,qt.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,qt.jsx)("span",{style:{fontWeight:500,color:gt.gray[6]},children:(0,St.t)("publishDialog.itemName")}),(0,qt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,qt.jsx)("input",{type:"text",ref:qr,style:{width:"80%",padding:"0.2rem"},defaultValue:Qr.name,placeholder:"Item name",onChange:function(Dr){pr(Dr.target.value,xr)}})]}),(0,qt.jsx)("span",{className:"error",children:Qr.error})]})]})},tn=function(rr){var Qr=rr.onClose,Ir=rr.libraryItems,xr=rr.appState,pr=rr.onSuccess,Nr=rr.onError,Rr=rr.updateItemsInStorage,qr=rr.onRemove,Dr=(0,st.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Io=(0,nt.Z)(Dr,2),ro=Io[0],Zo=Io[1],dr=(0,st.useState)(!1),Hr=(0,nt.Z)(dr,2),Zr=Hr[0],Vr=Hr[1];(0,st.useEffect)(function(){var lo=function(){try{var eo=localStorage.getItem(Sn);if(eo)return JSON.parse(eo)}catch(Eo){console.error(Eo)}return null}();lo&&Zo(lo)},[]);var Ao=(0,st.useState)(Ir.slice()),xo=(0,nt.Z)(Ao,2),wo=xo[0],To=xo[1];(0,st.useEffect)(function(){To(Ir.slice())},[Ir]);var ho,Cr=function(lo){Zo(Fn(Fn({},ro),{},(0,Nt.Z)({},lo.target.name,lo.target.value)))},Br=function(){var lo=(0,it.Z)(Bt().mark(function eo(Eo){var go,mo,Oo,ao,co,po,so;return Bt().wrap(function(Lo){for(;;)switch(Lo.prev=Lo.next){case 0:if(Eo.preventDefault(),Vr(!0),go=[],mo=!1,wo.forEach(function(Co){var Ro="";Co.name||(Ro=(0,St.t)("publishDialog.errors.required"),mo=!0),go.push(Fn(Fn({},Co),{},{error:Ro}))}),!mo){Lo.next=9;break}return To(go),Vr(!1),Lo.abrupt("return");case 9:return Lo.next=11,nn(wo);case 11:Oo=Lo.sent,ao={type:bn.r8.excalidrawLibrary,version:bn.Kr.excalidrawLibrary,source:bn.pb,libraryItems:wo},co=JSON.stringify(ao,null,2),po=new Blob([co],{type:"application/json"}),(so=new FormData).append("excalidrawLib",po),so.append("previewImage",Oo),so.append("previewImageType",Oo.type),so.append("title",ro.name),so.append("authorName",ro.authorName),so.append("githubHandle",ro.githubHandle),so.append("name",ro.name),so.append("description",ro.description),so.append("twitterHandle",ro.twitterHandle),so.append("website",ro.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:so}).then(function(Co){return Co.ok?Co.json().then(function(Ro){var Fl=Ro.url;localStorage.removeItem(Sn),pr({url:Fl,authorName:ro.authorName,items:wo})}):Co.json().catch(function(){throw new Error(Co.statusText||"something went wrong")}).then(function(Ro){throw new Error(Ro.message||Co.statusText||"something went wrong")})},function(Co){console.error(Co),Nr(Co),Vr(!1)}).catch(function(Co){console.error(Co),Nr(Co),Vr(!1)});case 27:case"end":return Lo.stop()}},eo)}));return function(eo){return lo.apply(this,arguments)}}(),Fr=(0,st.useCallback)(function(){Rr(wo),function(lo){try{localStorage.setItem(Sn,JSON.stringify(lo))}catch(eo){console.error(eo)}}(ro),Qr()},[wo,Qr,Rr,ro]),Sr=!!Ir.length,to=Ir.some(function(lo){return lo.status==="published"});return(0,qt.jsx)(lt.V,{onCloseRequest:Fr,title:(0,St.t)("publishDialog.title"),className:"publish-library",children:Sr?(0,qt.jsxs)("form",{onSubmit:Br,children:[(0,qt.jsx)("div",{className:"publish-library-note",children:(0,qt.jsx)(Ot.Z,{i18nKey:"publishDialog.noteDescription",link:function(lo){return(0,qt.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:lo})}})}),(0,qt.jsx)("span",{className:"publish-library-note",children:(0,qt.jsx)(Ot.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(lo){return(0,qt.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:lo})}})}),(0,qt.jsx)("div",{className:"publish-library-note",children:(0,St.t)("publishDialog.noteItems")}),to&&(0,qt.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,St.t)("publishDialog.republishWarning")}),(ho=[],wo.forEach(function(lo,eo){ho.push((0,qt.jsx)("div",{className:"single-library-item-wrapper",children:(0,qt.jsx)(Qn,{libItem:lo,appState:xr,index:eo,onChange:function(Eo,go){var mo=wo.slice();mo[go].name=Eo,To(mo)},onRemove:qr})},eo))}),(0,qt.jsx)("div",{className:"selected-library-items",children:ho})),(0,qt.jsxs)("div",{className:"publish-library__fields",children:[(0,qt.jsxs)("label",{children:[(0,qt.jsxs)("div",{children:[(0,qt.jsx)("span",{children:(0,St.t)("publishDialog.libraryName")}),(0,qt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,qt.jsx)("input",{type:"text",name:"name",required:!0,value:ro.name,onChange:Cr,placeholder:(0,St.t)("publishDialog.placeholder.libraryName")})]}),(0,qt.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,qt.jsxs)("div",{children:[(0,qt.jsx)("span",{children:(0,St.t)("publishDialog.libraryDesc")}),(0,qt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,qt.jsx)("textarea",{name:"description",rows:4,required:!0,value:ro.description,onChange:Cr,placeholder:(0,St.t)("publishDialog.placeholder.libraryDesc")})]}),(0,qt.jsxs)("label",{children:[(0,qt.jsxs)("div",{children:[(0,qt.jsx)("span",{children:(0,St.t)("publishDialog.authorName")}),(0,qt.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,qt.jsx)("input",{type:"text",name:"authorName",required:!0,value:ro.authorName,onChange:Cr,placeholder:(0,St.t)("publishDialog.placeholder.authorName")})]}),(0,qt.jsxs)("label",{children:[(0,qt.jsx)("span",{children:(0,St.t)("publishDialog.githubUsername")}),(0,qt.jsx)("input",{type:"text",name:"githubHandle",value:ro.githubHandle,onChange:Cr,placeholder:(0,St.t)("publishDialog.placeholder.githubHandle")})]}),(0,qt.jsxs)("label",{children:[(0,qt.jsx)("span",{children:(0,St.t)("publishDialog.twitterUsername")}),(0,qt.jsx)("input",{type:"text",name:"twitterHandle",value:ro.twitterHandle,onChange:Cr,placeholder:(0,St.t)("publishDialog.placeholder.twitterHandle")})]}),(0,qt.jsxs)("label",{children:[(0,qt.jsx)("span",{children:(0,St.t)("publishDialog.website")}),(0,qt.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,St.t)("publishDialog.errors.website"),value:ro.website,onChange:Cr,placeholder:(0,St.t)("publishDialog.placeholder.website")})]}),(0,qt.jsx)("span",{className:"publish-library-note",children:(0,qt.jsx)(Ot.Z,{i18nKey:"publishDialog.noteLicense",link:function(lo){return(0,qt.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:lo})}})})]}),(0,qt.jsxs)("div",{className:"publish-library__buttons",children:[(0,qt.jsx)(zt.Z,{label:(0,St.t)("buttons.cancel"),onClick:Fr,"data-testid":"cancel-clear-canvas-button"}),(0,qt.jsx)(zt.Z,{type:"submit",label:(0,St.t)("buttons.submit"),actionType:"primary",isLoading:Zr})]})]}):(0,qt.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,St.t)("publishDialog.atleastOneLibItem")})})},at=_(7104),ct=_(100),mt=_(5832),Wt=function(rr,Qr){return rr.filter(function(Ir){return Qr.includes(Ir.id)})},Rt=function(rr){var Qr,Ir,xr=rr.setAppState,pr=rr.selectedItems,Nr=rr.library,Rr=rr.onRemoveFromLibrary,qr=rr.resetLibrary,Dr=rr.onSelectItems,Io=rr.appState,ro=rr.className,Zo=(0,$.KO)(xt.rF,Gt.yE),dr=(0,nt.Z)(Zo,1)[0],Hr=(0,$.KO)(Xr,Gt.yE),Zr=(0,nt.Z)(Hr,2),Vr=Zr[0],Ao=Zr[1],xo=(0,st.useState)(!1),wo=(0,nt.Z)(xo,2),To=wo[0],ho=wo[1],Cr=!!pr.length,Br=Cr?dr.libraryItems.filter(function(so){return pr.includes(so.id)}):dr.libraryItems,Fr=Cr?(0,St.t)("buttons.remove"):(0,St.t)("buttons.resetLibrary"),Sr=(0,st.useState)(!1),to=(0,nt.Z)(Sr,2),lo=to[0],eo=to[1],Eo=(0,st.useState)(null),go=(0,nt.Z)(Eo,2),mo=go[0],Oo=go[1],ao=(0,st.useCallback)(function(){return(0,qt.jsxs)(lt.V,{onCloseRequest:function(){return Oo(null)},title:(0,St.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,qt.jsx)("p",{children:(0,qt.jsx)(Ot.Z,{i18nKey:"publishSuccessDialog.content",authorName:mo.authorName,link:function(so){return(0,qt.jsx)("a",{href:mo==null?void 0:mo.url,target:"_blank",rel:"noopener noreferrer",children:so})}})}),(0,qt.jsx)(ut.V,{type:"button",title:(0,St.t)("buttons.close"),"aria-label":(0,St.t)("buttons.close"),label:(0,St.t)("buttons.close"),onClick:function(){return Oo(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[Oo,mo]),co=function(){var so=(0,it.Z)(Bt().mark(function Lo(){return Bt().wrap(function(Co){for(;;)switch(Co.prev=Co.next){case 0:return Co.prev=0,Co.next=3,Nr.updateLibrary({libraryItems:(0,ft.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:Co.next=11;break;case 5:if(Co.prev=5,Co.t0=Co.catch(0),(Co.t0===null||Co.t0===void 0?void 0:Co.t0.name)!=="AbortError"){Co.next=10;break}return console.warn(Co.t0),Co.abrupt("return");case 10:xr({errorMessage:(0,St.t)("errors.importLibraryError")});case 11:case"end":return Co.stop()}},Lo,null,[[0,5]])}));return function(){return so.apply(this,arguments)}}(),po=function(){var so=(0,it.Z)(Bt().mark(function Lo(){var Co;return Bt().wrap(function(Ro){for(;;)switch(Ro.prev=Ro.next){case 0:if(!Cr){Ro.next=4;break}Ro.t0=Br,Ro.next=7;break;case 4:return Ro.next=6,Nr.getLatestLibrary();case 6:Ro.t0=Ro.sent;case 7:Co=Ro.t0,(0,dt.t1)(Co).catch(Yt.FG).catch(function(Fl){xr({errorMessage:Fl.message})});case 9:case"end":return Ro.stop()}},Lo)}));return function(){return so.apply(this,arguments)}}();return(0,qt.jsxs)("div",{className:(0,Kt.Z)("library-menu-dropdown-container",ro),children:[(0,qt.jsxs)(at.Z,{open:Vr,children:[(0,qt.jsx)(at.Z.Trigger,{onToggle:function(){return Ao(!Vr)},children:Xt.YA}),(0,qt.jsxs)(at.Z.Content,{onClickOutside:function(){return Ao(!1)},onSelect:function(){return Ao(!1)},className:"library-menu",children:[!Cr&&(0,qt.jsx)(at.Z.Item,{onSelect:co,icon:Xt.Tl,"data-testid":"lib-dropdown--load",children:(0,St.t)("buttons.load")}),!!Br.length&&(0,qt.jsx)(at.Z.Item,{onSelect:po,icon:Xt.Hy,"data-testid":"lib-dropdown--export",children:(0,St.t)("buttons.export")}),!!Br.length&&(0,qt.jsx)(at.Z.Item,{onSelect:function(){return ho(!0)},icon:Xt.XH,children:Fr}),Cr&&(0,qt.jsx)(at.Z.Item,{icon:Xt.Nw,onSelect:function(){return eo(!0)},"data-testid":"lib-dropdown--remove",children:(0,St.t)("buttons.publishLibrary")})]})]}),pr.length>0&&(0,qt.jsx)("div",{className:"library-actions-counter",children:pr.length}),To&&(Qr=pr.length?(0,St.t)("alerts.removeItemsFromsLibrary",{count:pr.length}):(0,St.t)("alerts.resetLibrary"),Ir=pr.length?(0,St.t)("confirmDialog.removeItemsFromLib"):(0,St.t)("confirmDialog.resetLibrary"),(0,qt.jsx)(wt.Z,{onConfirm:function(){pr.length?Rr():qr(),ho(!1)},onCancel:function(){ho(!1)},title:Ir,children:(0,qt.jsx)("p",{children:Qr})})),lo&&(0,qt.jsx)(tn,{onClose:function(){return eo(!1)},libraryItems:Wt(dr.libraryItems,pr),appState:Io,onSuccess:function(so){return function(Lo,Co){eo(!1),Oo({url:Lo.url,authorName:Lo.authorName});var Ro=Co.slice();Ro.forEach(function(Fl){pr.includes(Fl.id)&&(Fl.status="published")}),Nr.setLibrary(Ro)}(so,dr.libraryItems)},onError:function(so){return window.alert(so)},updateItemsInStorage:function(){return Nr.setLibrary(dr.libraryItems)},onRemove:function(so){return Dr(pr.filter(function(Lo){return Lo!==so}))}}),mo&&ao()]})},en=function(rr){var Qr=rr.selectedItems,Ir=rr.onSelectItems,xr=rr.className,pr=(0,Ct.qD)().library,Nr=(0,mt.yT)(),Rr=Nr.clearLibraryCache,qr=Nr.deleteItemsFromLibraryCache,Dr=(0,ct.I)(),Io=(0,Ct.n9)(),ro=(0,$.KO)(xt.rF,Gt.yE),Zo=(0,nt.Z)(ro,1)[0],dr=function(){var Hr=(0,it.Z)(Bt().mark(function Zr(Vr){var Ao;return Bt().wrap(function(xo){for(;;)switch(xo.prev=xo.next){case 0:Ao=Vr.filter(function(wo){return!Qr.includes(wo.id)}),pr.setLibrary(Ao).catch(function(){Io({errorMessage:(0,St.t)("alerts.errorRemovingFromLibrary")})}),qr(Qr),Ir([]);case 4:case"end":return xo.stop()}},Zr)}));return function(Zr){return Hr.apply(this,arguments)}}();return(0,qt.jsx)(Rt,{appState:Dr,setAppState:Io,selectedItems:Qr,onSelectItems:Ir,library:pr,onRemoveFromLibrary:function(){return dr(Zo.libraryItems)},resetLibrary:function(){pr.resetLibrary(),Rr()},className:xr})},Pt=_(5644),on={};on.styleTagTransform=Cn(),on.setAttributes=hn(),on.insert=un().bind(null,"head"),on.domAPI=Tt(),on.insertStyleElement=Mt(),Ft()(Pt.Z,on),Pt.Z&&Pt.Z.locals&&Pt.Z.locals;var Bn=_(6238),yn=(0,st.memo)(function(rr){var Qr=rr.id,Ir=rr.elements,xr=rr.isPending,pr=rr.onClick,Nr=rr.selected,Rr=rr.onToggle,qr=rr.onDrag,Dr=rr.svgCache,Io=(0,st.useRef)(null),ro=(0,mt.mF)(Qr,Ir,Dr);(0,st.useEffect)(function(){var xo=Io.current;if(xo)return ro&&(xo.innerHTML=ro.outerHTML),function(){xo.innerHTML=""}},[ro]);var Zo=(0,st.useState)(!1),dr=(0,nt.Z)(Zo,2),Hr=dr[0],Zr=dr[1],Vr=(0,Ct.Fy)().editor.isMobile,Ao=xr&&(0,qt.jsx)("div",{className:"library-unit__adder",children:Xt.pO});return(0,qt.jsxs)("div",{className:(0,Kt.Z)("library-unit",{"library-unit__active":Ir,"library-unit--hover":Ir&&Hr,"library-unit--selected":Nr,"library-unit--skeleton":!ro}),onMouseEnter:function(){return Zr(!0)},onMouseLeave:function(){return Zr(!1)},children:[(0,qt.jsx)("div",{className:(0,Kt.Z)("library-unit__dragger",{"library-unit__pulse":!!xr}),ref:Io,draggable:!!Ir,onClick:Ir||xr?function(xo){Qr&&xo.shiftKey?Rr(Qr,xo):pr(Qr)}:void 0,onDragStart:function(xo){Qr?(Zr(!1),qr(Qr,xo)):xo.preventDefault()}}),Ao,Qr&&Ir&&(Hr||Vr||Nr)&&(0,qt.jsx)(Bn.o,{checked:Nr,onChange:function(xo,wo){return Rr(Qr,wo)},className:"library-unit__checkbox"})]})}),Wn=function(){return(0,qt.jsx)("div",{className:"library-unit library-unit--skeleton"})},Vn=tt().useTransition||function(){return[!1,(0,st.useCallback)(function(rr){return rr()},[])]},Hn=function(rr){var Qr=rr.children;return(0,qt.jsx)("div",{className:"library-menu-items-container__grid",children:Qr})},Zn=(0,st.memo)(function(rr){var Qr=rr.items,Ir=rr.onItemSelectToggle,xr=rr.onItemDrag,pr=rr.isItemSelected,Nr=rr.onClick,Rr=rr.svgCache,qr=rr.itemsRenderedPerBatch,Dr=Vn(),Io=(0,nt.Z)(Dr,2)[1],ro=(0,st.useState)(0),Zo=(0,nt.Z)(ro,2),dr=Zo[0],Hr=Zo[1];return(0,st.useEffect)(function(){dr<Qr.length&&Io(function(){Hr(dr+qr)})},[dr,Qr.length,Io,qr]),(0,qt.jsx)(qt.Fragment,{children:Qr.map(function(Zr,Vr){var Ao;return Vr<dr?(0,qt.jsx)(yn,{elements:Zr==null?void 0:Zr.elements,isPending:!(Zr!=null&&Zr.id||Zr==null||!Zr.elements),onClick:Nr,svgCache:Rr,id:Zr==null?void 0:Zr.id,selected:pr(Zr.id),onToggle:Ir,onDrag:xr},(Ao=Zr==null?void 0:Zr.id)!==null&&Ao!==void 0?Ao:Vr):(0,qt.jsx)(Wn,{},Vr)})})}),Kn=_(200),qn=_.n(Kn),sr=(0,$.cn)(0),In=_(6440),An={};An.styleTagTransform=Cn(),An.setAttributes=hn(),An.insert=un().bind(null,"head"),An.domAPI=Tt(),An.insertStyleElement=Mt(),Ft()(In.Z,An),In.Z&&In.Z.locals&&In.Z.locals;function On(rr,Qr){var Ir=Object.keys(rr);if(Object.getOwnPropertySymbols){var xr=Object.getOwnPropertySymbols(rr);Qr&&(xr=xr.filter(function(pr){return Object.getOwnPropertyDescriptor(rr,pr).enumerable})),Ir.push.apply(Ir,xr)}return Ir}function _n(rr){for(var Qr=1;Qr<arguments.length;Qr++){var Ir=arguments[Qr]!=null?arguments[Qr]:{};Qr%2?On(Object(Ir),!0).forEach(function(xr){(0,Nt.Z)(rr,xr,Ir[xr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rr,Object.getOwnPropertyDescriptors(Ir)):On(Object(Ir)).forEach(function(xr){Object.defineProperty(rr,xr,Object.getOwnPropertyDescriptor(Ir,xr))})}return rr}function or(rr){var Qr=rr.isLoading,Ir=rr.libraryItems,xr=rr.onAddToLibrary,pr=rr.onInsertLibraryItems,Nr=rr.pendingElements,Rr=rr.theme,qr=rr.id,Dr=rr.libraryReturnUrl,Io=rr.onSelectItems,ro=rr.selectedItems,Zo=(0,st.useRef)(null),dr=function(go){var mo=(0,$.KO)(sr),Oo=(0,nt.Z)(mo,2),ao=Oo[0],co=Oo[1];return(0,st.useEffect)(function(){var po=go.current;if(po){var so=qn()(function(){var Lo=po.scrollTop;co(Lo)},200);return po.addEventListener("scroll",so),function(){so.cancel(),po.removeEventListener("scroll",so)}}},[go,co]),ao}(Zo);(0,st.useEffect)(function(){var go;dr>0&&((go=Zo.current)===null||go===void 0||go.scrollTo(0,dr))},[]);var Hr=(0,mt.yT)().svgCache,Zr=(0,st.useMemo)(function(){return Ir.filter(function(go){return go.status!=="published"})},[Ir]),Vr=(0,st.useMemo)(function(){return Ir.filter(function(go){return go.status==="published"})},[Ir]),Ao=!Ir.length&&!Nr.length,xo=!Nr.length&&!Zr.length&&!Vr.length,wo=(0,st.useState)(null),To=(0,nt.Z)(wo,2),ho=To[0],Cr=To[1],Br=(0,st.useCallback)(function(go,mo){var Oo=!ro.includes(go),ao=[].concat((0,ot.Z)(Zr),(0,ot.Z)(Vr));if(Oo){if(mo.shiftKey&&ho){var co=ao.findIndex(function(Co){return Co.id===ho}),po=ao.findIndex(function(Co){return Co.id===go});if(co===-1||po===-1)return void Io([].concat((0,ot.Z)(ro),[go]));var so=(0,Yt.xn)(ro),Lo=ao.reduce(function(Co,Ro,Fl){return(Fl>=co&&Fl<=po||so.has(Ro.id))&&Co.push(Ro.id),Co},[]);Io(Lo)}else Io([].concat((0,ot.Z)(ro),[go]));Cr(go)}else Cr(null),Io(ro.filter(function(Co){return Co!==go}))},[ho,Io,Vr,ro,Zr]),Fr=(0,st.useCallback)(function(go){return(ro.includes(go)?Ir.filter(function(mo){return ro.includes(mo.id)}):Ir.filter(function(mo){return mo.id===go})).map(function(mo){return _n(_n({},mo),{},{elements:(0,mn._N)(mo.elements,{randomizeSeed:!0})})})},[Ir,ro]),Sr=(0,st.useCallback)(function(go,mo){mo.dataTransfer.setData(bn.LO.excalidrawlib,(0,dt.NI)(Fr(go)))},[Fr]),to=(0,st.useCallback)(function(go){return!!go&&ro.includes(go)},[ro]),lo=(0,st.useCallback)(function(){xr(Nr)},[Nr,xr]),eo=(0,st.useCallback)(function(go){go&&pr(Fr(go))},[Fr,pr]),Eo=Hr.size>=Ir.length?64:17;return(0,qt.jsxs)("div",{className:"library-menu-items-container",style:Nr.length||Zr.length||Vr.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!xo&&(0,qt.jsx)(en,{selectedItems:ro,onSelectItems:Io,className:"library-menu-dropdown-container--in-heading"}),(0,qt.jsxs)(sn.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Vr.length>0?1:"0 1 auto",marginBottom:0},ref:Zo,children:[(0,qt.jsxs)(qt.Fragment,{children:[!xo&&(0,qt.jsx)("div",{className:"library-menu-items-container__header",children:(0,St.t)("labels.personalLib")}),Qr&&(0,qt.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,qt.jsx)(pn.Z,{})}),Nr.length||Zr.length?(0,qt.jsxs)(Hn,{children:[Nr.length>0&&(0,qt.jsx)(Zn,{itemsRenderedPerBatch:Eo,items:[{id:null,elements:Nr}],onItemSelectToggle:Br,onItemDrag:Sr,onClick:lo,isItemSelected:to,svgCache:Hr}),(0,qt.jsx)(Zn,{itemsRenderedPerBatch:Eo,items:Zr,onItemSelectToggle:Br,onItemDrag:Sr,onClick:eo,isItemSelected:to,svgCache:Hr})]}):(0,qt.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,qt.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,St.t)("library.noItems")}),(0,qt.jsx)("div",{className:"library-menu-items__no-items__hint",children:Vr.length>0?(0,St.t)("library.hint_emptyPrivateLibrary"):(0,St.t)("library.hint_emptyLibrary")})]})]}),(0,qt.jsxs)(qt.Fragment,{children:[(Vr.length>0||Nr.length>0||Zr.length>0)&&(0,qt.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,St.t)("labels.excalidrawLib")}),Vr.length>0?(0,qt.jsx)(Hn,{children:(0,qt.jsx)(Zn,{itemsRenderedPerBatch:Eo,items:Vr,onItemSelectToggle:Br,onItemDrag:Sr,onClick:eo,isItemSelected:to,svgCache:Hr})}):Zr.length>0?(0,qt.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,St.t)("library.noItems")}):null]}),Ao&&(0,qt.jsx)(yt,{style:{padding:"16px 0",width:"100%"},id:qr,libraryReturnUrl:Dr,theme:Rr,children:(0,qt.jsx)(en,{selectedItems:ro,onSelectItems:Io})})]})]})}var ir=_(3646),mr=_(4105),yr=_(8923),cr={};cr.styleTagTransform=Cn(),cr.setAttributes=hn(),cr.insert=un().bind(null,"head"),cr.domAPI=Tt(),cr.insertStyleElement=Mt(),Ft()(yr.Z,cr),yr.Z&&yr.Z.locals&&yr.Z.locals;function Ur(rr,Qr){var Ir=typeof Symbol<"u"&&rr[Symbol.iterator]||rr["@@iterator"];if(!Ir){if(Array.isArray(rr)||(Ir=function(Dr,Io){if(Dr){if(typeof Dr=="string")return Wr(Dr,Io);var ro=Object.prototype.toString.call(Dr).slice(8,-1);if(ro==="Object"&&Dr.constructor&&(ro=Dr.constructor.name),ro==="Map"||ro==="Set")return Array.from(Dr);if(ro==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ro))return Wr(Dr,Io)}}(rr))||Qr){Ir&&(rr=Ir);var xr=0,pr=function(){};return{s:pr,n:function(){return xr>=rr.length?{done:!0}:{done:!1,value:rr[xr++]}},e:function(Dr){throw Dr},f:pr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nr,Rr=!0,qr=!1;return{s:function(){Ir=Ir.call(rr)},n:function(){var Dr=Ir.next();return Rr=Dr.done,Dr},e:function(Dr){qr=!0,Nr=Dr},f:function(){try{Rr||Ir.return==null||Ir.return()}finally{if(qr)throw Nr}}}}function Wr(rr,Qr){(Qr==null||Qr>rr.length)&&(Qr=rr.length);for(var Ir=0,xr=new Array(Qr);Ir<Qr;Ir++)xr[Ir]=rr[Ir];return xr}var Xr=(0,$.cn)(!1),wr=function(rr){var Qr=rr.children;return(0,qt.jsx)("div",{className:"layer-ui__library",children:Qr})},Jr=function(rr){var Qr=rr.onInsertLibraryItems,Ir=rr.pendingElements,xr=rr.onAddToLibrary,pr=rr.setAppState,Nr=rr.libraryReturnUrl,Rr=rr.library,qr=rr.id,Dr=rr.theme,Io=rr.selectedItems,ro=rr.onSelectItems,Zo=(0,$.KO)(xt.rF,Gt.yE),dr=(0,nt.Z)(Zo,1)[0],Hr=(0,st.useCallback)(function(Ao){var xo=function(){var wo=(0,it.Z)(Bt().mark(function To(ho,Cr){var Br,Fr,Sr,to,lo;return Bt().wrap(function(eo){for(;;)switch(eo.prev=eo.next){case 0:(0,ir.L)("element","addToLibrary","ui"),Br=Ur(bn.PR),eo.prev=2,Sr=function(){var Eo=Fr.value;if(ho.some(function(go){return go.type===Eo}))return{v:pr({errorMessage:(0,St.t)("errors.libraryElementTypeError.".concat(Eo))})}},Br.s();case 5:if((Fr=Br.n()).done){eo.next=11;break}if(to=Sr(),(0,Et.Z)(to)!=="object"){eo.next=9;break}return eo.abrupt("return",to.v);case 9:eo.next=5;break;case 11:eo.next=16;break;case 13:eo.prev=13,eo.t0=eo.catch(2),Br.e(eo.t0);case 16:return eo.prev=16,Br.f(),eo.finish(16);case 19:lo=[{status:"unpublished",elements:ho,id:(0,Zt.kb)(),created:Date.now()}].concat((0,ot.Z)(Cr)),xr(),Rr.setLibrary(lo).catch(function(){pr({errorMessage:(0,St.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return eo.stop()}},To,null,[[2,13,16,19]])}));return function(To,ho){return wo.apply(this,arguments)}}();xo(Ao,dr.libraryItems)},[xr,Rr,pr,dr.libraryItems]),Zr=(0,st.useMemo)(function(){return dr.libraryItems},[dr]);if(dr.status==="loading"&&!dr.isInitialized)return(0,qt.jsx)(wr,{children:(0,qt.jsx)("div",{className:"layer-ui__library-message",children:(0,qt.jsxs)("div",{children:[(0,qt.jsx)(pn.Z,{size:"2em"}),(0,qt.jsx)("span",{children:(0,St.t)("labels.libraryLoadingMessage")})]})})});var Vr=dr.libraryItems.length>0||Ir.length>0;return(0,qt.jsxs)(wr,{children:[(0,qt.jsx)(or,{isLoading:dr.status==="loading",libraryItems:Zr,onAddToLibrary:Hr,onInsertLibraryItems:Qr,pendingElements:Ir,id:qr,libraryReturnUrl:Nr,theme:Dr,onSelectItems:ro,selectedItems:Io}),Vr&&(0,qt.jsx)(yt,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:qr,libraryReturnUrl:Nr,theme:Dr})]})},Kr=function(){var rr=(0,Ct.qD)(),Qr=rr.library,Ir=rr.id,xr=rr.onInsertElements,pr=(0,Ct.hY)(),Nr=(0,ct.I)(),Rr=(0,Ct.n9)(),qr=(0,Ct.bd)(),Dr=(0,st.useState)([]),Io=(0,nt.Z)(Dr,2),ro=Io[0],Zo=Io[1],dr=(0,st.useMemo)(function(){return Qr},[Qr]),Hr=function(Ao,xo){var wo=function(){return(0,mr.eD)(xo,Ao,{includeBoundTextElement:!0,includeElementsInFrames:!0})},To=(0,st.useRef)(wo()),ho=(0,st.useRef)(Ao),Cr=(0,st.useRef)(xo);return(0,Yt.w8)(Ao.selectedElementIds,ho.current.selectedElementIds)&&(0,Yt.w8)(xo,Cr.current)||(To.current=wo(),ho.current=Ao,Cr.current=xo),To.current}(Nr,qr),Zr=(0,st.useCallback)(function(Ao){xr((0,xt.WV)(Ao))},[xr]),Vr=(0,st.useCallback)(function(){Rr({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[Rr]);return(0,qt.jsx)(Jr,{pendingElements:Hr,onInsertLibraryItems:Zr,onAddToLibrary:Vr,setAppState:Rr,libraryReturnUrl:pr.libraryReturnUrl,library:dr,id:Ir,theme:Nr.theme,selectedItems:ro,onSelectItems:Zo})}},7165:function($t,Vt,_){_.d(Vt,{z:function(){return tt}});var Et=_(2577),ot=_(8227),it=_(9787),nt=_(8531),ht=_(45),Bt=_(9937),st=_(1020),tt=function(xt){var St=xt.delay,Zt=xt.theme,Nt=(0,it.useState)(!!St),dt=(0,Et.Z)(Nt,2),Yt=dt[0],sn=dt[1];return(0,it.useEffect)(function(){if(St){var bn=setTimeout(function(){sn(!1)},St);return function(){return clearTimeout(bn)}}},[St]),Yt?null:(0,st.jsxs)("div",{className:(0,ht.Z)("LoadingMessage",{"LoadingMessage--dark":Zt===Bt.C6.DARK}),children:[(0,st.jsx)("div",{children:(0,st.jsx)(nt.Z,{})}),(0,st.jsx)("div",{className:"LoadingMessage-text",children:(0,ot.t)("labels.loadingScene")})]})}},7827:function($t,Vt,_){_.d(Vt,{K:function(){return Bt},_:function(){return st}});var Et=_(8950),ot=_(2975),it=_.n(ot),nt=_(3607),ht=_(453),Bt=(0,nt.cn)({active:!1});function st(xt){return tt.apply(this,arguments)}function tt(){return(tt=(0,Et.Z)(it().mark(function xt(St){var Zt,Nt,dt,Yt;return it().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return Zt=St.title,Nt=St.description,dt=St.actionLabel,Yt=St.color,sn.abrupt("return",new Promise(function(bn){ht.e_.set(Bt,{active:!0,onConfirm:function(){return bn(!0)},onClose:function(){return bn(!1)},onReject:function(){return bn(!1)},title:Zt,description:Nt,actionLabel:dt,color:Yt})}));case 2:case"end":return sn.stop()}},xt)}))).apply(this,arguments)}},3204:function($t,Vt,_){_.d(Vt,{J:function(){return Ut}});var Et=_(9787),ot=_(3379),it=_.n(ot),nt=_(7795),ht=_.n(nt),Bt=_(569),st=_.n(Bt),tt=_(3565),xt=_.n(tt),St=_(9216),Zt=_.n(St),Nt=_(4589),dt=_.n(Nt),Yt=_(9935),sn={};sn.styleTagTransform=dt(),sn.setAttributes=xt(),sn.insert=st().bind(null,"head"),sn.domAPI=ht(),sn.insertStyleElement=Zt(),it()(Yt.Z,sn),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var bn=_(5156),pn=_(9827),mn=_(5491),qt=_(1020),Ut=function(Kt){var yt=Kt.children,Ot=Kt.left,Gt=Kt.top,Ct=Kt.onCloseRequest,Xt=Kt.fitInViewport,ut=Xt!==void 0&&Xt,ft=Kt.offsetLeft,$=ft===void 0?0:ft,wt=Kt.offsetTop,gt=wt===void 0?0:wt,lt=Kt.viewportWidth,pt=lt===void 0?window.innerWidth:lt,vt=Kt.viewportHeight,zt=vt===void 0?window.innerHeight:vt,Qt=(0,Et.useRef)(null);(0,Et.useEffect)(function(){var At=Qt.current;if(At){At.contains(document.activeElement)||At.focus();var Tt=function(jt){if(jt.key===mn.tW.TAB){var un=(0,pn.xp)(At),Jt=document.activeElement,hn=un.findIndex(function(Cn){return Cn===Jt});if(Jt===At){var rn;jt.shiftKey?(rn=un[un.length-1])===null||rn===void 0||rn.focus():un[0].focus(),jt.preventDefault(),jt.stopImmediatePropagation()}else if(hn===0&&jt.shiftKey){var Mt;(Mt=un[un.length-1])===null||Mt===void 0||Mt.focus(),jt.preventDefault(),jt.stopImmediatePropagation()}else if(hn===un.length-1&&!jt.shiftKey){var an;(an=un[0])===null||an===void 0||an.focus(),jt.preventDefault(),jt.stopImmediatePropagation()}}};return At.addEventListener("keydown",Tt),function(){return At.removeEventListener("keydown",Tt)}}},[]);var Ft=(0,Et.useRef)(null);return(0,Et.useLayoutEffect)(function(){if(ut&&Qt.current&&Gt!=null&&Ot!=null){var At,Tt,jt=Qt.current,un=jt.getBoundingClientRect(),Jt=un.width,hn=un.height;if(((At=Ft.current)===null||At===void 0?void 0:At.top)===Gt&&((Tt=Ft.current)===null||Tt===void 0?void 0:Tt.left)===Ot)return;Ft.current={top:Gt,left:Ot},Jt>=pt?(jt.style.width="".concat(pt,"px"),jt.style.left="0px",jt.style.overflowX="scroll"):jt.style.left="".concat(Ot+Jt-$>pt?pt-Jt-10:Ot,"px"),hn>=zt?(jt.style.height="".concat(zt-20,"px"),jt.style.top="10px",jt.style.overflowY="scroll"):jt.style.top="".concat(Gt+hn-gt>zt?zt-hn:Gt,"px")}},[Gt,Ot,ut,pt,zt,$,gt]),(0,Et.useEffect)(function(){if(Ct){var At=function(Tt){var jt;(jt=Qt.current)!==null&&jt!==void 0&&jt.contains(Tt.target)||(0,bn.unstable_batchedUpdates)(function(){return Ct(Tt)})};return document.addEventListener("pointerdown",At,!1),function(){return document.removeEventListener("pointerdown",At,!1)}}},[Ct]),(0,qt.jsx)("div",{className:"popover",ref:Qt,tabIndex:-1,children:yt})}},5902:function($t,Vt,_){_.d(Vt,{YE:function(){return ho},t6:function(){return wo}});var Et=_(2577),ot=_(7169),it=_(2726),nt=_(9787),ht=_.n(nt),Bt=_(1404),st=_(3607),tt=_(453),xt=ht().createContext({}),St=_(45),Zt=_(8227),Nt=_(8242),dt=_(8935),Yt=_(8925),sn=_(8806),bn=_(1020),pn=function(Cr){var Br=Cr.children,Fr=Cr.className,Sr=(0,Nt.Fy)(),to=(0,nt.useContext)(xt),lo=!(!Sr.editor.canFitSidebar||!to.shouldRenderDockButton);return(0,bn.jsxs)("div",{className:(0,St.Z)("sidebar__header",Fr),"data-testid":"sidebar-header",children:[Br,(0,bn.jsxs)("div",{className:"sidebar__header__buttons",children:[lo&&(0,bn.jsx)(Yt.u,{label:(0,Zt.t)("labels.sidebarLock"),children:(0,bn.jsx)(sn.z,{onSelect:function(){var eo;return(eo=to.onDock)===null||eo===void 0?void 0:eo.call(to,!to.docked)},selected:!!to.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,Zt.t)("labels.sidebarLock"),children:dt.qQ})}),(0,bn.jsx)(sn.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:to.onCloseRequest,"aria-label":(0,Zt.t)("buttons.close"),children:dt.Tw})]})]})};pn.displayName="SidebarHeader";var mn=_(9827),qt=_(5491),Ut=_(9937),Kt=_(100),yt=_(3379),Ot=_.n(yt),Gt=_(7795),Ct=_.n(Gt),Xt=_(569),ut=_.n(Xt),ft=_(3565),$=_.n(ft),wt=_(9216),gt=_.n(wt),lt=_(4589),pt=_.n(lt),vt=_(7051),zt={};zt.styleTagTransform=pt(),zt.setAttributes=$(),zt.insert=ut().bind(null,"head"),zt.domAPI=Ct(),zt.insertStyleElement=gt(),Ot()(vt.Z,zt),vt.Z&&vt.Z.locals&&vt.Z.locals;var Qt=function(Cr){var Br,Fr=Cr.name,Sr=Cr.tab,to=Cr.icon,lo=Cr.title,eo=Cr.children,Eo=Cr.onToggle,go=Cr.className,mo=Cr.style,Oo=(0,Nt.n9)(),ao=(0,Kt.I)();return(0,bn.jsxs)("label",{title:lo,children:[(0,bn.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(co){var po;(po=document.querySelector(".layer-ui__wrapper"))===null||po===void 0||po.classList.remove("animate");var so=co.target.checked;Oo({openSidebar:so?{name:Fr,tab:Sr}:null}),Eo==null||Eo(so)},checked:((Br=ao.openSidebar)===null||Br===void 0?void 0:Br.name)===Fr,"aria-label":lo,"aria-keyshortcuts":"0"}),(0,bn.jsxs)("div",{className:(0,St.Z)("sidebar-trigger",go),style:mo,children:[to&&(0,bn.jsx)("div",{children:to}),eo&&(0,bn.jsx)("div",{className:"sidebar-trigger__label",children:eo})]})]})};Qt.displayName="SidebarTrigger";var Ft=_(11),At=_(7217),Tt=_(1267),jt=_(9335),un=_(4801),Jt=_(5622),hn=_(3119),rn=_(3060),Mt=_(2673);const an=(0,nt.createContext)(void 0);function Cn(Cr){const Br=(0,nt.useContext)(an);return Cr||Br||"ltr"}const kn="rovingFocusGroup.onEntryFocus",jn={bubbles:!1,cancelable:!0},Dn="RovingFocusGroup",[Fn,vn,Gn]=function(Cr){const Br=Cr+"CollectionProvider",[Fr,Sr]=(0,Tt.b)(Br),[to,lo]=Fr(Br,{collectionRef:{current:null},itemMap:new Map}),eo=co=>{const{scope:po,children:so}=co,Lo=ht().useRef(null),Co=ht().useRef(new Map).current;return ht().createElement(to,{scope:po,itemMap:Co,collectionRef:Lo},so)},Eo=Cr+"CollectionSlot",go=ht().forwardRef((co,po)=>{const{scope:so,children:Lo}=co,Co=lo(Eo,so),Ro=(0,jt.e)(po,Co.collectionRef);return ht().createElement(un.g7,{ref:Ro},Lo)}),mo=Cr+"CollectionItemSlot",Oo="data-radix-collection-item",ao=ht().forwardRef((co,po)=>{const{scope:so,children:Lo,...Co}=co,Ro=ht().useRef(null),Fl=(0,jt.e)(po,Ro),Ll=lo(mo,so);return ht().useEffect(()=>(Ll.itemMap.set(Ro,{ref:Ro,...Co}),()=>{Ll.itemMap.delete(Ro)})),ht().createElement(un.g7,{[Oo]:"",ref:Fl},Lo)});return[{Provider:eo,Slot:go,ItemSlot:ao},function(co){const po=lo(Cr+"CollectionConsumer",co);return ht().useCallback(()=>{const so=po.collectionRef.current;if(!so)return[];const Lo=Array.from(so.querySelectorAll(`[${Oo}]`));return Array.from(po.itemMap.values()).sort((Co,Ro)=>Lo.indexOf(Co.ref.current)-Lo.indexOf(Ro.ref.current))},[po.collectionRef,po.itemMap])},Sr]}(Dn),[Sn,nn]=(0,Tt.b)(Dn,[Gn]),[Qn,tn]=Sn(Dn),at=(0,nt.forwardRef)((Cr,Br)=>(0,nt.createElement)(Fn.Provider,{scope:Cr.__scopeRovingFocusGroup},(0,nt.createElement)(Fn.Slot,{scope:Cr.__scopeRovingFocusGroup},(0,nt.createElement)(ct,(0,Ft.Z)({},Cr,{ref:Br}))))),ct=(0,nt.forwardRef)((Cr,Br)=>{const{__scopeRovingFocusGroup:Fr,orientation:Sr,loop:to=!1,dir:lo,currentTabStopId:eo,defaultCurrentTabStopId:Eo,onCurrentTabStopIdChange:go,onEntryFocus:mo,...Oo}=Cr,ao=(0,nt.useRef)(null),co=(0,jt.e)(Br,ao),po=Cn(lo),[so=null,Lo]=(0,Mt.T)({prop:eo,defaultProp:Eo,onChange:go}),[Co,Ro]=(0,nt.useState)(!1),Fl=(0,rn.W)(mo),Ll=vn(Fr),Kl=(0,nt.useRef)(!1),[rs,is]=(0,nt.useState)(0);return(0,nt.useEffect)(()=>{const Ol=ao.current;if(Ol)return Ol.addEventListener(kn,Fl),()=>Ol.removeEventListener(kn,Fl)},[Fl]),(0,nt.createElement)(Qn,{scope:Fr,orientation:Sr,dir:po,loop:to,currentTabStopId:so,onItemFocus:(0,nt.useCallback)(Ol=>Lo(Ol),[Lo]),onItemShiftTab:(0,nt.useCallback)(()=>Ro(!0),[]),onFocusableItemAdd:(0,nt.useCallback)(()=>is(Ol=>Ol+1),[]),onFocusableItemRemove:(0,nt.useCallback)(()=>is(Ol=>Ol-1),[])},(0,nt.createElement)(hn.WV.div,(0,Ft.Z)({tabIndex:Co||rs===0?-1:0,"data-orientation":Sr},Oo,{ref:co,style:{outline:"none",...Cr.style},onMouseDown:(0,At.M)(Cr.onMouseDown,()=>{Kl.current=!0}),onFocus:(0,At.M)(Cr.onFocus,Ol=>{const Ml=!Kl.current;if(Ol.target===Ol.currentTarget&&Ml&&!Co){const gs=new CustomEvent(kn,jn);if(Ol.currentTarget.dispatchEvent(gs),!gs.defaultPrevented){const cn=Ll().filter(wn=>wn.focusable);en([cn.find(wn=>wn.active),cn.find(wn=>wn.id===so),...cn].filter(Boolean).map(wn=>wn.ref.current))}}Kl.current=!1}),onBlur:(0,At.M)(Cr.onBlur,()=>Ro(!1))})))}),mt="RovingFocusGroupItem",Wt=(0,nt.forwardRef)((Cr,Br)=>{const{__scopeRovingFocusGroup:Fr,focusable:Sr=!0,active:to=!1,tabStopId:lo,...eo}=Cr,Eo=(0,Jt.M)(),go=lo||Eo,mo=tn(mt,Fr),Oo=mo.currentTabStopId===go,ao=vn(Fr),{onFocusableItemAdd:co,onFocusableItemRemove:po}=mo;return(0,nt.useEffect)(()=>{if(Sr)return co(),()=>po()},[Sr,co,po]),(0,nt.createElement)(Fn.ItemSlot,{scope:Fr,id:go,focusable:Sr,active:to},(0,nt.createElement)(hn.WV.span,(0,Ft.Z)({tabIndex:Oo?0:-1,"data-orientation":mo.orientation},eo,{ref:Br,onMouseDown:(0,At.M)(Cr.onMouseDown,so=>{Sr?mo.onItemFocus(go):so.preventDefault()}),onFocus:(0,At.M)(Cr.onFocus,()=>mo.onItemFocus(go)),onKeyDown:(0,At.M)(Cr.onKeyDown,so=>{if(so.key==="Tab"&&so.shiftKey)return void mo.onItemShiftTab();if(so.target!==so.currentTarget)return;const Lo=function(Fl,Ll,Kl){const rs=function(is,Ol){return Ol!=="rtl"?is:is==="ArrowLeft"?"ArrowRight":is==="ArrowRight"?"ArrowLeft":is}(Fl.key,Kl);return Ll==="vertical"&&["ArrowLeft","ArrowRight"].includes(rs)||Ll==="horizontal"&&["ArrowUp","ArrowDown"].includes(rs)?void 0:Rt[rs]}(so,mo.orientation,mo.dir);if(Lo!==void 0){so.preventDefault();let Fl=ao().filter(Ll=>Ll.focusable).map(Ll=>Ll.ref.current);if(Lo==="last")Fl.reverse();else if(Lo==="prev"||Lo==="next"){Lo==="prev"&&Fl.reverse();const Ll=Fl.indexOf(so.currentTarget);Fl=mo.loop?(Ro=Ll+1,(Co=Fl).map((Kl,rs)=>Co[(Ro+rs)%Co.length])):Fl.slice(Ll+1)}setTimeout(()=>en(Fl))}var Co,Ro})})))}),Rt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function en(Cr){const Br=document.activeElement;for(const Fr of Cr)if(Fr===Br||(Fr.focus(),document.activeElement!==Br))return}const Pt=at,on=Wt;var Bn=_(1483);const yn="Tabs",[Wn,Vn]=(0,Tt.b)(yn,[nn]),Hn=nn(),[Zn,Kn]=Wn(yn),qn=(0,nt.forwardRef)((Cr,Br)=>{const{__scopeTabs:Fr,value:Sr,onValueChange:to,defaultValue:lo,orientation:eo="horizontal",dir:Eo,activationMode:go="automatic",...mo}=Cr,Oo=Cn(Eo),[ao,co]=(0,Mt.T)({prop:Sr,onChange:to,defaultProp:lo});return(0,nt.createElement)(Zn,{scope:Fr,baseId:(0,Jt.M)(),value:ao,onValueChange:co,orientation:eo,dir:Oo,activationMode:go},(0,nt.createElement)(hn.WV.div,(0,Ft.Z)({dir:Oo,"data-orientation":eo},mo,{ref:Br})))}),sr="TabsList",In=(0,nt.forwardRef)((Cr,Br)=>{const{__scopeTabs:Fr,loop:Sr=!0,...to}=Cr,lo=Kn(sr,Fr),eo=Hn(Fr);return(0,nt.createElement)(Pt,(0,Ft.Z)({asChild:!0},eo,{orientation:lo.orientation,dir:lo.dir,loop:Sr}),(0,nt.createElement)(hn.WV.div,(0,Ft.Z)({role:"tablist","aria-orientation":lo.orientation},to,{ref:Br})))}),An="TabsTrigger",On=(0,nt.forwardRef)((Cr,Br)=>{const{__scopeTabs:Fr,value:Sr,disabled:to=!1,...lo}=Cr,eo=Kn(An,Fr),Eo=Hn(Fr),go=ir(eo.baseId,Sr),mo=mr(eo.baseId,Sr),Oo=Sr===eo.value;return(0,nt.createElement)(on,(0,Ft.Z)({asChild:!0},Eo,{focusable:!to,active:Oo}),(0,nt.createElement)(hn.WV.button,(0,Ft.Z)({type:"button",role:"tab","aria-selected":Oo,"aria-controls":mo,"data-state":Oo?"active":"inactive","data-disabled":to?"":void 0,disabled:to,id:go},lo,{ref:Br,onMouseDown:(0,At.M)(Cr.onMouseDown,ao=>{to||ao.button!==0||ao.ctrlKey!==!1?ao.preventDefault():eo.onValueChange(Sr)}),onKeyDown:(0,At.M)(Cr.onKeyDown,ao=>{[" ","Enter"].includes(ao.key)&&eo.onValueChange(Sr)}),onFocus:(0,At.M)(Cr.onFocus,()=>{const ao=eo.activationMode!=="manual";Oo||to||!ao||eo.onValueChange(Sr)})})))}),_n="TabsContent",or=(0,nt.forwardRef)((Cr,Br)=>{const{__scopeTabs:Fr,value:Sr,forceMount:to,children:lo,...eo}=Cr,Eo=Kn(_n,Fr),go=ir(Eo.baseId,Sr),mo=mr(Eo.baseId,Sr),Oo=Sr===Eo.value,ao=(0,nt.useRef)(Oo);return(0,nt.useEffect)(()=>{const co=requestAnimationFrame(()=>ao.current=!1);return()=>cancelAnimationFrame(co)},[]),(0,nt.createElement)(Bn.z,{present:to||Oo},({present:co})=>(0,nt.createElement)(hn.WV.div,(0,Ft.Z)({"data-state":Oo?"active":"inactive","data-orientation":Eo.orientation,role:"tabpanel","aria-labelledby":go,hidden:!co,id:mo,tabIndex:0},eo,{ref:Br,style:{...Cr.style,animationDuration:ao.current?"0s":void 0}}),co&&lo))});function ir(Cr,Br){return`${Cr}-trigger-${Br}`}function mr(Cr,Br){return`${Cr}-content-${Br}`}const yr=qn,cr=In,Ur=On,Wr=or;var Xr=["children"];function wr(Cr,Br){var Fr=Object.keys(Cr);if(Object.getOwnPropertySymbols){var Sr=Object.getOwnPropertySymbols(Cr);Br&&(Sr=Sr.filter(function(to){return Object.getOwnPropertyDescriptor(Cr,to).enumerable})),Fr.push.apply(Fr,Sr)}return Fr}function Jr(Cr){for(var Br=1;Br<arguments.length;Br++){var Fr=arguments[Br]!=null?arguments[Br]:{};Br%2?wr(Object(Fr),!0).forEach(function(Sr){(0,ot.Z)(Cr,Sr,Fr[Sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cr,Object.getOwnPropertyDescriptors(Fr)):wr(Object(Fr)).forEach(function(Sr){Object.defineProperty(Cr,Sr,Object.getOwnPropertyDescriptor(Fr,Sr))})}return Cr}var Kr=function(Cr){var Br=Cr.children,Fr=(0,it.Z)(Cr,Xr);return(0,bn.jsx)(cr,Jr(Jr({className:"sidebar-triggers"},Fr),{},{children:Br}))};Kr.displayName="SidebarTabTriggers";var rr=["children","tab","onSelect"];function Qr(Cr,Br){var Fr=Object.keys(Cr);if(Object.getOwnPropertySymbols){var Sr=Object.getOwnPropertySymbols(Cr);Br&&(Sr=Sr.filter(function(to){return Object.getOwnPropertyDescriptor(Cr,to).enumerable})),Fr.push.apply(Fr,Sr)}return Fr}function Ir(Cr){for(var Br=1;Br<arguments.length;Br++){var Fr=arguments[Br]!=null?arguments[Br]:{};Br%2?Qr(Object(Fr),!0).forEach(function(Sr){(0,ot.Z)(Cr,Sr,Fr[Sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cr,Object.getOwnPropertyDescriptors(Fr)):Qr(Object(Fr)).forEach(function(Sr){Object.defineProperty(Cr,Sr,Object.getOwnPropertyDescriptor(Fr,Sr))})}return Cr}var xr=function(Cr){var Br=Cr.children,Fr=Cr.tab,Sr=Cr.onSelect,to=(0,it.Z)(Cr,rr);return(0,bn.jsx)(Ur,{value:Fr,asChild:!0,onSelect:Sr,children:(0,bn.jsx)("button",Ir(Ir({type:"button",className:"excalidraw-button sidebar-tab-trigger"},to),{},{children:Br}))})};xr.displayName="SidebarTabTrigger";var pr=["children"];function Nr(Cr,Br){var Fr=Object.keys(Cr);if(Object.getOwnPropertySymbols){var Sr=Object.getOwnPropertySymbols(Cr);Br&&(Sr=Sr.filter(function(to){return Object.getOwnPropertyDescriptor(Cr,to).enumerable})),Fr.push.apply(Fr,Sr)}return Fr}function Rr(Cr){for(var Br=1;Br<arguments.length;Br++){var Fr=arguments[Br]!=null?arguments[Br]:{};Br%2?Nr(Object(Fr),!0).forEach(function(Sr){(0,ot.Z)(Cr,Sr,Fr[Sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cr,Object.getOwnPropertyDescriptors(Fr)):Nr(Object(Fr)).forEach(function(Sr){Object.defineProperty(Cr,Sr,Object.getOwnPropertyDescriptor(Fr,Sr))})}return Cr}var qr=function(Cr){var Br=Cr.children,Fr=(0,it.Z)(Cr,pr),Sr=(0,Kt.I)(),to=(0,Nt.n9)();if(!Sr.openSidebar)return null;var lo=Sr.openSidebar.name;return(0,bn.jsx)(yr,Rr(Rr({className:"sidebar-tabs-root",value:Sr.openSidebar.tab,onValueChange:function(eo){return to(function(Eo){return Rr(Rr({},Eo),{},{openSidebar:Rr(Rr({},Eo.openSidebar),{},{name:lo,tab:eo})})})}},Fr),{},{children:Br}))};qr.displayName="SidebarTabs";var Dr=["tab","children"];function Io(Cr,Br){var Fr=Object.keys(Cr);if(Object.getOwnPropertySymbols){var Sr=Object.getOwnPropertySymbols(Cr);Br&&(Sr=Sr.filter(function(to){return Object.getOwnPropertyDescriptor(Cr,to).enumerable})),Fr.push.apply(Fr,Sr)}return Fr}function ro(Cr){for(var Br=1;Br<arguments.length;Br++){var Fr=arguments[Br]!=null?arguments[Br]:{};Br%2?Io(Object(Fr),!0).forEach(function(Sr){(0,ot.Z)(Cr,Sr,Fr[Sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cr,Object.getOwnPropertyDescriptors(Fr)):Io(Object(Fr)).forEach(function(Sr){Object.defineProperty(Cr,Sr,Object.getOwnPropertyDescriptor(Fr,Sr))})}return Cr}var Zo=function(Cr){var Br=Cr.tab,Fr=Cr.children,Sr=(0,it.Z)(Cr,Dr);return(0,bn.jsx)(Wr,ro(ro({},Sr),{},{value:Br,children:Fr}))};Zo.displayName="SidebarTab";var dr=_(1901),Hr=_(8208),Zr={};Zr.styleTagTransform=pt(),Zr.setAttributes=$(),Zr.insert=ut().bind(null,"head"),Zr.domAPI=Ct(),Zr.insertStyleElement=gt(),Ot()(Hr.Z,Zr),Hr.Z&&Hr.Z.locals&&Hr.Z.locals;var Vr=["name","children","onDock","docked","className"];function Ao(Cr,Br){var Fr=Object.keys(Cr);if(Object.getOwnPropertySymbols){var Sr=Object.getOwnPropertySymbols(Cr);Br&&(Sr=Sr.filter(function(to){return Object.getOwnPropertyDescriptor(Cr,to).enumerable})),Fr.push.apply(Fr,Sr)}return Fr}function xo(Cr){for(var Br=1;Br<arguments.length;Br++){var Fr=arguments[Br]!=null?arguments[Br]:{};Br%2?Ao(Object(Fr),!0).forEach(function(Sr){(0,ot.Z)(Cr,Sr,Fr[Sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cr,Object.getOwnPropertyDescriptors(Fr)):Ao(Object(Fr)).forEach(function(Sr){Object.defineProperty(Cr,Sr,Object.getOwnPropertyDescriptor(Fr,Sr))})}return Cr}var wo=(0,st.cn)(!1),To=(0,nt.forwardRef)(function(Cr,Br){Cr.name;var Fr=Cr.children,Sr=Cr.onDock,to=Cr.docked,lo=Cr.className,eo=(0,it.Z)(Cr,Vr),Eo=(0,Nt.n9)(),go=(0,st.b9)(wo,tt.yE);(0,nt.useLayoutEffect)(function(){return go(!!to),function(){go(!1)}},[go,to]);var mo=(0,nt.useRef)({});mo.current.onCloseRequest=function(){Eo({openSidebar:null})},mo.current.onDock=function(po){return Sr==null?void 0:Sr(po)},mo.current=(0,mn.v4)(mo.current,{docked:to,shouldRenderDockButton:!!Sr&&to!=null});var Oo=(0,nt.useRef)(null);(0,nt.useImperativeHandle)(Br,function(){return Oo.current});var ao=(0,Nt.Fy)(),co=(0,nt.useCallback)(function(){document.querySelector(".Dialog")||Eo({openSidebar:null})},[Eo]);return(0,dr.O)(Oo,(0,nt.useCallback)(function(po){po.target.closest(".sidebar-trigger")||to&&ao.editor.canFitSidebar||co()},[co,to,ao.editor.canFitSidebar])),(0,nt.useEffect)(function(){var po=function(so){so.key!==qt.tW.ESCAPE||to&&ao.editor.canFitSidebar||co()};return document.addEventListener(Ut.Ks.KEYDOWN,po),function(){document.removeEventListener(Ut.Ks.KEYDOWN,po)}},[co,to,ao.editor.canFitSidebar]),(0,bn.jsx)(Bt.W,xo(xo({},eo),{},{className:(0,St.Z)("sidebar",{"sidebar--docked":to},lo),ref:Oo,children:(0,bn.jsx)(xt.Provider,{value:mo.current,children:Fr})}))});To.displayName="SidebarInner";var ho=Object.assign((0,nt.forwardRef)(function(Cr,Br){var Fr,Sr=(0,Kt.I)(),to=Cr.onStateChange,lo=(0,nt.useRef)(Sr.openSidebar);(0,nt.useEffect)(function(){var Oo,ao,co,po,so;(!Sr.openSidebar&&(lo==null||(Oo=lo.current)===null||Oo===void 0?void 0:Oo.name)===Cr.name||((ao=Sr.openSidebar)===null||ao===void 0?void 0:ao.name)===Cr.name&&(lo==null||(co=lo.current)===null||co===void 0?void 0:co.name)!==Cr.name||((po=lo.current)===null||po===void 0?void 0:po.name)===Cr.name)&&Sr.openSidebar!==lo.current&&(to==null||to(((so=Sr.openSidebar)===null||so===void 0?void 0:so.name)!==Cr.name?null:Sr.openSidebar)),lo.current=Sr.openSidebar},[Sr.openSidebar,to,Cr.name]);var eo=(0,nt.useState)(!1),Eo=(0,Et.Z)(eo,2),go=Eo[0],mo=Eo[1];return(0,nt.useLayoutEffect)(function(){return mo(!0),function(){return mo(!1)}},[]),go&&((Fr=Sr.openSidebar)===null||Fr===void 0?void 0:Fr.name)===Cr.name?(0,nt.createElement)(To,xo(xo({},Cr),{},{ref:Br,key:Cr.name})):null}),{Header:pn,TabTriggers:Kr,TabTrigger:xr,Tabs:qr,Tab:Zo,Trigger:Qt});ho.displayName="Sidebar"},8531:function($t,Vt,_){_.d(Vt,{Z:function(){return qt}});var Et=_(7169),ot=_(9787),it=_.n(ot),nt=_(3379),ht=_.n(nt),Bt=_(7795),st=_.n(Bt),tt=_(569),xt=_.n(tt),St=_(3565),Zt=_.n(St),Nt=_(9216),dt=_.n(Nt),Yt=_(4589),sn=_.n(Yt),bn=_(5892),pn={};pn.styleTagTransform=sn(),pn.setAttributes=Zt(),pn.insert=xt().bind(null,"head"),pn.domAPI=st(),pn.insertStyleElement=dt(),ht()(bn.Z,pn),bn.Z&&bn.Z.locals&&bn.Z.locals;var mn=_(1020),qt=function(Ut){var Kt=Ut.size,yt=Kt===void 0?"1em":Kt,Ot=Ut.circleWidth,Gt=Ot===void 0?8:Ot,Ct=Ut.synchronized,Xt=Ct!==void 0&&Ct,ut=-it().useRef(Date.now()).current%1600;return(0,mn.jsx)("div",{className:"Spinner",children:(0,mn.jsx)("svg",{viewBox:"0 0 100 100",style:(0,Et.Z)({width:yt,height:yt},"--spinner-delay",Xt?"".concat(ut,"ms"):0),children:(0,mn.jsx)("circle",{cx:"50",cy:"50",r:50-Gt/2,strokeWidth:Gt,fill:"none",strokeMiterlimit:"10"})})})}},2540:function($t,Vt,_){_.d(Vt,{Z:function(){return Kt}});var Et=_(7169),ot=_(3379),it=_.n(ot),nt=_(7795),ht=_.n(nt),Bt=_(569),st=_.n(Bt),tt=_(3565),xt=_.n(tt),St=_(9216),Zt=_.n(St),Nt=_(4589),dt=_.n(Nt),Yt=_(3874),sn={};sn.styleTagTransform=dt(),sn.setAttributes=xt(),sn.insert=st().bind(null,"head"),sn.domAPI=ht(),sn.insertStyleElement=Zt(),it()(Yt.Z,sn),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var bn=_(9787),pn=_(45),mn=_(1020);function qt(yt,Ot){var Gt=Object.keys(yt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(yt);Ot&&(Ct=Ct.filter(function(Xt){return Object.getOwnPropertyDescriptor(yt,Xt).enumerable})),Gt.push.apply(Gt,Ct)}return Gt}function Ut(yt){for(var Ot=1;Ot<arguments.length;Ot++){var Gt=arguments[Ot]!=null?arguments[Ot]:{};Ot%2?qt(Object(Gt),!0).forEach(function(Ct){(0,Et.Z)(yt,Ct,Gt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Gt)):qt(Object(Gt)).forEach(function(Ct){Object.defineProperty(yt,Ct,Object.getOwnPropertyDescriptor(Gt,Ct))})}return yt}var Kt={Row:(0,bn.forwardRef)(function(yt,Ot){var Gt=yt.children,Ct=yt.gap,Xt=yt.align,ut=yt.justifyContent,ft=yt.className,$=yt.style;return(0,mn.jsx)("div",{className:(0,pn.Z)("Stack Stack_horizontal",ft),style:Ut({"--gap":Ct,alignItems:Xt,justifyContent:ut},$),ref:Ot,children:Gt})}),Col:(0,bn.forwardRef)(function(yt,Ot){var Gt=yt.children,Ct=yt.gap,Xt=yt.align,ut=yt.justifyContent,ft=yt.className,$=yt.style;return(0,mn.jsx)("div",{className:(0,pn.Z)("Stack Stack_vertical",ft),style:Ut({"--gap":Ct,justifyItems:Xt,justifyContent:ut},$),ref:Ot,children:Gt})})}},1512:function($t,Vt,_){_.d(Vt,{V:function(){return Nt}});var Et=_(8950),ot=_(2577),it=_(2975),nt=_.n(it),ht=(_(3041),_(9787)),Bt=_.n(ht),st=_(45),tt=_(8242),xt=_(3506),St=_(8531),Zt=_(1020),Nt=Bt().forwardRef(function(dt,Yt){var sn=(0,tt.J0)().id,bn=Bt().useRef(null);Bt().useImperativeHandle(Yt,function(){return bn.current});var pn="ToolIcon_size_".concat(dt.size),mn=(0,ht.useState)(!1),qt=(0,ot.Z)(mn,2),Ut=qt[0],Kt=qt[1],yt=(0,ht.useRef)(!0),Ot=function(){var Xt=(0,Et.Z)(nt().mark(function ut(ft){var $,wt;return nt().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(!(wt="onClick"in dt&&(($=dt.onClick)===null||$===void 0?void 0:$.call(dt,ft)))||!("then"in wt)){gt.next=18;break}return gt.prev=2,Kt(!0),gt.next=6,wt;case 6:gt.next=15;break;case 8:if(gt.prev=8,gt.t0=gt.catch(2),gt.t0 instanceof xt._L){gt.next=14;break}throw gt.t0;case 14:console.warn(gt.t0);case 15:return gt.prev=15,yt.current&&Kt(!1),gt.finish(15);case 18:case"end":return gt.stop()}},ut,null,[[2,8,15,18]])}));return function(ut){return Xt.apply(this,arguments)}}();(0,ht.useEffect)(function(){return yt.current=!0,function(){yt.current=!1}},[]);var Gt=(0,ht.useRef)(null);if(dt.type==="button"||dt.type==="icon"||dt.type==="submit"){var Ct=dt.type==="icon"?"button":dt.type;return(0,Zt.jsxs)("button",{className:(0,st.Z)("ToolIcon_type_button",pn,dt.className,dt.visible&&!dt.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!dt.hidden,"ToolIcon--selected":dt.selected,"ToolIcon--plain":dt.type==="icon"}),style:dt.style,"data-testid":dt["data-testid"],hidden:dt.hidden,title:dt.title,"aria-label":dt["aria-label"],type:Ct,onClick:Ot,ref:bn,disabled:Ut||dt.isLoading,children:[(dt.icon||dt.label)&&(0,Zt.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[dt.icon||dt.label,dt.keyBindingLabel&&(0,Zt.jsx)("span",{className:"ToolIcon__keybinding",children:dt.keyBindingLabel}),dt.isLoading&&(0,Zt.jsx)(St.Z,{})]}),dt.showAriaLabel&&(0,Zt.jsxs)("div",{className:"ToolIcon__label",children:[dt["aria-label"]," ",Ut&&(0,Zt.jsx)(St.Z,{})]}),dt.children]})}return(0,Zt.jsxs)("label",{className:(0,st.Z)("ToolIcon",dt.className),title:dt.title,onPointerDown:function(Xt){var ut;Gt.current=Xt.pointerType||null,(ut=dt.onPointerDown)===null||ut===void 0||ut.call(dt,{pointerType:Xt.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){Gt.current=null})},children:[(0,Zt.jsx)("input",{className:"ToolIcon_type_radio ".concat(pn),type:"radio",name:dt.name,"aria-label":dt["aria-label"],"aria-keyshortcuts":dt["aria-keyshortcuts"],"data-testid":dt["data-testid"],id:"".concat(sn,"-").concat(dt.id),onChange:function(){var Xt;(Xt=dt.onChange)===null||Xt===void 0||Xt.call(dt,{pointerType:Gt.current})},checked:dt.checked,ref:bn}),(0,Zt.jsxs)("div",{className:"ToolIcon__icon",children:[dt.icon,dt.keyBindingLabel&&(0,Zt.jsx)("span",{className:"ToolIcon__keybinding",children:dt.keyBindingLabel})]})]})});Nt.defaultProps={visible:!0,className:"",size:"medium"},Nt.displayName="ToolButton"},8925:function($t,Vt,_){_.d(Vt,{u:function(){return qt},bK:function(){return pn},Js:function(){return mn}});var Et=_(3379),ot=_.n(Et),it=_(7795),nt=_.n(it),ht=_(569),Bt=_.n(ht),st=_(3565),tt=_.n(st),xt=_(9216),St=_.n(xt),Zt=_(4589),Nt=_.n(Zt),dt=_(6626),Yt={};Yt.styleTagTransform=Nt(),Yt.setAttributes=tt(),Yt.insert=Bt().bind(null,"head"),Yt.domAPI=nt(),Yt.insertStyleElement=St(),ot()(dt.Z,Yt),dt.Z&&dt.Z.locals&&dt.Z.locals;var sn=_(9787),bn=_(1020),pn=function(){var Ut=document.querySelector(".excalidraw-tooltip");if(Ut)return Ut;var Kt=document.createElement("div");return document.body.appendChild(Kt),Kt.classList.add("excalidraw-tooltip"),Kt},mn=function(Ut,Kt){var yt,Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",Gt=Ut.getBoundingClientRect(),Ct=window.innerWidth,Xt=window.innerHeight,ut=5,ft=Kt.left+Kt.width/2-Gt.width/2;ft<0?ft=ut:ft+Gt.width>=Ct&&(ft=Ct-Gt.width-ut),Ot==="bottom"?(yt=Kt.top+Kt.height+ut)+Gt.height>=Xt&&(yt=Kt.top-Gt.height-ut):(yt=Kt.top-Gt.height-ut)<0&&(yt=Kt.top+Kt.height+ut),Object.assign(Ut.style,{top:"".concat(yt,"px"),left:"".concat(ft,"px")})},qt=function(Ut){var Kt=Ut.children,yt=Ut.label,Ot=Ut.long,Gt=Ot!==void 0&&Ot,Ct=Ut.style;return(0,sn.useEffect)(function(){return function(){return pn().classList.remove("excalidraw-tooltip--visible")}},[]),(0,bn.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(Xt){return function(ut,ft,$,wt){ft.classList.add("excalidraw-tooltip--visible"),ft.style.minWidth=wt?"50ch":"10ch",ft.style.maxWidth=wt?"50ch":"15ch",ft.textContent=$;var gt=ut.getBoundingClientRect();mn(ft,gt)}(Xt.currentTarget,pn(),yt,Gt)},onPointerLeave:function(){return pn().classList.remove("excalidraw-tooltip--visible")},style:Ct,children:Kt})}},9247:function($t,Vt,_){var Et=_(2726),ot=_(1930),it=_(9787),nt=_.n(it),ht=_(8227),Bt=["i18nKey","children"],st=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,tt=/{{([\w-]+)}}/,xt=/<([\w-]+)>/,St=/<\/([\w-]+)>/;Vt.Z=function(Zt){var Nt=Zt.i18nKey,dt=(Zt.children,(0,Et.Z)(Zt,Bt)),Yt=(0,ht.QT)().t;return nt().createElement.apply(nt(),[nt().Fragment,{}].concat((0,ot.Z)(function(sn,bn){var pn=[{name:"",children:[]}];return sn.split(st).filter(Boolean).forEach(function(mn){var qt=mn.match(xt),Ut=mn.match(St),Kt=mn.match(tt);if(qt!==null){var yt=qt[1];bn.hasOwnProperty(yt)?pn.push({name:yt,children:[]}):console.warn("Trans: missed to pass in prop ".concat(yt," for interpolating ").concat(sn))}else if(Ut!==null)if(Ut[1]===pn[pn.length-1].name){var Ot=pn.pop(),Gt=nt().createElement.apply(nt(),[nt().Fragment,{}].concat((0,ot.Z)(Ot.children))),Ct=bn[Ot.name];typeof Ct=="function"&&pn[pn.length-1].children.push(Ct(Gt))}else console.warn("Trans: unexpected end tag ".concat(mn," for interpolating ").concat(sn));else if(Kt!==null){var Xt=Kt[1];bn.hasOwnProperty(Xt)?pn[pn.length-1].children.push(bn[Xt]):console.warn("Trans: key ".concat(Xt," not in props for interpolating ").concat(sn))}else pn[pn.length-1].children.push(mn)}),pn.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(sn)),pn[0].children}(Yt(Nt),dt))))}},4704:function($t,Vt,_){_.d(Vt,{Z:function(){return yt}});var Et=_(2577),ot=_(3379),it=_.n(ot),nt=_(7795),ht=_.n(nt),Bt=_(569),st=_.n(Bt),tt=_(3565),xt=_.n(tt),St=_(9216),Zt=_.n(St),Nt=_(4589),dt=_.n(Nt),Yt=_(6359),sn={};sn.styleTagTransform=dt(),sn.setAttributes=xt(),sn.insert=st().bind(null,"head"),sn.domAPI=ht(),sn.insertStyleElement=Zt(),it()(Yt.Z,sn),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var bn=_(9787),pn=_.n(bn),mn=_(45),qt=_(8925),Ut=_(8242),Kt=_(1020),yt=function(Ot){var Gt=Ot.className,Ct=Ot.mobile,Xt=Ot.collaborators,ut=(0,Ut.eh)(),ft=new Map;Xt.forEach(function(wt,gt){ft.set(wt.id||gt,wt)});var $=ft.size>0&&Array.from(ft).filter(function(wt){var gt=(0,Et.Z)(wt,2),lt=(gt[0],gt[1]);return Object.keys(lt).length!==0}).map(function(wt){var gt=(0,Et.Z)(wt,2),lt=gt[0],pt=gt[1],vt=ut.renderAction("goToCollaborator",[lt,pt]);return Ct?(0,Kt.jsx)(qt.u,{label:pt.username||"Unknown user",children:vt},lt):(0,Kt.jsx)(pn().Fragment,{children:vt},lt)});return(0,Kt.jsx)("div",{className:(0,mn.Z)("UserList",Gt,{UserList_mobile:Ct}),children:$})}},7104:function($t,Vt,_){_.d(Vt,{Z:function(){return rn}});var Et=_(7169),ot=_(2726),it=_(45),nt=_(8242),ht=_(1020),Bt=["className","children","onToggle","title"];function st(Mt,an){var Cn=Object.keys(Mt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Mt);an&&(kn=kn.filter(function(jn){return Object.getOwnPropertyDescriptor(Mt,jn).enumerable})),Cn.push.apply(Cn,kn)}return Cn}function tt(Mt){for(var an=1;an<arguments.length;an++){var Cn=arguments[an]!=null?arguments[an]:{};an%2?st(Object(Cn),!0).forEach(function(kn){(0,Et.Z)(Mt,kn,Cn[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(Cn)):st(Object(Cn)).forEach(function(kn){Object.defineProperty(Mt,kn,Object.getOwnPropertyDescriptor(Cn,kn))})}return Mt}var xt=function(Mt){var an=Mt.className,Cn=an===void 0?"":an,kn=Mt.children,jn=Mt.onToggle,Dn=Mt.title,Fn=(0,ot.Z)(Mt,Bt),vn=(0,nt.Fy)(),Gn=(0,it.Z)("dropdown-menu-button ".concat(Cn),"zen-mode-transition",{"dropdown-menu-button--mobile":vn.editor.isMobile}).trim();return(0,ht.jsx)("button",tt(tt({"data-prevent-outside-click":!0,className:Gn,onClick:jn,type:"button","data-testid":"dropdown-menu-button",title:Dn},Fn),{},{children:kn}))},St=xt;xt.displayName="DropdownMenuTrigger";var Zt=_(5735),Nt=function(){return(0,ht.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},dt=Nt;Nt.displayName="DropdownMenuSeparator";var Yt=function(Mt){var an=Mt.children,Cn=Mt.className,kn=Cn===void 0?"":Cn,jn=Mt.style,Dn=Mt.title;return(0,ht.jsxs)("div",{className:"dropdown-menu-group ".concat(kn),style:jn,children:[Dn&&(0,ht.jsx)("p",{className:"dropdown-menu-group-title",children:Dn}),an]})},sn=Yt;Yt.displayName="DropdownMenuGroup";var bn=_(1404),pn=_(2540),mn=_(9787),qt=_.n(mn),Ut=_(7009),Kt=_(1901),yt=function(Mt){var an=Mt.children,Cn=Mt.onClickOutside,kn=Mt.className,jn=kn===void 0?"":kn,Dn=Mt.onSelect,Fn=Mt.style,vn=(0,nt.Fy)(),Gn=(0,mn.useRef)(null);(0,Kt.O)(Gn,function(){Cn==null||Cn()});var Sn=(0,it.Z)("dropdown-menu ".concat(jn),{"dropdown-menu--mobile":vn.editor.isMobile}).trim();return(0,ht.jsx)(Ut.N7.Provider,{value:{onSelect:Dn},children:(0,ht.jsx)("div",{ref:Gn,className:Sn,style:Fn,"data-testid":"dropdown-menu",children:vn.editor.isMobile?(0,ht.jsx)(pn.Z.Col,{className:"dropdown-menu-container",children:an}):(0,ht.jsx)(bn.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:an})})})};yt.displayName="DropdownMenuContent";var Ot=yt,Gt=_(3858),Ct=["children","className","selected"];function Xt(Mt,an){var Cn=Object.keys(Mt);if(Object.getOwnPropertySymbols){var kn=Object.getOwnPropertySymbols(Mt);an&&(kn=kn.filter(function(jn){return Object.getOwnPropertyDescriptor(Mt,jn).enumerable})),Cn.push.apply(Cn,kn)}return Cn}function ut(Mt){for(var an=1;an<arguments.length;an++){var Cn=arguments[an]!=null?arguments[an]:{};an%2?Xt(Object(Cn),!0).forEach(function(kn){(0,Et.Z)(Mt,kn,Cn[kn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mt,Object.getOwnPropertyDescriptors(Cn)):Xt(Object(Cn)).forEach(function(kn){Object.defineProperty(Mt,kn,Object.getOwnPropertyDescriptor(Cn,kn))})}return Mt}var ft=function(Mt){var an=Mt.children,Cn=Mt.className,kn=Cn===void 0?"":Cn,jn=Mt.selected,Dn=(0,ot.Z)(Mt,Ct);return(0,ht.jsx)("div",ut(ut({},Dn),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(kn," ").concat(jn?"dropdown-menu-item--selected":"").trim(),children:an}))},$=_(3379),wt=_.n($),gt=_(7795),lt=_.n(gt),pt=_(569),vt=_.n(pt),zt=_(3565),Qt=_.n(zt),Ft=_(9216),At=_.n(Ft),Tt=_(4589),jt=_.n(Tt),un=_(7399),Jt={};Jt.styleTagTransform=jt(),Jt.setAttributes=Qt(),Jt.insert=vt().bind(null,"head"),Jt.domAPI=lt(),Jt.insertStyleElement=At(),wt()(un.Z,Jt),un.Z&&un.Z.locals&&un.Z.locals;var hn=function(Mt){var an=Mt.children,Cn=Mt.open,kn=function(Dn){return qt().Children.toArray(Dn).find(function(Fn){return qt().isValidElement(Fn)&&typeof Fn.type!="string"&&(Fn==null?void 0:Fn.type.displayName)&&Fn.type.displayName==="DropdownMenuTrigger"})||null}(an),jn=function(Dn){return qt().Children.toArray(Dn).find(function(Fn){return qt().isValidElement(Fn)&&typeof Fn.type!="string"&&(Fn==null?void 0:Fn.type.displayName)&&Fn.type.displayName==="DropdownMenuContent"})||null}(an);return(0,ht.jsxs)(ht.Fragment,{children:[kn,Cn&&jn]})};hn.Trigger=St,hn.Content=Ot,hn.Item=Zt.Z,hn.ItemLink=Gt.Z,hn.ItemCustom=ft,hn.Group=sn,hn.Separator=dt;var rn=hn;hn.displayName="DropdownMenu"},5735:function($t,Vt,_){var Et=_(7169),ot=_(2726),it=_(7009),nt=_(6732),ht=_(1020),Bt=["icon","onSelect","children","shortcut","className","selected"];function st(St,Zt){var Nt=Object.keys(St);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(St);Zt&&(dt=dt.filter(function(Yt){return Object.getOwnPropertyDescriptor(St,Yt).enumerable})),Nt.push.apply(Nt,dt)}return Nt}function tt(St){for(var Zt=1;Zt<arguments.length;Zt++){var Nt=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?st(Object(Nt),!0).forEach(function(dt){(0,Et.Z)(St,dt,Nt[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Nt)):st(Object(Nt)).forEach(function(dt){Object.defineProperty(St,dt,Object.getOwnPropertyDescriptor(Nt,dt))})}return St}var xt=function(St){var Zt,Nt=St.icon,dt=St.onSelect,Yt=St.children,sn=St.shortcut,bn=St.className,pn=St.selected,mn=(0,ot.Z)(St,Bt),qt=(0,it.qZ)(mn.onClick,dt);return(0,ht.jsx)("button",tt(tt({},mn),{},{onClick:qt,type:"button",className:(0,it.n)(bn,pn),title:(Zt=mn.title)!==null&&Zt!==void 0?Zt:mn["aria-label"],children:(0,ht.jsx)(nt.Z,{icon:Nt,shortcut:sn,children:Yt})}))};Vt.Z=xt,xt.displayName="DropdownMenuItem"},6732:function($t,Vt,_){var Et=_(8242),ot=_(1020);Vt.Z=function(it){var nt=it.icon,ht=it.shortcut,Bt=it.children,st=(0,Et.Fy)();return(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)("div",{className:"dropdown-menu-item__icon",children:nt}),(0,ot.jsx)("div",{className:"dropdown-menu-item__text",children:Bt}),ht&&!st.editor.isMobile&&(0,ot.jsx)("div",{className:"dropdown-menu-item__shortcut",children:ht})]})}},3858:function($t,Vt,_){var Et=_(7169),ot=_(2726),it=_(6732),nt=_(7009),ht=_(1020),Bt=["icon","shortcut","href","children","onSelect","className","selected"];function st(St,Zt){var Nt=Object.keys(St);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(St);Zt&&(dt=dt.filter(function(Yt){return Object.getOwnPropertyDescriptor(St,Yt).enumerable})),Nt.push.apply(Nt,dt)}return Nt}function tt(St){for(var Zt=1;Zt<arguments.length;Zt++){var Nt=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?st(Object(Nt),!0).forEach(function(dt){(0,Et.Z)(St,dt,Nt[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Nt)):st(Object(Nt)).forEach(function(dt){Object.defineProperty(St,dt,Object.getOwnPropertyDescriptor(Nt,dt))})}return St}var xt=function(St){var Zt,Nt=St.icon,dt=St.shortcut,Yt=St.href,sn=St.children,bn=St.onSelect,pn=St.className,mn=pn===void 0?"":pn,qt=St.selected,Ut=(0,ot.Z)(St,Bt),Kt=(0,nt.qZ)(Ut.onClick,bn);return(0,ht.jsx)("a",tt(tt({},Ut),{},{href:Yt,target:"_blank",rel:"noreferrer",className:(0,nt.n)(mn,qt),title:(Zt=Ut.title)!==null&&Zt!==void 0?Zt:Ut["aria-label"],onClick:Kt,children:(0,ht.jsx)(it.Z,{icon:Nt,shortcut:dt,children:sn})}))};Vt.Z=xt,xt.displayName="DropdownMenuItemLink"},7009:function($t,Vt,_){_.d(Vt,{N7:function(){return ht},n:function(){return Bt},qZ:function(){return st}});var Et=_(9787),ot=_.n(Et),it=_(9937),nt=_(9827),ht=ot().createContext({}),Bt=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",xt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(tt," ").concat(xt?"dropdown-menu-item--selected":"").trim()},st=function(tt,xt){var St=(0,Et.useContext)(ht);return(0,nt.Mj)(tt,function(Zt){var Nt,dt=new CustomEvent(it.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});xt==null||xt(dt),dt.defaultPrevented||(Nt=St.onSelect)===null||Nt===void 0||Nt.call(St,dt)})}},6922:function($t,Vt,_){_.d(Vt,{$:function(){return tt}});var Et=_(7169),ot=_(2577),it=_(3607),nt=_(9787),ht=_(4572),Bt=_(1020);function st(xt,St){var Zt=Object.keys(xt);if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(xt);St&&(Nt=Nt.filter(function(dt){return Object.getOwnPropertyDescriptor(xt,dt).enumerable})),Zt.push.apply(Zt,Nt)}return Zt}var tt=function(xt,St){var Zt=(0,it.cn)(0),Nt=function(dt){var Yt=(0,ht.R6)().jotaiScope,sn=(0,it.KO)(Zt,Yt),bn=(0,ot.Z)(sn,2)[1],pn=(0,nt.useRef)({preferHost:!1,counter:0});return(0,nt.useLayoutEffect)(function(){var mn=pn.current;return bn(function(qt){var Ut=qt+1;return mn.counter=Ut,Ut}),function(){bn(function(qt){var Ut=qt-1;return mn.counter=Ut,Ut||(mn.preferHost=!1),Ut})}},[bn]),dt.__fallback||(pn.current.preferHost=!0),!pn.current.counter&&dt.__fallback&&pn.current.preferHost||pn.current.counter>1&&dt.__fallback?null:(0,Bt.jsx)(St,function(mn){for(var qt=1;qt<arguments.length;qt++){var Ut=arguments[qt]!=null?arguments[qt]:{};qt%2?st(Object(Ut),!0).forEach(function(Kt){(0,Et.Z)(mn,Kt,Ut[Kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(mn,Object.getOwnPropertyDescriptors(Ut)):st(Object(Ut)).forEach(function(Kt){Object.defineProperty(mn,Kt,Object.getOwnPropertyDescriptor(Ut,Kt))})}return mn}({},dt))};return Nt.displayName=xt,Nt}},8935:function($t,Vt,_){_.d(Vt,{$W:function(){return lo},$c:function(){return at},$q:function(){return zt},BF:function(){return On},Ct:function(){return Bn},D7:function(){return kn},DG:function(){return nn},DJ:function(){return Gt},DS:function(){return Ir},EO:function(){return xo},ET:function(){return Cn},FC:function(){return Kt},FL:function(){return Tt},Gc:function(){return en},HL:function(){return yn},Hk:function(){return Cr},Hy:function(){return rn},II:function(){return go},IN:function(){return Pt},J8:function(){return Qn},LZ:function(){return mo},NA:function(){return jt},NW:function(){return Jt},Nw:function(){return ho},OA:function(){return Zo},OW:function(){return Xt},P7:function(){return To},Pm:function(){return lt},RJ:function(){return _n},RY:function(){return hn},Re:function(){return ft},ST:function(){return Kn},Sd:function(){return Qt},TP:function(){return tn},Tl:function(){return Sn},Tw:function(){return In},UE:function(){return ct},UI:function(){return Fr},UT:function(){return to},VL:function(){return pt},Vl:function(){return Wt},Vq:function(){return bn},W2:function(){return rr},W5:function(){return Zn},Wl:function(){return Ur},X7:function(){return yr},XB:function(){return vt},XH:function(){return At},YA:function(){return mn},ZA:function(){return cr},Zm:function(){return jn},_C:function(){return Ut},_U:function(){return Ot},a0:function(){return ir},a1:function(){return vn},a5:function(){return Xr},aA:function(){return wo},aL:function(){return Br},aT:function(){return wr},bf:function(){return Jr},by:function(){return Mt},d:function(){return Oo},dg:function(){return eo},e0:function(){return $},eQ:function(){return Dn},fr:function(){return xr},gK:function(){return qn},h0:function(){return an},il:function(){return pr},j8:function(){return qr},jn:function(){return sr},kL:function(){return un},kM:function(){return Kr},lF:function(){return or},m:function(){return Rr},m9:function(){return Wr},mh:function(){return Vn},mv:function(){return Sr},nb:function(){return ut},np:function(){return mr},nq:function(){return Io},o3:function(){return Vr},oQ:function(){return yt},oT:function(){return Ao},op:function(){return An},pO:function(){return pn},po:function(){return Gn},pw:function(){return on},q0:function(){return Dr},qQ:function(){return qt},rr:function(){return Zr},t5:function(){return Rt},tW:function(){return ro},tb:function(){return gt},tn:function(){return Nr},uD:function(){return Hn},vo:function(){return dr},wr:function(){return Qr},xL:function(){return Ft},xP:function(){return Fn},xs:function(){return Wn},z6:function(){return Hr},zG:function(){return mt},zb:function(){return wt},zl:function(){return Eo},zu:function(){return Ct}});var Et=_(7169),ot=_(2726),it=_(9787),nt=_.n(it),ht=_(5284),Bt=_(45),st=_(9937),tt=_(1020),xt=["width","height","mirror","style"];function St(ao,co){var po=Object.keys(ao);if(Object.getOwnPropertySymbols){var so=Object.getOwnPropertySymbols(ao);co&&(so=so.filter(function(Lo){return Object.getOwnPropertyDescriptor(ao,Lo).enumerable})),po.push.apply(po,so)}return po}function Zt(ao){for(var co=1;co<arguments.length;co++){var po=arguments[co]!=null?arguments[co]:{};co%2?St(Object(po),!0).forEach(function(so){(0,Et.Z)(ao,so,po[so])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ao,Object.getOwnPropertyDescriptors(po)):St(Object(po)).forEach(function(so){Object.defineProperty(ao,so,Object.getOwnPropertyDescriptor(po,so))})}return ao}var Nt=function(ao){return ao===st.C6.LIGHT?ht.white:"#1e1e1e"},dt=function(ao){var co=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,po=typeof co=="number"?{width:co}:co,so=po.width,Lo=so===void 0?512:so,Co=po.height,Ro=Co===void 0?Lo:Co,Fl=po.mirror,Ll=po.style,Kl=(0,ot.Z)(po,xt);return(0,tt.jsx)("svg",Zt(Zt({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Lo," ").concat(Ro),className:(0,Bt.Z)({"rtl-mirror":Fl}),style:Ll},Kl),{},{children:typeof ao=="string"?(0,tt.jsx)("path",{fill:"currentColor",d:ao}):ao}))},Yt={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},sn={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},bn=(dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,tt.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,tt.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,tt.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),Yt),dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,tt.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,tt.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,tt.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,tt.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),Yt)),pn=dt((0,tt.jsxs)("svg",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,tt.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Yt),mn=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,tt.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,tt.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),Yt),qt=dt((0,tt.jsxs)("svg",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,tt.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,tt.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),Yt),Ut=dt((0,tt.jsxs)("g",{children:[(0,tt.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,tt.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,tt.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,tt.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,tt.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,tt.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),sn),Kt=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,tt.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,tt.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),sn),yt=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,tt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),Ot=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,tt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),Gt=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,tt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),Ct=(dt((0,tt.jsx)("g",{fill:"currentColor",children:(0,tt.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),dt((0,tt.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,tt.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),Xt=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),Yt),ut=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),Yt),ft=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),Yt),$=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,tt.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,tt.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),Yt),wt=dt((0,tt.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),sn),gt=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,tt.jsx)("path",{d:"M16 7h4"}),(0,tt.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),Yt),lt=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,tt.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),sn),pt=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,tt.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,tt.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,tt.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,tt.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),Yt),vt=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M12.5 6.667h.01"}),(0,tt.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,tt.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,tt.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),sn),zt=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,tt.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),Yt),Qt=dt((0,tt.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),sn),Ft=dt((0,tt.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),sn),At=dt((0,tt.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),sn),Tt=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,tt.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),sn),jt=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,tt.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),sn),un=dt((0,tt.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),sn),Jt=dt((0,tt.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,tt.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),sn),hn=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,tt.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,tt.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),Yt),rn=dt((0,tt.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),sn),Mt=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,tt.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,tt.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),Yt),an=dt((0,tt.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),sn),Cn=dt((0,tt.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),sn),kn=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,tt.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),sn),jn=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),Yt),Dn=dt((0,tt.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Fn=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,tt.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),sn),vn=dt("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Gn=dt("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Sn=dt((0,tt.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),sn),nn=(dt("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),dt("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),Qn=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M15 8h.01"}),(0,tt.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,tt.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,tt.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,tt.jsx)("path",{d:"M19 16v6"}),(0,tt.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),Yt),tn=dt("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),at=(dt("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),dt("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),dt("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),ct=(dt("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),dt((0,tt.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),sn)),mt=dt((0,tt.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),sn),Wt=dt("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Rt=(dt((0,tt.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),sn),dt("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,tt.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),dt((0,tt.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn)),en=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Pt=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),on=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",children:[(0,tt.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,tt.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,tt.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,tt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,tt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,tt.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,tt.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Bn=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),yn=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Wn=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Vn=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Hn=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Zn=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Kn=dt((0,tt.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),sn),qn=dt((0,tt.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,tt.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),sn),sr=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,tt.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,tt.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,tt.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),Yt),In=(dt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),dt("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,tt.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn)),An=dt("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),On=(dt("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),dt("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),dt("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),nt().memo(function(ao){var co=ao.theme;return dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,tt.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,tt.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,tt.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,tt.jsxs)("g",{fill:Nt(co),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,tt.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),_n=nt().memo(function(ao){var co=ao.theme;return dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,tt.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,tt.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,tt.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,tt.jsxs)("g",{fill:Nt(co),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,tt.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,tt.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),or=dt((0,tt.jsx)("g",{strokeWidth:1.25,children:(0,tt.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),sn),ir=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,tt.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,tt.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,tt.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,tt.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),sn),mr=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsxs)("g",{clipPath:"url(#a)",children:[(0,tt.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,tt.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,tt.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,tt.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,tt.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),yr=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("g",{clipPath:"url(#a)",children:(0,tt.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Zt(Zt({},sn),{},{fill:"currentColor"})),cr=dt((0,tt.jsx)(tt.Fragment,{children:(0,tt.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),sn),Ur=dt((0,tt.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),sn),Wr=dt((0,tt.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),sn),Xr=dt((0,tt.jsxs)("g",{strokeWidth:"2",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M5 12h2"}),(0,tt.jsx)("path",{d:"M17 12h2"}),(0,tt.jsx)("path",{d:"M11 12h2"})]}),Yt),wr=dt((0,tt.jsxs)("g",{strokeWidth:"2",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M4 12v.01"}),(0,tt.jsx)("path",{d:"M8 12v.01"}),(0,tt.jsx)("path",{d:"M12 12v.01"}),(0,tt.jsx)("path",{d:"M16 12v.01"}),(0,tt.jsx)("path",{d:"M20 12v.01"})]}),Yt),Jr=dt((0,tt.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),sn),Kr=dt((0,tt.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),sn),rr=dt((0,tt.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),sn),Qr=dt((0,tt.jsxs)("svg",{strokeWidth:"1.5",children:[(0,tt.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,tt.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,tt.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,tt.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,tt.jsx)("path",{d:"M16.6667 10V10.01"}),(0,tt.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,tt.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,tt.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,tt.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,tt.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,tt.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,tt.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),sn),Ir=dt((0,tt.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,tt.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,tt.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,tt.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,tt.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,tt.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,tt.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,tt.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,tt.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,tt.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,tt.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,tt.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),Yt),xr=dt((0,tt.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),pr=nt().memo(function(ao){var co=ao.flip,po=co!==void 0&&co;return dt((0,tt.jsxs)("g",{transform:po?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,tt.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,tt.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Nr=nt().memo(function(ao){var co=ao.flip,po=co!==void 0&&co;return dt((0,tt.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:po?"translate(40, 0) scale(-1, 1)":"",children:[(0,tt.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,tt.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Rr=nt().memo(function(ao){var co=ao.flip,po=co!==void 0&&co;return dt((0,tt.jsx)("g",{transform:po?"translate(40, 0) scale(-1, 1)":"",children:(0,tt.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),qr=nt().memo(function(ao){var co=ao.flip,po=co!==void 0&&co;return dt((0,tt.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:po?"translate(40, 0) scale(-1, 1)":"",children:[(0,tt.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,tt.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Dr=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("g",{clipPath:"url(#a)",children:(0,tt.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Io=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("g",{clipPath:"url(#a)",children:(0,tt.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),ro=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("g",{clipPath:"url(#a)",children:(0,tt.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Zo=dt((0,tt.jsx)(tt.Fragment,{children:(0,tt.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),sn),dr=dt((0,tt.jsx)(tt.Fragment,{children:(0,tt.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,tt.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),sn),Hr=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,tt.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,tt.jsx)("defs",{children:(0,tt.jsx)("clipPath",{id:"a",children:(0,tt.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),sn),Zr=dt((0,tt.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,tt.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,tt.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),Yt),Vr=dt((0,tt.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,tt.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,tt.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),Yt),Ao=dt((0,tt.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,tt.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,tt.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),Yt),xo=nt().memo(function(ao){return ao.theme,dt((0,tt.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,tt.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),Yt)}),wo=nt().memo(function(ao){return ao.theme,dt((0,tt.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,tt.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),Yt)}),To=nt().memo(function(ao){return ao.theme,dt((0,tt.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,tt.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,tt.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),Yt)}),ho=dt((0,tt.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Cr=(dt((0,tt.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),dt((0,tt.jsxs)("g",{strokeWidth:1.25,children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,tt.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,tt.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,tt.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),Yt)),Br=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,tt.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,tt.jsx)("path",{d:"M12 4l0 12"})]}),Yt),Fr=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,tt.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),Yt),Sr=dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,tt.jsx)("path",{d:"M12 17l0 .01"}),(0,tt.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),Yt),to=(dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M7 4v16l13 -8z"})]}),Yt),dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),Yt),dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),Yt),dt((0,tt.jsxs)(tt.Fragment,{children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,tt.jsx)("path",{d:"M12 9v4"}),(0,tt.jsx)("path",{d:"M12 17h.01"})]}),Yt)),lo=dt((0,tt.jsxs)("g",{strokeWidth:1.25,children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M11 7l6 6"}),(0,tt.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),Yt),eo=dt((0,tt.jsxs)("g",{strokeWidth:1.5,children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,tt.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,tt.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),Yt),Eo=dt((0,tt.jsxs)("g",{strokeWidth:1.5,children:[(0,tt.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,tt.jsx)("path",{d:"M4 7l16 0"}),(0,tt.jsx)("path",{d:"M4 17l16 0"}),(0,tt.jsx)("path",{d:"M7 4l0 16"}),(0,tt.jsx)("path",{d:"M17 4l0 16"})]}),Yt),go=dt((0,tt.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),mo=dt((0,tt.jsxs)("g",{strokeWidth:"1.25",children:[(0,tt.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,tt.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,tt.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),sn),Oo=dt((0,tt.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,tt.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,tt.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function($t,Vt,_){_.d(Vt,{Z:function(){return jn}});var Et={};_.r(Et),_.d(Et,{ChangeCanvasBackground:function(){return un},ClearCanvas:function(){return Tt},Export:function(){return Jt},Help:function(){return At},LiveCollaborationTrigger:function(){return rn},LoadScene:function(){return zt},SaveAsImage:function(){return Ft},SaveToActiveFile:function(){return Qt},Socials:function(){return hn},ToggleTheme:function(){return jt}});var ot=_(8242),it=_(7104),nt=_(8950),ht=_(2975),Bt=_.n(ht),st=_(2529),tt=_(8227),xt=_(8935),St=_(5735),Zt=_(3858),Nt=_(5463),dt=_(3379),Yt=_.n(dt),sn=_(7795),bn=_.n(sn),pn=_(569),mn=_.n(pn),qt=_(3565),Ut=_.n(qt),Kt=_(9216),yt=_.n(Kt),Ot=_(4589),Gt=_.n(Ot),Ct=_(4343),Xt={};Xt.styleTagTransform=Gt(),Xt.setAttributes=Ut(),Xt.insert=mn().bind(null,"head"),Xt.domAPI=bn(),Xt.insertStyleElement=yt(),Yt()(Ct.Z,Xt),Ct.Z&&Ct.Z.locals&&Ct.Z.locals;var ut=_(45),ft=_(3607),$=_(8973),wt=_(453),gt=_(100),lt=_(7827),pt=_(9247),vt=_(1020),zt=function(){var Dn=(0,tt.QT)().t,Fn=(0,ot.eh)(),vn=(0,ot.bd)();if(!Fn.isActionEnabled(Nt._d))return null;var Gn=function(){var Sn=(0,nt.Z)(Bt().mark(function nn(){return Bt().wrap(function(Qn){for(;;)switch(Qn.prev=Qn.next){case 0:if(Qn.t0=!vn.length,Qn.t0){Qn.next=5;break}return Qn.next=4,(0,lt._)({title:Dn("overwriteConfirm.modal.loadFromFile.title"),actionLabel:Dn("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,vt.jsx)(pt.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(tn){return(0,vt.jsx)("strong",{children:tn})},br:function(){return(0,vt.jsx)("br",{})}})});case 4:Qn.t0=Qn.sent;case 5:if(!Qn.t0){Qn.next=7;break}Fn.executeAction(Nt._d);case 7:case"end":return Qn.stop()}},nn)}));return function(){return Sn.apply(this,arguments)}}();return(0,vt.jsx)(St.Z,{icon:xt.Tl,onSelect:Gn,"data-testid":"load-button",shortcut:(0,st.C)("loadScene"),"aria-label":Dn("buttons.load"),children:Dn("buttons.load")})};zt.displayName="LoadScene";var Qt=function(){var Dn=(0,tt.QT)().t,Fn=(0,ot.eh)();return Fn.isActionEnabled(Nt.ns)?(0,vt.jsx)(St.Z,{shortcut:(0,st.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Fn.executeAction(Nt.ns)},icon:xt.a1,"aria-label":"".concat(Dn("buttons.save")),children:"".concat(Dn("buttons.save"))}):null};Qt.displayName="SaveToActiveFile";var Ft=function(){var Dn=(0,ot.n9)(),Fn=(0,tt.QT)().t;return(0,vt.jsx)(St.Z,{icon:xt.J8,"data-testid":"image-export-button",onSelect:function(){return Dn({openDialog:"imageExport"})},shortcut:(0,st.C)("imageExport"),"aria-label":Fn("buttons.exportImage"),children:Fn("buttons.exportImage")})};Ft.displayName="SaveAsImage";var At=function(){var Dn=(0,tt.QT)().t,Fn=(0,ot.eh)();return(0,vt.jsx)(St.Z,{"data-testid":"help-menu-item",icon:xt.by,onSelect:function(){return Fn.executeAction(Nt.jY)},shortcut:"?","aria-label":Dn("helpDialog.title"),children:Dn("helpDialog.title")})};At.displayName="Help";var Tt=function(){var Dn=(0,tt.QT)().t,Fn=(0,ft.b9)($.w,wt.yE);return(0,ot.eh)().isActionEnabled(Nt.mo)?(0,vt.jsx)(St.Z,{icon:xt.XH,onSelect:function(){return Fn("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Dn("buttons.clearReset"),children:Dn("buttons.clearReset")}):null};Tt.displayName="ClearCanvas";var jt=function(){var Dn=(0,tt.QT)().t,Fn=(0,gt.I)(),vn=(0,ot.eh)();return vn.isActionEnabled(Nt.Zp)?(0,vt.jsx)(St.Z,{onSelect:function(Gn){return Gn.preventDefault(),vn.executeAction(Nt.Zp)},icon:Fn.theme==="dark"?xt.NW:xt.kL,"data-testid":"toggle-dark-mode",shortcut:(0,st.C)("toggleTheme"),"aria-label":Fn.theme==="dark"?Dn("buttons.lightMode"):Dn("buttons.darkMode"),children:Fn.theme==="dark"?Dn("buttons.lightMode"):Dn("buttons.darkMode")}):null};jt.displayName="ToggleTheme";var un=function(){var Dn=(0,tt.QT)().t,Fn=(0,gt.I)(),vn=(0,ot.eh)(),Gn=(0,ot.hY)();return Fn.viewModeEnabled||!Gn.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,vt.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,vt.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:Dn("labels.canvasBackground")}),(0,vt.jsx)("div",{style:{padding:"0 0.625rem"},children:vn.renderAction("changeViewBackgroundColor")})]})};un.displayName="ChangeCanvasBackground";var Jt=function(){var Dn=(0,tt.QT)().t,Fn=(0,ot.n9)();return(0,vt.jsx)(St.Z,{icon:xt.Hy,onSelect:function(){Fn({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Dn("buttons.export"),children:Dn("buttons.export")})};Jt.displayName="Export";var hn=function(){return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(Zt.Z,{icon:xt.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,vt.jsx)(Zt.Z,{icon:xt.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,vt.jsx)(Zt.Z,{icon:xt.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};hn.displayName="Socials";var rn=function(Dn){var Fn=Dn.onSelect,vn=Dn.isCollaborating,Gn=(0,tt.QT)().t;return(0,vt.jsx)(St.Z,{"data-testid":"collab-button",icon:xt.jn,className:(0,ut.Z)({"active-collab":vn}),onSelect:Fn,children:Gn("labels.liveCollaboration")})};rn.displayName="LiveCollaborationTrigger";var Mt=_(4704),an=_(6922),Cn=_(9827),kn=_(4572),jn=Object.assign((0,an.$)("MainMenu",function(Dn){var Fn=Dn.children,vn=Dn.onSelect,Gn=(0,kn.R6)().MainMenuTunnel,Sn=(0,ot.Fy)(),nn=(0,gt.I)(),Qn=(0,ot.n9)(),tn=Sn.editor.isMobile?void 0:function(){return Qn({openMenu:null})};return(0,vt.jsx)(Gn.In,{children:(0,vt.jsxs)(it.Z,{open:nn.openMenu==="canvas",children:[(0,vt.jsx)(it.Z.Trigger,{onToggle:function(){Qn({openMenu:nn.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:xt.RY}),(0,vt.jsxs)(it.Z.Content,{onClickOutside:tn,onSelect:(0,Cn.Mj)(vn,function(){Qn({openMenu:null})}),children:[Fn,Sn.editor.isMobile&&nn.collaborators.size>0&&(0,vt.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,vt.jsx)("legend",{children:(0,tt.t)("labels.collaborators")}),(0,vt.jsx)(Mt.Z,{mobile:!0,collaborators:nn.collaborators})]})]})]})})}),{Trigger:it.Z.Trigger,Item:it.Z.Item,ItemLink:it.Z.ItemLink,ItemCustom:it.Z.ItemCustom,Group:it.Z.Group,Separator:it.Z.Separator,DefaultItems:Et})},9937:function($t,Vt,_){_.d(Vt,{wL:function(){return Dn},iC:function(){return Xt},vL:function(){return ir},bY:function(){return or},gK:function(){return _n},$C:function(){return At},oc:function(){return pt},_9:function(){return Wr},HN:function(){return rr},qy:function(){return qn},rk:function(){return Mt},n5:function(){return rn},h6:function(){return sr},Rx:function(){return Ur},Cc:function(){return Ir},Hg:function(){return an},cW:function(){return on},hs:function(){return Cn},f:function(){return ut},xY:function(){return cr},Iw:function(){return $},$e:function(){return wt},Vi:function(){return Ft},Ks:function(){return qt},r8:function(){return Gn},I_:function(){return vn},ZB:function(){return Kn},pb:function(){return Sn},ut:function(){return Tt},iG:function(){return un},k:function(){return kn},sA:function(){return Wt},KL:function(){return jn},LL:function(){return nn},PR:function(){return xr},tf:function(){return Qr},EE:function(){return Hn},qx:function(){return ft},$n:function(){return In},zK:function(){return Zn},LO:function(){return Fn},CP:function(){return hn},Zj:function(){return mt},Yx:function(){return Wn},sS:function(){return yn},kV:function(){return Bn},sk:function(){return Vn},Oh:function(){return vt},XI:function(){return zt},WR:function(){return wr},$h:function(){return Jr},a6:function(){return Xr},HM:function(){return at},ay:function(){return lt},dg:function(){return Kr},hR:function(){return An},Gj:function(){return Qn},I8:function(){return yr},wZ:function(){return gt},C6:function(){return jt},ZF:function(){return Rt},nM:function(){return tn},ah:function(){return Pt},UO:function(){return en},Kr:function(){return On},oX:function(){return mr},_D:function(){return Jt},vf:function(){return Qt},V4:function(){return ct},Dt:function(){return yt},jP:function(){return Ct},Um:function(){return Ut},vU:function(){return Ot},G6:function(){return Gt},ED:function(){return Kt}});var Et=_(7169),ot=_(3379),it=_.n(ot),nt=_(7795),ht=_.n(nt),Bt=_(569),st=_.n(Bt),tt=_(3565),xt=_.n(tt),St=_(9216),Zt=_.n(St),Nt=_(4589),dt=_.n(Nt),Yt=_(6464),sn={};sn.styleTagTransform=dt(),sn.setAttributes=xt(),sn.insert=st().bind(null,"head"),sn.domAPI=ht(),sn.insertStyleElement=Zt(),it()(Yt.Z,sn);var bn=Yt.Z&&Yt.Z.locals?Yt.Z.locals:void 0,pn=_(9240);function mn(pr,Nr){var Rr=Object.keys(pr);if(Object.getOwnPropertySymbols){var qr=Object.getOwnPropertySymbols(pr);Nr&&(qr=qr.filter(function(Dr){return Object.getOwnPropertyDescriptor(pr,Dr).enumerable})),Rr.push.apply(Rr,qr)}return Rr}var qt,Ut=/Mac|iPod|iPhone|iPad/.test(navigator.platform),Kt=/^Win/.test(navigator.platform),yt=/\b(android)\b/i.test(navigator.userAgent),Ot="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,Gt=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,Ct=function(){var pr,Nr;return((pr=navigator.brave)===null||pr===void 0||(Nr=pr.isBrave)===null||Nr===void 0?void 0:Nr.name)==="isBrave"},Xt="Excalidraw",ut=10,ft=8,$=5,wt=1,gt=30,lt=Math.PI/12,pt={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},vt={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},zt={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(pr){pr.COPY="copy",pr.PASTE="paste",pr.CUT="cut",pr.KEYDOWN="keydown",pr.KEYUP="keyup",pr.MOUSE_MOVE="mousemove",pr.RESIZE="resize",pr.UNLOAD="unload",pr.FOCUS="focus",pr.BLUR="blur",pr.DRAG_OVER="dragover",pr.DROP="drop",pr.GESTURE_END="gestureend",pr.BEFORE_UNLOAD="beforeunload",pr.GESTURE_START="gesturestart",pr.GESTURE_CHANGE="gesturechange",pr.POINTER_MOVE="pointermove",pr.POINTER_DOWN="pointerdown",pr.POINTER_UP="pointerup",pr.STATE_CHANGE="statechange",pr.WHEEL="wheel",pr.TOUCH_START="touchstart",pr.TOUCH_END="touchend",pr.HASHCHANGE="hashchange",pr.VISIBILITY_CHANGE="visibilitychange",pr.SCROLL="scroll",pr.EXCALIDRAW_LINK="excalidraw-link",pr.MENU_ITEM_SELECT="menu.itemSelect",pr.MESSAGE="message"})(qt||(qt={}));var Qt={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},Ft={TEST:"test",DEVELOPMENT:"development"},At={SHAPE_ACTIONS_MENU:"App-menu__left"},Tt={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},jt={LIGHT:"light",DARK:"dark"},un={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},Jt="Segoe UI Emoji",hn=1,rn=20,Mt=Tt.Virgil,an="left",Cn="top",kn=20,jn={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},Dn=["text/plain","text/html"],Fn=function(pr){for(var Nr=1;Nr<arguments.length;Nr++){var Rr=arguments[Nr]!=null?arguments[Nr]:{};Nr%2?mn(Object(Rr),!0).forEach(function(qr){(0,Et.Z)(pr,qr,Rr[qr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pr,Object.getOwnPropertyDescriptors(Rr)):mn(Object(Rr)).forEach(function(qr){Object.defineProperty(pr,qr,Object.getOwnPropertyDescriptor(Rr,qr))})}return pr}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},jn),vn={png:"png",svg:"svg",clipboard:"clipboard"},Gn={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Sn=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,nn=500,Qn=300,tn=500,at=100,ct=.1,mt=.1,Wt=300,Rt=bn.themeFilter,en={addLibrary:"addLibrary"},Pt={addLibrary:"addLibrary"},on={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},Bn=730,yn=1e3,Wn=500,Vn=1229,Hn=parseInt(bn.rightSidebarWidth),Zn=2,Kn=[1,2,3],qn=10,sr=1440,In=2097152,An="http://www.w3.org/2000/svg",On={excalidraw:2,excalidrawLibrary:2},_n=5,or=.7,ir=11,mr={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},yr={LEFT:"left",CENTER:"center",RIGHT:"right"},cr=20,Ur=.25,Wr=32,Xr={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},wr="__precedingElement__",Jr={architect:0,artist:1,cartoonist:2},Kr={thin:1,bold:2,extraBold:4},rr={strokeColor:pn.HO.black,backgroundColor:pn.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:Jr.artist,opacity:100,locked:!1},Qr="library",Ir={name:"default",defaultTab:Qr},xr=new Set(["embeddable","image"])},4572:function($t,Vt,_){_.d(Vt,{A3:function(){return dt},ZC:function(){return sn},R6:function(){return Yt}});var Et=_(9787),ot=_.n(Et);const it=bn=>{let pn;const mn=new Set,qt=(yt,Ot)=>{const Gt=typeof yt=="function"?yt(pn):yt;if(!Object.is(Gt,pn)){const Ct=pn;pn=Ot??typeof Gt!="object"?Gt:Object.assign({},pn,Gt),mn.forEach(Xt=>Xt(pn,Ct))}},Ut=()=>pn,Kt={setState:qt,getState:Ut,subscribe:yt=>(mn.add(yt),()=>mn.delete(yt)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),mn.clear()}};return pn=bn(qt,Ut,Kt),Kt},nt=bn=>bn?it(bn):it;var ht=_(5668);const{useSyncExternalStoreWithSelector:Bt}=ht,st=bn=>{typeof bn!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const pn=typeof bn=="function"?nt(bn):bn,mn=(qt,Ut)=>function(Kt,yt=Kt.getState,Ot){const Gt=Bt(Kt.subscribe,Kt.getState,Kt.getServerState||Kt.getState,yt,Ot);return(0,Et.useDebugValue)(Gt),Gt}(pn,qt,Ut);return Object.assign(mn,pn),mn},tt=bn=>bn?st(bn):st;var xt,St;const Zt=typeof window<"u"&&((xt=window.document)!=null&&xt.createElement||((St=window.navigator)==null?void 0:St.product)==="ReactNative")?ot().useLayoutEffect:ot().useEffect;function Nt(){const bn=tt(pn=>({current:new Array,version:0,set:pn}));return{In:({children:pn})=>{const mn=bn(Ut=>Ut.set),qt=bn(Ut=>Ut.version);return Zt(()=>{mn(Ut=>({version:Ut.version+1}))},[]),Zt(()=>(mn(({current:Ut})=>({current:[...Ut,pn]})),()=>mn(({current:Ut})=>({current:Ut.filter(Kt=>Kt!==pn)}))),[pn,qt]),null},Out:()=>{const pn=bn(mn=>mn.current);return ot().createElement(ot().Fragment,null,pn)}}}var dt=ot().createContext(null),Yt=function(){return ot().useContext(dt)},sn=function(){return ot().useMemo(function(){return{MainMenuTunnel:Nt(),WelcomeScreenMenuHintTunnel:Nt(),WelcomeScreenToolbarHintTunnel:Nt(),WelcomeScreenHelpHintTunnel:Nt(),WelcomeScreenCenterTunnel:Nt(),FooterCenterTunnel:Nt(),DefaultSidebarTriggerTunnel:Nt(),DefaultSidebarTabTriggersTunnel:Nt(),OverwriteConfirmDialogTunnel:Nt(),jotaiScope:Symbol()}},[])}},100:function($t,Vt,_){_.d(Vt,{I:function(){return nt},k:function(){return it}});var Et=_(9787),ot=_.n(Et),it=ot().createContext(null),nt=function(){return ot().useContext(it)}},7652:function($t,Vt,_){_.d(Vt,{KJ:function(){return Zt},OF:function(){return Nt},Uk:function(){return dt},z8:function(){return St}});var Et,ot,it=_(9937),nt=_(5284),ht=_(6853),Bt='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',st='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',tt="data:".concat(it.LO.svg,",").concat(encodeURIComponent("".concat(Bt).concat(st,"</svg>"))),xt="data:".concat(it.LO.svg,",").concat(encodeURIComponent("".concat(Bt).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(st,"</svg>"))),St=function(Yt){Yt&&(Yt.style.cursor="")},Zt=function(Yt,sn){Yt&&(Yt.style.cursor=sn)},Nt=function(Yt,sn){Et&&Et.theme===sn||function(){var bn=sn===it.C6.DARK;(Et=document.createElement("canvas")).theme=sn,Et.height=20,Et.width=20;var pn=Et.getContext("2d");pn.lineWidth=1,pn.beginPath(),pn.arc(Et.width/2,Et.height/2,5,0,2*Math.PI),pn.fillStyle=bn?nt.black:nt.white,pn.fill(),pn.strokeStyle=bn?nt.white:nt.black,pn.stroke(),ot=Et.toDataURL(it.LO.svg)}(),Zt(Yt,"url(".concat(ot,") ").concat(10," ").concat(10,", auto"))},dt=function(Yt,sn){if(Yt)if(sn.activeTool.type==="selection")St(Yt);else if((0,ht.l$)(sn))Yt.style.cursor=it.oc.GRAB;else if((0,ht.EN)(sn))Nt(Yt,sn.theme);else if(sn.activeTool.type==="laser"){var bn=sn.theme===it.C6.LIGHT?tt:xt;Yt.style.cursor="url(".concat(bn,"), auto")}else["image","custom"].includes(sn.activeTool.type)?sn.activeTool.type!=="image"&&(Yt.style.cursor=it.oc.AUTO):Yt.style.cursor=it.oc.CROSSHAIR}},5796:function($t,Vt,_){_.d(Vt,{DQ:function(){return yt},KG:function(){return lt},Pn:function(){return vt},Qk:function(){return Kt},Sf:function(){return gt},Tu:function(){return pt},Wr:function(){return Gt},ZY:function(){return Ct},_c:function(){return $},_p:function(){return zt},bv:function(){return Qt},cT:function(){return Xt},g8:function(){return Ot},gY:function(){return jt},lV:function(){return ft},tW:function(){return wt},vZ:function(){return un},wf:function(){return ut}});var Et=_(1930),ot=_(2577),it=_(7169),nt=_(8950),ht=_(2975),Bt=_.n(ht),st=_(5605),tt=_(6853),xt=_(9937),St=_(7651),Zt=_(3506),Nt=_(8227),dt=_(4105),Yt=_(9827),sn=_(6548),bn=_(4419),pn=_(7994);function mn(Jt,hn){var rn=Object.keys(Jt);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(Jt);hn&&(Mt=Mt.filter(function(an){return Object.getOwnPropertyDescriptor(Jt,an).enumerable})),rn.push.apply(rn,Mt)}return rn}function qt(Jt){for(var hn=1;hn<arguments.length;hn++){var rn=arguments[hn]!=null?arguments[hn]:{};hn%2?mn(Object(rn),!0).forEach(function(Mt){(0,it.Z)(Jt,Mt,rn[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Jt,Object.getOwnPropertyDescriptors(rn)):mn(Object(rn)).forEach(function(Mt){Object.defineProperty(Jt,Mt,Object.getOwnPropertyDescriptor(rn,Mt))})}return Jt}var Ut=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt;return Bt().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:if(rn.type!==xt.LO.png){an.next=18;break}return an.prev=1,an.next=4,Promise.resolve().then(_.bind(_,250));case 4:return an.next=6,an.sent.decodePngMetadata(rn);case 6:return an.abrupt("return",an.sent);case 9:if(an.prev=9,an.t0=an.catch(1),an.t0.message!=="INVALID"){an.next=15;break}throw new Zt.jk((0,Nt.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new Zt.jk((0,Nt.t)("alerts.cannotRestoreFromImage"));case 16:an.next=43;break;case 18:if(!("text"in Blob)){an.next=24;break}return an.next=21,rn.text();case 21:Mt=an.sent,an.next=27;break;case 24:return an.next=26,new Promise(function(Cn){var kn=new FileReader;kn.readAsText(rn,"utf8"),kn.onloadend=function(){kn.readyState===FileReader.DONE&&Cn(kn.result)}});case 26:Mt=an.sent;case 27:if(rn.type!==xt.LO.svg){an.next=43;break}return an.prev=28,an.next=31,Promise.resolve().then(_.bind(_,250));case 31:return an.next=33,an.sent.decodeSvgMetadata({svg:Mt});case 33:return an.abrupt("return",an.sent);case 36:if(an.prev=36,an.t1=an.catch(28),an.t1.message!=="INVALID"){an.next=42;break}throw new Zt.jk((0,Nt.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new Zt.jk((0,Nt.t)("alerts.cannotRestoreFromImage"));case 43:return an.abrupt("return",Mt);case 44:case"end":return an.stop()}},hn,null,[[1,9],[28,36]])}));return function(hn){return Jt.apply(this,arguments)}}(),Kt=function(Jt){var hn;return Jt&&((hn=Jt.name.match(/\.(json|excalidraw|png|svg)$/))===null||hn===void 0?void 0:hn[1])||null},yt=function(Jt){return Jt==="png"||Jt==="svg"},Ot=function(Jt){var hn=Kt(Jt);return hn==="png"||hn==="svg"},Gt=function(Jt){var hn=(Jt||{}).type;return!!hn&&Object.values(xt.KL).includes(hn)},Ct=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn,Mt,an,Cn){var kn,jn;return Bt().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Dn.next=2,Ut(rn);case 2:kn=Dn.sent,Dn.prev=3,Dn.prev=4,jn=JSON.parse(kn),Dn.next=13;break;case 8:if(Dn.prev=8,Dn.t0=Dn.catch(4),!Gt(rn)){Dn.next=12;break}throw new Zt.jk((0,Nt.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw Dn.t0;case 13:if(!(0,bn.dS)(jn)){Dn.next=17;break}return Dn.abrupt("return",{type:xt.LO.excalidraw,data:(0,pn.nu)({elements:(0,St._M)(jn.elements||[]),appState:qt(qt({theme:Mt==null?void 0:Mt.theme,fileHandle:Cn||rn.handle||null},(0,tt.s)(jn.appState||{})),Mt?(0,dt.W)(jn.elements||[],Mt):{}),files:jn.files},Mt,an,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,bn.HT)(jn)){Dn.next=19;break}return Dn.abrupt("return",{type:xt.LO.excalidrawlib,data:jn});case 19:case 26:throw new Error((0,Nt.t)("alerts.couldNotLoadInvalidFile"));case 22:if(Dn.prev=22,Dn.t1=Dn.catch(3),!(Dn.t1 instanceof Zt.jk)){Dn.next=26;break}throw Dn.t1;case 27:case"end":return Dn.stop()}},hn,null,[[3,22],[4,8]])}));return function(hn,rn,Mt,an){return Jt.apply(this,arguments)}}(),Xt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn,Mt,an,Cn){var kn;return Bt().wrap(function(jn){for(;;)switch(jn.prev=jn.next){case 0:return jn.next=2,Ct(rn,Mt,an,Cn);case 2:if((kn=jn.sent).type===xt.LO.excalidraw){jn.next=5;break}throw new Error((0,Nt.t)("alerts.couldNotLoadInvalidFile"));case 5:return jn.abrupt("return",kn.data);case 6:case"end":return jn.stop()}},hn)}));return function(hn,rn,Mt,an){return Jt.apply(this,arguments)}}(),ut=function(Jt){var hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",rn=JSON.parse(Jt);if(!(0,bn.HT)(rn))throw new Error("Invalid library");var Mt=rn.libraryItems||rn.library;return(0,pn.wJ)(Mt,hn)},ft=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt,an=arguments;return Bt().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Mt=an.length>1&&an[1]!==void 0?an[1]:"unpublished",Cn.t0=ut,Cn.next=4,Ut(rn);case 4:return Cn.t1=Cn.sent,Cn.t2=Mt,Cn.abrupt("return",(0,Cn.t0)(Cn.t1,Cn.t2));case 7:case"end":return Cn.stop()}},hn)}));return function(hn){return Jt.apply(this,arguments)}}(),$=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){return Bt().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.abrupt("return",new Promise(function(){var an=(0,nt.Z)(Bt().mark(function Cn(kn,jn){return Bt().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(Dn.prev=0,!(0,Yt.y8)(rn)){Dn.next=5;break}return Dn.next=4,rn;case 4:rn=Dn.sent;case 5:rn.toBlob(function(Fn){if(!Fn)return jn(new Zt.lp((0,Nt.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));kn(Fn)}),Dn.next=11;break;case 8:Dn.prev=8,Dn.t0=Dn.catch(0),jn(Dn.t0);case 11:case"end":return Dn.stop()}},Cn,null,[[0,8]])}));return function(Cn,kn){return an.apply(this,arguments)}}()));case 1:case"end":return Mt.stop()}},hn)}));return function(hn){return Jt.apply(this,arguments)}}(),wt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt;return Bt().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return an.prev=0,an.t0=window.crypto.subtle,an.next=4,un(rn);case 4:return an.t1=an.sent,an.next=7,an.t0.digest.call(an.t0,"SHA-1",an.t1);case 7:return Mt=an.sent,an.abrupt("return",(0,Yt.G3)(new Uint8Array(Mt)));case 11:return an.prev=11,an.t2=an.catch(0),console.error(an.t2),an.abrupt("return",(0,st.x0)(40));case 15:case"end":return an.stop()}},hn,null,[[0,11]])}));return function(hn){return Jt.apply(this,arguments)}}(),gt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){return Bt().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.abrupt("return",new Promise(function(an,Cn){var kn=new FileReader;kn.onload=function(){var jn=kn.result;an(jn)},kn.onerror=function(jn){return Cn(jn)},kn.readAsDataURL(rn)}));case 1:case"end":return Mt.stop()}},hn)}));return function(hn){return Jt.apply(this,arguments)}}(),lt=function(Jt){for(var hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",rn=Jt.indexOf(","),Mt=atob(Jt.slice(rn+1)),an=Jt.slice(0,rn).split(":")[1].split(";")[0],Cn=new ArrayBuffer(Mt.length),kn=new Uint8Array(Cn),jn=0;jn<Mt.length;jn++)kn[jn]=Mt.charCodeAt(jn);return new File([Cn],hn,{type:an})},pt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn,Mt){var an,Cn,kn,jn,Dn,Fn;return Bt().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:if(rn.type!==xt.LO.svg){vn.next=2;break}return vn.abrupt("return",rn);case 2:return vn.next=4,Promise.all([_.e(4736).then(_.t.bind(_,4881,23)).then(function(Gn){return Gn.default}),_.e(4736).then(_.bind(_,5446)).then(function(Gn){return Gn.default})]);case 4:if(an=vn.sent,Cn=(0,ot.Z)(an,2),kn=Cn[0],jn=Cn[1],Dn=jn({pica:kn({features:["js","wasm"]})}),Mt.outputType&&(Fn=Mt.outputType,Dn._create_blob=function(Gn){return this.pica.toBlob(Gn.out_canvas,Fn,.8).then(function(Sn){return Gn.out_blob=Sn,Gn})}),Gt(rn)){vn.next=12;break}throw new Error((0,Nt.t)("errors.unsupportedFileType"));case 12:return vn.t0=File,vn.next=15,Dn.toBlob(rn,{max:Mt.maxWidthOrHeight});case 15:return vn.t1=vn.sent,vn.t2=[vn.t1],vn.t3=rn.name,vn.t4={type:Mt.outputType||rn.type},vn.abrupt("return",new vn.t0(vn.t2,vn.t3,vn.t4));case 20:case"end":return vn.stop()}},hn)}));return function(hn,rn){return Jt.apply(this,arguments)}}(),vt=function(Jt){var hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(Jt)],hn,{type:xt.LO.svg})},zt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt,an,Cn,kn,jn=arguments;return Bt().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:return Mt=jn.length>1&&jn[1]!==void 0?jn[1]:"",Dn.prev=1,Dn.next=4,fetch(rn);case 4:an=Dn.sent,Dn.next=10;break;case 7:throw Dn.prev=7,Dn.t0=Dn.catch(1),new Error((0,Nt.t)("errors.failedToFetchImage"));case 10:if(an.ok){Dn.next=12;break}throw new Error((0,Nt.t)("errors.failedToFetchImage"));case 12:return Dn.next=14,an.blob();case 14:if(!(Cn=Dn.sent).type||!Gt(Cn)){Dn.next=18;break}return kn=Mt||Cn.name||"",Dn.abrupt("return",new File([Cn],kn,{type:Cn.type}));case 18:throw new Error((0,Nt.t)("errors.unsupportedFileType"));case 19:case"end":return Dn.stop()}},hn,null,[[1,7]])}));return function(hn){return Jt.apply(this,arguments)}}(),Qt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt,an;return Bt().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return Mt=rn.dataTransfer.files.item(0),Cn.next=3,Ft(rn);case 3:if(an=Cn.sent,!Mt){Cn.next=10;break}return Cn.next=7,jt(Mt);case 7:Cn.t0=Cn.sent,Cn.next=11;break;case 10:Cn.t0=null;case 11:return Cn.t1=Cn.t0,Cn.t2=an,Cn.abrupt("return",{file:Cn.t1,fileHandle:Cn.t2});case 14:case"end":return Cn.stop()}},hn)}));return function(hn){return Jt.apply(this,arguments)}}(),Ft=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt,an;return Bt().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:if(!sn.kr){Cn.next=16;break}return Cn.prev=1,Mt=rn.dataTransfer.items[0],Cn.next=5,Mt.getAsFileSystemHandle();case 5:if(Cn.t0=Cn.sent,Cn.t0){Cn.next=8;break}Cn.t0=null;case 8:return an=Cn.t0,Cn.abrupt("return",an);case 12:return Cn.prev=12,Cn.t1=Cn.catch(1),console.warn(Cn.t1.name,Cn.t1.message),Cn.abrupt("return",null);case 16:return Cn.abrupt("return",null);case 17:case"end":return Cn.stop()}},hn,null,[[1,12]])}));return function(hn){return Jt.apply(this,arguments)}}(),At=function(Jt){var hn=null,rn="".concat((0,Et.Z)(new Uint8Array(Jt).slice(0,8)).join(" ")," "),Mt="255 216 255 ",an="71 73 70 56 57 97 ";return rn==="137 80 78 71 13 10 26 10 "?hn=xt.LO.png:rn.startsWith(Mt)?hn=xt.LO.jpg:rn.startsWith(an)&&(hn=xt.LO.gif),hn},Tt=function(Jt,hn,rn){return new File([Jt],rn||"",{type:hn})},jt=function(){var Jt=(0,nt.Z)(Bt().mark(function hn(rn){var Mt,an,Cn,kn,jn,Dn,Fn,vn;return Bt().wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:if(rn.type){Gn.next=28;break}if((Mt=rn)===null||Mt===void 0||(an=Mt.name)===null||an===void 0||!an.endsWith(".excalidrawlib")){Gn.next=11;break}return Gn.t0=Tt,Gn.next=5,un(rn);case 5:Gn.t1=Gn.sent,Gn.t2=xt.LO.excalidrawlib,Gn.t3=rn.name,rn=(0,Gn.t0)(Gn.t1,Gn.t2,Gn.t3),Gn.next=26;break;case 11:if((Cn=rn)===null||Cn===void 0||(kn=Cn.name)===null||kn===void 0||!kn.endsWith(".excalidraw")){Gn.next=21;break}return Gn.t4=Tt,Gn.next=15,un(rn);case 15:Gn.t5=Gn.sent,Gn.t6=xt.LO.excalidraw,Gn.t7=rn.name,rn=(0,Gn.t4)(Gn.t5,Gn.t6,Gn.t7),Gn.next=26;break;case 21:return Gn.next=23,un(rn);case 23:jn=Gn.sent,(Dn=At(jn))&&(rn=Tt(jn,Dn,rn.name));case 26:Gn.next=34;break;case 28:if(!Gt(rn)){Gn.next=34;break}return Gn.next=31,un(rn);case 31:Fn=Gn.sent,(vn=At(Fn))&&vn!==rn.type&&(rn=Tt(Fn,vn,rn.name));case 34:return Gn.abrupt("return",rn);case 35:case"end":return Gn.stop()}},hn)}));return function(hn){return Jt.apply(this,arguments)}}(),un=function(Jt){return"arrayBuffer"in Jt?Jt.arrayBuffer():new Promise(function(hn,rn){var Mt=new FileReader;Mt.onload=function(an){var Cn;if((Cn=an.target)===null||Cn===void 0||!Cn.result)return rn(new Error("Couldn't convert blob to ArrayBuffer"));hn(an.target.result)},Mt.readAsArrayBuffer(Jt)})}},6548:function($t,Vt,_){_.d(Vt,{I$:function(){return Nt},NL:function(){return dt},kr:function(){return nt}});var Et=_(1930),ot=_(8950),it=_(2975),nt=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),ht=nt?_.e(4736).then(_.bind(_,7464)):_.e(4736).then(_.bind(_,3948));function Bt(){return Bt=(0,ot.Z)(it.mark(function Yt(){var sn,bn=arguments;return it.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return pn.next=2,ht;case 2:return pn.abrupt("return",(sn=pn.sent).default.apply(sn,bn));case 3:case"end":return pn.stop()}},Yt)})),Bt.apply(this,arguments)}nt?_.e(4736).then(_.bind(_,4036)):_.e(4736).then(_.bind(_,7693));var st=nt?_.e(4736).then(_.bind(_,357)):_.e(4736).then(_.bind(_,341));function tt(){return tt=(0,ot.Z)(it.mark(function Yt(){var sn,bn=arguments;return it.wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return pn.next=2,st;case 2:return pn.abrupt("return",(sn=pn.sent).default.apply(sn,bn));case 3:case"end":return pn.stop()}},Yt)})),tt.apply(this,arguments)}var xt=_(9937),St=_(3506),Zt=_(9827),Nt=function(Yt){var sn,bn,pn,mn=(sn=Yt.extensions)===null||sn===void 0?void 0:sn.reduce(function(Ut,Kt){return Ut.push(xt.LO[Kt]),Ut},[]),qt=(bn=Yt.extensions)===null||bn===void 0?void 0:bn.reduce(function(Ut,Kt){return Kt==="jpg"?Ut.concat(".jpg",".jpeg"):Ut.concat(".".concat(Kt))},[]);return function(){return Bt.apply(this,arguments)}({description:Yt.description,extensions:qt,mimeTypes:mn,multiple:(pn=Yt.multiple)!==null&&pn!==void 0&&pn,legacySetup:function(Ut,Kt,yt){var Ot=(0,Zt.Ds)(Kt,500),Gt=function(){Ct(),document.addEventListener(xt.Ks.KEYUP,Ot),document.addEventListener(xt.Ks.POINTER_UP,Ot),Ot()},Ct=function(){var ut;if((ut=yt.files)!==null&&ut!==void 0&&ut.length){var ft=Yt.multiple?(0,Et.Z)(yt.files):yt.files[0];Ut(ft)}};requestAnimationFrame(function(){window.addEventListener(xt.Ks.FOCUS,Gt)});var Xt=window.setInterval(function(){Ct()},500);return function(ut){clearInterval(Xt),Ot.cancel(),window.removeEventListener(xt.Ks.FOCUS,Gt),document.removeEventListener(xt.Ks.KEYUP,Ot),document.removeEventListener(xt.Ks.POINTER_UP,Ot),ut&&(console.warn("Opening the file was canceled (legacy-fs)."),ut(new St._L))}}})},dt=function(Yt,sn){return function(){return tt.apply(this,arguments)}(Yt,{fileName:"".concat(sn.name,".").concat(sn.extension),description:sn.description,extensions:[".".concat(sn.extension)]},sn.fileHandle)}},250:function($t,Vt,_){_.r(Vt),_.d(Vt,{decodePngMetadata:function(){return Kt},decodeSvgMetadata:function(){return Ot},encodePngMetadata:function(){return Ut},encodeSvgMetadata:function(){return yt},getTEXtChunk:function(){return qt}});var Et=_(8950),ot=_(2975),it=_.n(ot),nt=_(2983),ht=_.n(nt),Bt=_(1194),st=_(3434),tt=_.n(st),xt=_(2744),St=_(9937),Zt=_(5796),Nt=function(Gt){return new Promise(function(Ct,Xt){var ut=typeof Gt=="string"?new Blob([new TextEncoder().encode(Gt)]):new Blob([Gt instanceof Uint8Array?Gt:new Uint8Array(Gt)]),ft=new FileReader;ft.onload=function($){if(!$.target||typeof $.target.result!="string")return Xt(new Error("couldn't convert to byte string"));Ct($.target.result)},ft.readAsBinaryString(ut)})},dt=function(Gt){for(var Ct=new ArrayBuffer(Gt.length),Xt=new Uint8Array(Ct),ut=0,ft=Gt.length;ut<ft;ut++)Xt[ut]=Gt.charCodeAt(ut);return Ct},Yt=function(Gt){return new TextDecoder("utf-8").decode(dt(Gt))},sn=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut=arguments;return it().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(!(ut.length>1&&ut[1]!==void 0&&ut[1])){ft.next=5;break}ft.t0=window.btoa(Xt),ft.next=10;break;case 5:return ft.t1=window,ft.next=8,Nt(Xt);case 8:ft.t2=ft.sent,ft.t0=ft.t1.btoa.call(ft.t1,ft.t2);case 10:return ft.abrupt("return",ft.t0);case 11:case"end":return ft.stop()}},Ct)}));return function(Ct){return Gt.apply(this,arguments)}}(),bn=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft=arguments;return it().wrap(function($){for(;;)switch($.prev=$.next){case 0:return ut=ft.length>1&&ft[1]!==void 0&&ft[1],$.abrupt("return",ut?window.atob(Xt):Yt(window.atob(Xt)));case 2:case"end":return $.stop()}},Ct)}));return function(Ct){return Gt.apply(this,arguments)}}(),pn=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft;return it().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(ut=Xt.text,Xt.compress===!1){$.next=11;break}return $.prev=2,$.next=5,Nt((0,xt.deflate)(ut));case 5:ft=$.sent,$.next=11;break;case 8:$.prev=8,$.t0=$.catch(2),console.error("encode: cannot deflate",$.t0);case 11:if($.t1=!!ft,$.t2=ft,$.t2){$.next=17;break}return $.next=16,Nt(ut);case 16:$.t2=$.sent;case 17:return $.t3=$.t2,$.abrupt("return",{version:"1",encoding:"bstring",compressed:$.t1,encoded:$.t3});case 19:case"end":return $.stop()}},Ct,null,[[2,8]])}));return function(Ct){return Gt.apply(this,arguments)}}(),mn=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut;return it().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:ft.t0=Xt.encoding,ft.next=ft.t0==="bstring"?3:12;break;case 3:if(!Xt.compressed){ft.next=7;break}ft.t1=Xt.encoded,ft.next=10;break;case 7:return ft.next=9,Yt(Xt.encoded);case 9:ft.t1=ft.sent;case 10:return ut=ft.t1,ft.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(Xt.encoding,'"'));case 13:if(!Xt.compressed){ft.next=15;break}return ft.abrupt("return",(0,xt.inflate)(new Uint8Array(dt(ut)),{to:"string"}));case 15:return ft.abrupt("return",ut);case 16:case"end":return ft.stop()}},Ct)}));return function(Ct){return Gt.apply(this,arguments)}}(),qt=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft;return it().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.t0=ht(),$.t1=Uint8Array,$.next=4,(0,Zt.vZ)(Xt);case 4:if($.t2=$.sent,$.t3=new $.t1($.t2),ut=(0,$.t0)($.t3),!(ft=ut.find(function(wt){return wt.name==="tEXt"}))){$.next=10;break}return $.abrupt("return",Bt.decode(ft.data));case 10:return $.abrupt("return",null);case 11:case"end":return $.stop()}},Ct)}));return function(Ct){return Gt.apply(this,arguments)}}(),Ut=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft,$,wt;return it().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:return ut=Xt.blob,ft=Xt.metadata,gt.t0=ht(),gt.t1=Uint8Array,gt.next=5,(0,Zt.vZ)(ut);case 5:return gt.t2=gt.sent,gt.t3=new gt.t1(gt.t2),$=(0,gt.t0)(gt.t3),gt.t4=Bt,gt.t5=St.LO.excalidraw,gt.t6=JSON,gt.next=13,pn({text:ft,compress:!0});case 13:return gt.t7=gt.sent,gt.t8=gt.t6.stringify.call(gt.t6,gt.t7),wt=gt.t4.encode.call(gt.t4,gt.t5,gt.t8),$.splice(-1,0,wt),gt.abrupt("return",new Blob([tt()($)],{type:St.LO.png}));case 18:case"end":return gt.stop()}},Ct)}));return function(Ct){return Gt.apply(this,arguments)}}(),Kt=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft;return it().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,qt(Xt);case 2:if(((ut=$.sent)==null?void 0:ut.keyword)!==St.LO.excalidraw){$.next=19;break}if($.prev=4,"encoded"in(ft=JSON.parse(ut.text))){$.next=10;break}if(!("type"in ft)||ft.type!==St.r8.excalidraw){$.next=9;break}return $.abrupt("return",ut.text);case 9:throw new Error("FAILED");case 10:return $.next=12,mn(ft);case 12:return $.abrupt("return",$.sent);case 15:throw $.prev=15,$.t0=$.catch(4),console.error($.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return $.stop()}},Ct,null,[[4,15]])}));return function(Ct){return Gt.apply(this,arguments)}}(),yt=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft,$;return it().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return ut=Xt.text,wt.t0=sn,wt.t1=JSON,wt.next=5,pn({text:ut});case 5:return wt.t2=wt.sent,wt.t3=wt.t1.stringify.call(wt.t1,wt.t2),wt.next=9,(0,wt.t0)(wt.t3,!0);case 9:return ft=wt.sent,$="",$+="<!-- payload-type:".concat(St.LO.excalidraw," -->"),$+="<!-- payload-version:2 -->",$+="<!-- payload-start -->",$+=ft,$+="<!-- payload-end -->",wt.abrupt("return",$);case 17:case"end":return wt.stop()}},Ct)}));return function(Ct){return Gt.apply(this,arguments)}}(),Ot=function(){var Gt=(0,Et.Z)(it().mark(function Ct(Xt){var ut,ft,$,wt,gt,lt,pt;return it().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(!(ut=Xt.svg).includes("payload-type:".concat(St.LO.excalidraw))){vt.next=26;break}if(ft=ut.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){vt.next=5;break}throw new Error("INVALID");case 5:return $=ut.match(/<!-- payload-version:(\d+) -->/),wt=($==null?void 0:$[1])||"1",gt=wt!=="1",vt.prev=8,vt.next=11,bn(ft[1],gt);case 11:if(lt=vt.sent,"encoded"in(pt=JSON.parse(lt))){vt.next=17;break}if(!("type"in pt)||pt.type!==St.r8.excalidraw){vt.next=16;break}return vt.abrupt("return",lt);case 16:throw new Error("FAILED");case 17:return vt.next=19,mn(pt);case 19:return vt.abrupt("return",vt.sent);case 22:throw vt.prev=22,vt.t0=vt.catch(8),console.error(vt.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return vt.stop()}},Ct,null,[[8,22]])}));return function(Ct){return Gt.apply(this,arguments)}}()},2435:function($t,Vt,_){_.d(Vt,{HD:function(){return sn},Um:function(){return Yt.Um},cT:function(){return Nt.cT},n8:function(){return Yt.n8},p1:function(){return bn}});var Et=_(8950),ot=_(2975),it=_.n(ot),nt=_(4694),ht=_(9937),Bt=_(7651),st=_(8227),tt=_(6013),xt=_(4105),St=_(3668),Zt=_(9827),Nt=_(5796),dt=_(6548),Yt=_(4419),sn=function(pn,mn,qt){var Ut=mn.selectedElementIds;pn=(0,Bt.Lm)(pn);var Kt=qt&&(0,xt.N)(pn,{selectedElementIds:Ut}),yt=null,Ot=Kt?(0,xt.eD)(pn,{selectedElementIds:Ut},{includeBoundTextElement:!0}):pn;return Kt&&(Ot.length===1&&(0,Bt.He)(Ot[0])?(yt=Ot[0],Ot=(0,tt.Xs)({elements:pn,bounds:yt,type:"overlap"})):Ot.length>1&&(Ot=(0,xt.eD)(pn,{selectedElementIds:Ut},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:yt,exportedElements:(0,Zt.xU)(Ot)}},bn=function(){var pn=(0,Et.Z)(it().mark(function mn(qt,Ut,Kt,yt,Ot){var Gt,Ct,Xt,ut,ft,$,wt,gt,lt,pt,vt,zt,Qt;return it().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:if(Gt=Ot.exportBackground,Ct=Ot.exportPadding,Xt=Ct===void 0?ht.qy:Ct,ut=Ot.viewBackgroundColor,ft=Ot.name,$=Ot.fileHandle,wt=$===void 0?null:$,gt=Ot.exportingFrame,lt=gt===void 0?null:gt,Ut.length!==0){Ft.next=3;break}throw new Error((0,st.t)("alerts.cannotExportEmptyCanvas"));case 3:if(qt!=="svg"&&qt!=="clipboard-svg"){Ft.next=17;break}return Ft.next=6,(0,St.$D)(Ut,{exportBackground:Gt,exportWithDarkMode:Kt.exportWithDarkMode,viewBackgroundColor:ut,exportPadding:Xt,exportScale:Kt.exportScale,exportEmbedScene:Kt.exportEmbedScene&&qt==="svg"},yt,{exportingFrame:lt});case 6:if(pt=Ft.sent,qt!=="svg"){Ft.next=13;break}return Ft.next=10,(0,dt.NL)(new Blob([pt.outerHTML],{type:ht.LO.svg}),{description:"Export to SVG",name:ft,extension:Kt.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:wt});case 10:return Ft.abrupt("return",Ft.sent);case 13:if(qt!=="clipboard-svg"){Ft.next=17;break}return Ft.next=16,(0,nt.dd)(pt.outerHTML);case 16:return Ft.abrupt("return");case 17:if(vt=(0,St.NL)(Ut,Kt,yt,{exportBackground:Gt,viewBackgroundColor:ut,exportPadding:Xt,exportingFrame:lt}),qt!=="png"){Ft.next=33;break}return Ft.next=21,(0,Nt._c)(vt);case 21:if(zt=Ft.sent,!Kt.exportEmbedScene){Ft.next=28;break}return Ft.next=25,Promise.resolve().then(_.bind(_,250));case 25:return Ft.next=27,Ft.sent.encodePngMetadata({blob:zt,metadata:(0,Yt.I_)(Ut,Kt,yt,"local")});case 27:zt=Ft.sent;case 28:return Ft.next=30,(0,dt.NL)(zt,{description:"Export to PNG",name:ft,extension:"png",fileHandle:wt});case 30:return Ft.abrupt("return",Ft.sent);case 33:if(qt!=="clipboard"){Ft.next=52;break}return Ft.prev=34,Qt=(0,Nt._c)(vt),Ft.next=38,(0,nt.uR)(Qt);case 38:Ft.next=50;break;case 40:if(Ft.prev=40,Ft.t0=Ft.catch(34),console.warn(Ft.t0),Ft.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){Ft.next=45;break}throw Ft.t0;case 45:if(!ht.vU||Ft.t0.name!=="TypeError"){Ft.next=49;break}throw new Error("".concat((0,st.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,st.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,st.t)("alerts.couldNotCopyToClipboard"));case 50:Ft.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return Ft.stop()}},mn,null,[[34,40]])}));return function(mn,qt,Ut,Kt,yt){return pn.apply(this,arguments)}}()},4419:function($t,Vt,_){_.d(Vt,{HT:function(){return pn},I_:function(){return dt},NI:function(){return mn},Um:function(){return Yt},dS:function(){return bn},n8:function(){return sn},t1:function(){return qt}});var Et=_(6655),ot=_(8950),it=_(2975),nt=_.n(it),ht=_(6548),Bt=_(6853),st=_(9937),tt=_(7651),xt=_(5796);function St(Ut,Kt){var yt=typeof Symbol<"u"&&Ut[Symbol.iterator]||Ut["@@iterator"];if(!yt){if(Array.isArray(Ut)||(yt=function(ft,$){if(ft){if(typeof ft=="string")return Zt(ft,$);var wt=Object.prototype.toString.call(ft).slice(8,-1);if(wt==="Object"&&ft.constructor&&(wt=ft.constructor.name),wt==="Map"||wt==="Set")return Array.from(ft);if(wt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wt))return Zt(ft,$)}}(Ut))||Kt){yt&&(Ut=yt);var Ot=0,Gt=function(){};return{s:Gt,n:function(){return Ot>=Ut.length?{done:!0}:{done:!1,value:Ut[Ot++]}},e:function(ft){throw ft},f:Gt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ct,Xt=!0,ut=!1;return{s:function(){yt=yt.call(Ut)},n:function(){var ft=yt.next();return Xt=ft.done,ft},e:function(ft){ut=!0,Ct=ft},f:function(){try{Xt||yt.return==null||yt.return()}finally{if(ut)throw Ct}}}}function Zt(Ut,Kt){(Kt==null||Kt>Ut.length)&&(Kt=Ut.length);for(var yt=0,Ot=new Array(Kt);yt<Kt;yt++)Ot[yt]=Ut[yt];return Ot}var Nt=function(Ut,Kt){var yt,Ot={},Gt=St(Ut);try{for(Gt.s();!(yt=Gt.n()).done;){var Ct=yt.value;!Ct.isDeleted&&"fileId"in Ct&&Ct.fileId&&Kt[Ct.fileId]&&(Ot[Ct.fileId]=Kt[Ct.fileId])}}catch(Xt){Gt.e(Xt)}finally{Gt.f()}return Ot},dt=function(Ut,Kt,yt,Ot){var Gt={type:st.r8.excalidraw,version:st.Kr.excalidraw,source:st.pb,elements:Ot==="local"?(0,tt._M)(Ut):(0,tt.BQ)(Ut),appState:Ot==="local"?(0,Bt.s)(Kt):(0,Bt.eS)(Kt),files:Ot==="local"?Nt(Ut,yt):void 0};return JSON.stringify(Gt,null,2)},Yt=function(){var Ut=(0,ot.Z)(nt().mark(function Kt(yt,Ot,Gt){var Ct,Xt,ut;return nt().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return Ct=dt(yt,Ot,Gt,"local"),Xt=new Blob([Ct],{type:st.LO.excalidraw}),ft.next=4,(0,ht.NL)(Xt,{name:Ot.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,xt.g8)(Ot.fileHandle)?null:Ot.fileHandle});case 4:return ut=ft.sent,ft.abrupt("return",{fileHandle:ut});case 6:case"end":return ft.stop()}},Kt)}));return function(Kt,yt,Ot){return Ut.apply(this,arguments)}}(),sn=function(){var Ut=(0,ot.Z)(nt().mark(function Kt(yt,Ot){var Gt;return nt().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ct.next=2,(0,ht.I$)({description:"Excalidraw files"});case 2:return Gt=Ct.sent,Ct.t0=xt.cT,Ct.next=6,(0,xt.gY)(Gt);case 6:return Ct.t1=Ct.sent,Ct.t2=yt,Ct.t3=Ot,Ct.t4=Gt.handle,Ct.abrupt("return",(0,Ct.t0)(Ct.t1,Ct.t2,Ct.t3,Ct.t4));case 11:case"end":return Ct.stop()}},Kt)}));return function(Kt,yt){return Ut.apply(this,arguments)}}(),bn=function(Ut){return(Ut==null?void 0:Ut.type)===st.r8.excalidraw&&(!Ut.elements||Array.isArray(Ut.elements)&&(!Ut.appState||(0,Et.Z)(Ut.appState)==="object"))},pn=function(Ut){return(0,Et.Z)(Ut)==="object"&&Ut&&Ut.type===st.r8.excalidrawLibrary&&(Ut.version===1||Ut.version===2)},mn=function(Ut){var Kt={type:st.r8.excalidrawLibrary,version:st.Kr.excalidrawLibrary,source:st.pb,libraryItems:Ut};return JSON.stringify(Kt,null,2)},qt=function(){var Ut=(0,ot.Z)(nt().mark(function Kt(yt){var Ot;return nt().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return Ot=mn(yt),Gt.next=3,(0,ht.NL)(new Blob([Ot],{type:st.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return Gt.stop()}},Kt)}));return function(Kt){return Ut.apply(this,arguments)}}()},9326:function($t,Vt,_){_.d(Vt,{Di:function(){return $},WV:function(){return ft},rF:function(){return Ot},xS:function(){return wt},zh:function(){return Xt}});var Et=_(7169),ot=_(8950),it=_(5169),nt=_(8821),ht=_(1930),Bt=_(2975),st=_.n(Bt),tt=_(5796),xt=_(7994),St=_(3607),Zt=_(453),Nt=_(4949),dt=_(3506),Yt=_(8227),sn=_(9787),bn=_(9937),pn=_(5832),mn=_(9827);function qt(gt,lt){var pt=Object.keys(gt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(gt);lt&&(vt=vt.filter(function(zt){return Object.getOwnPropertyDescriptor(gt,zt).enumerable})),pt.push.apply(pt,vt)}return pt}function Ut(gt){for(var lt=1;lt<arguments.length;lt++){var pt=arguments[lt]!=null?arguments[lt]:{};lt%2?qt(Object(pt),!0).forEach(function(vt){(0,Et.Z)(gt,vt,pt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(pt)):qt(Object(pt)).forEach(function(vt){Object.defineProperty(gt,vt,Object.getOwnPropertyDescriptor(pt,vt))})}return gt}function Kt(gt,lt){var pt=typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(!pt){if(Array.isArray(gt)||(pt=function(Tt,jt){if(Tt){if(typeof Tt=="string")return yt(Tt,jt);var un=Object.prototype.toString.call(Tt).slice(8,-1);if(un==="Object"&&Tt.constructor&&(un=Tt.constructor.name),un==="Map"||un==="Set")return Array.from(Tt);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return yt(Tt,jt)}}(gt))||lt){pt&&(gt=pt);var vt=0,zt=function(){};return{s:zt,n:function(){return vt>=gt.length?{done:!0}:{done:!1,value:gt[vt++]}},e:function(Tt){throw Tt},f:zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qt,Ft=!0,At=!1;return{s:function(){pt=pt.call(gt)},n:function(){var Tt=pt.next();return Ft=Tt.done,Tt},e:function(Tt){At=!0,Qt=Tt},f:function(){try{Ft||pt.return==null||pt.return()}finally{if(At)throw Qt}}}}function yt(gt,lt){(lt==null||lt>gt.length)&&(lt=gt.length);for(var pt=0,vt=new Array(lt);pt<lt;pt++)vt[pt]=gt[pt];return vt}var Ot=(0,St.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),Gt=function(gt){return(0,mn.xU)(gt)},Ct=function(gt,lt){return!gt.find(function(pt){return pt.elements.length===lt.elements.length&&pt.elements.every(function(vt,zt){return vt.id===lt.elements[zt].id&&vt.versionNonce===lt.elements[zt].versionNonce})})},Xt=function(gt,lt){var pt,vt=[],zt=Kt(lt);try{for(zt.s();!(pt=zt.n()).done;){var Qt=pt.value;Ct(gt,Qt)&&vt.push(Qt)}}catch(Ft){zt.e(Ft)}finally{zt.f()}return[].concat(vt,(0,ht.Z)(gt))},ut=(0,it.Z)(function gt(lt){var pt=this;(0,nt.Z)(this,gt),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return pt.updateQueue[pt.updateQueue.length-1]},this.notifyListeners=function(){if(pt.updateQueue.length>0)Zt.e_.set(Ot,{status:"loading",libraryItems:pt.lastLibraryItems,isInitialized:pt.isInitialized});else{pt.isInitialized=!0,Zt.e_.set(Ot,{status:"loaded",libraryItems:pt.lastLibraryItems,isInitialized:pt.isInitialized});try{var vt,zt;(vt=(zt=pt.app.props).onLibraryChange)===null||vt===void 0||vt.call(zt,Gt(pt.lastLibraryItems))}catch(Qt){console.error(Qt)}}},this.destroy=function(){pt.isInitialized=!1,pt.updateQueue=[],pt.lastLibraryItems=[],Zt.e_.set(pn.YX,new Map)},this.resetLibrary=function(){return pt.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var vt=(0,ot.Z)(st().mark(function zt(Qt){var Ft;return st().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.prev=0,At.next=3,pt.getLastUpdateTask()||pt.lastLibraryItems;case 3:Ft=At.sent,pt.updateQueue.length>0?Qt(pt.getLatestLibrary()):Qt(Gt(Ft)),At.next=10;break;case 7:return At.prev=7,At.t0=At.catch(0),At.abrupt("return",Qt(pt.lastLibraryItems));case 10:case"end":return At.stop()}},zt,null,[[0,7]])}));return function(zt){return vt.apply(this,arguments)}}())},this.updateLibrary=function(){var vt=(0,ot.Z)(st().mark(function zt(Qt){var Ft,At,Tt,jt,un,Jt,hn,rn,Mt;return st().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return Ft=Qt.libraryItems,At=Qt.prompt,Tt=At!==void 0&&At,jt=Qt.merge,un=jt!==void 0&&jt,Jt=Qt.openLibraryMenu,hn=Jt!==void 0&&Jt,rn=Qt.defaultStatus,Mt=rn===void 0?"unpublished":rn,hn&&pt.app.setState({openSidebar:{name:bn.Cc.name,tab:bn.tf}}),an.abrupt("return",pt.setLibrary(function(){return new Promise(function(){var Cn=(0,ot.Z)(st().mark(function kn(jn,Dn){var Fn,vn;return st().wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:return Gn.prev=0,Gn.next=3,typeof Ft!="function"||Ft instanceof Blob?Ft:Ft(pt.lastLibraryItems);case 3:if(!((Fn=Gn.sent)instanceof Blob)){Gn.next=10;break}return Gn.next=7,(0,tt.lV)(Fn,Mt);case 7:vn=Gn.sent,Gn.next=11;break;case 10:vn=(0,xt.wJ)(Fn,Mt);case 11:!Tt||window.confirm((0,Yt.t)("alerts.confirmAddLibrary",{numShapes:vn.length}))?(Tt&&pt.app.focusContainer(),jn(un?Xt(pt.lastLibraryItems,vn):vn)):Dn(new dt._L),Gn.next=17;break;case 14:Gn.prev=14,Gn.t0=Gn.catch(0),Dn(Gn.t0);case 17:case"end":return Gn.stop()}},kn,null,[[0,14]])}));return function(kn,jn){return Cn.apply(this,arguments)}}())}));case 3:case"end":return an.stop()}},zt)}));return function(zt){return vt.apply(this,arguments)}}(),this.setLibrary=function(vt){var zt=new Promise(function(){var Qt=(0,ot.Z)(st().mark(function Ft(At,Tt){return st().wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:return jt.prev=0,jt.next=3,pt.getLastUpdateTask();case 3:return typeof vt=="function"&&(vt=vt(pt.lastLibraryItems)),jt.t0=Gt,jt.next=7,vt;case 7:jt.t1=jt.sent,pt.lastLibraryItems=(0,jt.t0)(jt.t1),At(pt.lastLibraryItems),jt.next=15;break;case 12:jt.prev=12,jt.t2=jt.catch(0),Tt(jt.t2);case 15:case"end":return jt.stop()}},Ft,null,[[0,12]])}));return function(Ft,At){return Qt.apply(this,arguments)}}()).catch(function(Qt){if(Qt.name==="AbortError")return console.warn("Library update aborted by user"),pt.lastLibraryItems;throw Qt}).finally(function(){pt.updateQueue=pt.updateQueue.filter(function(Qt){return Qt!==zt}),pt.notifyListeners()});return pt.updateQueue.push(zt),pt.notifyListeners(),zt},this.app=lt});Vt.ZP=ut;var ft=function(gt){var lt,pt=Math.ceil(Math.sqrt(gt.length)),vt=[],zt=0,Qt=0,Ft=0,At=0,Tt=0,jt=0,un=0,Jt=Kt(gt);try{var hn=function(){var rn=lt.value;Tt&&Tt%pt==0&&(Qt+=Ft+50,zt=0,jt=0,un++),jt===0&&(Ft=function(vn){return gt.slice(vn*pt,vn*pt+pt).reduce(function(Gn,Sn){var nn=(0,Nt.v2)(Sn.elements).height;return Math.max(Gn,nn)},0)}(un)),At=function(vn){var Gn,Sn=0,nn=0,Qn=0,tn=Kt(gt);try{for(tn.s();!(Gn=tn.n()).done;){var at=Gn.value;if(Sn%pt==0&&(nn=0),nn===vn){var ct=(0,Nt.v2)(at.elements).width;Qn=Math.max(Qn,ct)}Sn++,nn++}}catch(mt){tn.e(mt)}finally{tn.f()}return Qn}(jt);var Mt=(0,Nt.v2)(rn.elements),an=Mt.minX,Cn=Mt.minY,kn=Mt.width,jn=Mt.height,Dn=(At-kn)/2,Fn=(Ft-jn)/2;vt.push.apply(vt,(0,ht.Z)(rn.elements.map(function(vn){return Ut(Ut({},vn),{},{x:vn.x+zt+Dn-an,y:vn.y+Qt+Fn-Cn})}))),zt+=At+50,Tt++,jt++};for(Jt.s();!(lt=Jt.n()).done;)hn()}catch(rn){Jt.e(rn)}finally{Jt.f()}return vt},$=function(){var gt=new URLSearchParams(window.location.hash.slice(1)).get(bn.ah.addLibrary)||new URLSearchParams(window.location.search).get(bn.UO.addLibrary),lt=gt?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return gt?{libraryUrl:gt,idToken:lt}:null},wt=function(gt){var lt=gt.excalidrawAPI,pt=gt.getInitialLibraryItems,vt=(0,sn.useRef)(pt);(0,sn.useEffect)(function(){if(lt){var zt=function(){var At=(0,ot.Z)(st().mark(function Tt(jt){var un,Jt,hn,rn,Mt,an;return st().wrap(function(Cn){for(;;)switch(Cn.prev=Cn.next){case 0:return un=jt.libraryUrl,Jt=jt.idToken,hn=new Promise(function(){var kn=(0,ot.Z)(st().mark(function jn(Dn,Fn){var vn,Gn;return st().wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.prev=0,Sn.next=3,fetch(decodeURIComponent(un));case 3:return vn=Sn.sent,Sn.next=6,vn.blob();case 6:Gn=Sn.sent,Dn(Gn),Sn.next=13;break;case 10:Sn.prev=10,Sn.t0=Sn.catch(0),Fn(Sn.t0);case 13:case"end":return Sn.stop()}},jn,null,[[0,10]])}));return function(jn,Dn){return kn.apply(this,arguments)}}()),rn=Jt!==lt.id,Cn.next=5,rn&&document.hidden?new Promise(function(kn){window.addEventListener("focus",function(){return kn()},{once:!0})}):null;case 5:return Cn.prev=5,Cn.next=8,lt.updateLibrary({libraryItems:hn,prompt:rn,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:Cn.next=13;break;case 10:throw Cn.prev=10,Cn.t0=Cn.catch(5),Cn.t0;case 13:return Cn.prev=13,window.location.hash.includes(bn.ah.addLibrary)?((Mt=new URLSearchParams(window.location.hash.slice(1))).delete(bn.ah.addLibrary),window.history.replaceState({},bn.iC,"#".concat(Mt.toString()))):window.location.search.includes(bn.UO.addLibrary)&&((an=new URLSearchParams(window.location.search)).delete(bn.UO.addLibrary),window.history.replaceState({},bn.iC,"?".concat(an.toString()))),Cn.finish(13);case 16:case"end":return Cn.stop()}},Tt,null,[[5,10,13,16]])}));return function(Tt){return At.apply(this,arguments)}}(),Qt=function(At){At.preventDefault();var Tt=$();Tt&&(At.stopImmediatePropagation(),window.history.replaceState({},"",At.oldURL),zt(Tt))};vt.current&&lt.updateLibrary({libraryItems:vt.current()});var Ft=$();return Ft&&zt(Ft),window.addEventListener(bn.Ks.HASHCHANGE,Qt),function(){window.removeEventListener(bn.Ks.HASHCHANGE,Qt)}}},[lt])}},7994:function($t,Vt,_){_.d(Vt,{ET:function(){return Gt},lY:function(){return ut},nu:function(){return ft},wJ:function(){return wt}});var Et=_(2577),ot=_(7169),it=_(7651),nt=_(4183),ht=_(4643),Bt=_(9937),st=_(6853),tt=_(7422),xt=_(583),St=_(9827),Zt=_(4761),Nt=_(8020);function dt(gt,lt){var pt=typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(!pt){if(Array.isArray(gt)||(pt=function(Tt,jt){if(Tt){if(typeof Tt=="string")return Yt(Tt,jt);var un=Object.prototype.toString.call(Tt).slice(8,-1);if(un==="Object"&&Tt.constructor&&(un=Tt.constructor.name),un==="Map"||un==="Set")return Array.from(Tt);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return Yt(Tt,jt)}}(gt))||lt){pt&&(gt=pt);var vt=0,zt=function(){};return{s:zt,n:function(){return vt>=gt.length?{done:!0}:{done:!1,value:gt[vt++]}},e:function(Tt){throw Tt},f:zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qt,Ft=!0,At=!1;return{s:function(){pt=pt.call(gt)},n:function(){var Tt=pt.next();return Ft=Tt.done,Tt},e:function(Tt){At=!0,Qt=Tt},f:function(){try{Ft||pt.return==null||pt.return()}finally{if(At)throw Qt}}}}function Yt(gt,lt){(lt==null||lt>gt.length)&&(lt=gt.length);for(var pt=0,vt=new Array(lt);pt<lt;pt++)vt[pt]=gt[pt];return vt}function sn(gt,lt){var pt=Object.keys(gt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(gt);lt&&(vt=vt.filter(function(zt){return Object.getOwnPropertyDescriptor(gt,zt).enumerable})),pt.push.apply(pt,vt)}return pt}function bn(gt){for(var lt=1;lt<arguments.length;lt++){var pt=arguments[lt]!=null?arguments[lt]:{};lt%2?sn(Object(pt),!0).forEach(function(vt){(0,ot.Z)(gt,vt,pt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(pt)):sn(Object(pt)).forEach(function(vt){Object.defineProperty(gt,vt,Object.getOwnPropertyDescriptor(pt,vt))})}return gt}var pn={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},mn=function(gt){return Object.keys(Bt.ut).includes(gt)?Bt.ut[gt]:Bt.rk},qt=function(gt){return gt?bn(bn({},gt),{},{focus:gt.focus||0}):null},Ut=function(gt,lt){var pt,vt,zt,Qt,Ft,At,Tt,jt,un,Jt,hn,rn,Mt,an,Cn={type:lt.type||gt.type,version:gt.version||1,versionNonce:(pt=gt.versionNonce)!==null&&pt!==void 0?pt:0,isDeleted:(vt=gt.isDeleted)!==null&&vt!==void 0&&vt,id:gt.id||(0,ht.kb)(),fillStyle:gt.fillStyle||Bt.HN.fillStyle,strokeWidth:gt.strokeWidth||Bt.HN.strokeWidth,strokeStyle:(zt=gt.strokeStyle)!==null&&zt!==void 0?zt:Bt.HN.strokeStyle,roughness:(Qt=gt.roughness)!==null&&Qt!==void 0?Qt:Bt.HN.roughness,opacity:gt.opacity==null?Bt.HN.opacity:gt.opacity,angle:gt.angle||0,x:(Ft=(At=lt.x)!==null&&At!==void 0?At:gt.x)!==null&&Ft!==void 0?Ft:0,y:(Tt=(jt=lt.y)!==null&&jt!==void 0?jt:gt.y)!==null&&Tt!==void 0?Tt:0,strokeColor:gt.strokeColor||Bt.HN.strokeColor,backgroundColor:gt.backgroundColor||Bt.HN.backgroundColor,width:gt.width||0,height:gt.height||0,seed:(un=gt.seed)!==null&&un!==void 0?un:1,groupIds:(Jt=gt.groupIds)!==null&&Jt!==void 0?Jt:[],frameId:(hn=gt.frameId)!==null&&hn!==void 0?hn:null,roundness:gt.roundness?gt.roundness:gt.strokeSharpness==="round"?{type:(0,nt.QI)(gt.type)?Bt.a6.LEGACY:Bt.a6.PROPORTIONAL_RADIUS}:null,boundElements:gt.boundElementIds?gt.boundElementIds.map(function(kn){return{type:"arrow",id:kn}}):(rn=gt.boundElements)!==null&&rn!==void 0?rn:[],updated:(Mt=gt.updated)!==null&&Mt!==void 0?Mt:(0,St.C3)(),link:gt.link?(0,Nt.$u)(gt.link):null,locked:(an=gt.locked)!==null&&an!==void 0&&an};return"customData"in gt&&(Cn.customData=gt.customData),Bt.WR in gt&&(Cn[Bt.WR]=gt[Bt.WR]),bn(bn(bn({},Cn),(0,it.Qp)(Cn)),lt)},Kt=function(gt,lt){if(gt.boundElements){var pt=gt.boundElements.slice(),vt=new Set;gt.boundElements=pt.reduce(function(zt,Qt){var Ft=lt.get(Qt.id);if(Ft&&!vt.has(Qt.id)){if(vt.add(Qt.id),Ft.isDeleted)return zt;zt.push(Qt),(0,nt.iB)(Ft)&&!Ft.containerId&&(Ft.containerId=gt.id)}return zt},[])}},yt=function(gt,lt){var pt=gt.containerId?lt.get(gt.containerId):null;if(pt){if(!gt.isDeleted&&pt.boundElements&&!pt.boundElements.find(function(zt){return zt.id===gt.id})){var vt=(pt.boundElements||(pt.boundElements=[])).slice();vt.push({type:"text",id:gt.id}),pt.boundElements=vt}}else gt.containerId=null},Ot=function(gt,lt){gt.frameId&&(lt.get(gt.frameId)||(gt.frameId=null))},Gt=function(gt,lt,pt){var vt=new Set,zt=lt?(0,St.xn)(lt):null,Qt=(gt||[]).reduce(function(un,Jt){if(Jt.type!=="selection"&&!(0,it.QD)(Jt)){var hn=function(Mt){var an,Cn,kn=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(Mt.type){case"text":var jn=Mt.fontSize,Dn=Mt.fontFamily;if("font"in Mt){var Fn=Mt.font.split(" "),vn=(0,Et.Z)(Fn,2),Gn=vn[0],Sn=vn[1];jn=parseFloat(Gn),Dn=mn(Sn)}var nn=typeof Mt.text=="string"&&Mt.text||"",Qn=Mt.lineHeight||(Mt.height?(0,Zt.$2)(Mt):(0,Zt.PT)(Mt.fontFamily)),tn=(0,Zt.R8)(Mt.text,(0,St.mO)(Mt),Qn);return Mt=Ut(Mt,{fontSize:jn,fontFamily:Dn,text:nn,textAlign:Mt.textAlign||Bt.Hg,verticalAlign:Mt.verticalAlign||Bt.hs,containerId:(an=Mt.containerId)!==null&&an!==void 0?an:null,originalText:Mt.originalText||nn,lineHeight:Qn,baseline:tn}),nn||Mt.isDeleted||(Mt=bn(bn({},Mt),{},{originalText:nn,isDeleted:!0}),Mt=(0,xt.ZP)(Mt)),kn&&(Mt=bn(bn({},Mt),(0,it.JZ)(Mt))),Mt;case"freedraw":return Ut(Mt,{points:Mt.points,lastCommittedPoint:null,simulatePressure:Mt.simulatePressure,pressures:Mt.pressures});case"image":return Ut(Mt,{status:Mt.status||"pending",fileId:Mt.fileId,scale:Mt.scale||[1,1]});case"line":case"draw":case"arrow":var at=Mt,ct=at.startArrowhead,mt=ct===void 0?null:ct,Wt=at.endArrowhead,Rt=Wt===void 0?Mt.type==="arrow"?"arrow":null:Wt,en=Mt.x,Pt=Mt.y,on=!Array.isArray(Mt.points)||Mt.points.length<2?[[0,0],[Mt.width,Mt.height]]:Mt.points;if(on[0][0]!==0||on[0][1]!==0){var Bn=tt._.getNormalizedPoints(Mt);on=Bn.points,en=Bn.x,Pt=Bn.y}return Ut(Mt,{type:Mt.type==="draw"?"line":Mt.type,startBinding:qt(Mt.startBinding),endBinding:qt(Mt.endBinding),lastCommittedPoint:null,startArrowhead:mt,endArrowhead:Rt,points:on,x:en,y:Pt});case"ellipse":case"rectangle":case"diamond":return Ut(Mt,{});case"embeddable":return Ut(Mt,{validated:null});case"frame":return Ut(Mt,{name:(Cn=Mt.name)!==null&&Cn!==void 0?Cn:null})}return null}(Jt,pt==null?void 0:pt.refreshDimensions);if(hn){var rn=zt==null?void 0:zt.get(Jt.id);rn&&rn.version>hn.version&&(hn=(0,xt.ZP)(hn,rn.version)),vt.has(hn.id)&&(hn=bn(bn({},hn),{},{id:(0,ht.kb)()})),vt.add(hn.id),un.push(hn)}}return un},[]);if(pt==null||!pt.repairBindings)return Qt;var Ft,At=(0,St.xn)(Qt),Tt=dt(Qt);try{for(Tt.s();!(Ft=Tt.n()).done;){var jt=Ft.value;jt.frameId&&Ot(jt,At),(0,nt.iB)(jt)&&jt.containerId?yt(jt,At):jt.boundElements&&Kt(jt,At)}}catch(un){Tt.e(un)}finally{Tt.f()}return Qt},Ct=function(gt,lt,pt){var vt=lt[gt];return vt!==void 0?vt:pt[gt]},Xt={isSidebarDocked:function(gt,lt){var pt;return["defaultSidebarDockedPreference",(pt=gt.isSidebarDocked)!==null&&pt!==void 0?pt:Ct("defaultSidebarDockedPreference",gt,lt)]}},ut=function(gt,lt){var pt,vt,zt,Qt;gt=gt||{};for(var Ft=(0,st.im)(),At={},Tt=0,jt=Object.keys(Xt);Tt<jt.length;Tt++){var un=jt[Tt];if(un in gt){var Jt=Xt[un](gt,Ft),hn=(0,Et.Z)(Jt,2),rn=hn[0],Mt=hn[1];At[rn]=Mt}}for(var an=0,Cn=Object.entries(Ft);an<Cn.length;an++){var kn=(0,Et.Z)(Cn[an],2),jn=kn[0],Dn=kn[1],Fn=gt[jn],vn=lt?lt[jn]:void 0;At[jn]=Fn!==void 0?Fn:vn!==void 0?vn:Dn}return bn(bn({},At),{},{cursorButton:(lt==null?void 0:lt.cursorButton)||"up",penDetected:(pt=lt==null?void 0:lt.penDetected)!==null&&pt!==void 0?pt:!!gt.penMode&&(vt=gt.penDetected)!==null&&vt!==void 0&&vt,activeTool:bn(bn({},(0,St.Om)(Ft,At.activeTool.type&&pn[At.activeTool.type]?At.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(zt=At.activeTool.locked)!==null&&zt!==void 0&&zt}),zoom:typeof gt.zoom=="number"?{value:gt.zoom}:(Qt=gt.zoom)!==null&&Qt!==void 0&&Qt.value?gt.zoom:Ft.zoom,openSidebar:typeof gt.openSidebar=="string"?{name:Bt.Cc.name}:At.openSidebar})},ft=function(gt,lt,pt,vt){return{elements:Gt(gt==null?void 0:gt.elements,pt,vt),appState:ut(gt==null?void 0:gt.appState,lt||null),files:(gt==null?void 0:gt.files)||{}}},$=function(gt){var lt=Gt((0,it.Lm)(gt.elements),null);return lt.length?bn(bn({},gt),{},{elements:lt}):null},wt=function(){var gt,lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],pt=arguments.length>1?arguments[1]:void 0,vt=[],zt=dt(lt);try{for(zt.s();!(gt=zt.n()).done;){var Qt=gt.value;if(Array.isArray(Qt)){var Ft=$({status:pt,elements:Qt,id:(0,ht.kb)(),created:Date.now()});Ft&&vt.push(Ft)}else{var At=Qt,Tt=$(bn(bn({},At),{},{id:At.id||(0,ht.kb)(),status:At.status||pt,created:At.created||Date.now()}));Tt&&vt.push(Tt)}}}catch(jt){zt.e(jt)}finally{zt.f()}return vt}},6199:function($t,Vt,_){_.d(Vt,{w:function(){return Ot}});var Et=_(2577),ot=_(5169),it=_(8821),nt=_(7169),ht=_(9937),Bt=_(7651),st=_(9645),tt=_(5742),xt=_(4761),St=_(9827),Zt=_(5999),Nt=_(4643);function dt(Gt,Ct){var Xt=typeof Symbol<"u"&&Gt[Symbol.iterator]||Gt["@@iterator"];if(!Xt){if(Array.isArray(Gt)||(Xt=function(lt,pt){if(lt){if(typeof lt=="string")return Yt(lt,pt);var vt=Object.prototype.toString.call(lt).slice(8,-1);if(vt==="Object"&&lt.constructor&&(vt=lt.constructor.name),vt==="Map"||vt==="Set")return Array.from(lt);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return Yt(lt,pt)}}(Gt))||Ct){Xt&&(Gt=Xt);var ut=0,ft=function(){};return{s:ft,n:function(){return ut>=Gt.length?{done:!0}:{done:!1,value:Gt[ut++]}},e:function(lt){throw lt},f:ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,wt=!0,gt=!1;return{s:function(){Xt=Xt.call(Gt)},n:function(){var lt=Xt.next();return wt=lt.done,lt},e:function(lt){gt=!0,$=lt},f:function(){try{wt||Xt.return==null||Xt.return()}finally{if(gt)throw $}}}}function Yt(Gt,Ct){(Ct==null||Ct>Gt.length)&&(Ct=Gt.length);for(var Xt=0,ut=new Array(Ct);Xt<Ct;Xt++)ut[Xt]=Gt[Xt];return ut}function sn(Gt,Ct){var Xt=Object.keys(Gt);if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(Gt);Ct&&(ut=ut.filter(function(ft){return Object.getOwnPropertyDescriptor(Gt,ft).enumerable})),Xt.push.apply(Xt,ut)}return Xt}function bn(Gt){for(var Ct=1;Ct<arguments.length;Ct++){var Xt=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?sn(Object(Xt),!0).forEach(function(ut){(0,nt.Z)(Gt,ut,Xt[ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gt,Object.getOwnPropertyDescriptors(Xt)):sn(Object(Xt)).forEach(function(ut){Object.defineProperty(Gt,ut,Object.getOwnPropertyDescriptor(Xt,ut))})}return Gt}var pn=100,mn=0,qt=100,Ut=function(Gt,Ct){var Xt=(0,tt.VL)(bn(bn({x:0,y:0,textAlign:ht.I8.CENTER,verticalAlign:ht.oX.MIDDLE},Ct),{},{containerId:Gt.id,strokeColor:Ct.strokeColor||Gt.strokeColor}));return Object.assign(Gt,{boundElements:(Gt.boundElements||[]).concat({type:"text",id:Xt.id})}),(0,Bt.oN)(Xt,Gt),[Gt,Xt]},Kt=function(Gt,Ct,Xt,ut){var ft,$;if(Object.assign(Gt,{startBinding:(Gt==null?void 0:Gt.startBinding)||null,endBinding:Gt.endBinding||null}),Ct){var wt,gt,lt,pt=(wt=Ct==null?void 0:Ct.width)!==null&&wt!==void 0?wt:qt,vt=(gt=Ct==null?void 0:Ct.height)!==null&&gt!==void 0?gt:qt;Ct.id&&((lt=ut.getElement(Ct.id))||console.error("No element for start binding with id ".concat(Ct.id," found")));var zt=Ct.x||Gt.x-pt,Qt=Ct.y||Gt.y-vt/2,Ft=lt?lt.type:Ct.type;if(Ft){if(Ft==="text"){var At="";lt&&lt.type==="text"?At=lt.text:Ct.type==="text"&&(At=Ct.text),At||console.error("No text found for start binding text element for ".concat(Gt.id)),ft=(0,tt.VL)(bn(bn(bn({x:zt,y:Qt,type:"text"},lt),Ct),{},{text:At})),Object.assign(ft,{x:Ct.x||Gt.x-ft.width,y:Ct.y||Gt.y-ft.height/2})}else switch(Ft){case"rectangle":case"ellipse":case"diamond":ft=(0,Bt.Up)(bn(bn(bn({x:zt,y:Qt,width:pt,height:vt},lt),Ct),{},{type:Ft}));break;default:(0,St.vE)(Gt,'Unhandled element start type "'.concat(Ct.type,'"'),!0)}(0,st.UZ)(Gt,ft,"start")}}if(Xt){var Tt,jt,un,Jt=(Tt=Xt==null?void 0:Xt.height)!==null&&Tt!==void 0?Tt:qt,hn=(jt=Xt==null?void 0:Xt.width)!==null&&jt!==void 0?jt:qt;Xt.id&&((un=ut.getElement(Xt.id))||console.error("No element for end binding with id ".concat(Xt.id," found")));var rn=Xt.x||Gt.x+Gt.width,Mt=Xt.y||Gt.y-Jt/2,an=un?un.type:Xt.type;if(an){if(an==="text"){var Cn="";un&&un.type==="text"?Cn=un.text:Xt.type==="text"&&(Cn=Xt.text),Cn||console.error("No text found for end binding text element for ".concat(Gt.id)),$=(0,tt.VL)(bn(bn(bn({x:rn,y:Mt,type:"text"},un),Xt),{},{text:Cn})),Object.assign($,{y:Xt.y||Gt.y-$.height/2})}else switch(an){case"rectangle":case"ellipse":case"diamond":$=(0,Bt.Up)(bn(bn(bn({x:rn,y:Mt,width:hn,height:Jt},un),Xt),{},{type:an}));break;default:(0,St.vE)(Gt,'Unhandled element end type "'.concat(an,'"'),!0)}(0,st.UZ)(Gt,$,"end")}}var kn=Gt.points.length-1,jn=.5,Dn=(0,St.xU)(Gt.points);return Gt.points[kn][0]>Gt.points[kn-1][0]&&(Dn[0][0]=jn,Dn[kn][0]-=jn),Gt.points[kn][0]<Gt.points[kn-1][0]&&(Dn[0][0]=-.5,Dn[kn][0]+=jn),Gt.points[kn][1]>Gt.points[kn-1][1]&&(Dn[0][1]=jn,Dn[kn][1]-=jn),Gt.points[kn][1]<Gt.points[kn-1][1]&&(Dn[0][1]=-.5,Dn[kn][1]+=jn),Object.assign(Gt,{points:Dn}),{linearElement:Gt,startBoundElement:ft,endBoundElement:$}},yt=(0,ot.Z)(function Gt(){var Ct=this;(0,it.Z)(this,Gt),this.excalidrawElements=new Map,this.add=function(Xt){Xt&&Ct.excalidrawElements.set(Xt.id,Xt)},this.getElements=function(){return Array.from(Ct.excalidrawElements.values())},this.getElement=function(Xt){return Ct.excalidrawElements.get(Xt)}}),Ot=function(Gt,Ct){if(!Gt)return[];var Xt,ut=(0,St.xU)(Gt),ft=new yt,$=new Map,wt=new Map,gt=dt(ut);try{for(gt.s();!(Xt=gt.n()).done;){var lt=Xt.value,pt=void 0,vt=lt.id;switch((Ct==null?void 0:Ct.regenerateIds)!==!1&&Object.assign(lt,{id:(0,Nt.kb)()}),lt.type){case"rectangle":case"ellipse":case"diamond":var zt,Qt,Ft=lt!=null&&(zt=lt.label)!==null&&zt!==void 0&&zt.text&&lt.width===void 0?0:(lt==null?void 0:lt.width)||qt,At=lt!=null&&(Qt=lt.label)!==null&&Qt!==void 0&&Qt.text&&lt.height===void 0?0:(lt==null?void 0:lt.height)||qt;pt=(0,Bt.Up)(bn(bn({},lt),{},{width:Ft,height:At}));break;case"line":var Tt=lt.width||pn,jt=lt.height||mn;pt=(0,Bt.y8)(bn({width:Tt,height:jt,points:[[0,0],[Tt,jt]]},lt));break;case"arrow":var un=lt.width||pn,Jt=lt.height||mn;pt=(0,Bt.y8)(bn({width:un,height:Jt,endArrowhead:"arrow",points:[[0,0],[un,Jt]]},lt)),Object.assign(pt,(0,Zt.k)(pt.points));break;case"text":var hn,rn=(lt==null?void 0:lt.fontFamily)||ht.rk,Mt=(lt==null?void 0:lt.fontSize)||ht.n5,an=(lt==null?void 0:lt.lineHeight)||(0,xt.PT)(rn),Cn=(hn=lt.text)!==null&&hn!==void 0?hn:"",kn=(0,xt.bG)(Cn),jn=(0,xt.X1)(kn,(0,St.mO)({fontFamily:rn,fontSize:Mt}),an);pt=(0,tt.VL)(bn({width:jn.width,height:jn.height,fontFamily:rn,fontSize:Mt},lt));break;case"image":pt=(0,tt.vw)(bn({width:(lt==null?void 0:lt.width)||qt,height:(lt==null?void 0:lt.height)||qt},lt));break;case"frame":pt=(0,tt.M3)(bn({x:0,y:0},lt));break;case"freedraw":case"embeddable":pt=lt;break;default:pt=lt,(0,St.vE)(lt,'Unhandled element type "'.concat(lt.type,'"'),!0)}ft.getElement(pt.id)?console.error("Duplicate id found for ".concat(pt.id)):(ft.add(pt),$.set(pt.id,lt),vt&&wt.set(vt,pt.id))}}catch(ir){gt.e(ir)}finally{gt.f()}var Dn,Fn=dt($);try{for(Fn.s();!(Dn=Fn.n()).done;){var vn=(0,Et.Z)(Dn.value,2),Gn=vn[0],Sn=vn[1],nn=ft.getElement(Gn);switch(Sn.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var Qn;if((Qn=Sn.label)!==null&&Qn!==void 0&&Qn.text){var tn=Ut(nn,Sn==null?void 0:Sn.label),at=(0,Et.Z)(tn,2),ct=at[0],mt=at[1];if(ft.add(ct),ft.add(mt),ct.type==="arrow"){var Wt=Sn.type==="arrow"?Sn==null?void 0:Sn.start:void 0,Rt=Sn.type==="arrow"?Sn==null?void 0:Sn.end:void 0;if(Wt&&Wt.id){var en=wt.get(Wt.id);en&&Object.assign(Wt,{id:en})}if(Rt&&Rt.id){var Pt=wt.get(Rt.id);Pt&&Object.assign(Rt,{id:Pt})}var on=Kt(ct,Wt,Rt,ft),Bn=on.linearElement,yn=on.startBoundElement,Wn=on.endBoundElement;ct=Bn,ft.add(Bn),ft.add(yn),ft.add(Wn)}}else if(Sn.type==="arrow"){var Vn=Sn.start,Hn=Sn.end;if(Vn&&Vn.id){var Zn=wt.get(Vn.id);Object.assign(Vn,{id:Zn})}if(Hn&&Hn.id){var Kn=wt.get(Hn.id);Object.assign(Hn,{id:Kn})}var qn=Kt(nn,Vn,Hn,ft),sr=qn.linearElement,In=qn.startBoundElement,An=qn.endBoundElement;ft.add(sr),ft.add(In),ft.add(An)}}}}catch(ir){Fn.e(ir)}finally{Fn.f()}var On,_n=dt($);try{var or=function(){var ir=(0,Et.Z)(On.value,2),mr=ir[0],yr=ir[1];if(yr.type!=="frame")return"continue";var cr=ft.getElement(mr);if(!cr)throw new Error("Excalidraw element with id ".concat(mr," doesn't exist"));var Ur=[];yr.children.forEach(function(xr){var pr,Nr=wt.get(xr);if(!Nr)throw new Error("Element with ".concat(xr," wasn't mapped correctly"));var Rr=ft.getElement(Nr);if(!Rr)throw new Error("Frame element with id ".concat(Nr," doesn't exist"));Object.assign(Rr,{frameId:cr.id}),Rr==null||(pr=Rr.boundElements)===null||pr===void 0||pr.forEach(function(qr){var Dr=ft.getElement(qr.id);if(!Dr)throw new Error("Bound element with id ".concat(qr.id," doesn't exist"));Object.assign(Dr,{frameId:cr.id}),Ur.push(Dr)}),Ur.push(Rr)});var Wr=(0,Bt.KP)(Ur),Xr=(0,Et.Z)(Wr,4),wr=Xr[0],Jr=Xr[1],Kr=Xr[2],rr=Xr[3];wr-=10,Jr-=10,Kr+=10,rr+=10;var Qr=Math.max(cr==null?void 0:cr.width,Kr-wr),Ir=Math.max(cr==null?void 0:cr.height,rr-Jr);Object.assign(cr,{x:wr,y:Jr,width:Qr,height:Ir})};for(_n.s();!(On=_n.n()).done;)or()}catch(ir){_n.e(ir)}finally{_n.f()}return ft.getElements()}},8020:function($t,Vt,_){_.d(Vt,{$u:function(){return it},q$:function(){return nt},tO:function(){return ot},ye:function(){return ht}});var Et=_(5779),ot=function(Bt){return Bt.replace(/"/g,"&quot;")},it=function(Bt){return(Bt=Bt.trim())?(0,Et.N)(ot(Bt)):Bt},nt=function(Bt){return!!(Bt!=null&&Bt.includes(location.origin)||Bt!=null&&Bt.startsWith("/"))},ht=function(Bt){if((Bt=it(Bt)).startsWith("/"))return"".concat(location.origin).concat(Bt);try{new URL(Bt)}catch{return"about:blank"}return Bt}},5992:function($t,Vt,_){_.d(Vt,{rj:function(){return Jt},nW:function(){return Mt},nz:function(){return Cn},sw:function(){return jn},lV:function(){return nn},Ni:function(){return Fn},wq:function(){return Dn},Pp:function(){return Gn}});var Et=_(7169),ot=_(2577),it=_(9827),nt=_(761),ht=_(583),Bt=_(2767),st=_(1512),tt=_(8935),xt=_(8227),St=_(9787),Zt=_(45),Nt=_(5491),dt=_(9660),Yt=_(2361),sn=_(9937),bn=_(8925),pn=_(4105),mn=_(3528),qt=_(7651),Ut=_(8020),Kt=_(3379),yt=_.n(Kt),Ot=_(7795),Gt=_.n(Ot),Ct=_(569),Xt=_.n(Ct),ut=_(3565),ft=_.n(ut),$=_(9216),wt=_.n($),gt=_(4589),lt=_.n(gt),pt=_(5260),vt={};vt.styleTagTransform=lt(),vt.setAttributes=ft(),vt.insert=Xt().bind(null,"head"),vt.domAPI=Gt(),vt.insertStyleElement=wt(),yt()(pt.Z,vt),pt.Z&&pt.Z.locals&&pt.Z.locals;var zt=_(3646),Qt=_(8242),Ft=_(4183),At=_(2921),Tt=_(1020);function jt(tn,at){var ct=Object.keys(tn);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(tn);at&&(mt=mt.filter(function(Wt){return Object.getOwnPropertyDescriptor(tn,Wt).enumerable})),ct.push.apply(ct,mt)}return ct}function un(tn){for(var at=1;at<arguments.length;at++){var ct=arguments[at]!=null?arguments[at]:{};at%2?jt(Object(ct),!0).forEach(function(mt){(0,Et.Z)(tn,mt,ct[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(ct)):jt(Object(ct)).forEach(function(mt){Object.defineProperty(tn,mt,Object.getOwnPropertyDescriptor(ct,mt))})}return tn}var Jt=document.createElement("img");Jt.src="data:".concat(sn.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var hn=!1,rn=new Map,Mt=function(tn){var at=tn.element,ct=tn.setAppState,mt=tn.onLinkOpen,Wt=tn.setToast,Rt=(0,Qt.gF)(),en=(0,Qt.hY)(),Pt=at.link||"",on=(0,St.useState)(Pt),Bn=(0,ot.Z)(on,2),yn=Bn[0],Wn=Bn[1],Vn=(0,St.useRef)(null),Hn=Rt.showHyperlinkPopup==="editor",Zn=(0,St.useCallback)(function(){if(Vn.current){var An=(0,Ut.$u)(Vn.current.value)||null;if(!at.link&&An&&(0,zt.L)("hyperlink","create"),(0,Ft.gs)(at)){var On;if(((On=Rt.activeEmbeddable)===null||On===void 0?void 0:On.element)===at&&ct({activeEmbeddable:null}),!An)return void(0,ht.DR)(at,{validated:!1,link:null});if((0,nt.xm)(An,en.validateEmbeddable)){var _n=at.width,or=at.height,ir=(0,nt.LM)(An);ir!=null&&ir.warning&&Wt({message:ir.warning,closable:!0});var mr=ir?ir.aspectRatio.w/ir.aspectRatio.h:1,yr=rn.get(at.id)!==at.link;(0,ht.DR)(at,un(un({},yr?{width:(ir==null?void 0:ir.type)==="video"?_n>or?_n:or*mr:_n,height:(ir==null?void 0:ir.type)==="video"&&_n>or?_n/mr:or}:{}),{},{validated:!0,link:An})),At.R.delete(at),rn.has(at.id)&&rn.delete(at.id)}else An&&Wt({message:(0,xt.t)("toast.unableToEmbed"),closable:!0}),at.link&&rn.set(at.id,at.link),(0,ht.DR)(at,{validated:!1,link:An}),At.R.delete(at)}else(0,ht.DR)(at,{link:An})}},[at,Wt,en.validateEmbeddable,Rt.activeEmbeddable,ct]);(0,St.useLayoutEffect)(function(){return function(){Zn()}},[Zn]),(0,St.useEffect)(function(){var An=null,On=function(_n){Hn||(An&&clearTimeout(An),Qn(at,Rt,[_n.clientX,_n.clientY])&&(An=window.setTimeout(function(){ct({showHyperlinkPopup:!1})},500)))};return window.addEventListener(sn.Ks.POINTER_MOVE,On,!1),function(){window.removeEventListener(sn.Ks.POINTER_MOVE,On,!1),An&&clearTimeout(An)}},[Rt,at,Hn,ct]);var Kn=(0,St.useCallback)(function(){(0,zt.L)("hyperlink","delete"),(0,ht.DR)(at,{link:null}),Hn&&(Vn.current.value=""),ct({showHyperlinkPopup:!1})},[ct,at,Hn]),qn=an(at,Rt),sr=qn.x,In=qn.y;return Rt.draggingElement||Rt.resizingElement||Rt.isRotating||Rt.openMenu||Rt.viewModeEnabled?null:(0,Tt.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(In,"px"),left:"".concat(sr,"px"),width:320,padding:5},onClick:function(){at.link||Hn||ct({showHyperlinkPopup:"editor"})},children:[Hn?(0,Tt.jsx)("input",{className:(0,Zt.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Vn,value:yn,onChange:function(An){return Wn(An.target.value)},autoFocus:!0,onKeyDown:function(An){An.stopPropagation(),An[Nt.tW.CTRL_OR_CMD]&&An.key===Nt.tW.K&&An.preventDefault(),An.key!==Nt.tW.ENTER&&An.key!==Nt.tW.ESCAPE||(Zn(),ct({showHyperlinkPopup:"info"}))}}):at.link?(0,Tt.jsx)("a",{href:(0,Ut.$u)(at.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,Ut.q$)(at.link)?"_self":"_blank",onClick:function(An){if(at.link&&mt){var On=(0,it.ag)(sn.Ks.EXCALIDRAW_LINK,An.nativeEvent);mt(un(un({},at),{},{link:(0,Ut.$u)(at.link)}),On),On.defaultPrevented&&An.preventDefault()}},rel:"noopener noreferrer",children:at.link}):(0,Tt.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,xt.t)("labels.link.empty")}),(0,Tt.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Hn&&(0,Tt.jsx)(st.V,{type:"button",title:(0,xt.t)("buttons.edit"),"aria-label":(0,xt.t)("buttons.edit"),label:(0,xt.t)("buttons.edit"),onClick:function(){(0,zt.L)("hyperlink","edit","popup-ui"),ct({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:tt.Pm}),Pt&&!(0,Ft.gs)(at)&&(0,Tt.jsx)(st.V,{type:"button",title:(0,xt.t)("buttons.remove"),"aria-label":(0,xt.t)("buttons.remove"),label:(0,xt.t)("buttons.remove"),onClick:Kn,className:"excalidraw-hyperlinkContainer--remove",icon:tt.XH})]})]})},an=function(tn,at){var ct=(0,qt.qf)(tn),mt=(0,ot.Z)(ct,2),Wt=mt[0],Rt=mt[1],en=(0,it._i)({sceneX:Wt+tn.width/2,sceneY:Rt},at),Pt=en.x,on=en.y;return{x:Pt-at.offsetLeft-160,y:on-at.offsetTop-85}},Cn=(0,Bt.z)({name:"hyperlink",perform:function(tn,at){return at.showHyperlinkPopup!=="editor"&&{elements:tn,appState:un(un({},at),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(tn){return tn[Nt.tW.CTRL_OR_CMD]&&tn.key===Nt.tW.K},contextItemLabel:function(tn,at){return kn(tn,at)},predicate:function(tn,at){return(0,pn.eD)(tn,at).length===1},PanelComponent:function(tn){var at=tn.elements,ct=tn.appState,mt=tn.updateData,Wt=(0,pn.eD)(at,ct);return(0,Tt.jsx)(st.V,{type:"button",icon:tt.xP,"aria-label":(0,xt.t)(kn(at,ct)),title:"".concat((0,Ft.gs)(at[0])?(0,xt.t)("labels.link.labelEmbed"):(0,xt.t)("labels.link.label")," - ").concat((0,it.uY)("CtrlOrCmd+K")),onClick:function(){return mt(null)},selected:Wt.length===1&&!!Wt[0].link})}}),kn=function(tn,at){var ct=(0,pn.eD)(tn,at);return ct[0].link?(0,Ft.gs)(ct[0])?"labels.link.editEmbed":"labels.link.edit":(0,Ft.gs)(ct[0])?"labels.link.createEmbed":"labels.link.create"},jn=function(tn,at,ct){var mt=(0,ot.Z)(tn,4),Wt=mt[0],Rt=mt[1],en=mt[2],Pt=mt[3],on=dt.Dn,Bn=on/ct.zoom.value,yn=on/ct.zoom.value,Wn=on/ct.zoom.value,Vn=(Wt+en)/2,Hn=(Rt+Pt)/2,Zn=(on-8)/(2*ct.zoom.value),Kn=4/ct.zoom.value,qn=en+Kn-Zn,sr=Rt-Kn-Wn+Zn,In=(0,Yt.U1)(qn+Bn/2,sr+yn/2,Vn,Hn,at),An=(0,ot.Z)(In,2);return[An[0]-Bn/2,An[1]-yn/2,Bn,yn]},Dn=function(tn,at,ct){var mt=(0,ot.Z)(ct,2),Wt=mt[0],Rt=mt[1],en=4/at.zoom.value,Pt=(0,qt.qf)(tn),on=(0,ot.Z)(Pt,4),Bn=on[0],yn=on[1],Wn=on[2],Vn=on[3],Hn=jn([Bn,yn,Wn,Vn],tn.angle,at),Zn=(0,ot.Z)(Hn,4),Kn=Zn[0],qn=Zn[1],sr=Zn[2],In=Zn[3];return Wt>Kn-en&&Wt<Kn+en+sr&&Rt>qn-en&&Rt<qn+In+en},Fn=function(tn,at,ct,mt){var Wt=(0,ot.Z)(ct,2),Rt=Wt[0],en=Wt[1];if(!tn.link||at.selectedElementIds[tn.id])return!1;var Pt=4/at.zoom.value;return!(mt||!at.viewModeEnabled||!(0,mn.pX)(tn,[Rt,en],Pt,null))||Dn(tn,at,[Rt,en])},vn=null,Gn=function(tn,at){vn&&clearTimeout(vn),vn=window.setTimeout(function(){return Sn(tn,at)},sn.sA)},Sn=function(tn,at){if(tn.link){var ct=(0,bn.bK)();ct.classList.add("excalidraw-tooltip--visible"),ct.style.maxWidth="20rem",ct.textContent=tn.link;var mt=(0,qt.qf)(tn),Wt=(0,ot.Z)(mt,4),Rt=Wt[0],en=Wt[1],Pt=Wt[2],on=Wt[3],Bn=jn([Rt,en,Pt,on],tn.angle,at),yn=(0,ot.Z)(Bn,4),Wn=yn[0],Vn=yn[1],Hn=yn[2],Zn=yn[3],Kn=(0,it._i)({sceneX:Wn,sceneY:Vn},at);(0,bn.Js)(ct,{left:Kn.x,top:Kn.y,width:Hn,height:Zn},"top"),(0,zt.L)("hyperlink","tooltip","link-icon"),hn=!0}},nn=function(){vn&&clearTimeout(vn),hn&&(hn=!1,(0,bn.bK)().classList.remove("excalidraw-tooltip--visible"))},Qn=function(tn,at,ct){var mt=(0,ot.Z)(ct,2),Wt=mt[0],Rt=mt[1],en=(0,it.dE)({clientX:Wt,clientY:Rt},at),Pt=en.x,on=en.y,Bn=15/at.zoom.value;if((0,mn.pX)(tn,[Pt,on],Bn,null))return!1;var yn=(0,qt.qf)(tn),Wn=(0,ot.Z)(yn,3),Vn=Wn[0],Hn=Wn[1],Zn=Wn[2];if(Pt>=Vn&&Pt<=Zn&&on>=Hn-85&&on<=Hn)return!1;var Kn=an(tn,at),qn=Kn.x,sr=Kn.y;return!(Wt>=qn-Bn&&Wt<=qn+320+10+Bn&&Rt>=sr-Bn&&Rt<=sr+Bn+10+42)}},9645:function($t,Vt,_){_.d(Vt,{$q:function(){return un},DK:function(){return Ot},H:function(){return Gt},HG:function(){return bn},N1:function(){return Yt},R:function(){return Ut},UZ:function(){return Kt},Ww:function(){return ft},Y9:function(){return Xt},ZB:function(){return pt},cz:function(){return dt},ek:function(){return Tt},el:function(){return mn}});var Et=_(7169),ot=_(2577),it=_(4105),nt=_(4183),ht=_(3528),Bt=_(583),st=_(457),tt=_(7422),xt=_(9827),St=_(5491),Zt=_(4761);function Nt(rn,Mt){var an=Object.keys(rn);if(Object.getOwnPropertySymbols){var Cn=Object.getOwnPropertySymbols(rn);Mt&&(Cn=Cn.filter(function(kn){return Object.getOwnPropertyDescriptor(rn,kn).enumerable})),an.push.apply(an,Cn)}return an}var dt=function(rn){return!rn[St.tW.CTRL_OR_CMD]},Yt=function(rn){return rn.isBindingEnabled},sn=function(rn,Mt){var an=[];return Mt.forEach(function(Cn){var kn=rn.getNonDeletedElement(Cn);kn!=null&&an.push(kn)}),an},bn=function(rn,Mt,an){var Cn=new Set,kn=new Set;pn(rn,Mt,an,"start",Cn,kn),pn(rn,an,Mt,"end",Cn,kn);var jn=Array.from(kn).filter(function(Dn){return!Cn.has(Dn)});sn(st.Z.getScene(rn),jn).forEach(function(Dn){var Fn;(0,Bt.DR)(Dn,{boundElements:(Fn=Dn.boundElements)===null||Fn===void 0?void 0:Fn.filter(function(vn){return vn.type!=="arrow"||vn.id!==rn.id})})})},pn=function(rn,Mt,an,Cn,kn,jn){if(Mt!=="keep")if(Mt!=null)an!=null&&(an==="keep"?yt(rn,Mt,Cn):Cn!=="start"&&an.id===Mt.id)||(Kt(rn,Mt,Cn),kn.add(Mt.id));else{var Dn=Ct(rn,Cn);Dn!=null&&jn.add(Dn)}},mn=function(rn){rn.forEach(function(Mt){(0,nt.Mn)(Mt)?bn(Mt,zt(Mt,"start"),zt(Mt,"end")):(0,nt.f0)(Mt)&&qt(Mt)})},qt=function(rn){Ft(rn).forEach(function(Mt){var an=(0,ot.Z)(Mt,2),Cn=an[0],kn=an[1];return bn(Cn,kn==="end"?"keep":rn,kn==="start"?"keep":rn)})},Ut=function(rn,Mt,an,Cn){Mt.startBoundElement!=null&&Kt(rn,Mt.startBoundElement,"start");var kn=Xt(Cn,an);kn==null||yt(rn,kn,"end")||Kt(rn,kn,"end")},Kt=function(rn,Mt,an){(0,Bt.DR)(rn,(0,Et.Z)({},an==="start"?"startBinding":"endBinding",function(Cn){for(var kn=1;kn<arguments.length;kn++){var jn=arguments[kn]!=null?arguments[kn]:{};kn%2?Nt(Object(jn),!0).forEach(function(Dn){(0,Et.Z)(Cn,Dn,jn[Dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Cn,Object.getOwnPropertyDescriptors(jn)):Nt(Object(jn)).forEach(function(Dn){Object.defineProperty(Cn,Dn,Object.getOwnPropertyDescriptor(jn,Dn))})}return Cn}({elementId:Mt.id},ut(rn,Mt,an)))),(0,xt.xn)(Mt.boundElements||[]).has(rn.id)||(0,Bt.DR)(Mt,{boundElements:(Mt.boundElements||[]).concat({id:rn.id,type:"arrow"})})},yt=function(rn,Mt,an){var Cn=rn[an==="start"?"endBinding":"startBinding"];return Ot(rn,Cn==null?void 0:Cn.elementId,Mt)},Ot=function(rn,Mt,an){return Mt===an.id&&rn.points.length<3},Gt=function(rn){rn.forEach(function(Mt){(0,nt.Mn)(Mt)&&bn(Mt,null,null)})},Ct=function(rn,Mt){var an=Mt==="start"?"startBinding":"endBinding",Cn=rn[an];return Cn==null?null:((0,Bt.DR)(rn,(0,Et.Z)({},an,null)),Cn.elementId)},Xt=function(rn,Mt){return(0,it.QG)(Mt.getNonDeletedElements(),function(an){return(0,nt.f0)(an,!1)&&(0,ht.uu)(an,rn)})},ut=function(rn,Mt,an){var Cn=an==="start"?-1:1,kn=Cn===-1?0:rn.points.length-1,jn=kn-Cn,Dn=tt._.getPointAtIndexGlobalCoordinates(rn,kn),Fn=tt._.getPointAtIndexGlobalCoordinates(rn,jn);return{focus:(0,ht.T_)(Mt,Fn,Dn),gap:Math.max(1,(0,ht.oT)(Mt,Dn))}},ft=function(rn,Mt){var an,Cn=((an=rn.boundElements)!==null&&an!==void 0?an:[]).filter(function(vn){return vn.type==="arrow"});if(Cn.length!==0){var kn=Mt??{},jn=kn.newSize,Dn=kn.simultaneouslyUpdated,Fn=wt(Dn);sn(st.Z.getScene(rn),Cn.map(function(vn){return vn.id})).forEach(function(vn){if((0,nt.bt)(vn)){var Gn=rn;if($(vn,Gn)){var Sn=lt(Gn,vn.startBinding,jn),nn=lt(Gn,vn.endBinding,jn);Fn.has(vn.id)?(0,Bt.DR)(vn,{startBinding:Sn,endBinding:nn}):(gt(vn,"start",Sn,rn),gt(vn,"end",nn,rn),(0,Zt.WJ)(vn)&&(0,Zt.RB)(vn,!1))}}})}},$=function(rn,Mt){var an,Cn;return((an=rn.startBinding)===null||an===void 0?void 0:an.elementId)===Mt.id||((Cn=rn.endBinding)===null||Cn===void 0?void 0:Cn.elementId)===Mt.id},wt=function(rn){return new Set((rn||[]).map(function(Mt){return Mt.id}))},gt=function(rn,Mt,an,Cn){if(!(an==null||an.elementId!==Cn.id&&rn.points.length>2)){var kn=st.Z.getScene(rn).getElement(an.elementId);if(kn!=null){var jn,Dn=Mt==="start"?-1:1,Fn=Dn===-1?0:rn.points.length-1,vn=Fn-Dn,Gn=tt._.getPointAtIndexGlobalCoordinates(rn,vn),Sn=(0,ht.j_)(kn,an.focus,Gn);if(an.gap===0)jn=Sn;else{var nn=(0,ht.MZ)(kn,Gn,Sn,an.gap);jn=nn.length===0?Sn:nn[0]}tt._.movePoints(rn,[{index:Fn,point:tt._.pointFromAbsoluteCoords(rn,jn)}],(0,Et.Z)({},Mt==="start"?"startBinding":"endBinding",an))}}},lt=function(rn,Mt,an){if(Mt==null||an==null)return Mt;var Cn=Mt.gap,kn=Mt.focus,jn=Mt.elementId,Dn=an.width,Fn=an.height,vn=rn.width,Gn=rn.height;return{elementId:jn,gap:Math.max(1,Math.min((0,ht.fb)(rn,Dn,Fn),Cn*(Dn<Fn?Dn/vn:Fn/Gn))),focus:kn}},pt=function(rn){var Mt=new Set(rn.map(function(an){return an.id}));return rn.flatMap(function(an){return(0,nt.Mn)(an,!1)?vt(an).filter(function(Cn){return!Mt.has(Cn.id)}):(0,nt.f0)(an,!1)?Ft(an).filter(function(Cn){return!Mt.has(Cn[0].id)}):[]})},vt=function(rn){return[zt(rn,"start"),zt(rn,"end")].filter(function(Mt){return Mt!=null})},zt=function(rn,Mt){return Xt(Qt(rn,Mt),st.Z.getScene(rn))},Qt=function(rn,Mt){var an=Mt==="start"?0:-1;return(0,xt.AK)(tt._.getPointAtIndexGlobalCoordinates(rn,an))},Ft=function(rn){return st.Z.getScene(rn).getNonDeletedElements().map(function(Mt){if(!(0,nt.Mn)(Mt,!1))return null;var an=At(Mt,"start",rn),Cn=At(Mt,"end",rn);return an||Cn?[Mt,an&&Cn?"both":an?"start":"end",rn]:null}).filter(function(Mt){return Mt!=null})},At=function(rn,Mt,an){return rn[Mt==="start"?"startBinding":"endBinding"]==null&&!yt(rn,an,Mt)&&(0,ht.uu)(an,Qt(rn,Mt))},Tt=function(rn,Mt,an,Cn){var kn=new Set,jn=new Set,Dn=Cn==="duplicatesServeAsOld";Mt.forEach(function(Fn){var vn=Fn.boundElements;if(vn!=null&&vn.length>0&&(vn.forEach(function(nn){Dn&&!an.has(nn.id)&&kn.add(nn.id)}),jn.add(an.get(Fn.id))),(0,nt.Mn)(Fn)){if(Fn.startBinding!=null){var Gn=Fn.startBinding.elementId;Dn&&!an.has(Gn)&&jn.add(Gn)}if(Fn.endBinding!=null){var Sn=Fn.endBinding.elementId;Dn&&!an.has(Sn)&&jn.add(Sn)}Fn.startBinding==null&&Fn.endBinding==null||kn.add(an.get(Fn.id))}}),rn.filter(function(Fn){var vn=Fn.id;return kn.has(vn)}).forEach(function(Fn){var vn=Fn.startBinding,Gn=Fn.endBinding;(0,Bt.DR)(Fn,{startBinding:jt(vn,an),endBinding:jt(Gn,an)})}),rn.filter(function(Fn){var vn=Fn.id;return jn.has(vn)}).forEach(function(Fn){var vn=Fn.boundElements;vn!=null&&vn.length>0&&(0,Bt.DR)(Fn,{boundElements:vn.map(function(Gn){return an.has(Gn.id)?{id:an.get(Gn.id),type:Gn.type}:Gn})})})},jt=function(rn,Mt){var an;if(rn==null)return null;var Cn=rn.elementId;return{focus:rn.focus,gap:rn.gap,elementId:(an=Mt.get(Cn))!==null&&an!==void 0?an:Cn}},un=function(rn,Mt){var an=new Set(Mt.map(function(kn){return kn.id})),Cn=new Set;Mt.forEach(function(kn){var jn;(0,nt.f0)(kn)?(jn=kn.boundElements)===null||jn===void 0||jn.forEach(function(Dn){an.has(Dn.id)||Cn.add(Dn.id)}):(0,nt.Mn)(kn)&&(kn.startBinding&&Cn.add(kn.startBinding.elementId),kn.endBinding&&Cn.add(kn.endBinding.elementId))}),rn.filter(function(kn){var jn=kn.id;return Cn.has(jn)}).forEach(function(kn){(0,nt.f0)(kn)?(0,Bt.DR)(kn,{boundElements:hn(kn.boundElements,an)}):(0,nt.Mn)(kn)&&(0,Bt.DR)(kn,{startBinding:Jt(kn.startBinding,an),endBinding:Jt(kn.endBinding,an)})})},Jt=function(rn,Mt){return rn==null||Mt.has(rn.elementId)?null:rn},hn=function(rn,Mt){return rn?rn.filter(function(an){return!Mt.has(an.id)}):null}},4949:function($t,Vt,_){_.d(Vt,{CM:function(){return Kt},GJ:function(){return mn},IX:function(){return Gt},KP:function(){return wt},M$:function(){return qt},Pi:function(){return $},UC:function(){return Ut},Ut:function(){return pt},Y5:function(){return ut},hC:function(){return gt},os:function(){return vt},qf:function(){return pn},v2:function(){return zt},wC:function(){return lt}});var Et=_(1930),ot=_(2577),it=_(8821),nt=_(5169),ht=_(2361),Bt=_(9845),st=_(6049),tt=_(4183),xt=_(5999),St=_(4761),Zt=_(7422),Nt=_(2921),dt=_(457);function Yt(Qt,Ft){var At=typeof Symbol<"u"&&Qt[Symbol.iterator]||Qt["@@iterator"];if(!At){if(Array.isArray(Qt)||(At=function(rn,Mt){if(rn){if(typeof rn=="string")return sn(rn,Mt);var an=Object.prototype.toString.call(rn).slice(8,-1);if(an==="Object"&&rn.constructor&&(an=rn.constructor.name),an==="Map"||an==="Set")return Array.from(rn);if(an==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(an))return sn(rn,Mt)}}(Qt))||Ft){At&&(Qt=At);var Tt=0,jt=function(){};return{s:jt,n:function(){return Tt>=Qt.length?{done:!0}:{done:!1,value:Qt[Tt++]}},e:function(rn){throw rn},f:jt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var un,Jt=!0,hn=!1;return{s:function(){At=At.call(Qt)},n:function(){var rn=At.next();return Jt=rn.done,rn},e:function(rn){hn=!0,un=rn},f:function(){try{Jt||At.return==null||At.return()}finally{if(hn)throw un}}}}function sn(Qt,Ft){(Ft==null||Ft>Qt.length)&&(Ft=Qt.length);for(var At=0,Tt=new Array(Ft);At<Ft;At++)Tt[At]=Qt[At];return Tt}var bn=function(){function Qt(){(0,it.Z)(this,Qt)}return(0,nt.Z)(Qt,null,[{key:"getBounds",value:function(Ft){var At=Qt.boundsCache.get(Ft);if(At!=null&&At.version&&At.version===Ft.version&&!(0,tt.Xh)(Ft))return At.bounds;var Tt=Qt.calculateBounds(Ft);return dt.Z.getScene(Ft)&&Qt.boundsCache.set(Ft,{version:Ft.version,bounds:Tt}),Tt}},{key:"calculateBounds",value:function(Ft){var At,Tt=pn(Ft),jt=(0,ot.Z)(Tt,6),un=jt[0],Jt=jt[1],hn=jt[2],rn=jt[3],Mt=jt[4],an=jt[5];if((0,tt.F9)(Ft)){var Cn=Ct(Ft.points.map(function(Qr){var Ir=(0,ot.Z)(Qr,2),xr=Ir[0],pr=Ir[1];return(0,ht.U1)(xr,pr,Mt-Ft.x,an-Ft.y,Ft.angle)})),kn=(0,ot.Z)(Cn,4),jn=kn[0],Dn=kn[1],Fn=kn[2],vn=kn[3];return[jn+Ft.x,Dn+Ft.y,Fn+Ft.x,vn+Ft.y]}if((0,tt.bt)(Ft))At=ft(Ft,Mt,an);else if(Ft.type==="diamond"){var Gn=(0,ht.U1)(Mt,Jt,Mt,an,Ft.angle),Sn=(0,ot.Z)(Gn,2),nn=Sn[0],Qn=Sn[1],tn=(0,ht.U1)(Mt,rn,Mt,an,Ft.angle),at=(0,ot.Z)(tn,2),ct=at[0],mt=at[1],Wt=(0,ht.U1)(un,an,Mt,an,Ft.angle),Rt=(0,ot.Z)(Wt,2),en=Rt[0],Pt=Rt[1],on=(0,ht.U1)(hn,an,Mt,an,Ft.angle),Bn=(0,ot.Z)(on,2),yn=Bn[0],Wn=Bn[1];At=[Math.min(nn,ct,en,yn),Math.min(Qn,mt,Pt,Wn),Math.max(nn,ct,en,yn),Math.max(Qn,mt,Pt,Wn)]}else if(Ft.type==="ellipse"){var Vn=(hn-un)/2,Hn=(rn-Jt)/2,Zn=Math.cos(Ft.angle),Kn=Math.sin(Ft.angle),qn=Math.hypot(Vn*Zn,Hn*Kn),sr=Math.hypot(Hn*Zn,Vn*Kn);At=[Mt-qn,an-sr,Mt+qn,an+sr]}else{var In=(0,ht.U1)(un,Jt,Mt,an,Ft.angle),An=(0,ot.Z)(In,2),On=An[0],_n=An[1],or=(0,ht.U1)(un,rn,Mt,an,Ft.angle),ir=(0,ot.Z)(or,2),mr=ir[0],yr=ir[1],cr=(0,ht.U1)(hn,rn,Mt,an,Ft.angle),Ur=(0,ot.Z)(cr,2),Wr=Ur[0],Xr=Ur[1],wr=(0,ht.U1)(hn,Jt,Mt,an,Ft.angle),Jr=(0,ot.Z)(wr,2),Kr=Jr[0],rr=Jr[1];At=[Math.min(On,mr,Wr,Kr),Math.min(_n,yr,Xr,rr),Math.max(On,mr,Wr,Kr),Math.max(_n,yr,Xr,rr)]}return At}}]),Qt}();bn.boundsCache=new WeakMap;var pn=function(Qt){var Ft=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,tt.F9)(Qt))return Xt(Qt);if((0,tt.bt)(Qt))return Zt._.getElementAbsoluteCoords(Qt,Ft);if((0,tt.iB)(Qt)){var At=(0,St.tl)(Qt);if((0,tt.Yv)(At)){var Tt=Zt._.getBoundTextElementPosition(At,Qt);return[Tt.x,Tt.y,Tt.x+Qt.width,Tt.y+Qt.height,Tt.x+Qt.width/2,Tt.y+Qt.height/2]}}return[Qt.x,Qt.y,Qt.x+Qt.width,Qt.y+Qt.height,Qt.x+Qt.width/2,Qt.y+Qt.height/2]},mn=function(Qt){var Ft=pn(Qt),At=(0,ot.Z)(Ft,6),Tt=At[0],jt=At[1],un=At[2],Jt=At[3],hn=At[4],rn=At[5],Mt=[hn,rn];if((0,tt.bt)(Qt)||(0,tt.F9)(Qt)){for(var an=[],Cn=0;Cn<Qt.points.length-1;)an.push([(0,ht.xj)([Qt.points[Cn][0]+Qt.x,Qt.points[Cn][1]+Qt.y],Mt,Qt.angle),(0,ht.xj)([Qt.points[Cn+1][0]+Qt.x,Qt.points[Cn+1][1]+Qt.y],Mt,Qt.angle)]),Cn++;return an}var kn=[[Tt,jt],[un,jt],[Tt,Jt],[un,Jt],[hn,jt],[hn,Jt],[Tt,rn],[un,rn]].map(function(at){return(0,ht.xj)(at,Mt,Qt.angle)}),jn=(0,ot.Z)(kn,8),Dn=jn[0],Fn=jn[1],vn=jn[2],Gn=jn[3],Sn=jn[4],nn=jn[5],Qn=jn[6],tn=jn[7];return Qt.type==="diamond"?[[Sn,Qn],[Sn,tn],[nn,Qn],[nn,tn]]:Qt.type==="ellipse"?[[Sn,Qn],[Sn,tn],[nn,Qn],[nn,tn],[Sn,Qn],[Sn,tn],[nn,Qn],[nn,tn]]:[[Dn,Fn],[vn,Gn],[Dn,vn],[Fn,Gn],[Dn,tn],[vn,tn],[Fn,Qn],[Gn,Qn]]},qt=function(Qt){return[Qt.x,Qt.y,Qt.x+Qt.width,Qt.y+Qt.height,Qt.x+Qt.width/2,Qt.y+Qt.height/2]},Ut=function(Qt){var Ft=Math.floor(Qt.width/2)+1,At=Qt.width,Tt=Math.floor(Qt.height/2)+1;return[Ft,0,At,Tt,Ft,Qt.height,0,Tt]},Kt=function(Qt){var Ft,At=Yt(Qt.sets);try{for(At.s();!(Ft=At.n()).done;){var Tt=Ft.value;if(Tt.type==="path")return Tt.ops}}catch(jt){At.e(jt)}finally{At.f()}return Qt.sets[0].ops},yt=function(Qt,Ft,At,Tt,jt){var un=1-Qt;return Math.pow(un,3)*Ft+3*Math.pow(un,2)*Qt*At+3*un*Math.pow(Qt,2)*Tt+Math.pow(Qt,3)*jt},Ot=function(Qt,Ft,At,Tt){var jt=Ft-Qt,un=At-Ft,Jt=3*jt-6*un+3*(Tt-At),hn=6*un-6*jt,rn=3*jt,Mt=hn*hn-4*Jt*rn;if(!(Mt>=0))return!1;var an=null,Cn=null,kn=1/0,jn=1/0;return Jt===0?kn=jn=-rn/hn:(kn=(-hn+Math.sqrt(Mt))/(2*Jt),jn=(-hn-Math.sqrt(Mt))/(2*Jt)),kn>=0&&kn<=1&&(an=yt(kn,Qt,Ft,At,Tt)),jn>=0&&jn<=1&&(Cn=yt(jn,Qt,Ft,At,Tt)),[an,Cn]},Gt=function(Qt,Ft){var At=[0,0],Tt=Qt.reduce(function(jt,un){var Jt=un.op,hn=un.data;if(Jt==="move")At=hn;else if(Jt==="bcurveTo"){var rn=[hn[0],hn[1]],Mt=[hn[2],hn[3]],an=[hn[4],hn[5]],Cn=Ft?Ft.apply(void 0,rn):rn,kn=Ft?Ft.apply(void 0,Mt):Mt,jn=Ft?Ft.apply(void 0,an):an,Dn=Ft?Ft.apply(void 0,(0,Et.Z)(At)):At;At=an;var Fn=function(tn,at,ct,mt){var Wt=Ot(tn[0],at[0],ct[0],mt[0]),Rt=Ot(tn[1],at[1],ct[1],mt[1]),en=Math.min(tn[0],mt[0]),Pt=Math.max(tn[0],mt[0]);if(Wt){var on=Wt.filter(function(Vn){return Vn!==null});en=Math.min.apply(Math,[en].concat((0,Et.Z)(on))),Pt=Math.max.apply(Math,[Pt].concat((0,Et.Z)(on)))}var Bn=Math.min(tn[1],mt[1]),yn=Math.max(tn[1],mt[1]);if(Rt){var Wn=Rt.filter(function(Vn){return Vn!==null});Bn=Math.min.apply(Math,[Bn].concat((0,Et.Z)(Wn))),yn=Math.max.apply(Math,[yn].concat((0,Et.Z)(Wn)))}return[en,Bn,Pt,yn]}(Dn,Cn,kn,jn),vn=(0,ot.Z)(Fn,4),Gn=vn[0],Sn=vn[1],nn=vn[2],Qn=vn[3];jt.minX=Math.min(jt.minX,Gn),jt.minY=Math.min(jt.minY,Sn),jt.maxX=Math.max(jt.maxX,nn),jt.maxY=Math.max(jt.maxY,Qn)}return jt},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Tt.minX,Tt.minY,Tt.maxX,Tt.maxY]},Ct=function(Qt){var Ft,At=1/0,Tt=1/0,jt=-1/0,un=-1/0,Jt=Yt(Qt);try{for(Jt.s();!(Ft=Jt.n()).done;){var hn=(0,ot.Z)(Ft.value,2),rn=hn[0],Mt=hn[1];At=Math.min(At,rn),Tt=Math.min(Tt,Mt),jt=Math.max(jt,rn),un=Math.max(un,Mt)}}catch(an){Jt.e(an)}finally{Jt.f()}return[At,Tt,jt,un]},Xt=function(Qt){var Ft=Ct(Qt.points),At=(0,ot.Z)(Ft,4),Tt=At[0],jt=At[1],un=At[2],Jt=At[3],hn=Tt+Qt.x,rn=jt+Qt.y,Mt=un+Qt.x,an=Jt+Qt.y;return[hn,rn,Mt,an,(hn+Mt)/2,(rn+an)/2]},ut=function(Qt,Ft,At,Tt){var jt=Kt(Ft[0]);if(jt.length<1)return null;var un=At==="start"?1:jt.length-1,Jt=jt[un].data,hn=[Jt[4],Jt[5]],rn=[Jt[2],Jt[3]],Mt=[Jt[0],Jt[1]],an=jt[un-1],Cn=[0,0];an.op==="move"?Cn=an.data:an.op==="bcurveTo"&&(Cn=[an.data[4],an.data[5]]);var kn=function(Xr,wr){return Math.pow(1-Xr,3)*hn[wr]+3*Xr*Math.pow(1-Xr,2)*rn[wr]+3*Math.pow(Xr,2)*(1-Xr)*Mt[wr]+Cn[wr]*Math.pow(Xr,3)},jn=At==="start"?Cn:hn,Dn=(0,ot.Z)(jn,2),Fn=Dn[0],vn=Dn[1],Gn=[kn(.3,0),kn(.3,1)],Sn=Gn[0],nn=Gn[1],Qn=Math.hypot(Fn-Sn,vn-nn),tn=(Fn-Sn)/Qn,at=(vn-nn)/Qn,ct={arrow:30,bar:15,dot:15,triangle:15}[Tt],mt=0;if(Tt==="arrow"){var Wt=(0,ot.Z)(Qt.points[Qt.points.length-1],2),Rt=Wt[0],en=Wt[1],Pt=Qt.points.length>1?Qt.points[Qt.points.length-2]:[0,0],on=(0,ot.Z)(Pt,2),Bn=on[0],yn=on[1];mt=Math.hypot(Rt-Bn,en-yn)}else for(var Wn=0;Wn<Qt.points.length;Wn++){var Vn=Qt.points[Wn-1]||[0,0],Hn=(0,ot.Z)(Vn,2),Zn=Hn[0],Kn=Hn[1],qn=(0,ot.Z)(Qt.points[Wn],2),sr=qn[0],In=qn[1];mt+=Math.hypot(sr-Zn,In-Kn)}var An=Math.min(ct,mt/2),On=Fn-tn*An,_n=vn-at*An;if(Tt==="dot")return[Fn,vn,Math.hypot(_n-vn,On-Fn)+Qt.strokeWidth];var or={arrow:20,bar:90,triangle:25}[Tt],ir=(0,ht.U1)(On,_n,Fn,vn,-or*Math.PI/180),mr=(0,ot.Z)(ir,2),yr=mr[0],cr=mr[1],Ur=(0,ht.U1)(On,_n,Fn,vn,or*Math.PI/180),Wr=(0,ot.Z)(Ur,2);return[Fn,vn,yr,cr,Wr[0],Wr[1]]},ft=function(Qt,Ft,At){var Tt;if(Qt.points.length<2){var jt=(0,ot.Z)(Qt.points[0],2),un=jt[0],Jt=jt[1],hn=(0,ht.U1)(Qt.x+un,Qt.y+Jt,Ft,At,Qt.angle),rn=(0,ot.Z)(hn,2),Mt=rn[0],an=rn[1],Cn=[Mt,an,Mt,an],kn=(0,St.WJ)(Qt);if(kn){var jn=Zt._.getMinMaxXYWithBoundText(Qt,[Mt,an,Mt,an],kn);Cn=[jn[0],jn[1],jn[2],jn[3]]}return Cn}var Dn=(Tt=Nt.R.get(Qt))===null||Tt===void 0?void 0:Tt[0],Fn=Dn??function(tn){var at=Bt.Z.generator(),ct=(0,st.Z)(tn);return at[tn.roundness?"curve":ct.fill?"polygon":"linearPath"](tn.points,ct)}(Qt),vn=Kt(Fn),Gn=Gt(vn,function(tn,at){return(0,ht.U1)(Qt.x+tn,Qt.y+at,Ft,At,Qt.angle)}),Sn=[Gn[0],Gn[1],Gn[2],Gn[3]],nn=(0,St.WJ)(Qt);if(nn){var Qn=Zt._.getMinMaxXYWithBoundText(Qt,Sn,nn);Sn=[Qn[0],Qn[1],Qn[2],Qn[3]]}return Sn},$=function(Qt){return bn.getBounds(Qt)},wt=function(Qt){if(!Qt.length)return[0,0,0,0];var Ft=1/0,At=-1/0,Tt=1/0,jt=-1/0;return Qt.forEach(function(un){var Jt=$(un),hn=(0,ot.Z)(Jt,4),rn=hn[0],Mt=hn[1],an=hn[2],Cn=hn[3];Ft=Math.min(Ft,rn),Tt=Math.min(Tt,Mt),At=Math.max(At,an),jt=Math.max(jt,Cn)}),[Ft,Tt,At,jt]},gt=function(Qt,Ft){var At=wt(Qt),Tt=(0,ot.Z)(At,4),jt=Tt[0],un=Tt[1],Jt=Tt[2],hn=Tt[3];return[jt+Ft.x,un+Ft.y,Jt+Ft.x,hn+Ft.y]},lt=function(Qt,Ft,At,Tt){if(!(0,tt.bt)(Qt)&&!(0,tt.F9)(Qt))return[Qt.x,Qt.y,Qt.x+Ft,Qt.y+At];var jt,un=(0,xt.z)(0,Ft,(0,xt.z)(1,At,Qt.points,Tt),Tt);if((0,tt.F9)(Qt))jt=Ct(un);else{var Jt=Bt.Z.generator(),hn=Qt.roundness?Jt.curve(un,(0,st.Z)(Qt)):Jt.linearPath(un,(0,st.Z)(Qt)),rn=Kt(hn);jt=Gt(rn)}var Mt=jt,an=(0,ot.Z)(Mt,4),Cn=an[0],kn=an[1],jn=an[2],Dn=an[3];return[Cn+Qt.x,kn+Qt.y,jn+Qt.x,Dn+Qt.y]},pt=function(Qt,Ft){var At=Bt.Z.generator(),Tt=Qt.roundness==null?At.linearPath(Ft,(0,st.Z)(Qt)):At.curve(Ft,(0,st.Z)(Qt)),jt=Kt(Tt),un=Gt(jt),Jt=(0,ot.Z)(un,4),hn=Jt[0],rn=Jt[1],Mt=Jt[2],an=Jt[3];return[hn+Qt.x,rn+Qt.y,Mt+Qt.x,an+Qt.y]},vt=function(Qt,Ft){if(!Qt.length)return[0,0,0,0];var At=1/0,Tt=Qt[0];return Qt.forEach(function(jt){var un=$(jt),Jt=(0,ot.Z)(un,4),hn=Jt[0],rn=Jt[1],Mt=Jt[2],an=Jt[3],Cn=(0,ht.LW)((hn+Mt)/2,(rn+an)/2,Ft.x,Ft.y);Cn<At&&(At=Cn,Tt=jt)}),$(Tt)},zt=function(Qt){var Ft=wt(Qt),At=(0,ot.Z)(Ft,4),Tt=At[0],jt=At[1],un=At[2],Jt=At[3];return{minX:Tt,minY:jt,maxX:un,maxY:Jt,width:un-Tt,height:Jt-jt,midX:(Tt+un)/2,midY:(jt+Jt)/2}}},3528:function($t,Vt,_){_.d(Vt,{uu:function(){return hn},T_:function(){return Rt},j_:function(){return en},oT:function(){return an},wX:function(){return At},MZ:function(){return Pt},wB:function(){return Tt},Qu:function(){return jt},pX:function(){return Jt},fb:function(){return rn}});var Et=_(2577),ot=function(In,An){return[0,0,0,0,An,In,1,0]},it=function(In,An){return[0,0,0,0,An,In,0,0]},nt=function(){var In=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,On=[0,0,0,0,0,0,0,0];if(An<0||An>7)throw new Error("Expected `index` between 0 and 7, got `".concat(An,"`"));return In!==0&&(On[An]=In),On},ht=function(In){return[In[0],In[1],In[2],In[3],-In[4],-In[5],-In[6],-In[7]]},Bt=function(In,An){return Yt(An)?[In[0]-An,In[1],In[2],In[3],In[4],In[5],In[6],In[7]]:[In[0]-An[0],In[1]-An[1],In[2]-An[2],In[3]-An[3],In[4]-An[4],In[5]-An[5],In[6]-An[6],In[7]-An[7]]},st=function(In,An){return Yt(An)?[In[0]*An,In[1]*An,In[2]*An,In[3]*An,In[4]*An,In[5]*An,In[6]*An,In[7]*An]:[tt(In,An),An[1]*In[0]+An[0]*In[1]-An[4]*In[2]+An[5]*In[3]+An[2]*In[4]-An[3]*In[5]-An[7]*In[6]-An[6]*In[7],An[2]*In[0]+An[0]*In[2]-An[6]*In[3]+An[3]*In[6],An[3]*In[0]+An[6]*In[2]+An[0]*In[3]-An[2]*In[6],An[4]*In[0]+An[2]*In[1]-An[1]*In[2]+An[7]*In[3]+An[0]*In[4]+An[6]*In[5]-An[5]*In[6]+An[3]*In[7],An[5]*In[0]-An[3]*In[1]+An[7]*In[2]+An[1]*In[3]-An[6]*In[4]+An[0]*In[5]+An[4]*In[6]+An[2]*In[7],An[6]*In[0]+An[3]*In[2]-An[2]*In[3]+An[0]*In[6],An[7]*In[0]+An[6]*In[1]+An[5]*In[2]+An[4]*In[3]+An[3]*In[4]+An[2]*In[5]+An[1]*In[6]+An[0]*In[7]]},tt=function(In,An){return An[0]*In[0]+An[2]*In[2]+An[3]*In[3]-An[6]*In[6]},xt=function(In,An){return[St(In,An),In[1]*An[7]+In[4]*An[5]-In[5]*An[4]+In[7]*An[1],In[2]*An[7]-In[4]*An[6]+In[6]*An[4]+In[7]*An[2],In[3]*An[7]+In[5]*An[6]-In[6]*An[5]+In[7]*An[3],In[4]*An[7]+In[7]*An[4],In[5]*An[7]+In[7]*An[5],In[6]*An[7]+In[7]*An[6],In[7]*An[7]]},St=function(In,An){return In[0]*An[7]+In[1]*An[6]+In[2]*An[5]+In[3]*An[4]+In[4]*An[3]+In[5]*An[2]+In[6]*An[1]+In[7]*An[0]},Zt=function(In){return Math.sqrt(Math.abs(In[0]*In[0]-In[2]*In[2]-In[3]*In[3]+In[6]*In[6]))},Nt=function(In){var An=Zt(In);if(An===0||An===1)return In;var On=In[6]<0?-1:1;return st(In,On/An)},dt=function(In){var An=function(On){return Math.sqrt(Math.abs(On[7]*On[7]-On[5]*On[5]-On[4]*On[4]+On[1]*On[1]))}(In);return An===0||An===1?In:st(In,1/An)},Yt=function(In){return typeof In=="number"},sn=(nt(1,1),nt(1,2),nt(1,3),nt(1,4),nt(1,5),nt(1,6),nt(1,7),function(In,An,On){return Nt([0,On,In,An,0,0,0,0])}),bn=function(In,An){return Nt(xt(An,In))},pn=function(In,An){return On=In,[(_n=An)[0]*On[0]+_n[2]*On[2]+_n[3]*On[3]-_n[6]*On[6],_n[1]*On[0]+_n[0]*On[1]-_n[4]*On[2]+_n[5]*On[3]+_n[2]*On[4]-_n[3]*On[5]-_n[7]*On[6]-_n[6]*On[7],_n[2]*On[0]+_n[0]*On[2]-_n[6]*On[3]+_n[3]*On[6],_n[3]*On[0]+_n[6]*On[2]+_n[0]*On[3]-_n[2]*On[6],_n[4]*On[0]+_n[7]*On[3]+_n[0]*On[4]+_n[3]*On[7],_n[5]*On[0]+_n[7]*On[2]+_n[0]*On[5]+_n[2]*On[7],_n[6]*On[0]+_n[0]*On[6],_n[7]*On[0]+_n[0]*On[7]];var On,_n},mn=function(In){var An=(0,Et.Z)(In,2),On=An[0];return[0,0,0,0,An[1],On,1,0]},qt=function(In){return[In[5],In[4]]},Ut=function(In){return[0,0,0,0,Math.abs(In[4]),Math.abs(In[5]),1,0]},Kt=function(In,An){return Nt((On=In,[(_n=An)[0]*On[0],_n[1]*On[0]+_n[0]*On[1],_n[2]*On[0]+_n[0]*On[2],_n[3]*On[0]+_n[0]*On[3],_n[4]*On[0]+_n[2]*On[1]-_n[1]*On[2]+_n[0]*On[4],_n[5]*On[0]-_n[3]*On[1]+_n[1]*On[3]+_n[0]*On[5],_n[6]*On[0]+_n[3]*On[2]-_n[2]*On[3]+_n[0]*On[6],_n[7]*On[0]+_n[6]*On[1]+_n[5]*On[2]+_n[4]*On[3]+_n[3]*On[4]+_n[2]*On[5]+_n[1]*On[6]]));var On,_n},yt=function(In,An){return Zt(xt(In,An))},Ot=function(In,An){return St(In,An)},Gt=function(In){return[0,0,0,0,In[4],In[5],0,0]},Ct=function(In,An){return On=st(In,Math.sin(An/2)),_n=Math.cos(An/2),Yt(_n)?[On[0]+_n,On[1],On[2],On[3],On[4],On[5],On[6],On[7]]:[On[0]+_n[0],On[1]+_n[1],On[2]+_n[2],On[3]+_n[3],On[4]+_n[4],On[5]+_n[5],On[6]+_n[6],On[7]+_n[7]];var On,_n},Xt=function(In,An){return Nt(st(st(In,An),ht(In)))},ut=_(2361),ft=_(1493),$=_(4949),wt=_(4183),gt=_(7651),lt=_(9827),pt=_(4048),vt=_(4761),zt=_(2921);function Qt(In,An){var On=typeof Symbol<"u"&&In[Symbol.iterator]||In["@@iterator"];if(!On){if(Array.isArray(In)||(On=function(cr,Ur){if(cr){if(typeof cr=="string")return Ft(cr,Ur);var Wr=Object.prototype.toString.call(cr).slice(8,-1);if(Wr==="Object"&&cr.constructor&&(Wr=cr.constructor.name),Wr==="Map"||Wr==="Set")return Array.from(cr);if(Wr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wr))return Ft(cr,Ur)}}(In))||An){On&&(In=On);var _n=0,or=function(){};return{s:or,n:function(){return _n>=In.length?{done:!0}:{done:!1,value:In[_n++]}},e:function(cr){throw cr},f:or}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ir,mr=!0,yr=!1;return{s:function(){On=On.call(In)},n:function(){var cr=On.next();return mr=cr.done,cr},e:function(cr){yr=!0,ir=cr},f:function(){try{mr||On.return==null||On.return()}finally{if(yr)throw ir}}}}function Ft(In,An){(An==null||An>In.length)&&(An=In.length);for(var On=0,_n=new Array(An);On<An;On++)_n[On]=In[On];return _n}var At=function In(An,On,_n,or,ir){var mr=10/On.zoom.value,yr=[or,ir];if(un(On,An)&&(0,pt.oY)([An],On))return Jt(An,yr,mr,_n);var cr=(0,vt.WJ)(An);return cr&&In(cr,On,_n,or,ir)?!0:jt(An,On,_n,yr)},Tt=function(In,An,On,_n,or){var ir=10/An.zoom.value,mr=(0,vt.WJ)(In);return(!mr||!At(mr,An,On,_n,or))&&!jt(In,An,On,[_n,or])&&Jt(In,[_n,or],ir,On)},jt=function(In,An,On,_n){var or=10/An.zoom.value,ir=(0,gt.iB)(In)?Cn:function(mr){if(mr.type==="arrow")return!1;if(mr.type==="freedraw")return!0;var yr=!(0,lt.Qm)(mr.backgroundColor)||(0,wt.Xo)(mr)||(0,wt.gs)(mr);return mr.type==="line"?yr&&(0,ut.g6)(mr.points):yr||(0,wt.pC)(mr)}(In)?kn:jn;return Mt({element:In,point:_n,threshold:or,check:ir,frameNameBoundsCache:On})},un=function(In,An){return In.selectedElementIds[An.id]},Jt=function(In,An,On,_n){var or=(0,Et.Z)(An,2),ir=or[0],mr=or[1];if(In.type==="frame")return Mt({element:In,point:[ir,mr],threshold:On,check:kn,frameNameBoundsCache:_n});var yr=(0,$.qf)(In),cr=(0,Et.Z)(yr,4),Ur=cr[0],Wr=cr[1],Xr=cr[2],wr=cr[3],Jr=(Ur+Xr)/2,Kr=(Wr+wr)/2,rr=(0,ut.U1)(ir,mr,Jr,Kr,-In.angle),Qr=(0,Et.Z)(rr,2),Ir=Qr[0],xr=Qr[1];return Ir>Ur-On&&Ir<Xr+On&&xr>Wr-On&&xr<wr+On},hn=function(In,An){var On=An.x,_n=An.y,or=rn(In,In.width,In.height);return Mt({element:In,point:[On,_n],threshold:or,check:Dn,frameNameBoundsCache:null})},rn=function(In,An,On){var _n=(In.type==="diamond"?1/Math.sqrt(2):1)*Math.min(An,On);return Math.max(16,Math.min(.25*_n,32))},Mt=function(In){switch(In.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var An=an(In.element,In.point);return In.check(An,In.threshold);case"freedraw":return!!In.check(Fn(In.element,In.point),In.threshold)&&Qn(In.element,In.point,In.threshold);case"arrow":case"line":return tn(In);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var On;if(In.check(an(In.element,In.point),In.threshold))return!0;var _n=(On=In.frameNameBoundsCache)===null||On===void 0?void 0:On.get(In.element);return!!_n&&In.check(vn(_n,In.point),In.threshold)}},an=function(In,An){switch(In.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Fn(In,An);case"diamond":return Gn(In,An);case"ellipse":return Sn(In,An)}},Cn=function(In,An){return In<0},kn=function(In,An){return In<An},jn=function(In,An){return Math.abs(In)<An},Dn=function(In,An){return 0<=In&&In<An},Fn=function(In,An){var On=at(In,An),_n=(0,Et.Z)(On,4),or=_n[1],ir=_n[2],mr=_n[3];return Math.max(Ot(or,sn(0,1,-mr)),Ot(or,sn(1,0,-ir)))},vn=function(In,An){var On=ct(An,In),_n=(0,Et.Z)(On,4),or=_n[1],ir=_n[2],mr=_n[3];return Math.max(Ot(or,sn(0,1,-mr)),Ot(or,sn(1,0,-ir)))},Gn=function(In,An){var On=at(In,An),_n=(0,Et.Z)(On,4),or=_n[1],ir=_n[2],mr=_n[3],yr=sn(mr,ir,-mr*ir);return Ot(or,yr)},Sn=function(In,An){var On,_n=nn(In,An),or=(0,Et.Z)(_n,2),ir=or[0],mr=or[1];return On=mr,-Math.sign(On[1])*Ot(ir,mr)},nn=function(In,An){var On=at(In,An),_n=(0,Et.Z)(On,4),or=_n[1],ir=_n[2],mr=_n[3],yr=qt(or),cr=(0,Et.Z)(yr,2),Ur=cr[0],Wr=cr[1],Xr=.707,wr=.707,Jr=ir,Kr=mr;[0,1,2,3].forEach(function(Ir){var xr=Jr*Xr,pr=Kr*wr,Nr=(Jr*Jr-Kr*Kr)*Math.pow(Xr,3)/Jr,Rr=(Kr*Kr-Jr*Jr)*Math.pow(wr,3)/Kr,qr=xr-Nr,Dr=pr-Rr,Io=Ur-Nr,ro=Wr-Rr,Zo=Math.hypot(Dr,qr),dr=Math.hypot(ro,Io);Xr=Math.min(1,Math.max(0,(Io*Zo/dr+Nr)/Jr)),wr=Math.min(1,Math.max(0,(ro*Zo/dr+Rr)/Kr));var Hr=Math.hypot(wr,Xr);Xr/=Hr,wr/=Hr});var rr,Qr=ot(Jr*Xr,Kr*wr);return[or,pn(bn(or,rr=Qr),rr)]},Qn=function(In,An,On){var _n,or;if(In.angle===0)_n=An[0]-In.x,or=An[1]-In.y;else{var ir=(0,$.qf)(In),mr=(0,Et.Z)(ir,4),yr=mr[0],cr=mr[1],Ur=mr[2],Wr=mr[3],Xr=(0,ut.xj)(An,[yr+(Ur-yr)/2,cr+(Wr-cr)/2],-In.angle);_n=Xr[0]-In.x,or=Xr[1]-In.y}var wr,Jr=(0,Et.Z)(In.points,2),Kr=Jr[0],rr=Jr[1];if((0,ut.LW)(Kr[0],Kr[1],_n,or)<On||(0,ut.LW)(rr[0],rr[1],_n,or)<On)return!0;for(var Qr=0;Qr<In.points.length;Qr++){var Ir=[rr[0]-Kr[0],rr[1]-Kr[1]],xr=Math.hypot(Ir[1],Ir[0]),pr=[Ir[0]/xr,Ir[1]/xr],Nr=[_n-Kr[0],or-Kr[1]],Rr=(Nr[0]*pr[0]+Nr[1]*pr[1])/Math.hypot(pr[1],pr[0]);wr=[Kr[0]+pr[0]*Rr,Kr[1]+pr[1]*Rr];var qr=(0,ut.LW)(wr[0],wr[1],Kr[0],Kr[1]),Dr=(0,ut.LW)(wr[0],wr[1],rr[0],rr[1]);if(wr=Dr<qr&&qr>xr?rr:qr<Dr&&Dr>xr?Kr:wr,Math.hypot(or-wr[1],_n-wr[0])<On)return!0;Kr=rr,rr=In.points[Qr+1]}var Io=zt.R.get(In);return!(!Io||!Io.sets.length)&&(In.fillStyle==="solid"?qn(Io,_n,or,"round"):sr(Io,_n,or,On))},tn=function(In){var An=In.element,On=In.threshold;if(!zt.R.get(An))return!1;var _n=at(In.element,In.point),or=(0,Et.Z)(_n,4),ir=or[0],mr=or[1],yr=or[2],cr=or[3],Ur=sn(0,1,-cr),Wr=sn(1,0,-yr);if(!kn(Ot(mr,Ur),On)||!kn(Ot(mr,Wr),On))return!1;var Xr=qt(ir),wr=(0,Et.Z)(Xr,2),Jr=wr[0],Kr=wr[1],rr=zt.R.get(An);return rr?In.check===kn&&rr.some(function(Qr){return qn(Qr,Jr,Kr,An.roundness?"round":"sharp")})?!0:rr.some(function(Qr){return sr(Qr,Jr,Kr,On)}):!1},at=function(In,An){var On=mn(An),_n=(0,$.qf)(In),or=(0,Et.Z)(_n,4),ir=or[0],mr=or[1],yr=or[2],cr=or[3],Ur=Wt(ir,mr,yr,cr),Wr=Ct(Ur,In.angle),Xr=Xt(Wr,On),wr=Bt(Xr,Gt(Ur)),Jr=Ut(wr),Kr=it(In.x,In.y);return[Bt(Xr,Kr),Jr,(yr-ir)/2,(cr-mr)/2]},ct=function(In,An){var On=mn(In),_n=(0,$.M$)(An),or=(0,Et.Z)(_n,4),ir=or[0],mr=or[1],yr=or[2],cr=or[3],Ur=Wt(ir,mr,yr,cr),Wr=Ct(Ur,An.angle),Xr=Xt(Wr,On),wr=Bt(Xr,Gt(Ur)),Jr=Ut(wr),Kr=it(An.x,An.y);return[Bt(Xr,Kr),Jr,(yr-ir)/2,(cr-mr)/2]},mt=function(In){var An=(0,$.qf)(In),On=(0,Et.Z)(An,4),_n=On[0],or=On[1],ir=On[2],mr=On[3],yr=Wt(_n,or,ir,mr),cr=Ct(yr,In.angle),Ur=ht(function(Wr){return[1,0,0,0,-.5*Wr[5],.5*Wr[4],0,0]}(Gt(yr)));return st(Ur,cr)},Wt=function(In,An,On,_n){return ot((In+On)/2,(An+_n)/2)},Rt=function(In,An,On){var _n,or=mt(In),ir=Xt(or,mn(An)),mr=Xt(or,mn(On)),yr=bn(ir,mr),cr=In.height/In.width,Ur=In.width/2,Wr=In.height/2,Xr=yr[2],wr=yr[3],Jr=yr[1],Kr=Math.abs(wr),rr=Math.abs(Xr);switch(In.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":_n=Jr/(Ur*(rr+cr*Kr));break;case"diamond":_n=Kr<rr?Jr/(rr*Ur):Jr/(Kr*Wr);break;case"ellipse":_n=Jr/(Ur*Math.sqrt(Math.pow(Xr,2)+Math.pow(cr,2)*Math.pow(wr,2)))}return _n||0},en=function(In,An,On){if(An===0){var _n=(0,$.qf)(In),or=(0,Et.Z)(_n,4),ir=or[0],mr=or[1],yr=or[2],cr=or[3],Ur=Wt(ir,mr,yr,cr);return qt(Ur)}var Wr,Xr=mt(In),wr=Xt(Xr,mn(On)),Jr=ht(Xr);switch(In.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":Wr=Kn(In,An,wr);break;case"ellipse":Wr=Zn(In,An,wr)}return qt(Xt(Jr,Wr))},Pt=function(In,An,On){var _n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,or=mt(In),ir=Xt(or,mn(An)),mr=Xt(or,mn(On)),yr=bn(ir,mr),cr=ht(or),Ur=on(In,yr,ir,_n);return Ur.map(function(Wr){return qt(Xt(cr,Wr))})},on=function(In,An,On){var _n,or=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(In.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var ir=Bn(In);_n=ir.flatMap(function(yr,cr){var Ur=[yr,ir[(cr+1)%4]];return yn(An,Wn(Ur,or))}).concat(ir.flatMap(function(yr){return Hn(yr,or,An)}));break;case"ellipse":_n=Vn(In,or,An)}if(_n.length<2)return[];var mr=_n.sort(function(yr,cr){return yt(yr,On)-yt(cr,On)});return[mr[0],mr[mr.length-1]]},Bn=function(In){var An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,On=An*In.width/2,_n=An*In.height/2;switch(In.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[ot(On,_n),ot(On,-_n),ot(-On,-_n),ot(-On,_n)];case"diamond":return[ot(0,_n),ot(On,0),ot(0,-_n),ot(-On,0)]}},yn=function(In,An){var On=(0,Et.Z)(An,2),_n=On[0],or=On[1];return Ot(_n,In)*Ot(or,In)>=0?[]:[Kt(In,bn(_n,or))]},Wn=function(In,An){var On=(0,Et.Z)(In,2),_n=On[0],or=On[1],ir=function(mr,yr){var cr=.5*yr;return[1,0,0,0,cr*mr[4],cr*mr[5],0,0]}(function(mr,yr){return dt([0,0,0,0,yr[4]-mr[4],yr[5]-mr[5],0,0])}(_n,or),An);return[Xt(ir,_n),Xt(ir,or)]},Vn=function(In,An,On){var _n=In.width/2+An,or=In.height/2+An,ir=On[2],mr=On[3],yr=On[1],cr=_n*_n*ir*ir+or*or*mr*mr,Ur=cr-yr*yr;if(cr===0||Ur<=0)return[];var Wr=Math.sqrt(Ur),Xr=-_n*_n*ir*yr,wr=-or*or*mr*yr;return[ot((Xr+_n*or*mr*Wr)/cr,(wr-_n*or*ir*Wr)/cr),ot((Xr-_n*or*mr*Wr)/cr,(wr+_n*or*ir*Wr)/cr)]},Hn=function(In,An,On){if(An===0)return Ot(On,In)===0?[In]:[];var _n=On[2],or=On[3],ir=On[1],mr=qt(In),yr=(0,Et.Z)(mr,2),cr=yr[0],Ur=yr[1],Wr=_n*_n+or*or,Xr=An*An*Wr-Math.pow(_n*cr+or*Ur+ir,2);if(Wr===0||Xr<=0)return[];var wr=Math.sqrt(Xr),Jr=cr*or*or-Ur*_n*or-_n*ir,Kr=Ur*_n*_n-cr*_n*or-or*ir;return[ot((Jr+or*wr)/Wr,(Kr-_n*wr)/Wr),ot((Jr-or*wr)/Wr,(Kr+_n*wr)/Wr)]},Zn=function(In,An,On){var _n=Math.abs(An),or=In.width*_n/2,ir=In.height*_n/2,mr=Math.sign(An),yr=qt(On),cr=(0,Et.Z)(yr,2),Ur=cr[0],Wr=cr[1],Xr=Wr===0?1e-4:Wr,wr=Math.pow(Ur,2)*Math.pow(ir,2)+Math.pow(Xr,2)*Math.pow(or,2),Jr=(-Ur*Math.pow(ir,2)+mr*Xr*Math.sqrt(Math.max(0,wr-Math.pow(or,2)*Math.pow(ir,2))))/wr,Kr=(-Jr*Ur-1)/Xr;Kr===0&&(Kr=.01*(Object.is(Kr,-0)?-1:1));var rr=-Math.pow(or,2)*Jr/(Math.pow(Kr,2)*Math.pow(ir,2)+Math.pow(Jr,2)*Math.pow(or,2));return ot(rr,(-Jr*rr-1)/Kr)},Kn=function(In,An,On){var _n=Math.abs(An),or=Math.sign(An),ir=Bn(In,_n),mr=0,yr=null;return ir.forEach(function(cr){var Ur=or*bn(On,cr)[1];Ur>mr&&(mr=Ur,yr=cr)}),yr},qn=function(In,An,On,_n){var or,ir=[],mr=!1,yr=Qt((0,$.CM)(In));try{for(yr.s();!(or=yr.n()).done;){var cr=or.value;cr.op==="move"?(mr=!mr)&&ir.push([cr.data[0],cr.data[1]]):cr.op==="bcurveTo"?mr&&(ir.push([cr.data[0],cr.data[1]]),ir.push([cr.data[2],cr.data[3]]),ir.push([cr.data[4],cr.data[5]])):cr.op==="lineTo"&&mr&&ir.push([cr.data[0],cr.data[1]])}}catch(Wr){yr.e(Wr)}finally{yr.f()}if(ir.length>=4){if(_n==="sharp")return(0,ut.c9)(ir,An,On);var Ur=(0,ft.sU)(ir,10,5);return(0,ut.c9)(Ur,An,On)}return!1},sr=function(In,An,On,_n){var or=(0,$.CM)(In),ir=[0,0];return or.some(function(mr,yr){var cr=mr.op,Ur=mr.data;if(cr==="move")ir=Ur;else{if(cr==="bcurveTo"){var Wr=[Ur[0],Ur[1]],Xr=[Ur[2],Ur[3]],wr=[Ur[4],Ur[5]],Jr=ir;ir=wr;var Kr=function(rr,Qr,Ir,xr,pr,Nr){for(var Rr=(0,Et.Z)(pr,2),qr=Rr[0],Dr=Rr[1],Io=function(Hr,Zr){return Math.pow(1-Hr,3)*xr[Zr]+3*Hr*Math.pow(1-Hr,2)*Ir[Zr]+3*Math.pow(Hr,2)*(1-Hr)*Qr[Zr]+rr[Zr]*Math.pow(Hr,3)},ro=0;ro<=1;){var Zo=Io(ro,0),dr=Io(ro,1);if(Math.sqrt(Math.pow(Zo-qr,2)+Math.pow(dr-Dr,2))<Nr)return!0;ro+=.01}return!1}(Jr,Wr,Xr,wr,[An,On],_n);return Kr}if(cr==="lineTo")return qn(In,An,On,"sharp");cr==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function($t,Vt,_){_.d(Vt,{LM:function(){return wt},eX:function(){return vt},g0:function(){return lt},uU:function(){return gt},xm:function(){return zt}});var Et=_(7169),ot=_(2577),it=_(2767),nt=_(9937),ht=_(8227),Bt=_(9827),st=_(7652),tt=_(5742),xt=_(4761),St=_(4183),Zt=_(8020);function Nt(Qt,Ft){var At=typeof Symbol<"u"&&Qt[Symbol.iterator]||Qt["@@iterator"];if(!At){if(Array.isArray(Qt)||(At=function(rn,Mt){if(rn){if(typeof rn=="string")return dt(rn,Mt);var an=Object.prototype.toString.call(rn).slice(8,-1);if(an==="Object"&&rn.constructor&&(an=rn.constructor.name),an==="Map"||an==="Set")return Array.from(rn);if(an==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(an))return dt(rn,Mt)}}(Qt))||Ft){At&&(Qt=At);var Tt=0,jt=function(){};return{s:jt,n:function(){return Tt>=Qt.length?{done:!0}:{done:!1,value:Qt[Tt++]}},e:function(rn){throw rn},f:jt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var un,Jt=!0,hn=!1;return{s:function(){At=At.call(Qt)},n:function(){var rn=At.next();return Jt=rn.done,rn},e:function(rn){hn=!0,un=rn},f:function(){try{Jt||At.return==null||At.return()}finally{if(hn)throw un}}}}function dt(Qt,Ft){(Ft==null||Ft>Qt.length)&&(Ft=Qt.length);for(var At=0,Tt=new Array(Ft);At<Ft;At++)Tt[At]=Qt[At];return Tt}function Yt(Qt,Ft){var At=Object.keys(Qt);if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(Qt);Ft&&(Tt=Tt.filter(function(jt){return Object.getOwnPropertyDescriptor(Qt,jt).enumerable})),At.push.apply(At,Tt)}return At}function sn(Qt){for(var Ft=1;Ft<arguments.length;Ft++){var At=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Yt(Object(At),!0).forEach(function(Tt){(0,Et.Z)(Qt,Tt,At[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qt,Object.getOwnPropertyDescriptors(At)):Yt(Object(At)).forEach(function(Tt){Object.defineProperty(Qt,Tt,Object.getOwnPropertyDescriptor(At,Tt))})}return Qt}var bn=new Map,pn=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,mn=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,qt=/^https:\/\/(?:www\.)?figma\.com/,Ut=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,Kt=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,yt=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,Ot=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,Gt=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,Ct=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,Xt=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,ut=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),ft=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),$=function(Qt){return"<html><body>".concat(Qt,"</body></html>")},wt=function(Qt){if(!Qt)return null;if(bn.has(Qt))return bn.get(Qt);var Ft=Qt,At=ft.has(pt(Qt,ft)||""),Tt="generic",jt={w:560,h:840},un=Qt.match(pn);if(un!=null&&un[2]){var Jt=un[3]?"&start=".concat(un[3]):"",hn=Qt.includes("shorts");switch(Tt="video",un[1]){case"embed/":case"watch?v=":case"shorts/":default:Qt="https://www.youtube.com/embed/".concat(un[2],"?enablejsapi=1").concat(Jt);break;case"playlist?list=":case"embed/videoseries?list=":Qt="https://www.youtube.com/embed/videoseries?list=".concat(un[2],"&enablejsapi=1").concat(Jt)}return jt=hn?{w:315,h:560}:{w:560,h:315},bn.set(Ft,{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}),{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}}var rn=Qt.match(mn);if(rn!=null&&rn[1]){var Mt=rn==null?void 0:rn[1],an=/^\d+$/.test(Mt)?void 0:(0,ht.t)("toast.unrecognizedLinkFormat");return Tt="video",Qt="https://player.vimeo.com/video/".concat(Mt,"?api=1"),jt={w:560,h:315},bn.set(Ft,{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}),{link:Qt,aspectRatio:jt,type:Tt,warning:an,sandbox:{allowSameOrigin:At}}}if(Qt.match(qt))return Tt="generic",Qt="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(Qt)),jt={w:550,h:550},bn.set(Ft,{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}),{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}};var Cn=Qt.match(Gt);if(Cn)return Qt=Cn[1]==="embed"?Cn[0]:Cn[0].replace("/v","/embed"),bn.set(Ft,{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}),{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}};if(yt.test(Qt)){var kn=Qt.match(yt)[1],jn=(0,Zt.tO)("https://twitter.com/x/status/".concat(kn)),Dn={type:"document",srcdoc:function(tn){return $('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(tn,'"><a href="').concat(jn,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:At}};return bn.set(Ft,Dn),Dn}if(Ut.test(Qt)){var Fn=Qt.match(Ut),vn=(0,ot.Z)(Fn,3),Gn=vn[1],Sn=vn[2],nn=(0,Zt.tO)("https://gist.github.com/".concat(Gn,"/").concat(Sn)),Qn={type:"document",srcdoc:function(){return $(`
          <script src="`.concat(nn,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:At}};return bn.set(Qt,Qn),Qn}return bn.set(Qt,{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}),{link:Qt,aspectRatio:jt,type:Tt,sandbox:{allowSameOrigin:At}}},gt=function(Qt){if((0,St.gs)(Qt))return!0;if(Qt.type==="text"){var Ft=(0,xt.tl)(Qt);if(Ft&&(0,St.gs)(Ft))return!0}return!1},lt=function(Qt){var Ft,At=Qt.link&&(Qt==null?void 0:Qt.link)!==""?Qt.link:"Empty Web-Embed",Tt=Math.max(Math.min(Qt.width/2,Qt.width/At.length),Qt.width/30),jt=nt.ut.Helvetica,un=(0,Bt.mO)({fontSize:Tt,fontFamily:jt});return(0,tt.VL)({x:Qt.x+Qt.width/2,y:Qt.y+Qt.height/2,strokeColor:Qt.strokeColor!=="transparent"?Qt.strokeColor:"black",backgroundColor:"transparent",fontFamily:jt,fontSize:Tt,text:(0,xt.lD)(At,un,Qt.width-20),textAlign:"center",verticalAlign:nt.oX.MIDDLE,angle:(Ft=Qt.angle)!==null&&Ft!==void 0?Ft:0})},pt=((0,it.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(Qt,Ft,At,Tt){var jt=(0,Bt.Om)(Ft,{type:"embeddable"});return(0,st.Uk)(Tt.canvas,sn(sn({},Ft),{},{activeTool:jt})),{elements:Qt,appState:sn(sn({},Ft),{},{activeTool:(0,Bt.Om)(Ft,{type:"embeddable"})}),commitToHistory:!1}}}),function(Qt,Ft){try{var At=new URL(Qt).hostname.replace(/^www\./,"");if(Ft instanceof Set){if(ut.has(At))return At;var Tt=At.replace(/^([^.]+)/,"*");return ut.has(Tt)?Tt:null}var jt=Ft.replace(/^www\./,"");if(At===jt)return jt}catch{}return null}),vt=function(Qt){var Ft=Qt.match(Ot);if(Ft&&Ft.length===2)return Ft[1];var At=Qt.match(Kt);if(At&&At.length===2)return At[1];if(Xt.test(Qt))return"https://giphy.com/embed/".concat(Xt.exec(Qt)[1]);var Tt=Qt.match(Ct);return Tt&&Tt.length===2?Tt[1]:Qt},zt=function(Qt,Ft){if(!Qt)return!1;if(Ft!=null)if(typeof Ft=="function"){var At=Ft(Qt);if(typeof At=="boolean")return At}else{if(typeof Ft=="boolean")return Ft;if(Ft instanceof RegExp)return Ft.test(Qt);if(Array.isArray(Ft)){var Tt,jt=Nt(Ft);try{for(jt.s();!(Tt=jt.n()).done;){var un=Tt.value;if(un instanceof RegExp){if(Qt.match(un))return!0}else if(pt(Qt,un))return!0}}catch(Jt){jt.e(Jt)}finally{jt.f()}return!1}}return!!pt(Qt,ut)}},4178:function($t,Vt,_){_.d(Vt,{PK:function(){return Zt},Xx:function(){return Nt},bp:function(){return Yt},oA:function(){return dt}});var Et=_(2577),ot=_(7169),it=_(8950),nt=_(2975),ht=_.n(nt),Bt=_(9937),st=_(8227),tt=_(4183);function xt(sn,bn){var pn=Object.keys(sn);if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(sn);bn&&(mn=mn.filter(function(qt){return Object.getOwnPropertyDescriptor(sn,qt).enumerable})),pn.push.apply(pn,mn)}return pn}function St(sn){for(var bn=1;bn<arguments.length;bn++){var pn=arguments[bn]!=null?arguments[bn]:{};bn%2?xt(Object(pn),!0).forEach(function(mn){(0,ot.Z)(sn,mn,pn[mn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sn,Object.getOwnPropertyDescriptors(pn)):xt(Object(pn)).forEach(function(mn){Object.defineProperty(sn,mn,Object.getOwnPropertyDescriptor(pn,mn))})}return sn}var Zt=function(sn){return new Promise(function(bn,pn){var mn=new Image;mn.onload=function(){bn(mn)},mn.onerror=function(qt){pn(qt)},mn.src=sn})},Nt=function(){var sn=(0,it.Z)(ht().mark(function bn(pn){var mn,qt,Ut,Kt,yt;return ht().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return mn=pn.fileIds,qt=pn.files,Ut=pn.imageCache,Kt=new Map,yt=new Map,Ot.next=5,Promise.all(mn.reduce(function(Gt,Ct){var Xt=qt[Ct];return Xt&&!Kt.has(Ct)?(Kt.set(Ct,!0),Gt.concat((0,it.Z)(ht().mark(function ut(){var ft,$,wt;return ht().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(gt.prev=0,Xt.mimeType!==Bt.LO.binary){gt.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return ft=Zt(Xt.dataURL),$={image:ft,mimeType:Xt.mimeType},Ut.set(Ct,$),gt.next=8,ft;case 8:wt=gt.sent,Ut.set(Ct,St(St({},$),{},{image:wt})),gt.next=15;break;case 12:gt.prev=12,gt.t0=gt.catch(0),yt.set(Ct,!0);case 15:case"end":return gt.stop()}},ut,null,[[0,12]])}))())):Gt},[]));case 5:return Ot.abrupt("return",{imageCache:Ut,updatedFiles:Kt,erroredFiles:yt});case 6:case"end":return Ot.stop()}},bn)}));return function(bn){return sn.apply(this,arguments)}}(),dt=function(sn){return sn.filter(function(bn){return(0,tt.wi)(bn)})},Yt=function(){var sn=(0,it.Z)(ht().mark(function bn(pn){var mn,qt,Ut,Kt,yt,Ot,Gt;return ht().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(mn=new DOMParser().parseFromString(pn,Bt.LO.svg),qt=mn.querySelector("svg"),!mn.querySelector("parsererror")&&((Xt=qt)==null?void 0:Xt.nodeName.toLowerCase())==="svg"){Ct.next=7;break}throw new Error((0,st.t)("errors.invalidSVGString"));case 7:return qt.hasAttribute("xmlns")||qt.setAttribute("xmlns",Bt.hR),qt.hasAttribute("width")&&qt.hasAttribute("height")||(Ut=qt.getAttribute("viewBox"),Kt=qt.getAttribute("width")||"50",yt=qt.getAttribute("height")||"50",Ut&&(Ot=Ut.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(Gt=(0,Et.Z)(Ot,3),Kt=Gt[1],yt=Gt[2]),qt.setAttribute("width",Kt),qt.setAttribute("height",yt)),Ct.abrupt("return",qt.outerHTML);case 10:case"end":return Ct.stop()}var Xt},bn)}));return function(bn){return sn.apply(this,arguments)}}()},7651:function($t,Vt,_){_.d(Vt,{ox:function(){return Bt.ox},BQ:function(){return At},_M:function(){return Tt},EJ:function(){return Xt},o8:function(){return yt},Sy:function(){return nt.Sy},Y5:function(){return ht.Y5},os:function(){return ht.os},KP:function(){return ht.KP},Un:function(){return sn},UC:function(){return ht.UC},$V:function(){return Ct},qf:function(){return ht.qf},Pi:function(){return ht.Pi},jt:function(){return Nt},o4:function(){return ot.o4},Lm:function(){return vt},Xf:function(){return zt},Qp:function(){return ot.Qp},T:function(){return bn.T},xx:function(){return bn.xx},Uo:function(){return lt},n2:function(){return dt},PC:function(){return Bt.PC},kK:function(){return Bt.kK},n_:function(){return pt},wX:function(){return st.wX},r2:function(){return it.r2},He:function(){return it.He},wB:function(){return st.wB},QD:function(){return ot.QD},qP:function(){return Qt},iB:function(){return it.iB},Up:function(){return nt.Up},vw:function(){return nt.vw},y8:function(){return nt.y8},VL:function(){return nt.VL},oN:function(){return qt.oN},JZ:function(){return nt.JZ},RT:function(){return $},b_:function(){return ut.b_},vY:function(){return bn.vY},N_:function(){return nt.N_}});var Et=_(7169),ot=_(7935),it=_(4183),nt=_(5742),ht=_(4949),Bt=_(4048),st=_(3528),tt=_(2577),xt=_(2726),St=["rotation"],Zt=function(jt,un,Jt){return un>=jt[0]&&un<=jt[0]+jt[2]&&Jt>=jt[1]&&Jt<=jt[1]+jt[3]},Nt=function(jt,un,Jt,hn,rn,Mt){return jt.reduce(function(an,Cn){if(an)return an;var kn=function(jn,Dn,Fn,vn,Gn,Sn){if(!Dn.selectedElementIds[jn.id])return!1;var nn=(0,Bt.PC)(jn,Gn,Sn),Qn=nn.rotation,tn=(0,xt.Z)(nn,St);if(Qn&&Zt(Qn,Fn,vn))return"rotation";var at=Object.keys(tn).filter(function(ct){var mt=tn[ct];return!!mt&&Zt(mt,Fn,vn)});return at.length>0&&at[0]}(Cn,un,Jt,hn,rn,Mt);return kn?{element:Cn,transformHandleType:kn}:null},null)},dt=function(jt,un,Jt,hn,rn){var Mt=(0,tt.Z)(jt,4),an=Mt[0],Cn=Mt[1],kn=Mt[2],jn=Mt[3],Dn=(0,Bt.kK)([an,Cn,kn,jn,(an+kn)/2,(Cn+jn)/2],0,hn,rn,Bt.ox);return Object.keys(Dn).find(function(Fn){var vn=Dn[Fn];return vn&&Zt(vn,un,Jt)})||!1},Yt=["ns","nesw","ew","nwse"],sn=function(jt){var un=jt.element,Jt=jt.transformHandleType,hn=un&&Math.sign(un.height)*Math.sign(un.width)==-1,rn=null;switch(Jt){case"n":case"s":rn="ns";break;case"w":case"e":rn="ew";break;case"nw":case"se":rn=hn?"nesw":"nwse";break;case"ne":case"sw":rn=hn?"nwse":"nesw";break;case"rotation":return"grab"}return rn&&un&&(rn=function(Mt,an){var Cn=Yt.indexOf(Mt);if(Cn>=0){var kn=Math.round(an/(Math.PI/4));Mt=Yt[(Cn+kn)%Yt.length]}return Mt}(rn,un.angle)),rn?"".concat(rn,"-resize"):""},bn=_(4381),pn=_(9645),mn=_(583),qt=_(4761),Ut=_(9215),Kt=_(2361),yt=function(jt,un,Jt,hn,rn,Mt,an){var Cn=new Set(un),kn=un.filter(function(Fn){return(0,it.He)(Fn)}).map(function(Fn){return Fn.id});kn.length>0&&rn.getNonDeletedElements().filter(function(Fn){return!(0,it.Xh)(Fn)}).filter(function(Fn){return Fn.frameId!==null}).filter(function(Fn){return kn.includes(Fn.frameId)}).forEach(function(Fn){return Cn.add(Fn)});var jn=(0,ht.KP)(Array.from(Cn).map(function(Fn){var vn;return(vn=jt.originalElements.get(Fn.id))!==null&&vn!==void 0?vn:Fn})),Dn=Ot(jn,Jt,Mt,an);Cn.forEach(function(Fn){if(Gt(jt,Fn,Dn),!(0,it.Yv)(Fn)&&(!Fn.groupIds.length||hn.editingGroupId&&!(0,Ut.zq)(hn,Fn))){var vn=(0,qt.WJ)(Fn);vn&&Gt(jt,vn,Dn)}(0,pn.Ww)(Fn,{simultaneouslyUpdated:Array.from(Cn)})})},Ot=function(jt,un,Jt,hn){var rn=(0,tt.Z)(jt,2),Mt=rn[0],an=rn[1],Cn=Mt+un.x+Jt.x,kn=an+un.y+Jt.y;if(Jt.x===0||Jt.y===0){var jn=(0,Kt.wC)(Mt+un.x,an+un.y,hn),Dn=(0,tt.Z)(jn,2),Fn=Dn[0],vn=Dn[1];Jt.x===0&&(Cn=Fn),Jt.y===0&&(kn=vn)}return{x:Cn-Mt,y:kn-an}},Gt=function(jt,un,Jt){var hn,rn=(hn=jt.originalElements.get(un.id))!==null&&hn!==void 0?hn:un,Mt=rn.x+Jt.x,an=rn.y+Jt.y;(0,mn.DR)(un,{x:Mt,y:an})},Ct=function(jt,un,Jt){var hn=(0,ht.KP)(jt),rn=(0,tt.Z)(hn,2);return[un-rn[0],Jt-rn[1]]},Xt=function(jt,un,Jt,hn,rn,Mt,an,Cn,kn,jn,Dn){var Fn=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(kn&&jt.type!=="selection")if(Dn)Cn=an/Dn;else{if(Math.abs(Mt-hn)>Math.abs(rn-Jt)){var vn=(0,ot.uK)(un,Cn,rn<Jt?-an:an);an=vn.width,Cn=vn.height}else{var Gn=(0,ot.uK)(un,an,Mt<hn?-Cn:Cn);an=Gn.width,Cn=Gn.height}Cn<0&&(Cn=-Cn)}var Sn,nn,Qn=rn<Jt?Jt-an:Jt,tn=Mt<hn?hn-Cn:hn;jn&&(Qn=Jt-(an+=an)/2,tn=hn-(Cn+=Cn)/2),an!==0&&Cn!==0&&(0,mn.DR)(jt,{x:Qn+((Sn=Fn==null?void 0:Fn.x)!==null&&Sn!==void 0?Sn:0),y:tn+((nn=Fn==null?void 0:Fn.y)!==null&&nn!==void 0?nn:0),width:an,height:Cn})},ut=_(3474),ft=_(4105),$=function(jt,un){return!!(!jt.viewModeEnabled&&(jt.activeTool.type!=="custom"&&(jt.editingElement||jt.activeTool.type!=="selection"&&jt.activeTool.type!=="eraser"&&jt.activeTool.type!=="hand"&&jt.activeTool.type!=="laser")||(0,ft.eD)(un,jt).length))};function wt(jt,un){var Jt=Object.keys(jt);if(Object.getOwnPropertySymbols){var hn=Object.getOwnPropertySymbols(jt);un&&(hn=hn.filter(function(rn){return Object.getOwnPropertyDescriptor(jt,rn).enumerable})),Jt.push.apply(Jt,hn)}return Jt}function gt(jt){for(var un=1;un<arguments.length;un++){var Jt=arguments[un]!=null?arguments[un]:{};un%2?wt(Object(Jt),!0).forEach(function(hn){(0,Et.Z)(jt,hn,Jt[hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jt,Object.getOwnPropertyDescriptors(Jt)):wt(Object(Jt)).forEach(function(hn){Object.defineProperty(jt,hn,Object.getOwnPropertyDescriptor(Jt,hn))})}return jt}var lt=function(jt){return jt.reduce(function(un,Jt){return un+Jt.version},0)},pt=function(jt){return jt.filter(function(un){return!un.isDeleted&&!(0,ot.QD)(un)})},vt=function(jt){return jt.filter(function(un){return!un.isDeleted})},zt=function(jt){return jt.filter(function(un){return!un.isDeleted})},Qt=function(jt){return!jt.isDeleted},Ft=function(jt){return vt(jt).map(function(un){return(0,it.dt)(un.type)?gt(gt({},un),{},{lastCommittedPoint:null}):un})},At=function(jt){return Ft(jt)},Tt=function(jt){return Ft(jt)}},7422:function($t,Vt,_){_.d(Vt,{_:function(){return Ot}});var Et=_(1930),ot=_(7169),it=_(2577),nt=_(8821),ht=_(5169),Bt=_(2361),st=_(7651),tt=_(4949),xt=_(583),St=_(457),Zt=_(9645),Nt=_(9827),dt=_(4183),Yt=_(5491),sn=_(4761),bn=_(9937),pn=_(2921);function mn(Ct,Xt){var ut=typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(!ut){if(Array.isArray(Ct)||(ut=function(pt,vt){if(pt){if(typeof pt=="string")return qt(pt,vt);var zt=Object.prototype.toString.call(pt).slice(8,-1);if(zt==="Object"&&pt.constructor&&(zt=pt.constructor.name),zt==="Map"||zt==="Set")return Array.from(pt);if(zt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zt))return qt(pt,vt)}}(Ct))||Xt){ut&&(Ct=ut);var ft=0,$=function(){};return{s:$,n:function(){return ft>=Ct.length?{done:!0}:{done:!1,value:Ct[ft++]}},e:function(pt){throw pt},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wt,gt=!0,lt=!1;return{s:function(){ut=ut.call(Ct)},n:function(){var pt=ut.next();return gt=pt.done,pt},e:function(pt){lt=!0,wt=pt},f:function(){try{gt||ut.return==null||ut.return()}finally{if(lt)throw wt}}}}function qt(Ct,Xt){(Xt==null||Xt>Ct.length)&&(Xt=Ct.length);for(var ut=0,ft=new Array(Xt);ut<Xt;ut++)ft[ut]=Ct[ut];return ft}function Ut(Ct,Xt){var ut=Object.keys(Ct);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(Ct);Xt&&(ft=ft.filter(function($){return Object.getOwnPropertyDescriptor(Ct,$).enumerable})),ut.push.apply(ut,ft)}return ut}function Kt(Ct){for(var Xt=1;Xt<arguments.length;Xt++){var ut=arguments[Xt]!=null?arguments[Xt]:{};Xt%2?Ut(Object(ut),!0).forEach(function(ft){(0,ot.Z)(Ct,ft,ut[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(ut)):Ut(Object(ut)).forEach(function(ft){Object.defineProperty(Ct,ft,Object.getOwnPropertyDescriptor(ut,ft))})}return Ct}var yt={version:null,points:[],zoom:null},Ot=function(){function Ct(Xt,ut){(0,nt.Z)(this,Ct),this.elementId=Xt.id,St.Z.mapElementToScene(this.elementId,ut),Ct.normalizePoints(Xt),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,ht.Z)(Ct,null,[{key:"getElement",value:function(Xt){var ut,ft=(ut=St.Z.getScene(Xt))===null||ut===void 0?void 0:ut.getNonDeletedElement(Xt);return ft||null}},{key:"handleBoxSelection",value:function(Xt,ut,ft){var $;if(!ut.editingLinearElement||(($=ut.draggingElement)===null||$===void 0?void 0:$.type)!=="selection")return!1;var wt=ut.editingLinearElement,gt=wt.selectedPointsIndices,lt=wt.elementId,pt=Ct.getElement(lt);if(!pt)return!1;var vt=(0,st.qf)(ut.draggingElement),zt=(0,it.Z)(vt,4),Qt=zt[0],Ft=zt[1],At=zt[2],Tt=zt[3],jt=Ct.getPointsGlobalCoordinates(pt).reduce(function(un,Jt,hn){return(Jt[0]>=Qt&&Jt[0]<=At&&Jt[1]>=Ft&&Jt[1]<=Tt||Xt.shiftKey&&gt!=null&&gt.includes(hn))&&un.push(hn),un},[]);ft({editingLinearElement:Kt(Kt({},wt),{},{selectedPointsIndices:jt.length?jt:null})})}},{key:"handlePointDragging",value:function(Xt,ut,ft,$,wt,gt){if(!gt)return!1;var lt=gt.selectedPointsIndices,pt=gt.elementId,vt=Ct.getElement(pt);if(!vt)return!1;var zt=vt.points[gt.pointerDownState.lastClickedPoint];if(lt&&zt){if((0,Yt.Ge)(Xt)&&lt.length===1&&vt.points.length>1){var Qt=lt[0],Ft=vt.points[Qt===0?1:Qt-1],At=Ct._getShiftLockedDelta(vt,Ft,[ft,$],Xt[Yt.tW.CTRL_OR_CMD]?null:ut.gridSize),Tt=(0,it.Z)(At,2),jt=Tt[0],un=Tt[1];Ct.movePoints(vt,[{index:Qt,point:[jt+Ft[0],un+Ft[1]],isDragging:Qt===gt.pointerDownState.lastClickedPoint}])}else{var Jt=Ct.createPointAt(vt,ft-gt.pointerOffset.x,$-gt.pointerOffset.y,Xt[Yt.tW.CTRL_OR_CMD]?null:ut.gridSize),hn=Jt[0]-zt[0],rn=Jt[1]-zt[1];Ct.movePoints(vt,lt.map(function(Cn){return{index:Cn,point:Cn===gt.pointerDownState.lastClickedPoint?Ct.createPointAt(vt,ft-gt.pointerOffset.x,$-gt.pointerOffset.y,Xt[Yt.tW.CTRL_OR_CMD]?null:ut.gridSize):[vt.points[Cn][0]+hn,vt.points[Cn][1]+rn],isDragging:Cn===gt.pointerDownState.lastClickedPoint}}))}if((0,sn.WJ)(vt)&&(0,sn.RB)(vt,!1),(0,dt.Mn)(vt,!1)){var Mt=[];lt[0]===0&&Mt.push((0,Nt.AK)(Ct.getPointGlobalCoordinates(vt,vt.points[0])));var an=lt[lt.length-1];an===vt.points.length-1&&Mt.push((0,Nt.AK)(Ct.getPointGlobalCoordinates(vt,vt.points[an]))),Mt.length&&wt(vt,Mt)}return!0}return!1}},{key:"handlePointerUp",value:function(Xt,ut,ft){var $,wt=ut.elementId,gt=ut.selectedPointsIndices,lt=ut.isDragging,pt=ut.pointerDownState,vt=Ct.getElement(wt);if(!vt)return ut;var zt={};if(lt&&gt){var Qt,Ft=mn(gt);try{for(Ft.s();!(Qt=Ft.n()).done;){var At=Qt.value;if(At===0||At===vt.points.length-1){(0,Bt.g6)(vt.points,ft.zoom.value)&&Ct.movePoints(vt,[{index:At,point:At===0?vt.points[vt.points.length-1]:vt.points[0]}]);var Tt=(0,Zt.N1)(ft)?(0,Zt.Y9)((0,Nt.AK)(Ct.getPointAtIndexGlobalCoordinates(vt,At)),St.Z.getScene(vt)):null;zt[At===0?"startBindingElement":"endBindingElement"]=Tt}}}catch(jt){Ft.e(jt)}finally{Ft.f()}}return Kt(Kt(Kt({},ut),zt),{},{selectedPointsIndices:lt||Xt.shiftKey?!lt&&Xt.shiftKey&&($=pt.prevSelectedPointsIndices)!==null&&$!==void 0&&$.includes(pt.lastClickedPoint)?gt&&gt.filter(function(jt){return jt!==pt.lastClickedPoint}):gt:gt!=null&&gt.includes(pt.lastClickedPoint)?[pt.lastClickedPoint]:gt,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(Xt,ut,ft,$){var wt=(0,Bt.LW)(ut[0],ut[1],ft[0],ft[1]);return Xt.points.length>2&&Xt.roundness&&(wt=(0,Bt.eH)(Xt,ft)),wt*$.value<4*Ct.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(Xt,ut,ft,$){var wt=(0,Bt.H5)(ut,ft);if(Xt.points.length>2&&Xt.roundness){var gt=(0,Bt.yB)(Xt,Xt.points[$]);if(gt){var lt=(0,Bt.lk)(Xt,Xt.points[$],.5),pt=(0,Bt.N_)(gt[0],gt[1],gt[2],gt[3],lt),vt=(0,it.Z)(pt,2),zt=vt[0],Qt=vt[1];wt=Ct.getPointGlobalCoordinates(Xt,[zt,Qt])}}return wt}},{key:"getSegmentMidPointIndex",value:function(Xt,ut,ft){var $=Ct.getElement(Xt.elementId);if(!$)return-1;for(var wt=Ct.getEditorMidPoints($,ut),gt=0;gt<wt.length;){if(Ct.arePointsEqual(ft,wt[gt]))return gt+1;gt++}return-1}},{key:"handlePointerDown",value:function(Xt,ut,ft,$,wt){var gt,lt={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!wt)return lt;var pt=wt.elementId,vt=Ct.getElement(pt);if(!vt)return lt;var zt=Ct.getSegmentMidpointHitCoords(wt,$,ut),Qt=null;if(zt&&(Qt=Ct.getSegmentMidPointIndex(wt,ut,zt)),Xt.altKey&&ut.editingLinearElement)return wt.lastUncommittedPoint==null&&((0,xt.DR)(vt,{points:[].concat((0,Et.Z)(vt.points),[Ct.createPointAt(vt,$.x,$.y,Xt[Yt.tW.CTRL_OR_CMD]?null:ut.gridSize)])}),lt.didAddPoint=!0),ft.resumeRecording(),lt.linearElementEditor=Kt(Kt({},wt),{},{pointerDownState:{prevSelectedPointsIndices:wt.selectedPointsIndices,lastClickedPoint:-1,origin:{x:$.x,y:$.y},segmentMidpoint:{value:zt,index:Qt,added:!1}},selectedPointsIndices:[vt.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,Zt.Y9)($,St.Z.getScene(vt))}),lt.didAddPoint=!0,lt;var Ft=Ct.getPointIndexUnderCursor(vt,ut.zoom,$.x,$.y);if(Ft>=0||zt)lt.hitElement=vt;else{var At=wt.startBindingElement,Tt=wt.endBindingElement;(0,Zt.N1)(ut)&&(0,dt.Mn)(vt)&&(0,Zt.HG)(vt,At,Tt)}var jt=(0,st.qf)(vt),un=(0,it.Z)(jt,4),Jt=un[0],hn=un[1],rn=(Jt+un[2])/2,Mt=(hn+un[3])/2,an=Ft>-1&&(0,Bt.U1)(vt.x+vt.points[Ft][0],vt.y+vt.points[Ft][1],rn,Mt,vt.angle),Cn=Ft>-1||Xt.shiftKey?Xt.shiftKey||(gt=wt.selectedPointsIndices)!==null&&gt!==void 0&&gt.includes(Ft)?Gt([].concat((0,Et.Z)(wt.selectedPointsIndices||[]),[Ft])):[Ft]:null;return lt.linearElementEditor=Kt(Kt({},wt),{},{pointerDownState:{prevSelectedPointsIndices:wt.selectedPointsIndices,lastClickedPoint:Ft,origin:{x:$.x,y:$.y},segmentMidpoint:{value:zt,index:Qt,added:!1}},selectedPointsIndices:Cn,pointerOffset:an?{x:$.x-an[0],y:$.y-an[1]}:{x:0,y:0}}),lt}},{key:"arePointsEqual",value:function(Xt,ut){return!Xt&&!ut||!(!Xt||!ut)&&(0,Bt.Jj)(Xt,ut)}},{key:"handlePointerMove",value:function(Xt,ut,ft,$){if(!$.editingLinearElement)return null;var wt=$.editingLinearElement,gt=wt.elementId,lt=wt.lastUncommittedPoint,pt=Ct.getElement(gt);if(!pt)return $.editingLinearElement;var vt,zt=pt.points,Qt=zt[zt.length-1];if(!Xt.altKey)return Qt===lt&&Ct.deletePoints(pt,[zt.length-1]),Kt(Kt({},$.editingLinearElement),{},{lastUncommittedPoint:null});if((0,Yt.Ge)(Xt)&&zt.length>=2){var Ft=zt[zt.length-2],At=Ct._getShiftLockedDelta(pt,Ft,[ut,ft],Xt[Yt.tW.CTRL_OR_CMD]?null:$.gridSize),Tt=(0,it.Z)(At,2),jt=Tt[0],un=Tt[1];vt=[jt+Ft[0],un+Ft[1]]}else vt=Ct.createPointAt(pt,ut-$.editingLinearElement.pointerOffset.x,ft-$.editingLinearElement.pointerOffset.y,Xt[Yt.tW.CTRL_OR_CMD]?null:$.gridSize);return Qt===lt?Ct.movePoints(pt,[{index:pt.points.length-1,point:vt}]):Ct.addPoints(pt,$,[{point:vt}]),Kt(Kt({},$.editingLinearElement),{},{lastUncommittedPoint:pt.points[pt.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(Xt,ut){var ft=(0,st.qf)(Xt),$=(0,it.Z)(ft,4),wt=$[0],gt=$[1],lt=(wt+$[2])/2,pt=(gt+$[3])/2,vt=Xt.x,zt=Xt.y,Qt=(0,Bt.U1)(vt+ut[0],zt+ut[1],lt,pt,Xt.angle),Ft=(0,it.Z)(Qt,2);return[vt=Ft[0],zt=Ft[1]]}},{key:"getPointsGlobalCoordinates",value:function(Xt){var ut=(0,st.qf)(Xt),ft=(0,it.Z)(ut,4),$=ft[0],wt=ft[1],gt=ft[2],lt=ft[3],pt=($+gt)/2,vt=(wt+lt)/2;return Xt.points.map(function(zt){var Qt=Xt.x,Ft=Xt.y,At=(0,Bt.U1)(Qt+zt[0],Ft+zt[1],pt,vt,Xt.angle),Tt=(0,it.Z)(At,2);return[Qt=Tt[0],Ft=Tt[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(Xt,ut){var ft=ut<0?Xt.points.length+ut:ut,$=(0,st.qf)(Xt),wt=(0,it.Z)($,4),gt=wt[0],lt=wt[1],pt=(gt+wt[2])/2,vt=(lt+wt[3])/2,zt=Xt.points[ft],Qt=Xt.x,Ft=Xt.y;return zt?(0,Bt.U1)(Qt+zt[0],Ft+zt[1],pt,vt,Xt.angle):(0,Bt.U1)(Qt,Ft,pt,vt,Xt.angle)}},{key:"pointFromAbsoluteCoords",value:function(Xt,ut){var ft=(0,st.qf)(Xt),$=(0,it.Z)(ft,4),wt=$[0],gt=$[1],lt=(wt+$[2])/2,pt=(gt+$[3])/2,vt=(0,Bt.U1)(ut[0],ut[1],lt,pt,-Xt.angle),zt=(0,it.Z)(vt,2),Qt=zt[0],Ft=zt[1];return[Qt-Xt.x,Ft-Xt.y]}},{key:"getPointIndexUnderCursor",value:function(Xt,ut,ft,$){for(var wt=Ct.getPointsGlobalCoordinates(Xt),gt=wt.length;--gt>-1;){var lt=wt[gt];if((0,Bt.LW)(ft,$,lt[0],lt[1])*ut.value<Ct.POINT_HANDLE_SIZE+1)return gt}return-1}},{key:"createPointAt",value:function(Xt,ut,ft,$){var wt=(0,Bt.wC)(ut,ft,$),gt=(0,st.qf)(Xt),lt=(0,it.Z)(gt,4),pt=lt[0],vt=lt[1],zt=(pt+lt[2])/2,Qt=(vt+lt[3])/2,Ft=(0,Bt.U1)(wt[0],wt[1],zt,Qt,-Xt.angle),At=(0,it.Z)(Ft,2),Tt=At[0],jt=At[1];return[Tt-Xt.x,jt-Xt.y]}},{key:"getNormalizedPoints",value:function(Xt){var ut=Xt.points,ft=ut[0][0],$=ut[0][1];return{points:ut.map(function(wt,gt){return[wt[0]-ft,wt[1]-$]}),x:Xt.x+ft,y:Xt.y+$}}},{key:"normalizePoints",value:function(Xt){(0,xt.DR)(Xt,Ct.getNormalizedPoints(Xt))}},{key:"duplicateSelectedPoints",value:function(Xt){if(!Xt.editingLinearElement)return!1;var ut=Xt.editingLinearElement,ft=ut.selectedPointsIndices,$=ut.elementId,wt=Ct.getElement($);if(!wt||ft===null)return!1;var gt=wt.points,lt=[],pt=!1,vt=-1,zt=gt.reduce(function(Ft,At,Tt){if(++vt,Ft.push(At),ft.includes(Tt)){var jt=gt[Tt+1];jt||(pt=!0),Ft.push(jt?[(At[0]+jt[0])/2,(At[1]+jt[1])/2]:[At[0],At[1]]),lt.push(vt+1),++vt}return Ft},[]);if((0,xt.DR)(wt,{points:zt}),pt){var Qt=wt.points[wt.points.length-1];Ct.movePoints(wt,[{index:wt.points.length-1,point:[Qt[0]+30,Qt[1]+30]}])}return{appState:Kt(Kt({},Xt),{},{editingLinearElement:Kt(Kt({},Xt.editingLinearElement),{},{selectedPointsIndices:lt})})}}},{key:"deletePoints",value:function(Xt,ut){var ft=0,$=0;if(ut.includes(0)){var wt=Xt.points.find(function(lt,pt){return!ut.includes(pt)});wt&&(ft=wt[0],$=wt[1])}var gt=Xt.points.reduce(function(lt,pt,vt){return ut.includes(vt)||lt.push(lt.length?[pt[0]-ft,pt[1]-$]:[0,0]),lt},[]);Ct._updatePoints(Xt,gt,ft,$)}},{key:"addPoints",value:function(Xt,ut,ft){var $=[].concat((0,Et.Z)(Xt.points),(0,Et.Z)(ft.map(function(wt){return wt.point})));Ct._updatePoints(Xt,$,0,0)}},{key:"movePoints",value:function(Xt,ut,ft){var $=Xt.points,wt=0,gt=0,lt=ut.find(function(vt){return vt.index===0});lt&&(wt=lt.point[0]+$[lt.index][0],gt=lt.point[1]+$[lt.index][1]);var pt=$.map(function(vt,zt){var Qt=ut.find(function(Tt){return Tt.index===zt});if(Qt){if(lt)return vt;var Ft=Qt.point[0]-$[Qt.index][0],At=Qt.point[1]-$[Qt.index][1];return[vt[0]+Ft,vt[1]+At]}return wt||gt?[vt[0]-wt,vt[1]-gt]:vt});Ct._updatePoints(Xt,pt,wt,gt,ft)}},{key:"shouldAddMidpoint",value:function(Xt,ut,ft){if(!Ct.getElement(Xt.elementId))return!1;var $=Xt.pointerDownState.segmentMidpoint;if($.added||$.value===null||$.index===null||Xt.pointerDownState.origin===null)return!1;var wt=Xt.pointerDownState.origin,gt=(0,Bt.LW)(wt.x,wt.y,ut.x,ut.y);return!(!ft.editingLinearElement&&gt<bn.f/ft.zoom.value)}},{key:"addMidpoint",value:function(Xt,ut,ft,$){var wt=Ct.getElement(Xt.elementId);if(wt){var gt=Xt.pointerDownState.segmentMidpoint,lt={pointerDownState:Xt.pointerDownState,selectedPointsIndices:Xt.selectedPointsIndices},pt=Ct.createPointAt(wt,ut.x,ut.y,$?ft.gridSize:null),vt=[].concat((0,Et.Z)(wt.points.slice(0,gt.index)),[pt],(0,Et.Z)(wt.points.slice(gt.index)));return(0,xt.DR)(wt,{points:vt}),lt.pointerDownState=Kt(Kt({},Xt.pointerDownState),{},{segmentMidpoint:Kt(Kt({},Xt.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:gt.index}),lt.selectedPointsIndices=[gt.index],lt}}},{key:"_updatePoints",value:function(Xt,ut,ft,$,wt){var gt=(0,tt.Ut)(Xt,ut),lt=(0,tt.Ut)(Xt,Xt.points),pt=(gt[0]+gt[2])/2,vt=(gt[1]+gt[3])/2,zt=(lt[0]+lt[2])/2-pt,Qt=(lt[1]+lt[3])/2-vt,Ft=(0,Bt.U1)(ft,$,zt,Qt,Xt.angle);(0,xt.DR)(Xt,Kt(Kt({},wt),{},{points:ut,x:Xt.x+Ft[0],y:Xt.y+Ft[1]}))}},{key:"_getShiftLockedDelta",value:function(Xt,ut,ft,$){var wt=Ct.getPointGlobalCoordinates(Xt,ut),gt=(0,Bt.wC)(ft[0],ft[1],$),lt=(0,it.Z)(gt,2),pt=lt[0],vt=lt[1],zt=(0,st.o4)(wt[0],wt[1],pt,vt),Qt=zt.width,Ft=zt.height;return(0,Bt.xj)([Qt,Ft],[0,0],-Xt.angle)}}]),Ct}();Ot.POINT_HANDLE_SIZE=10,Ot.getEditorMidPoints=function(Ct,Xt){var ut=(0,sn.WJ)(Ct);return!Xt.editingLinearElement&&Ct.points.length>2&&!ut?[]:(yt.version===Ct.version&&yt.zoom===Xt.zoom.value||Ot.updateEditorMidPointsCache(Ct,Xt),yt.points)},Ot.updateEditorMidPointsCache=function(Ct,Xt){for(var ut=Ot.getPointsGlobalCoordinates(Ct),ft=0,$=[];ft<ut.length-1;)if(Ot.isSegmentTooShort(Ct,Ct.points[ft],Ct.points[ft+1],Xt.zoom))$.push(null),ft++;else{var wt=Ot.getSegmentMidPoint(Ct,ut[ft],ut[ft+1],ft+1);$.push(wt),ft++}yt.points=$,yt.version=Ct.version,yt.zoom=Xt.zoom.value},Ot.getSegmentMidpointHitCoords=function(Ct,Xt,ut){var ft=Ct.elementId,$=Ot.getElement(ft);if(!$||Ot.getPointIndexUnderCursor($,ut.zoom,Xt.x,Xt.y)>=0||Ot.getPointsGlobalCoordinates($).length>=3&&!ut.editingLinearElement)return null;var wt=Ot.POINT_HANDLE_SIZE/ut.zoom.value,gt=Ct.segmentMidPointHoveredCoords;if(gt&&(0,Bt.LW)(gt[0],gt[1],Xt.x,Xt.y)<=wt)return gt;for(var lt=0,pt=Ot.getEditorMidPoints($,ut);lt<pt.length;){if(pt[lt]!==null&&(0,Bt.LW)(pt[lt][0],pt[lt][1],Xt.x,Xt.y)<=wt)return pt[lt];lt++}return null},Ot.getBoundTextElementPosition=function(Ct,Xt){var ut=Ot.getPointsGlobalCoordinates(Ct);ut.length<2&&(0,xt.DR)(Xt,{isDeleted:!0});var ft=0,$=0;if(Ct.points.length%2==1){var wt=Math.floor(Ct.points.length/2),gt=Ot.getPointGlobalCoordinates(Ct,Ct.points[wt]);ft=gt[0]-Xt.width/2,$=gt[1]-Xt.height/2}else{var lt=Ct.points.length/2-1,pt=yt.points[lt];Ct.points.length===2&&(pt=(0,Bt.H5)(ut[0],ut[1])),pt&&yt.version===Ct.version||(pt=Ot.getSegmentMidPoint(Ct,ut[lt],ut[lt+1],lt+1)),ft=pt[0]-Xt.width/2,$=pt[1]-Xt.height/2}return{x:ft,y:$}},Ot.getMinMaxXYWithBoundText=function(Ct,Xt,ut){var ft=(0,it.Z)(Xt,4),$=ft[0],wt=ft[1],gt=ft[2],lt=ft[3],pt=($+gt)/2,vt=(wt+lt)/2,zt=Ot.getBoundTextElementPosition(Ct,ut),Qt=zt.x,Ft=zt.y,At=Qt+ut.width,Tt=Ft+ut.height,jt=(0,Bt.xj)([$,wt],[pt,vt],Ct.angle),un=(0,Bt.xj)([gt,wt],[pt,vt],Ct.angle),Jt=(0,Bt.xj)([Qt,Ft],[pt,vt],-Ct.angle),hn=(0,Bt.xj)([At,Ft],[pt,vt],-Ct.angle),rn=(0,Bt.xj)([Qt,Tt],[pt,vt],-Ct.angle),Mt=(0,Bt.xj)([At,Tt],[pt,vt],-Ct.angle);return jt[0]<un[0]&&jt[1]>=un[1]?($=Math.min($,rn[0]),gt=Math.max(gt,Math.max(hn[0],Mt[0])),wt=Math.min(wt,Jt[1]),lt=Math.max(lt,Mt[1])):jt[0]>=un[0]&&jt[1]>un[1]?($=Math.min($,Mt[0]),gt=Math.max(gt,Math.max(Jt[0],hn[0])),wt=Math.min(wt,rn[1]),lt=Math.max(lt,hn[1])):jt[0]>=un[0]?($=Math.min($,hn[0]),gt=Math.max(gt,rn[0]),wt=Math.min(wt,Mt[1]),lt=Math.max(lt,Jt[1])):jt[1]<=un[1]&&($=Math.min($,Math.min(hn[0],Jt[0])),gt=Math.max(gt,Mt[0]),wt=Math.min(wt,hn[1]),lt=Math.max(lt,rn[1])),[$,wt,gt,lt,pt,vt]},Ot.getElementAbsoluteCoords=function(Ct){var Xt,ut,ft,$,wt,gt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Ct.points.length<2||!pn.R.get(Ct)){var lt=Ct.points.reduce(function(kn,jn){var Dn=(0,it.Z)(jn,2),Fn=Dn[0],vn=Dn[1];return kn.minY=Math.min(kn.minY,vn),kn.minX=Math.min(kn.minX,Fn),kn.maxX=Math.max(kn.maxX,Fn),kn.maxY=Math.max(kn.maxY,vn),kn},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),pt=lt.minX,vt=lt.minY,zt=lt.maxX,Qt=lt.maxY;ut=pt+Ct.x,ft=vt+Ct.y,$=zt+Ct.x,wt=Qt+Ct.y}else{var Ft=pn.R.generateElementShape(Ct),At=(0,tt.CM)(Ft[0]),Tt=(0,tt.IX)(At),jt=(0,it.Z)(Tt,4),un=jt[0],Jt=jt[1],hn=jt[2],rn=jt[3];ut=un+Ct.x,ft=Jt+Ct.y,$=hn+Ct.x,wt=rn+Ct.y}var Mt=(ut+$)/2,an=(ft+wt)/2;if(Xt=[ut,ft,$,wt,Mt,an],!gt)return Xt;var Cn=(0,sn.WJ)(Ct);return Cn&&(Xt=Ot.getMinMaxXYWithBoundText(Ct,[ut,ft,$,wt],Cn)),Xt};var Gt=function(Ct){var Xt=(0,Et.Z)(new Set(Ct.filter(function(ut){return ut!==null&&ut!==-1})));return(Xt=Xt.sort(function(ut,ft){return ut-ft})).length?Xt:null}},583:function($t,Vt,_){_.d(Vt,{BE:function(){return Zt},DR:function(){return St},ZP:function(){return Nt}});var Et=_(6655),ot=_(7169),it=_(457),nt=_(5999),ht=_(4643),Bt=_(9827),st=_(2921);function tt(dt,Yt){var sn=Object.keys(dt);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(dt);Yt&&(bn=bn.filter(function(pn){return Object.getOwnPropertyDescriptor(dt,pn).enumerable})),sn.push.apply(sn,bn)}return sn}function xt(dt){for(var Yt=1;Yt<arguments.length;Yt++){var sn=arguments[Yt]!=null?arguments[Yt]:{};Yt%2?tt(Object(sn),!0).forEach(function(bn){(0,ot.Z)(dt,bn,sn[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors(sn)):tt(Object(sn)).forEach(function(bn){Object.defineProperty(dt,bn,Object.getOwnPropertyDescriptor(sn,bn))})}return dt}var St=function(dt,Yt){var sn,bn=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],pn=!1,mn=Yt,qt=mn.points,Ut=mn.fileId;for(var Kt in qt!==void 0&&(Yt=xt(xt({},(0,nt.k)(qt)),Yt)),Yt){var yt=Yt[Kt];if(yt!==void 0){if(dt[Kt]===yt&&((0,Et.Z)(yt)!=="object"||yt===null||Kt==="groupIds"||Kt==="scale"))continue;if(Kt==="scale"){var Ot=dt[Kt],Gt=yt;if(Ot[0]===Gt[0]&&Ot[1]===Gt[1])continue}else if(Kt==="points"){var Ct=dt[Kt],Xt=yt;if(Ct.length===Xt.length){for(var ut=!1,ft=Ct.length;--ft;){var $=Ct[ft],wt=Xt[ft];if($[0]!==wt[0]||$[1]!==wt[1]){ut=!0;break}}if(!ut)continue}}dt[Kt]=yt,pn=!0}}return pn&&(Yt.height===void 0&&Yt.width===void 0&&Ut===void 0&&qt===void 0||st.R.delete(dt),dt.version++,dt.versionNonce=(0,ht.LU)(),dt.updated=(0,Bt.C3)(),bn&&((sn=it.Z.getScene(dt))===null||sn===void 0||sn.informMutation())),dt},Zt=function(dt,Yt){var sn=!1;for(var bn in Yt){var pn=Yt[bn];if(pn!==void 0){if(dt[bn]===pn&&((0,Et.Z)(pn)!=="object"||pn===null))continue;sn=!0}}return sn?xt(xt(xt({},dt),Yt),{},{updated:(0,Bt.C3)(),version:dt.version+1,versionNonce:(0,ht.LU)()}):dt},Nt=function(dt,Yt){return dt.version=(Yt??dt.version)+1,dt.versionNonce=(0,ht.LU)(),dt.updated=(0,Bt.C3)(),dt}},5742:function($t,Vt,_){_.d(Vt,{JZ:function(){return Xt},KE:function(){return ft},M:function(){return Kt},M3:function(){return yt},N_:function(){return ut},OL:function(){return lt},Sy:function(){return vt},Up:function(){return Ut},VL:function(){return Gt},_N:function(){return zt},vw:function(){return wt},y8:function(){return $}});var Et=_(6655),ot=_(2577),it=_(7169),nt=_(2726),ht=_(9827),Bt=_(4643),st=_(583),tt=_(9215),xt=_(7651),St=_(2361),Zt=_(4949),Nt=_(4761),dt=_(9937),Yt=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function sn(Qt,Ft){var At=typeof Symbol<"u"&&Qt[Symbol.iterator]||Qt["@@iterator"];if(!At){if(Array.isArray(Qt)||(At=function(rn,Mt){if(rn){if(typeof rn=="string")return bn(rn,Mt);var an=Object.prototype.toString.call(rn).slice(8,-1);if(an==="Object"&&rn.constructor&&(an=rn.constructor.name),an==="Map"||an==="Set")return Array.from(rn);if(an==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(an))return bn(rn,Mt)}}(Qt))||Ft){At&&(Qt=At);var Tt=0,jt=function(){};return{s:jt,n:function(){return Tt>=Qt.length?{done:!0}:{done:!1,value:Qt[Tt++]}},e:function(rn){throw rn},f:jt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var un,Jt=!0,hn=!1;return{s:function(){At=At.call(Qt)},n:function(){var rn=At.next();return Jt=rn.done,rn},e:function(rn){hn=!0,un=rn},f:function(){try{Jt||At.return==null||At.return()}finally{if(hn)throw un}}}}function bn(Qt,Ft){(Ft==null||Ft>Qt.length)&&(Ft=Qt.length);for(var At=0,Tt=new Array(Ft);At<Ft;At++)Tt[At]=Qt[At];return Tt}function pn(Qt,Ft){var At=Object.keys(Qt);if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(Qt);Ft&&(Tt=Tt.filter(function(jt){return Object.getOwnPropertyDescriptor(Qt,jt).enumerable})),At.push.apply(At,Tt)}return At}function mn(Qt){for(var Ft=1;Ft<arguments.length;Ft++){var At=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?pn(Object(At),!0).forEach(function(Tt){(0,it.Z)(Qt,Tt,At[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qt,Object.getOwnPropertyDescriptors(At)):pn(Object(At)).forEach(function(Tt){Object.defineProperty(Qt,Tt,Object.getOwnPropertyDescriptor(At,Tt))})}return Qt}var qt=function(Qt,Ft){var At,Tt,jt=Ft.x,un=Ft.y,Jt=Ft.strokeColor,hn=Jt===void 0?dt.HN.strokeColor:Jt,rn=Ft.backgroundColor,Mt=rn===void 0?dt.HN.backgroundColor:rn,an=Ft.fillStyle,Cn=an===void 0?dt.HN.fillStyle:an,kn=Ft.strokeWidth,jn=kn===void 0?dt.HN.strokeWidth:kn,Dn=Ft.strokeStyle,Fn=Dn===void 0?dt.HN.strokeStyle:Dn,vn=Ft.roughness,Gn=vn===void 0?dt.HN.roughness:vn,Sn=Ft.opacity,nn=Sn===void 0?dt.HN.opacity:Sn,Qn=Ft.width,tn=Qn===void 0?0:Qn,at=Ft.height,ct=at===void 0?0:at,mt=Ft.angle,Wt=mt===void 0?0:mt,Rt=Ft.groupIds,en=Rt===void 0?[]:Rt,Pt=Ft.frameId,on=Pt===void 0?null:Pt,Bn=Ft.roundness,yn=Bn===void 0?null:Bn,Wn=Ft.boundElements,Vn=Wn===void 0?null:Wn,Hn=Ft.link,Zn=Hn===void 0?null:Hn,Kn=Ft.locked,qn=Kn===void 0?dt.HN.locked:Kn,sr=(0,nt.Z)(Ft,Yt);return{id:sr.id||(0,Bt.kb)(),type:Qt,x:jt,y:un,width:tn,height:ct,angle:Wt,strokeColor:hn,backgroundColor:Mt,fillStyle:Cn,strokeWidth:jn,strokeStyle:Fn,roughness:Gn,opacity:nn,groupIds:en,frameId:on,roundness:yn,seed:(At=sr.seed)!==null&&At!==void 0?At:(0,Bt.LU)(),version:sr.version||1,versionNonce:(Tt=sr.versionNonce)!==null&&Tt!==void 0?Tt:0,isDeleted:!1,boundElements:Vn,updated:(0,ht.C3)(),link:Zn,locked:qn,customData:sr.customData}},Ut=function(Qt){return qt(Qt.type,Qt)},Kt=function(Qt){return mn(mn({},qt("embeddable",Qt)),{},{validated:Qt.validated})},yt=function(Qt){return(0,st.BE)(mn(mn({},qt("frame",Qt)),{},{type:"frame",name:(Qt==null?void 0:Qt.name)||null}),{})},Ot=function(Qt,Ft){return{x:Qt.textAlign==="center"?Ft.width/2:Qt.textAlign==="right"?Ft.width:0,y:Qt.verticalAlign==="middle"?Ft.height/2:0}},Gt=function(Qt){var Ft=Qt.fontFamily||dt.rk,At=Qt.fontSize||dt.n5,Tt=Qt.lineHeight||(0,Nt.PT)(Ft),jt=(0,Nt.bG)(Qt.text),un=(0,Nt.X1)(jt,(0,ht.mO)({fontFamily:Ft,fontSize:At}),Tt),Jt=Qt.textAlign||dt.Hg,hn=Qt.verticalAlign||dt.hs,rn=Ot({textAlign:Jt,verticalAlign:hn},un);return(0,st.BE)(mn(mn({},qt("text",Qt)),{},{text:jt,fontSize:At,fontFamily:Ft,textAlign:Jt,verticalAlign:hn,x:Qt.x-rn.x,y:Qt.y-rn.y,width:un.width,height:un.height,baseline:un.baseline,containerId:Qt.containerId||null,originalText:jt,lineHeight:Tt}),{})},Ct=function(Qt,Ft){var At,Tt,jt=(0,Nt.X1)(Ft,(0,ht.mO)(Qt),Qt.lineHeight),un=jt.width,Jt=jt.height,hn=jt.baseline,rn=Qt.textAlign,Mt=Qt.verticalAlign;if(rn!=="center"||Mt!==dt.oX.MIDDLE||Qt.containerId){var an=(0,xt.qf)(Qt),Cn=(0,ot.Z)(an,4),kn=Cn[0],jn=Cn[1],Dn=Cn[2],Fn=Cn[3],vn=(0,Zt.wC)(Qt,un,Jt,!1),Gn=(0,ot.Z)(vn,4),Sn=(kn-Gn[0])/2,nn=(jn-Gn[1])/2,Qn=(Dn-Gn[2])/2,tn=(Fn-Gn[3])/2,at=(0,St.yq)({s:!0,e:rn==="center"||rn==="left",w:rn==="center"||rn==="right"},Qt.x,Qt.y,Qt.angle,Sn,nn,Qn,tn),ct=(0,ot.Z)(at,2);At=ct[0],Tt=ct[1]}else{var mt=(0,Nt.X1)(Qt.text,(0,ht.mO)(Qt),Qt.lineHeight),Wt=Ot(Qt,{width:un-mt.width,height:Jt-mt.height});At=Qt.x-Wt.x,Tt=Qt.y-Wt.y}return{width:un,height:Jt,baseline:hn,x:Number.isFinite(At)?At:Qt.x,y:Number.isFinite(Tt)?Tt:Qt.y}},Xt=function(Qt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt.text;if(!Qt.isDeleted){var At=(0,Nt.tl)(Qt);At&&(Ft=(0,Nt.lD)(Ft,(0,ht.mO)(Qt),(0,Nt.iZ)(At)));var Tt=Ct(Qt,Ft);return mn({text:Ft},Tt)}},ut=function(Qt,Ft){Ft.text;var At=Ft.isDeleted,Tt=Ft.originalText;return(0,st.BE)(Qt,mn({originalText:Tt,isDeleted:At??Qt.isDeleted},Xt(Qt,Tt)))},ft=function(Qt){return mn(mn({},qt(Qt.type,Qt)),{},{points:Qt.points||[],pressures:[],simulatePressure:Qt.simulatePressure,lastCommittedPoint:null})},$=function(Qt){return mn(mn({},qt(Qt.type,Qt)),{},{points:Qt.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:Qt.startArrowhead||null,endArrowhead:Qt.endArrowhead||null})},wt=function(Qt){var Ft,At,Tt;return mn(mn({},qt("image",Qt)),{},{strokeColor:"transparent",status:(Ft=Qt.status)!==null&&Ft!==void 0?Ft:"pending",fileId:(At=Qt.fileId)!==null&&At!==void 0?At:null,scale:(Tt=Qt.scale)!==null&&Tt!==void 0?Tt:[1,1]})},gt=function Qt(Ft){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(Ft==null||(0,Et.Z)(Ft)!=="object")return Ft;var Tt=Object.prototype.toString.call(Ft);if(Tt==="[object Object]"){var jt=typeof Ft.constructor=="function"?Object.create(Object.getPrototypeOf(Ft)):{};for(var un in Ft)if(Ft.hasOwnProperty(un)){if(At===0&&(un==="shape"||un==="canvas"))continue;jt[un]=Qt(Ft[un],At+1)}return jt}if(Array.isArray(Ft)){for(var Jt=Ft.length,hn=new Array(Jt);Jt--;)hn[Jt]=Qt(Ft[Jt],At+1);return hn}return Ft},lt=function(Qt){return gt(Qt)},pt=function(Qt){if((0,ht.h2)()&&Qt){var Ft,At,Tt="".concat(Qt,"_copy");return(Ft=window.h)!==null&&Ft!==void 0&&(At=Ft.app)!==null&&At!==void 0&&At.getSceneElementsIncludingDeleted().find(function(jt){return jt.id===Tt})&&(Tt+="_copy"),Tt}return(0,Bt.kb)()},vt=function(Qt,Ft,At,Tt){var jt=lt(At);return jt.id=pt(jt.id),jt.boundElements=null,jt.updated=(0,ht.C3)(),jt.seed=(0,Bt.LU)(),jt.groupIds=(0,tt.Qy)(jt.groupIds,Qt,function(un){return Ft.has(un)||Ft.set(un,pt(un)),Ft.get(un)}),Tt&&(jt=Object.assign(jt,Tt)),jt},zt=function(Qt,Ft){var At,Tt=[],jt=(0,ht.xn)(Qt),un=new Map,Jt=function(Dn){if(un.has(Dn))return un.get(Dn);if(jt.has(Dn)){var Fn=pt(Dn);return un.set(Dn,Fn),Fn}return null},hn=new Map,rn=sn(Qt);try{for(rn.s();!(At=rn.n()).done;){var Mt=At.value,an=gt(Mt);if(an.id=Jt(Mt.id),Ft!=null&&Ft.randomizeSeed&&(an.seed=(0,Bt.LU)(),(0,st.ZP)(an)),an.groupIds&&(an.groupIds=an.groupIds.map(function(Dn){return hn.has(Dn)||hn.set(Dn,pt(Dn)),hn.get(Dn)})),"containerId"in an&&an.containerId){var Cn=Jt(an.containerId);an.containerId=Cn}if("boundElements"in an&&an.boundElements&&(an.boundElements=an.boundElements.reduce(function(Dn,Fn){var vn=Jt(Fn.id);return vn&&Dn.push(mn(mn({},Fn),{},{id:vn})),Dn},[])),"endBinding"in an&&an.endBinding){var kn=Jt(an.endBinding.elementId);an.endBinding=kn?mn(mn({},an.endBinding),{},{elementId:kn}):null}if("startBinding"in an&&an.startBinding){var jn=Jt(an.startBinding.elementId);an.startBinding=jn?mn(mn({},an.startBinding),{},{elementId:jn}):null}an.frameId&&(an.frameId=Jt(an.frameId)),Tt.push(an)}}catch(Dn){rn.e(Dn)}finally{rn.f()}return Tt}},4381:function($t,Vt,_){_.d(Vt,{LM:function(){return ft},T:function(){return gt},vY:function(){return yt},xx:function(){return wt}});var Et=_(2726),ot=_(1930),it=_(7169),nt=_(2577),ht=_(9937),Bt=_(5999),st=_(2361),tt=_(4949),xt=_(4183),St=_(583),Zt=_(9827),Nt=_(9645),dt=_(457),Yt=_(4761),sn=_(7422),bn=["boundTextFontSize"];function pn(lt,pt){var vt=typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(!vt){if(Array.isArray(lt)||(vt=function(jt,un){if(jt){if(typeof jt=="string")return mn(jt,un);var Jt=Object.prototype.toString.call(jt).slice(8,-1);if(Jt==="Object"&&jt.constructor&&(Jt=jt.constructor.name),Jt==="Map"||Jt==="Set")return Array.from(jt);if(Jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Jt))return mn(jt,un)}}(lt))||pt){vt&&(lt=vt);var zt=0,Qt=function(){};return{s:Qt,n:function(){return zt>=lt.length?{done:!0}:{done:!1,value:lt[zt++]}},e:function(jt){throw jt},f:Qt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ft,At=!0,Tt=!1;return{s:function(){vt=vt.call(lt)},n:function(){var jt=vt.next();return At=jt.done,jt},e:function(jt){Tt=!0,Ft=jt},f:function(){try{At||vt.return==null||vt.return()}finally{if(Tt)throw Ft}}}}function mn(lt,pt){(pt==null||pt>lt.length)&&(pt=lt.length);for(var vt=0,zt=new Array(pt);vt<pt;vt++)zt[vt]=lt[vt];return zt}function qt(lt,pt){var vt=Object.keys(lt);if(Object.getOwnPropertySymbols){var zt=Object.getOwnPropertySymbols(lt);pt&&(zt=zt.filter(function(Qt){return Object.getOwnPropertyDescriptor(lt,Qt).enumerable})),vt.push.apply(vt,zt)}return vt}function Ut(lt){for(var pt=1;pt<arguments.length;pt++){var vt=arguments[pt]!=null?arguments[pt]:{};pt%2?qt(Object(vt),!0).forEach(function(zt){(0,it.Z)(lt,zt,vt[zt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(vt)):qt(Object(vt)).forEach(function(zt){Object.defineProperty(lt,zt,Object.getOwnPropertyDescriptor(vt,zt))})}return lt}var Kt=function(lt){return lt<0?lt+2*Math.PI:lt>=2*Math.PI?lt-2*Math.PI:lt},yt=function(lt,pt,vt,zt,Qt,Ft,At,Tt,jt,un,Jt,hn){if(vt.length===1){var rn=(0,nt.Z)(vt,1)[0];return pt==="rotation"?(Ot(rn,Tt,jt,Qt,lt.originalElements),(0,Nt.Ww)(rn)):!(0,xt.iB)(rn)||pt!=="nw"&&pt!=="ne"&&pt!=="sw"&&pt!=="se"?pt&&ut(lt.originalElements,At,rn,pt,Ft,Tt,jt):(Xt(rn,pt,Ft,Tt,jt),(0,Nt.Ww)(rn)),!0}if(vt.length>1){if(pt==="rotation")return $(lt,vt,Tt,jt,Qt,un,Jt),!0;if(pt==="nw"||pt==="ne"||pt==="sw"||pt==="se")return ft(lt,vt,pt,Ft,Tt,jt),!0}return!1},Ot=function(lt,pt,vt,zt,Qt){var Ft,At=(0,tt.qf)(lt),Tt=(0,nt.Z)(At,4),jt=Tt[0],un=Tt[1],Jt=(jt+Tt[2])/2,hn=(un+Tt[3])/2;(0,xt.He)(lt)?Ft=0:(Ft=5*Math.PI/2+Math.atan2(vt-hn,pt-Jt),zt&&(Ft+=ht.ay/2,Ft-=Ft%ht.ay),Ft=Kt(Ft));var rn=(0,Yt.xB)(lt);if((0,St.DR)(lt,{angle:Ft}),rn){var Mt,an=(Mt=dt.Z.getScene(lt))===null||Mt===void 0?void 0:Mt.getElement(rn);an&&!(0,xt.Yv)(lt)&&(0,St.DR)(an,{angle:Ft})}},Gt=function(lt,pt,vt,zt){return(0,xt.bt)(lt)||(0,xt.F9)(lt)?{points:(0,Bt.z)(0,pt,(0,Bt.z)(1,vt,lt.points,zt),zt)}:{}},Ct=function(lt,pt,vt){var zt=lt.width;if((0,xt.Xh)(lt)){var Qt=(0,Yt.tl)(lt);Qt&&(zt=(0,Yt.iZ)(Qt))}var Ft=lt.fontSize*(pt/zt);if(Ft<ht.CP)return null;var At=(0,Yt.X1)(lt.text,(0,Zt.mO)({fontSize:Ft,fontFamily:lt.fontFamily}),lt.lineHeight);return{size:Ft,baseline:At.baseline+(vt-At.height)}},Xt=function(lt,pt,vt,zt,Qt){var Ft,At=(0,tt.qf)(lt),Tt=(0,nt.Z)(At,4),jt=Tt[0],un=Tt[1],Jt=Tt[2],hn=Tt[3],rn=(jt+Jt)/2,Mt=(un+hn)/2,an=(0,st.U1)(zt,Qt,rn,Mt,-lt.angle),Cn=(0,nt.Z)(an,2),kn=Cn[0],jn=Cn[1];switch(pt){case"se":Ft=Math.max((kn-jt)/(Jt-jt),(jn-un)/(hn-un));break;case"nw":Ft=Math.max((Jt-kn)/(Jt-jt),(hn-jn)/(hn-un));break;case"ne":Ft=Math.max((kn-jt)/(Jt-jt),(hn-jn)/(hn-un));break;case"sw":Ft=Math.max((Jt-kn)/(Jt-jt),(jn-un)/(hn-un))}if(Ft>0){var Dn=lt.width*Ft,Fn=lt.height*Ft,vn=Ct(lt,Dn,Fn);if(vn===null)return;var Gn=(0,tt.wC)(lt,Dn,Fn,!1),Sn=(0,nt.Z)(Gn,4),nn=(jt-Sn[0])/2,Qn=(un-Sn[1])/2,tn=(Jt-Sn[2])/2,at=(hn-Sn[3])/2,ct=(0,st.yq)(function(en,Pt){return{n:/^(n|ne|nw)$/.test(en)||Pt&&/^(s|se|sw)$/.test(en),s:/^(s|se|sw)$/.test(en)||Pt&&/^(n|ne|nw)$/.test(en),w:/^(w|nw|sw)$/.test(en)||Pt&&/^(e|ne|se)$/.test(en),e:/^(e|ne|se)$/.test(en)||Pt&&/^(w|nw|sw)$/.test(en)}}(pt,vt),lt.x,lt.y,lt.angle,nn,Qn,tn,at),mt=(0,nt.Z)(ct,2),Wt=mt[0],Rt=mt[1];(0,St.DR)(lt,{fontSize:vn.size,width:Dn,height:Fn,baseline:vn.baseline,x:Wt,y:Rt})}},ut=function(lt,pt,vt,zt,Qt,Ft,At){var Tt=lt.get(vt.id),jt=(0,tt.wC)(Tt,Tt.width,Tt.height,!0),un=(0,nt.Z)(jt,4),Jt=[un[0],un[1]],hn=[un[2],un[3]],rn=(0,st.H5)(Jt,hn),Mt=(0,st.xj)([Ft,At],rn,-Tt.angle),an=(0,tt.wC)(vt,vt.width,vt.height,!0),Cn=(0,nt.Z)(an,4),kn=Cn[0],jn=Cn[1],Dn=Cn[2]-kn,Fn=Cn[3]-jn,vn=(hn[0]-Jt[0])/Dn,Gn=(hn[1]-Jt[1])/Fn,Sn={},nn=(0,Yt.WJ)(vt);zt.includes("e")&&(vn=(Mt[0]-Jt[0])/Dn),zt.includes("s")&&(Gn=(Mt[1]-Jt[1])/Fn),zt.includes("w")&&(vn=(hn[0]-Mt[0])/Dn),zt.includes("n")&&(Gn=(hn[1]-Mt[1])/Fn);var Qn=Tt.width,tn=Tt.height,at=vt.width*vn,ct=vt.height*Gn;if(Qt&&(at=2*at-Qn,ct=2*ct-tn),pt){var mt=Math.abs(at)/Qn,Wt=Math.abs(ct)/tn;if(zt.length===1&&(ct*=mt,at*=Wt),zt.length===2){var Rt=Math.max(mt,Wt);at=Qn*Rt*Math.sign(at),ct=tn*Rt*Math.sign(ct)}}if(nn){var en=lt.get(nn.id);if(en&&(Sn={fontSize:en.fontSize,baseline:en.baseline}),pt){var Pt=Ut(Ut({},vt),{},{width:at,height:ct}),on=Ct(nn,(0,Yt.iZ)(Pt),(0,Yt.D9)(Pt,nn));if(on===null)return;Sn={fontSize:on.size,baseline:on.baseline}}else{var Bn=(0,Yt.AT)((0,Zt.mO)(nn),nn.lineHeight),yn=(0,Yt.w_)(nn.fontSize,nn.lineHeight);at=Math.max(at,Bn),ct=Math.max(ct,yn)}}var Wn=(0,tt.wC)(Tt,at,ct,!0),Vn=(0,nt.Z)(Wn,4),Hn=Vn[0],Zn=Vn[1],Kn=Vn[2],qn=Vn[3],sr=Kn-Hn,In=qn-Zn,An=[].concat(Jt);if(["n","w","nw"].includes(zt)&&(An=[hn[0]-Math.abs(sr),hn[1]-Math.abs(In)]),zt==="ne"){var On=[Jt[0],hn[1]];An=[On[0],On[1]-Math.abs(In)]}if(zt==="sw"){var _n=[hn[0],Jt[1]];An=[_n[0]-Math.abs(sr),_n[1]]}pt&&(["s","n"].includes(zt)&&(An[0]=rn[0]-sr/2),["e","w"].includes(zt)&&(An[1]=rn[1]-In/2));var or=ct<0;at<0&&(zt.includes("e")&&(An[0]-=Math.abs(sr)),zt.includes("w")&&(An[0]+=Math.abs(sr))),or&&(zt.includes("s")&&(An[1]-=Math.abs(In)),zt.includes("n")&&(An[1]+=Math.abs(In))),Qt&&(An[0]=rn[0]-Math.abs(sr)/2,An[1]=rn[1]-Math.abs(In)/2);var ir=Tt.angle,mr=(0,st.xj)(An,rn,ir),yr=[An[0]+Math.abs(sr)/2,An[1]+Math.abs(In)/2],cr=(0,st.xj)(yr,rn,ir);An=(0,st.xj)(mr,cr,-ir);var Ur=(0,ot.Z)(An),Wr=Tt.x-Hn,Xr=Tt.y-Zn;Ur[0]+=Wr,Ur[1]+=Xr;var wr,Jr,Kr=Ur[0],rr=Ur[1];((0,xt.bt)(vt)||(0,xt.F9)(vt))&&(wr=(0,Bt.z)(1,ct,Tt.points,!0),Jr=(0,Bt.z)(0,at,wr,!0));var Qr={width:Math.abs(at),height:Math.abs(ct),x:Kr,y:rr,points:Jr};if("scale"in vt&&"scale"in Tt&&(0,St.DR)(vt,{scale:[(Math.sign(Kn-Tt.x)||Tt.scale[0])*Tt.scale[0],(Math.sign(qn-Tt.y)||Tt.scale[1])*Tt.scale[1]]}),(0,xt.Yv)(vt)&&nn&&pt){var Ir=Qr.width/vt.width*nn.fontSize;if(Ir<ht.CP)return;Sn.fontSize=Ir}Qr.width!==0&&Qr.height!==0&&Number.isFinite(Qr.x)&&Number.isFinite(Qr.y)&&((0,St.DR)(vt,Qr),(0,Nt.Ww)(vt,{newSize:{width:Qr.width,height:Qr.height}}),nn&&Sn!=null&&(0,St.DR)(nn,{fontSize:Sn.fontSize,baseline:Sn.baseline}),(0,Yt.RB)(vt,zt,pt))},ft=function(lt,pt,vt,zt,Qt,Ft){var At,Tt=pt.reduce(function(Ir,xr){var pr=lt.originalElements.get(xr.id);return pr&&Ir.push({orig:pr,latest:xr}),Ir},[]),jt=Tt.reduce(function(Ir,xr){var pr,Nr=xr.orig;if(!(0,xt.bt)(Nr))return Ir;var Rr=(0,Yt.xB)(Nr);if(!Rr)return Ir;var qr=(pr=lt.originalElements.get(Rr))!==null&&pr!==void 0?pr:null;if(!(0,xt.Xh)(qr))return Ir;var Dr=sn._.getBoundTextElementPosition(Nr,qr);return[].concat((0,ot.Z)(Ir),[Ut(Ut({},qr),Dr)])},[]),un=(0,tt.v2)(Tt.map(function(Ir){return Ir.orig}).concat(jt)),Jt=un.minX,hn=un.minY,rn=un.maxX,Mt=un.maxY,an=un.midX,Cn=un.midY,kn=vt,jn=zt?[an,Cn]:{ne:[Jt,Mt],se:[Jt,hn],sw:[rn,hn],nw:[rn,Mt]}[kn],Dn=(0,nt.Z)(jn,2),Fn=Dn[0],vn=Dn[1],Gn=Math.max(Math.abs(Qt-Fn)/(rn-Jt)||0,Math.abs(Ft-vn)/(Mt-hn)||0)*(zt?2:1);if(Gn!==0){var Sn,nn={ne:[Qt>=Fn,Ft<=vn],se:[Qt>=Fn,Ft>=vn],sw:[Qt<=Fn,Ft>=vn],nw:[Qt<=Fn,Ft<=vn]}[kn].map(function(Ir){return Ir?1:-1}),Qn=(0,nt.Z)(nn,2),tn=Qn[0],at=Qn[1],ct=tn<0,mt=at<0,Wt=[],Rt=pn(Tt);try{for(Rt.s();!(Sn=Rt.n()).done;){var en,Pt=Sn.value,on=Pt.orig,Bn=Pt.latest;if(!(0,xt.iB)(on)||!(0,xt.Xh)(on)){var yn=on.width*Gn,Wn=on.height*Gn,Vn=Kt(on.angle*tn*at),Hn=(0,xt.bt)(on)||(0,xt.F9)(on),Zn=on.x-Fn,Kn=on.y-vn,qn=Fn+tn*(Zn*Gn+(ct&&!Hn?yn:0)),sr=vn+at*(Kn*Gn+(mt&&!Hn?Wn:0)),In=Gt(on,yn*tn,Wn*at,!1),An=Ut({x:qn,y:sr,width:yn,height:Wn,angle:Vn},In);if((0,xt.pC)(on)&&Tt.length===1&&(An.scale=[on.scale[0]*tn,on.scale[1]*at]),(0,xt.bt)(on)&&(ct||mt)&&function(){var Ir=(0,tt.Ut)(on,on.points),xr=(0,tt.Ut)(Ut(Ut({},on),{},{x:qn,y:sr}),In.points),pr=[on.x,on.y],Nr=[qn,sr],Rr=function(qr){var Dr=qr==="x"?0:1;return(xr[Dr+2]-Nr[Dr]-(pr[Dr]-Ir[Dr])*Gn+(Ir[Dr+2]-pr[Dr])*Gn-(Nr[Dr]-xr[Dr]))/2};ct&&(An.x-=Rr("x")),mt&&(An.y-=Rr("y"))}(),(0,xt.iB)(on)){var On=Ct(on,yn,Wn);if(!On)return;An.fontSize=On.size,An.baseline=On.baseline}var _n=lt.originalElements.get((en=(0,Yt.xB)(on))!==null&&en!==void 0?en:"");if(_n){var or=_n.fontSize*Gn;if(or<ht.CP)return;An.boundTextFontSize=or}Wt.push({element:Bn,update:An})}}}catch(Ir){Rt.e(Ir)}finally{Rt.f()}for(var ir=Wt.map(function(Ir){return Ir.element}),mr=0,yr=Wt;mr<yr.length;mr++){var cr=yr[mr],Ur=cr.element,Wr=cr.update,Xr=Wr.boundTextFontSize,wr=(0,Et.Z)(Wr,bn),Jr=wr.width,Kr=wr.height,rr=wr.angle;(0,St.DR)(Ur,wr,!1),(0,Nt.Ww)(Ur,{simultaneouslyUpdated:ir,newSize:{width:Jr,height:Kr}});var Qr=(0,Yt.WJ)(Ur);Qr&&Xr&&((0,St.DR)(Qr,{fontSize:Xr,angle:(0,xt.bt)(Ur)?void 0:rr},!1),(0,Yt.RB)(Ur,vt,!0))}(At=dt.Z.getScene(Wt[0].element))===null||At===void 0||At.informMutation()}},$=function(lt,pt,vt,zt,Qt,Ft,At){var Tt,jt=5*Math.PI/2+Math.atan2(zt-At,vt-Ft);Qt&&(jt+=ht.ay/2,jt-=jt%ht.ay),pt.filter(function(un){return un.type!=="frame"}).forEach(function(un){var Jt,hn,rn=(0,tt.qf)(un),Mt=(0,nt.Z)(rn,4),an=Mt[0],Cn=Mt[1],kn=(an+Mt[2])/2,jn=(Cn+Mt[3])/2,Dn=(Jt=(hn=lt.originalElements.get(un.id))===null||hn===void 0?void 0:hn.angle)!==null&&Jt!==void 0?Jt:un.angle,Fn=(0,st.U1)(kn,jn,Ft,At,jt+Dn-un.angle),vn=(0,nt.Z)(Fn,2),Gn=vn[0],Sn=vn[1];(0,St.DR)(un,{x:un.x+(Gn-kn),y:un.y+(Sn-jn),angle:Kt(jt+Dn)},!1),(0,Nt.Ww)(un,{simultaneouslyUpdated:pt});var nn=(0,Yt.WJ)(un);nn&&!(0,xt.Yv)(un)&&(0,St.DR)(nn,{x:nn.x+(Gn-kn),y:nn.y+(Sn-jn),angle:Kt(jt+Dn)},!1)}),(Tt=dt.Z.getScene(pt[0]))===null||Tt===void 0||Tt.informMutation()},wt=function(lt,pt,vt,zt){var Qt=pt.length===1?(0,tt.qf)(pt[0]):(0,tt.KP)(pt),Ft=(0,nt.Z)(Qt,4),At=Ft[0],Tt=Ft[1],jt=Ft[2],un=Ft[3],Jt=(At+jt)/2,hn=(Tt+un)/2,rn=pt.length===1?pt[0].angle:0,Mt=(0,st.U1)(vt,zt,Jt,hn,-rn),an=(0,nt.Z)(Mt,2);switch(vt=an[0],zt=an[1],lt){case"n":return(0,st.U1)(vt-(At+jt)/2,zt-Tt,0,0,rn);case"s":return(0,st.U1)(vt-(At+jt)/2,zt-un,0,0,rn);case"w":return(0,st.U1)(vt-At,zt-(Tt+un)/2,0,0,rn);case"e":return(0,st.U1)(vt-jt,zt-(Tt+un)/2,0,0,rn);case"nw":return(0,st.U1)(vt-At,zt-Tt,0,0,rn);case"ne":return(0,st.U1)(vt-jt,zt-Tt,0,0,rn);case"sw":return(0,st.U1)(vt-At,zt-un,0,0,rn);case"se":return(0,st.U1)(vt-jt,zt-un,0,0,rn);default:return[0,0]}},gt=function(lt,pt){var vt=(0,nt.Z)(pt.points,2),zt=(0,nt.Z)(vt[1],2),Qt=zt[0],Ft=zt[1];return lt==="nw"&&(Qt<0||Ft<0)||lt==="ne"&&Qt>=0||lt==="sw"&&Qt<=0||lt==="se"&&(Qt>0||Ft>0)?"end":"origin"}},7935:function($t,Vt,_){_.d(Vt,{PZ:function(){return st},QD:function(){return Bt},Qp:function(){return St},o4:function(){return xt},uK:function(){return tt}});var Et=_(2577),ot=(_(583),_(4183)),it=_(9937),nt=_(4949),ht=_(9827),Bt=function(Zt){return(0,ot.bt)(Zt)||(0,ot.F9)(Zt)?Zt.points.length<2:Zt.width===0&&Zt.height===0},st=function(Zt,Nt,dt,Yt){var sn=(0,nt.Pi)(Zt),bn=(0,Et.Z)(sn,4),pn=bn[0],mn=bn[1],qt=bn[2],Ut=bn[3],Kt=(0,ht.dE)({clientX:Yt.offsetLeft,clientY:Yt.offsetTop},Yt),yt=(0,ht.dE)({clientX:Yt.offsetLeft+Nt,clientY:Yt.offsetTop+dt},Yt);return Kt.x<=qt&&Kt.y<=Ut&&yt.x>=pn&&yt.y>=mn},tt=function(Zt,Nt,dt){var Yt=Math.abs(Nt),sn=Math.abs(dt);if(Zt==="line"||Zt==="arrow"||Zt==="freedraw"){var bn=Math.round(Math.atan(sn/Yt)/it.ay)*it.ay;bn===0?dt=0:bn===Math.PI/2?Nt=0:dt=Yt*Math.tan(bn)*Math.sign(dt)||dt}else Zt!=="selection"&&(dt=Yt*Math.sign(dt));return{width:Nt,height:dt}},xt=function(Zt,Nt,dt,Yt){var sn=dt-Zt,bn=Yt-Nt,pn=Math.round(Math.atan(bn/sn)/it.ay)*it.ay;if(pn===0)bn=0;else if(pn===Math.PI/2)sn=0;else{var mn=Math.tan(pn),qt=Nt-mn*Zt,Ut=-1/mn,Kt=Yt-Ut*dt;sn=(-1*Kt- -1*qt)/(-1*mn- -1*Ut)-Zt,bn=(qt*Ut-Kt*mn)/(-1*mn- -1*Ut)-Nt}return{width:sn,height:bn}},St=function(Zt){var Nt={width:Zt.width,height:Zt.height,x:Zt.x,y:Zt.y};if(Zt.width<0){var dt=Math.abs(Zt.width);Nt.width=dt,Nt.x=Zt.x-dt}if(Zt.height<0){var Yt=Math.abs(Zt.height);Nt.height=Yt,Nt.y=Zt.y-Yt}return Nt}},4761:function($t,Vt,_){_.d(Vt,{$2:function(){return ut},AT:function(){return Qt},D9:function(){return Fn},FE:function(){return Gt},H_:function(){return hn},NS:function(){return jn},OW:function(){return an},P7:function(){return yt},PT:function(){return Sn},R8:function(){return Xt},RB:function(){return Ot},Rg:function(){return ft},TP:function(){return un},WJ:function(){return Tt},X1:function(){return Ct},Zr:function(){return kn},aV:function(){return Mt},bG:function(){return qt},cn:function(){return rn},cw:function(){return Jt},eB:function(){return vn},iZ:function(){return Dn},lD:function(){return pt},mY:function(){return gt},oN:function(){return Kt},tl:function(){return jt},w_:function(){return $},xB:function(){return At}});var Et,ot=_(2577),it=_(1930),nt=_(7169),ht=_(9827),Bt=_(583),st=_(9937),tt=_(457),xt=_(7651),St=_(4183),Zt=_(7422),Nt=_(4105),dt=_(3528),Yt=_(3474);function sn(nn,Qn){var tn=Object.keys(nn);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(nn);Qn&&(at=at.filter(function(ct){return Object.getOwnPropertyDescriptor(nn,ct).enumerable})),tn.push.apply(tn,at)}return tn}function bn(nn){for(var Qn=1;Qn<arguments.length;Qn++){var tn=arguments[Qn]!=null?arguments[Qn]:{};Qn%2?sn(Object(tn),!0).forEach(function(at){(0,nt.Z)(nn,at,tn[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nn,Object.getOwnPropertyDescriptors(tn)):sn(Object(tn)).forEach(function(at){Object.defineProperty(nn,at,Object.getOwnPropertyDescriptor(tn,at))})}return nn}var pn,mn,qt=function(nn){return nn.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},Ut=function(nn){return qt(nn).split(`
`)},Kt=function(nn,Qn){var tn=void 0,at={x:nn.x,y:nn.y,text:nn.text,width:nn.width,height:nn.height,baseline:nn.baseline};at.text=nn.text,Qn&&(tn=Dn(Qn,nn),at.text=pt(nn.originalText,(0,ht.mO)(nn),tn));var ct=Ct(at.text,(0,ht.mO)(nn),nn.lineHeight);if(at.width=ct.width,at.height=ct.height,at.baseline=ct.baseline,Qn){var mt=Fn(Qn,nn),Wt=Dn(Qn);if(!(0,St.Yv)(Qn)&&ct.height>mt){var Rt=jn(ct.height,Qn.type);(0,Bt.DR)(Qn,{height:Rt}),(0,Yt.h_)(Qn.id,Rt)}if(ct.width>Wt){var en=jn(ct.width,Qn.type);(0,Bt.DR)(Qn,{width:en})}var Pt=bn(bn({},nn),at),on=Gt(Qn,Pt),Bn=on.x,yn=on.y;at.x=Bn,at.y=yn}(0,Bt.DR)(nn,at)},yt=function(nn,Qn,tn){var at=(0,ht.xn)(nn);Qn.forEach(function(ct){var mt=tn.get(ct.id),Wt=At(ct);if(Wt){var Rt=tn.get(Wt);if(Rt){var en=at.get(mt);en&&(0,Bt.DR)(en,{boundElements:(ct.boundElements||[]).filter(function(on){return on.id!==Rt&&on.id!==Wt}).concat({type:"text",id:Rt})});var Pt=at.get(Rt);Pt&&(0,xt.iB)(Pt)&&(0,Bt.DR)(Pt,{containerId:en?mt:null})}}})},Ot=function(nn,Qn){var tn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=At(nn);if(at){(0,Yt.kT)(nn.id);var ct=tt.Z.getScene(nn).getElement(at);if(ct&&ct.text){if(!nn)return;var mt=(ct=tt.Z.getScene(nn).getElement(at)).text,Wt=ct.height,Rt=ct.width,en=Dn(nn),Pt=Fn(nn,ct),on=nn.height,Bn=ct.baseline;if(tn||Qn!=="n"&&Qn!=="s"){mt&&(mt=pt(ct.originalText,(0,ht.mO)(ct),en));var yn=Ct(mt,(0,ht.mO)(ct),ct.lineHeight);Wt=yn.height,Rt=yn.width,Bn=yn.baseline}if(Wt>Pt){var Wn=(on=jn(Wt,nn.type))-nn.height,Vn=(0,St.Yv)(nn)||Qn!=="ne"&&Qn!=="nw"&&Qn!=="n"?nn.y:nn.y-Wn;(0,Bt.DR)(nn,{height:on,y:Vn})}(0,Bt.DR)(ct,{text:mt,width:Rt,height:Wt,baseline:Bn}),(0,St.Yv)(nn)||(0,Bt.DR)(ct,Gt(nn,ct))}}},Gt=function(nn,Qn){if((0,St.Yv)(nn))return Zt._.getBoundTextElementPosition(nn,Qn);var tn,at=Jt(nn),ct=Fn(nn,Qn),mt=Dn(nn);return tn=Qn.verticalAlign===st.oX.TOP?at.y:Qn.verticalAlign===st.oX.BOTTOM?at.y+(ct-Qn.height):at.y+(ct/2-Qn.height/2),{x:Qn.textAlign===st.I8.LEFT?at.x:Qn.textAlign===st.I8.RIGHT?at.x+(mt-Qn.width):at.x+(mt/2-Qn.width/2),y:tn}},Ct=function(nn,Qn,tn){nn=nn.split(`
`).map(function(mt){return mt||" "}).join(`
`);var at=parseFloat(Qn),ct=lt(nn,at,tn);return{width:gt(nn,Qn),height:ct,baseline:Xt(nn,Qn,tn)}},Xt=function(nn,Qn,tn,at){var ct=document.createElement("div");ct.style.position="absolute",ct.style.whiteSpace="pre",ct.style.font=Qn,ct.style.minHeight="1em",at&&(ct.style.overflow="hidden",ct.style.wordBreak="break-word",ct.style.whiteSpace="pre-wrap"),ct.style.lineHeight=String(tn),ct.innerText=nn,document.body.appendChild(ct);var mt=document.createElement("span");mt.style.display="inline-block",mt.style.overflow="hidden",mt.style.width="1px",mt.style.height="1px",ct.appendChild(mt);var Wt=mt.offsetTop+mt.offsetHeight,Rt=ct.offsetHeight;if(st.G6){var en=lt(nn,parseFloat(Qn),tn),Pt=parseFloat(Qn),on=lt(nn,Math.round(Pt),tn);en>Rt&&(Wt+=en-on),Rt>en&&(Wt-=on-en)}return document.body.removeChild(ct),Wt},ut=function(nn){var Qn=Ut(nn.text).length;return nn.height/Qn/nn.fontSize},ft=function(nn,Qn){return nn*Qn},$=function(nn,Qn){return ft(nn,Qn)+2*st.gK},wt=function(nn,Qn){pn||(pn=document.createElement("canvas"));var tn=pn.getContext("2d");tn.font=Qn;var at=tn.measureText(nn).width;return(0,ht.h2)()?10*at:at},gt=function(nn,Qn){var tn=Ut(nn),at=0;return tn.forEach(function(ct){at=Math.max(at,wt(ct,Qn))}),at},lt=function(nn,Qn,tn){var at=Ut(nn).length;return ft(Qn,tn)*at},pt=function(nn,Qn,tn){if(!Number.isFinite(tn)||tn<0)return nn;var at=[],ct=nn.split(`
`),mt=wt(" ",Qn),Wt="",Rt=0,en=function(on){on.trim()&&at.push(on)},Pt=function(){Wt="",Rt=0};return ct.forEach(function(on){if(gt(on,Qn)<=tn)at.push(on);else{var Bn=function(qn){var sr=qn.split("-");return sr.length>1&&sr.forEach(function(In,An){An!==sr.length-1&&(sr[An]=In+="-")}),sr.join(" ").split(" ")}(on);Pt();for(var yn=0;yn<Bn.length;){var Wn=wt(Bn[yn],Qn);if(Wn===tn)en(Bn[yn]),yn++;else if(Wn>tn){for(en(Wt),Pt();Bn[yn].length>0;){var Vn=String.fromCodePoint(Bn[yn].codePointAt(0)),Hn=vt.calculate(Vn,Qn);Rt+=Hn,Bn[yn]=Bn[yn].slice(Vn.length),Rt>=tn?(en(Wt),Wt=Vn,Rt=Hn):Wt+=Vn}Rt+mt>=tn?(en(Wt),Pt()):Wt.endsWith("-")||(Wt+=" ",Rt+=mt),yn++}else for(;Rt<tn&&yn<Bn.length;){var Zn=Bn[yn];if((Rt=wt(Wt+Zn,Qn))>tn){en(Wt),Pt();break}yn++;var Kn=!Zn.endsWith("-");if(Wt+=Zn,Kn&&(Wt+=" "),Rt+mt>=tn){Kn?at.push(Wt.slice(0,-1)):at.push(Wt),Pt();break}}}Wt.slice(-1)===" "&&(Wt=Wt.slice(0,-1),en(Wt))}}),at.join(`
`)},vt=(mn={},{calculate:function(nn,Qn){var tn=nn.charCodeAt(0);if(mn[Qn]||(mn[Qn]=[]),!mn[Qn][tn]){var at=wt(nn,Qn);mn[Qn][tn]=at}return mn[Qn][tn]},getCache:function(nn){return mn[nn]}}),zt="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),Qt=function(nn,Qn){var tn=Ft(nn);return tn===0?Ct(zt.split("").join(`
`),nn,Qn).width+2*st.gK:tn+2*st.gK},Ft=function(nn){var Qn=vt.getCache(nn);if(!Qn)return 0;var tn=Qn.filter(function(at){return at!==void 0});return Math.max.apply(Math,(0,it.Z)(tn))},At=function(nn){var Qn,tn,at;return nn!=null&&(Qn=nn.boundElements)!==null&&Qn!==void 0&&Qn.length&&(nn==null||(tn=nn.boundElements)===null||tn===void 0||(at=tn.filter(function(ct){return ct.type==="text"})[0])===null||at===void 0?void 0:at.id)||null},Tt=function(nn){if(!nn)return null;var Qn,tn=At(nn);return tn&&((Qn=tt.Z.getScene(nn))===null||Qn===void 0?void 0:Qn.getElement(tn))||null},jt=function(nn){return nn&&nn.containerId&&((Qn=tt.Z.getScene(nn))===null||Qn===void 0?void 0:Qn.getElement(nn.containerId))||null;var Qn},un=function(nn,Qn){if(!(0,St.Yv)(nn))return{x:nn.x+nn.width/2,y:nn.y+nn.height/2};var tn=Zt._.getPointsGlobalCoordinates(nn);if(tn.length%2==1){var at=Math.floor(nn.points.length/2),ct=Zt._.getPointGlobalCoordinates(nn,nn.points[at]);return{x:ct[0],y:ct[1]}}var mt=nn.points.length/2-1,Wt=Zt._.getEditorMidPoints(nn,Qn)[mt];return Wt||(Wt=Zt._.getSegmentMidPoint(nn,tn[mt],tn[mt+1],mt+1)),{x:Wt[0],y:Wt[1]}},Jt=function(nn){var Qn=st.gK,tn=st.gK;return nn.type==="ellipse"&&(Qn+=nn.width/2*(1-Math.sqrt(2)/2),tn+=nn.height/2*(1-Math.sqrt(2)/2)),nn.type==="diamond"&&(Qn+=nn.width/4,tn+=nn.height/4),{x:nn.x+Qn,y:nn.y+tn}},hn=function(nn){var Qn=jt(nn);return!Qn||(0,St.Yv)(Qn)?nn.angle:Qn.angle},rn=function(nn){return nn.some(function(Qn){if((0,St.Xh)(Qn)){var tn=jt(Qn);return!(0,xt.iB)(Qn)||!(0,St.Yv)(tn)}return!1})},Mt=function(nn){return nn.some(function(Qn){if((0,St.Xh)(Qn)){var tn=jt(Qn);return!(0,xt.iB)(Qn)||!(0,St.Yv)(tn)}return(0,xt.iB)(Qn)})},an=function(nn,Qn,tn,at){var ct=(0,Nt.eD)(nn,Qn);if(ct.length===1)return(0,St.mG)(ct[0],!1)?ct[0]:null;for(var mt=null,Wt=nn.length-1;Wt>=0;--Wt)if(!nn[Wt].isDeleted){var Rt=(0,xt.qf)(nn[Wt]),en=(0,ot.Z)(Rt,4),Pt=en[0],on=en[1],Bn=en[2],yn=en[3];if((0,St.Yv)(nn[Wt])&&(0,dt.Qu)(nn[Wt],Qn,null,[tn,at])){mt=nn[Wt];break}if(Pt<tn&&tn<Bn&&on<at&&at<yn){mt=nn[Wt];break}}return(0,St.mG)(mt,!1)?mt:null},Cn=new Set(["rectangle","ellipse","diamond","arrow"]),kn=function(nn){return Cn.has(nn.type)},jn=function(nn,Qn){nn=Math.ceil(nn);var tn=2*st.gK;return Qn==="ellipse"?Math.round((nn+tn)/Math.sqrt(2)*2):Qn==="arrow"?nn+8*tn:Qn==="diamond"?2*(nn+tn):nn+tn},Dn=function(nn){var Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tt(nn),tn=nn.width;if((0,St.Yv)(nn)){var at,ct=((at=Qn==null?void 0:Qn.fontSize)!==null&&at!==void 0?at:st.n5)*st.vL;return Math.max(st.bY*tn,ct)}return nn.type==="ellipse"?Math.round(tn/2*Math.sqrt(2))-2*st.gK:nn.type==="diamond"?Math.round(tn/2)-2*st.gK:tn-2*st.gK},Fn=function(nn,Qn){var tn=nn.height;return(0,St.Yv)(nn)?tn-8*st.gK*2<=0?Qn.height:tn:nn.type==="ellipse"?Math.round(tn/2*Math.sqrt(2))-2*st.gK:nn.type==="diamond"?Math.round(tn/2)-2*st.gK:tn-2*st.gK},vn=function(){return gt(zt,(0,ht.mO)({fontSize:st.n5,fontFamily:st.rk}))>0},Gn=(Et={},(0,nt.Z)(Et,st.ut.Virgil,1.25),(0,nt.Z)(Et,st.ut.Helvetica,1.15),(0,nt.Z)(Et,st.ut.Cascadia,1.2),Et),Sn=function(nn){return nn in Gn?Gn[nn]:Gn[st.rk]}},3474:function($t,Vt,_){_.d(Vt,{b_:function(){return Gt},eR:function(){return Ot},h_:function(){return Kt},kT:function(){return yt}});var Et=_(8950),ot=_(7169),it=_(2577),nt=_(2975),ht=_.n(nt),Bt=_(5491),st=_(9827),tt=_(457),xt=_(4183),St=_(9937),Zt=_(583),Nt=_(4761),dt=_(3361),Yt=_(6006),sn=_(7422),bn=_(4694);function pn(Ct,Xt){var ut=Object.keys(Ct);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(Ct);Xt&&(ft=ft.filter(function($){return Object.getOwnPropertyDescriptor(Ct,$).enumerable})),ut.push.apply(ut,ft)}return ut}function mn(Ct){for(var Xt=1;Xt<arguments.length;Xt++){var ut=arguments[Xt]!=null?arguments[Xt]:{};Xt%2?pn(Object(ut),!0).forEach(function(ft){(0,ot.Z)(Ct,ft,ut[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(ut)):pn(Object(ut)).forEach(function(ft){Object.defineProperty(Ct,ft,Object.getOwnPropertyDescriptor(ut,ft))})}return Ct}var qt=function(Ct,Xt,ut,ft,$,wt){var gt=ft.zoom,lt=180*ut/Math.PI,pt=Ct*(gt.value-1)/2,vt=Xt*(gt.value-1)/2;return Ct>$&&gt.value!==1&&(pt=$*(gt.value-1)/2),Xt>wt&&gt.value!==1&&(vt=wt*(gt.value-1)/2),"translate(".concat(pt,"px, ").concat(vt,"px) scale(").concat(gt.value,") rotate(").concat(lt,"deg)")},Ut={},Kt=function(Ct,Xt){var ut=Ut[Ct]||(Ut[Ct]={height:Xt});return ut.height=Xt,ut},yt=function(Ct){Ut[Ct]&&delete Ut[Ct]},Ot=function(Ct){var Xt,ut;return(Xt=(ut=Ut[Ct])===null||ut===void 0?void 0:ut.height)!==null&&Xt!==void 0?Xt:null},Gt=function(Ct){var Xt=Ct.id,ut=Ct.onChange,ft=Ct.onSubmit,$=Ct.getViewportCoords,wt=Ct.element,gt=Ct.canvas,lt=Ct.excalidrawContainer,pt=Ct.app,vt=function(){var vn,Gn=pt.state,Sn=(vn=tt.Z.getScene(wt))===null||vn===void 0?void 0:vn.getElement(Xt);if(Sn){var nn=Sn.textAlign,Qn=Sn.verticalAlign;if(Sn&&(0,xt.iB)(Sn)){var tn=Sn.x,at=Sn.y,ct=(0,Nt.tl)(Sn),mt=Sn.width,Wt=Sn.height,Rt=Sn.width,en=Sn.height;if(ct&&Sn.containerId){if((0,xt.Yv)(ct)){var Pt=sn._.getBoundTextElementPosition(ct,Sn);tn=Pt.x,at=Pt.y}var on,Bn=function(or,ir){if(!ir.style.fontFamily||!ir.style.fontSize)return!1;var mr=ir.style.fontFamily.replace(/"/g,"");return(0,st.$g)({fontFamily:or.fontFamily})!==mr||"".concat(or.fontSize,"px")!==ir.style.fontSize}(Sn,zt);if(Bn?on=Kt(ct.id,ct.height):(on=Ut[ct.id])||(on=Kt(ct.id,ct.height)),mt=(0,Nt.iZ)(ct),Wt=(0,Nt.D9)(ct,Sn),!(0,xt.Yv)(ct)&&en>Wt){var yn=(0,Nt.NS)(en,ct.type);return void(0,Zt.DR)(ct,{height:yn})}if(!(0,xt.Yv)(ct)&&ct.height>on.height&&en<Wt){var Wn=(0,Nt.NS)(en,ct.type);(0,Zt.DR)(ct,{height:Wn})}else at=(0,Nt.FE)(ct,Sn).y}var Vn=$(tn,at),Hn=(0,it.Z)(Vn,2),Zn=Hn[0],Kn=Hn[1],qn=zt.selectionStart,sr=zt.selectionEnd,In=zt.value.length;if(qn===sr&&sr!==In){var An=In-sr;zt.selectionStart=zt.value.length-An,zt.selectionEnd=zt.value.length-An}ct?Rt+=.5:(mt=(Gn.width-8-Zn)/Gn.zoom.value,Rt=Math.min(Rt,mt));var On=Sn.lineHeight;St.G6&&(On=(0,Nt.$2)(mn(mn({},Sn),{},{fontSize:Math.round(Sn.fontSize)})));var _n=(Gn.height-Kn)/Gn.zoom.value;Object.assign(zt.style,{font:(0,st.mO)(Sn),lineHeight:On,width:"".concat(Rt,"px"),height:"".concat(en,"px"),left:"".concat(Zn,"px"),top:"".concat(Kn,"px"),transform:qt(Rt,en,(0,Nt.H_)(Sn),Gn,mt,_n),textAlign:nn,verticalAlign:Qn,color:Sn.strokeColor,opacity:Sn.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(_n,"px")}),zt.scrollTop=0,(0,st.h2)()&&(zt.style.fontFamily=(0,st.$g)(Sn)),(0,Zt.DR)(Sn,{x:tn,y:at})}}},zt=document.createElement("textarea");zt.dir="auto",zt.tabIndex=0,zt.dataset.type="wysiwyg",zt.wrap="off",zt.classList.add("excalidraw-wysiwyg");var Qt="pre",Ft="normal";(0,xt.Xh)(wt)&&(Qt="pre-wrap",Ft="break-word"),Object.assign(zt.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:Ft,whiteSpace:Qt,overflowWrap:"break-word",boxSizing:"content-box"}),zt.value=wt.originalText,vt(),ut&&(zt.onpaste=function(){var vn=(0,Et.Z)(ht().mark(function Gn(Sn){var nn,Qn,tn,at,ct,mt;return ht().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return Wt.next=2,(0,bn.mQ)(Sn,!0);case 2:if((nn=Wt.sent).text){Wt.next=5;break}return Wt.abrupt("return");case 5:if(Qn=(0,Nt.bG)(nn.text)){Wt.next=8;break}return Wt.abrupt("return");case 8:tn=(0,Nt.tl)(wt),at=(0,st.mO)({fontSize:pt.state.currentItemFontSize,fontFamily:pt.state.currentItemFontFamily}),tn&&(ct=(0,Nt.lD)("".concat(zt.value).concat(Qn),at,(0,Nt.iZ)(tn)),mt=(0,Nt.mY)(ct,at),zt.style.width="".concat(mt,"px"));case 11:case"end":return Wt.stop()}},Gn)}));return function(Gn){return vn.apply(this,arguments)}}(),zt.oninput=function(){ut((0,Nt.bG)(zt.value))}),zt.onkeydown=function(vn){if(!vn.shiftKey&&Yt.Lo.keyTest(vn))vn.preventDefault(),pt.actionManager.executeAction(Yt.Lo),vt();else if(!vn.shiftKey&&Yt.CZ.keyTest(vn))vn.preventDefault(),pt.actionManager.executeAction(Yt.CZ),vt();else if(dt.Tu.keyTest(vn))pt.actionManager.executeAction(dt.Tu);else if(dt.Zq.keyTest(vn))pt.actionManager.executeAction(dt.Zq);else if(vn.key===Bt.tW.ESCAPE)vn.preventDefault(),rn=!0,Mt();else if(vn.key===Bt.tW.ENTER&&vn[Bt.tW.CTRL_OR_CMD]){if(vn.preventDefault(),vn.isComposing||vn.keyCode===229)return;rn=!0,Mt()}else if(vn.key===Bt.tW.TAB||vn[Bt.tW.CTRL_OR_CMD]&&(vn.code===Bt.aU.BRACKET_LEFT||vn.code===Bt.aU.BRACKET_RIGHT)){if(vn.preventDefault(),vn.isComposing)return;vn.shiftKey||vn.code===Bt.aU.BRACKET_LEFT?un():jt(),zt.dispatchEvent(new Event("input"))}};var At=" ".repeat(4),Tt=new RegExp("^ {1,".concat(4,"}")),jt=function(){var vn=zt.selectionStart,Gn=zt.selectionEnd,Sn=Jt(),nn=zt.value;Sn.forEach(function(Qn){var tn=nn.slice(0,Qn),at=nn.slice(Qn);nn="".concat(tn).concat(At).concat(at)}),zt.value=nn,zt.selectionStart=vn+4,zt.selectionEnd=Gn+4*Sn.length},un=function(){var vn=zt.selectionStart,Gn=zt.selectionEnd,Sn=Jt(),nn=[],Qn=zt.value;Sn.forEach(function(tn){var at=Qn.slice(tn,tn+4).match(Tt);if(at){var ct=Qn.slice(0,tn),mt=Qn.slice(tn+at[0].length);Qn="".concat(ct).concat(mt),nn.push(tn)}}),zt.value=Qn,nn.length&&(vn>nn[nn.length-1]?zt.selectionStart=Math.max(vn-4,nn[nn.length-1]):zt.selectionStart=vn,zt.selectionEnd=Math.max(zt.selectionStart,Gn-4*nn.length))},Jt=function(){var vn=zt.selectionStart,Gn=zt.selectionEnd,Sn=zt.value,nn=Sn.slice(0,vn).match(/[^\n]*$/)[0].length;return vn-=nn,Sn.slice(vn,Gn).split(`
`).reduce(function(Qn,tn,at,ct){return Qn.concat(at?Qn[at-1]+ct[at-1].length+1:vn)},[]).reverse()},hn=function(vn){vn.preventDefault(),vn.stopPropagation()},rn=!1,Mt=function(){var vn;an();var Gn=(vn=tt.Z.getScene(wt))===null||vn===void 0?void 0:vn.getElement(wt.id);if(Gn){var Sn=zt.value,nn=(0,Nt.tl)(Gn);if(nn){if(Sn=Gn.text,zt.value.trim()){var Qn=(0,Nt.xB)(nn);Qn&&Qn===wt.id?(0,xt.Yv)(nn)&&(0,Zt.ZP)(nn):(0,Zt.DR)(nn,{boundElements:(nn.boundElements||[]).concat({type:"text",id:wt.id})})}else{var tn;(0,Zt.DR)(nn,{boundElements:(tn=nn.boundElements)===null||tn===void 0?void 0:tn.filter(function(at){return!(0,xt.iB)(at)})})}(0,Nt.oN)(Gn,nn)}ft({text:Sn,viaKeyboard:rn,originalText:zt.value})}},an=function(){Dn||(Dn=!0,zt.onblur=null,zt.oninput=null,zt.onkeydown=null,Fn&&Fn.disconnect(),window.removeEventListener("resize",vt),window.removeEventListener("wheel",hn,!0),window.removeEventListener("pointerdown",kn),window.removeEventListener("pointerup",Cn),window.removeEventListener("blur",Mt),window.removeEventListener("beforeunload",Mt),jn(),zt.remove())},Cn=function vn(Gn){window.removeEventListener("pointerup",vn);var Sn=Gn==null?void 0:Gn.target,nn=Sn instanceof HTMLElement&&Sn.classList.contains("active-color");setTimeout(function(){if(zt.onblur=Mt,nn){var Qn=new MutationObserver(function(tn,at){tn.find(function(ct){var mt;return ct.removedNodes.length>0&&((mt=ct.removedNodes[0].dataset)===null||mt===void 0?void 0:mt.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){zt.focus()}),at.disconnect())});Qn.observe(document.querySelector(".excalidraw-container"),{childList:!0})}nn||zt.focus()})},kn=function(vn){var Gn=vn.target instanceof HTMLElement&&vn.target.classList.contains("active-color");((vn.target instanceof HTMLElement||vn.target instanceof SVGElement)&&vn.target.closest(".".concat(St.$C.SHAPE_ACTIONS_MENU))&&!(0,st.s)(vn.target)||Gn)&&(zt.onblur=null,window.addEventListener("pointerup",Cn),window.addEventListener("blur",Mt))},jn=tt.Z.getScene(wt).addCallback(function(){var vn;vt(),!((vn=document.activeElement)===null||vn===void 0||!vn.closest(".color-picker-content"))||zt.focus()}),Dn=!1;zt.select(),Cn();var Fn=null;gt&&"ResizeObserver"in window?(Fn=new window.ResizeObserver(function(){vt()})).observe(gt):window.addEventListener("resize",vt),window.addEventListener("pointerdown",kn),window.addEventListener("wheel",hn,{passive:!1,capture:!0}),window.addEventListener("beforeunload",Mt),lt==null||lt.querySelector(".excalidraw-textEditorContainer").appendChild(zt)}},4048:function($t,Vt,_){_.d(Vt,{Fn:function(){return xt},PC:function(){return sn},kK:function(){return Yt},oY:function(){return bn},ox:function(){return tt}});var Et=_(2577),ot=_(4949),it=_(2361),nt=_(7651),ht=_(4183),Bt=_(7766),st={mouse:8,pen:16,touch:28},tt={e:!0,s:!0,n:!0,w:!0},xt={e:!0,s:!0,n:!0,w:!0,rotation:!0},St={e:!0,s:!0,n:!0,w:!0},Zt={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Nt={e:!0,s:!0,n:!0,w:!0},dt=function(pn,mn,qt,Ut,Kt,yt,Ot){var Gt=(0,it.U1)(pn+qt/2,mn+Ut/2,Kt,yt,Ot),Ct=(0,Et.Z)(Gt,2);return[Ct[0]-qt/2,Ct[1]-Ut/2,qt,Ut]},Yt=function(pn,mn,qt,Ut){var Kt=(0,Et.Z)(pn,6),yt=Kt[0],Ot=Kt[1],Gt=Kt[2],Ct=Kt[3],Xt=Kt[4],ut=Kt[5],ft=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},$=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,wt=st[Ut],gt=wt/qt.value,lt=wt/qt.value,pt=wt/qt.value,vt=wt/qt.value,zt=Gt-yt,Qt=Ct-Ot,Ft=$/qt.value,At=(wt-2*Bt.Lu)/(2*qt.value),Tt={nw:ft.nw?void 0:dt(yt-Ft-pt+At,Ot-Ft-vt+At,gt,lt,Xt,ut,mn),ne:ft.ne?void 0:dt(Gt+Ft-At,Ot-Ft-vt+At,gt,lt,Xt,ut,mn),sw:ft.sw?void 0:dt(yt-Ft-pt+At,Ct+Ft-At,gt,lt,Xt,ut,mn),se:ft.se?void 0:dt(Gt+Ft-At,Ct+Ft-At,gt,lt,Xt,ut,mn),rotation:ft.rotation?void 0:dt(yt+zt/2-gt/2,Ot-Ft-vt+At-16/qt.value,gt,lt,Xt,ut,mn)},jt=5*st.mouse/qt.value;return Math.abs(zt)>jt&&(ft.n||(Tt.n=dt(yt+zt/2-gt/2,Ot-Ft-vt+At,gt,lt,Xt,ut,mn)),ft.s||(Tt.s=dt(yt+zt/2-gt/2,Ct+Ft-At,gt,lt,Xt,ut,mn))),Math.abs(Qt)>jt&&(ft.w||(Tt.w=dt(yt-Ft-pt+At,Ot+Qt/2-lt/2,gt,lt,Xt,ut,mn)),ft.e||(Tt.e=dt(Gt+Ft-At,Ot+Qt/2-lt/2,gt,lt,Xt,ut,mn))),Tt},sn=function(pn,mn){var qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(pn.locked)return{};var Ut={};if(pn.type==="freedraw"||(0,ht.bt)(pn)){if(pn.points.length===2){var Kt=(0,Et.Z)(pn.points,2),yt=Kt[1];yt[0]===0||yt[1]===0?Ut=Nt:yt[0]>0&&yt[1]<0?Ut=Zt:yt[0]>0&&yt[1]>0?Ut=Nt:yt[0]<0&&yt[1]>0?Ut=Zt:yt[0]<0&&yt[1]<0&&(Ut=Nt)}}else(0,nt.iB)(pn)?Ut=St:(0,ht.He)(pn)&&(Ut={rotation:!0});var Ot=(0,ht.bt)(pn)?Bt.Lu+8:Bt.Lu;return Yt((0,ot.qf)(pn,!0),pn.angle,mn,qt,Ut,Ot)},bn=function(pn,mn){if(mn.editingLinearElement)return!1;if(pn.length>1)return!0;var qt=pn[0];return!(0,ht.bt)(qt)||qt.points.length>2}},4183:function($t,Vt,_){_.d(Vt,{F9:function(){return tt},He:function(){return st},Lx:function(){return Yt},Mn:function(){return dt},QI:function(){return Ut},UQ:function(){return Ot},Xh:function(){return qt},Xo:function(){return mn},Yv:function(){return Zt},bt:function(){return St},dt:function(){return Nt},eK:function(){return yt},f0:function(){return sn},gs:function(){return ht},iB:function(){return Bt},mG:function(){return bn},pC:function(){return nt},r2:function(){return pn},wi:function(){return it}});var Et=_(9937),ot=_(9827),it=function(Gt){return!!Gt&&Gt.type==="image"&&!!Gt.fileId},nt=function(Gt){return!!Gt&&Gt.type==="image"},ht=function(Gt){return!!Gt&&Gt.type==="embeddable"},Bt=function(Gt){return Gt!=null&&Gt.type==="text"},st=function(Gt){return Gt!=null&&Gt.type==="frame"},tt=function(Gt){return Gt!=null&&xt(Gt.type)},xt=function(Gt){return Gt==="freedraw"},St=function(Gt){return Gt!=null&&Nt(Gt.type)},Zt=function(Gt){return Gt!=null&&Gt.type==="arrow"},Nt=function(Gt){return Gt==="arrow"||Gt==="line"},dt=function(Gt){var Ct=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Gt!=null&&(!Gt.locked||Ct===!0)&&Yt(Gt.type)},Yt=function(Gt){return Gt==="arrow"},sn=function(Gt){var Ct=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(Gt==null||Gt.locked&&Ct!==!0||Gt.type!=="rectangle"&&Gt.type!=="diamond"&&Gt.type!=="ellipse"&&Gt.type!=="image"&&Gt.type!=="embeddable"&&Gt.type!=="frame"&&(Gt.type!=="text"||Gt.containerId))},bn=function(Gt){var Ct=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Gt!=null&&(!Gt.locked||Ct===!0)&&(Gt.type==="rectangle"||Gt.type==="diamond"||Gt.type==="ellipse"||Zt(Gt))},pn=function(Gt){var Ct=Gt==null?void 0:Gt.type;if(!Ct)return!1;switch(Ct){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,ot.vE)(Ct,null),!1}},mn=function(Gt){var Ct;return bn(Gt)&&!((Ct=Gt.boundElements)===null||Ct===void 0||!Ct.some(function(Xt){return Xt.type==="text"}))},qt=function(Gt){return Gt!==null&&"containerId"in Gt&&Gt.containerId!==null&&Bt(Gt)},Ut=function(Gt){return Gt==="rectangle"||Gt==="embeddable"},Kt=function(Gt){return Gt==="line"||Gt==="arrow"||Gt==="diamond"},yt=function(Gt,Ct){return!(Gt!==Et.a6.ADAPTIVE_RADIUS&&Gt!==Et.a6.LEGACY||!Ut(Ct.type))||!(Gt!==Et.a6.PROPORTIONAL_RADIUS||!Kt(Ct.type))},Ot=function(Gt){return Kt(Gt.type)?{type:Et.a6.PROPORTIONAL_RADIUS}:Ut(Gt.type)?{type:Et.a6.ADAPTIVE_RADIUS}:null}},3506:function($t,Vt,_){_.d(Vt,{_L:function(){return Nt},lp:function(){return Zt},jk:function(){return dt}});var Et=_(5169),ot=_(8821),it=_(2248),nt=_(7245),ht=_(2312),Bt=_(5901);function st(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tt(Yt,sn,bn){return tt=st()?Reflect.construct.bind():function(pn,mn,qt){var Ut=[null];Ut.push.apply(Ut,mn);var Kt=new(Function.bind.apply(pn,Ut));return qt&&(0,Bt.Z)(Kt,qt.prototype),Kt},tt.apply(null,arguments)}function xt(Yt){var sn=typeof Map=="function"?new Map:void 0;return xt=function(bn){if(bn===null||(pn=bn,Function.toString.call(pn).indexOf("[native code]")===-1))return bn;var pn;if(typeof bn!="function")throw new TypeError("Super expression must either be null or a function");if(sn!==void 0){if(sn.has(bn))return sn.get(bn);sn.set(bn,mn)}function mn(){return tt(bn,arguments,(0,ht.Z)(this).constructor)}return mn.prototype=Object.create(bn.prototype,{constructor:{value:mn,enumerable:!1,writable:!0,configurable:!0}}),(0,Bt.Z)(mn,bn)},xt(Yt)}function St(Yt){var sn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var bn,pn=(0,ht.Z)(Yt);if(sn){var mn=(0,ht.Z)(this).constructor;bn=Reflect.construct(pn,arguments,mn)}else bn=pn.apply(this,arguments);return(0,nt.Z)(this,bn)}}var Zt=function(Yt){(0,it.Z)(bn,Yt);var sn=St(bn);function bn(){var pn,mn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,ot.Z)(this,bn),(pn=sn.call(this)).name=qt,pn.message=mn,pn}return(0,Et.Z)(bn)}(xt(Error)),Nt=function(Yt){(0,it.Z)(bn,Yt);var sn=St(bn);function bn(){var pn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,ot.Z)(this,bn),sn.call(this,pn,"AbortError")}return(0,Et.Z)(bn)}(xt(DOMException)),dt=function(Yt){(0,it.Z)(bn,Yt);var sn=St(bn);function bn(){var pn,mn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,ot.Z)(this,bn),(pn=sn.call(this,mn)).name="EncodingError",pn.code=qt,pn}return(0,Et.Z)(bn)}(xt(Error))},4682:function($t,Vt,_){_.d(Vt,{$Z:function(){return ft},A_:function(){return $},Dn:function(){return Kt},Qs:function(){return Qt},SH:function(){return yt},Tq:function(){return pt},_h:function(){return Ct},cH:function(){return zt},cO:function(){return Ut},fj:function(){return ut},lz:function(){return wt},ni:function(){return Xt},pr:function(){return lt},wO:function(){return Gt},xr:function(){return sn},yZ:function(){return gt},zD:function(){return Ot}});var Et=_(1930),ot=_(2577),it=_(7651),nt=_(2361),ht=_(4761),Bt=_(9827),st=_(583),tt=_(4105),xt=_(9215),St=_(457),Zt=_(4949),Nt=_(507);function dt(Ft,At){var Tt=typeof Symbol<"u"&&Ft[Symbol.iterator]||Ft["@@iterator"];if(!Tt){if(Array.isArray(Ft)||(Tt=function(Mt,an){if(Mt){if(typeof Mt=="string")return Yt(Mt,an);var Cn=Object.prototype.toString.call(Mt).slice(8,-1);if(Cn==="Object"&&Mt.constructor&&(Cn=Mt.constructor.name),Cn==="Map"||Cn==="Set")return Array.from(Mt);if(Cn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Cn))return Yt(Mt,an)}}(Ft))||At){Tt&&(Ft=Tt);var jt=0,un=function(){};return{s:un,n:function(){return jt>=Ft.length?{done:!0}:{done:!1,value:Ft[jt++]}},e:function(Mt){throw Mt},f:un}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Jt,hn=!0,rn=!1;return{s:function(){Tt=Tt.call(Ft)},n:function(){var Mt=Tt.next();return hn=Mt.done,Mt},e:function(Mt){rn=!0,Jt=Mt},f:function(){try{hn||Tt.return==null||Tt.return()}finally{if(rn)throw Jt}}}}function Yt(Ft,At){(At==null||At>Ft.length)&&(At=Ft.length);for(var Tt=0,jt=new Array(At);Tt<At;Tt++)jt[Tt]=Ft[Tt];return jt}var sn=function(Ft,At,Tt){var jt,un=(0,Bt.xn)(Ft),Jt=dt(At);try{for(Jt.s();!(jt=Jt.n()).done;){var hn=jt.value;if(hn.frameId){var rn=Tt.get(hn.id),Mt=Tt.get(hn.frameId);if(rn){var an=un.get(rn);an&&(0,st.DR)(an,{frameId:Mt??hn.frameId},!1)}}}}catch(Cn){Jt.e(Cn)}finally{Jt.f()}};function bn(Ft,At){var Tt=(0,Zt.GJ)(At),jt=(0,Zt.GJ)(Ft);return Tt.some(function(un){return jt.some(function(Jt){return(0,Nt.y8)(un,Jt)})})}var pn=function(Ft,At){return vt((0,tt.Yp)(Ft,At,!1)).filter(function(Tt){return Tt.type!=="frame"&&!Tt.frameId||Tt.frameId===At.id})},mn=function(Ft,At,Tt){return(0,tt.Yp)(Ft,At).some(function(jt){return jt.id===Tt.id})},qt=function(Ft,At){var Tt=(0,it.qf)(At),jt=(0,ot.Z)(Tt,4),un=jt[0],Jt=jt[1],hn=jt[2],rn=jt[3],Mt=(0,it.KP)(Ft),an=(0,ot.Z)(Mt,4),Cn=an[0],kn=an[1],jn=an[2],Dn=an[3];return un<=Cn&&Jt<=kn&&hn>=jn&&rn>=Dn},Ut=function(Ft,At){return qt([Ft],At)||bn(Ft,At)||mn([At],Ft,At)},Kt=function(Ft,At){var Tt=(0,it.qf)(At),jt=(0,ot.Z)(Tt,4),un=jt[0],Jt=jt[1],hn=jt[2],rn=jt[3];return(0,nt.Ni)([un,Jt],[Ft.x,Ft.y],[hn,rn])},yt=function(Ft){var At,Tt=new Map,jt=dt(Ft);try{for(jt.s();!(At=jt.n()).done;){var un=At.value,Jt=(0,it.He)(un)?un.id:un.frameId;Jt&&!Tt.has(Jt)&&Tt.set(Jt,Ot(Ft,Jt))}}catch(hn){jt.e(hn)}finally{jt.f()}return Tt},Ot=function(Ft,At){return Ft.filter(function(Tt){return Tt.frameId===At})},Gt=function(Ft){return Ft.filter(function(At){return(0,it.He)(At)})},Ct=function(Ft){var At=(0,Bt.xn)(Gt(Ft));return Ft.filter(function(Tt){return At.has(Tt.id)||!Tt.frameId||!At.has(Tt.frameId)})},Xt=function(Ft,At,Tt){var jt,un=Ot(Ft,At.id),Jt=new Set(un),hn=new Set([].concat((0,Et.Z)(pn(Ft,At)),(0,Et.Z)(un.filter(function(Kn){return mn(Ft,Kn,At)})))),rn=un.filter(function(Kn){return!hn.has(Kn)}),Mt=new Set(Array.from(hn).flatMap(function(Kn){return Kn.groupIds})),an=dt(rn);try{for(an.s();!(jt=an.n()).done;){var Cn=jt.value;if(bn(Cn,At)){if(Cn.groupIds.length>0){var kn,jn=dt(Cn.groupIds);try{for(jn.s();!(kn=jn.n()).done;){var Dn=kn.value;Mt.add(Dn)}}catch(Kn){jn.e(Kn)}finally{jn.f()}}}else Cn.groupIds.length===0&&Jt.delete(Cn)}}catch(Kn){an.e(Kn)}finally{an.f()}var Fn,vn=dt(rn);try{for(vn.s();!(Fn=vn.n()).done;){var Gn=Fn.value;if(Gn.groupIds.length>0){var Sn,nn=!0,Qn=dt(Gn.groupIds);try{for(Qn.s();!(Sn=Qn.n()).done;){var tn=Sn.value;Mt.has(tn)&&(nn=!1)}}catch(Kn){Qn.e(Kn)}finally{Qn.f()}nn&&Jt.delete(Gn)}}}catch(Kn){vn.e(Kn)}finally{vn.f()}var at,ct=Array.from(hn).filter(function(Kn){return Kn.groupIds.length===0}),mt=dt(ct);try{for(mt.s();!(at=mt.n()).done;){var Wt=at.value;Jt.add(Wt)}}catch(Kn){mt.e(Kn)}finally{mt.f()}for(var Rt=Array.from(hn).filter(function(Kn){return Kn.groupIds.length>0}),en=(0,xt.yR)(Rt,Tt),Pt=0,on=Object.entries(en);Pt<on.length;Pt++){var Bn=(0,ot.Z)(on[Pt],2),yn=Bn[0];if(Bn[1]){var Wn=(0,xt.Fb)(Ft,yn);if(qt(Wn,At)){var Vn,Hn=dt(Wn);try{for(Hn.s();!(Vn=Hn.n()).done;){var Zn=Vn.value;Jt.add(Zn)}}catch(Kn){Hn.e(Kn)}finally{Hn.f()}}}}return(0,Et.Z)(Jt).filter(function(Kn){return!((0,it.iB)(Kn)&&Kn.containerId)})},ut=function(Ft,At){return vt(Ft,pn(Ft,At))},ft=function(Ft,At){var Tt;return Ft.frameId?At?At.get(Ft.frameId)||null:((Tt=St.Z.getScene(Ft))===null||Tt===void 0?void 0:Tt.getElement(Ft.frameId))||null:null},$=function(Ft,At,Tt){var jt,un=Ft.reduce(function(Fn,vn,Gn){return vn.frameId===Tt.id&&Fn.currTargetFrameChildrenMap.set(vn.id,!0),Fn},{currTargetFrameChildrenMap:new Map}),Jt=un.currTargetFrameChildrenMap,hn=new Set(At.map(function(Fn){return Fn.id})),rn=[],Mt=dt(vt(Ft,At));try{for(Mt.s();!(jt=Mt.n()).done;){var an=jt.value;Jt.has(an.id)||rn.push(an);var Cn=(0,ht.WJ)(an);!Cn||hn.has(Cn.id)||Jt.has(Cn.id)||rn.push(Cn)}}catch(Fn){Mt.e(Fn)}finally{Mt.f()}for(var kn=0,jn=rn;kn<jn.length;kn++){var Dn=jn[kn];(0,st.DR)(Dn,{frameId:Tt.id},!1)}return Ft.slice()},wt=function(Ft,At,Tt){var jt,un=new Map,Jt=new Map,hn=dt(At);try{for(hn.s();!(jt=hn.n()).done;){var rn=jt.value;if(rn.frameId){un.set(rn.id,rn);var Mt=Jt.get(rn.frameId)||[];Mt.push(rn);var an=(0,ht.WJ)(rn);an&&(un.set(an.id,an),Mt.push(an)),Jt.set(rn.frameId,Mt)}}}catch(Dn){hn.e(Dn)}finally{hn.f()}var Cn,kn=dt(un);try{for(kn.s();!(Cn=kn.n()).done;){var jn=(0,ot.Z)(Cn.value,2)[1];(0,st.DR)(jn,{frameId:null},!1)}}catch(Dn){kn.e(Dn)}finally{kn.f()}return Ft.slice()},gt=function(Ft,At,Tt){var jt=Ot(Ft,At.id);return wt(Ft,jt)},lt=function(Ft,At,Tt,jt){return $(gt(Ft,Tt),At,Tt)},pt=function(Ft,At,Tt){var jt=Tt.scene.getSelectedElements({selectedElementIds:At.selectedElementIds,elements:Ft}),un=new Set(jt);if(At.editingGroupId){var Jt,hn=dt(jt);try{for(hn.s();!(Jt=hn.n()).done;){var rn=Jt.value;rn.groupIds.length===0?un.add(rn):rn.groupIds.flatMap(function(an){return(0,xt.Fb)(Ft,an)}).forEach(function(an){return un.add(an)})}}catch(an){hn.e(an)}finally{hn.f()}}var Mt=new Set;return un.forEach(function(an){!an.frameId||(0,it.He)(an)||Qt(an,Ft,At)||Mt.add(an)}),Mt.size>0?wt(Ft,(0,Et.Z)(Mt)):Ft},vt=function(Ft,At){var Tt,jt=new Set,un=dt(At||Ft);try{for(un.s();!(Tt=un.n()).done;){var Jt=Tt.value,hn=Jt.groupIds[Jt.groupIds.length-1];hn&&jt.add(hn)}}catch(kn){un.e(kn)}finally{un.f()}var rn,Mt=new Set,an=dt(jt);try{for(an.s();!(rn=an.n()).done;){var Cn=rn.value;(0,xt.Fb)(Ft,Cn).some(function(kn){return(0,it.He)(kn)})&&Mt.add(Cn)}}catch(kn){an.e(kn)}finally{an.f()}return(At||Ft).filter(function(kn){return!Mt.has(kn.groupIds[kn.groupIds.length-1])})},zt=function(Ft,At){var Tt=(0,it.iB)(Ft)&&(0,ht.tl)(Ft)||Ft;return At.selectedElementIds[Tt.id]&&At.selectedElementsAreBeingDragged?At.frameToHighlight:ft(Tt)},Qt=function(Ft,At,Tt){var jt=zt(Ft,Tt),un=(0,it.iB)(Ft)&&(0,ht.tl)(Ft)||Ft;if(jt){if(!Tt.selectedElementIds[Ft.id]||!Tt.selectedElementsAreBeingDragged)return!0;if(un.groupIds.length===0)return Ut(un,jt);var Jt=new Set(un.groupIds.flatMap(function(Dn){return(0,xt.Fb)(At,Dn)}));if(Tt.editingGroupId&&Tt.selectedElementsAreBeingDragged){var hn=new Set((0,tt.eD)(At,Tt));if(Tt.frameToHighlight!==null)return!0;hn.forEach(function(Dn){Jt.delete(Dn)})}var rn,Mt=dt(Jt);try{for(Mt.s();!(rn=Mt.n()).done;){var an=rn.value;if((0,it.He)(an))return!1}}catch(Dn){Mt.e(Dn)}finally{Mt.f()}var Cn,kn=dt(Jt);try{for(kn.s();!(Cn=kn.n()).done;){var jn=Cn.value;if(Ut(jn,jt))return!0}}catch(Dn){kn.e(Dn)}finally{kn.f()}}return!1}},9215:function($t,Vt,_){_.d(Vt,{AI:function(){return Gt},F$:function(){return Zt},Fb:function(){return qt},Nd:function(){return mn},Qy:function(){return Kt},S_:function(){return yt},YS:function(){return Ut},bO:function(){return Nt},h6:function(){return Ot},iE:function(){return pn},iJ:function(){return sn},yO:function(){return Yt},yR:function(){return bn},zq:function(){return dt}});var Et=_(1930),ot=_(2577),it=_(7169),nt=_(4105),ht=_(4761),Bt=_(6264);function st(Ct,Xt){var ut=typeof Symbol<"u"&&Ct[Symbol.iterator]||Ct["@@iterator"];if(!ut){if(Array.isArray(Ct)||(ut=function(pt,vt){if(pt){if(typeof pt=="string")return tt(pt,vt);var zt=Object.prototype.toString.call(pt).slice(8,-1);if(zt==="Object"&&pt.constructor&&(zt=pt.constructor.name),zt==="Map"||zt==="Set")return Array.from(pt);if(zt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zt))return tt(pt,vt)}}(Ct))||Xt){ut&&(Ct=ut);var ft=0,$=function(){};return{s:$,n:function(){return ft>=Ct.length?{done:!0}:{done:!1,value:Ct[ft++]}},e:function(pt){throw pt},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wt,gt=!0,lt=!1;return{s:function(){ut=ut.call(Ct)},n:function(){var pt=ut.next();return gt=pt.done,pt},e:function(pt){lt=!0,wt=pt},f:function(){try{gt||ut.return==null||ut.return()}finally{if(lt)throw wt}}}}function tt(Ct,Xt){(Xt==null||Xt>Ct.length)&&(Xt=Ct.length);for(var ut=0,ft=new Array(Xt);ut<Xt;ut++)ft[ut]=Ct[ut];return ft}function xt(Ct,Xt){var ut=Object.keys(Ct);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(Ct);Xt&&(ft=ft.filter(function($){return Object.getOwnPropertyDescriptor(Ct,$).enumerable})),ut.push.apply(ut,ft)}return ut}function St(Ct){for(var Xt=1;Xt<arguments.length;Xt++){var ut=arguments[Xt]!=null?arguments[Xt]:{};Xt%2?xt(Object(ut),!0).forEach(function(ft){(0,it.Z)(Ct,ft,ut[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ct,Object.getOwnPropertyDescriptors(ut)):xt(Object(ut)).forEach(function(ft){Object.defineProperty(Ct,ft,Object.getOwnPropertyDescriptor(ut,ft))})}return Ct}var Zt=function(Ct,Xt,ut){var ft=ut.reduce(function($,wt){return wt.groupIds.includes(Ct)&&($[wt.id]=!0),$},{});return Object.keys(ft).length<2?Xt.selectedGroupIds[Ct]||Xt.editingGroupId===Ct?{selectedElementIds:Xt.selectedElementIds,selectedGroupIds:St(St({},Xt.selectedGroupIds),{},(0,it.Z)({},Ct,!1)),editingGroupId:null}:Xt:{editingGroupId:Xt.editingGroupId,selectedGroupIds:St(St({},Xt.selectedGroupIds),{},(0,it.Z)({},Ct,!0)),selectedElementIds:St(St({},Xt.selectedElementIds),ft)}},Nt=function(){var Ct=null,Xt=null,ut=null,ft=function($,wt,gt,lt){var pt=lt?lt.scene.getSelectedElements({selectedElementIds:$.selectedElementIds,elements:wt}):(0,nt.eD)(wt,$);return pt.length?function(vt,zt,Qt,Ft){var At;if(ut!==void 0&&zt===Xt&&vt===Ct&&Qt.editingGroupId===((At=ut)===null||At===void 0?void 0:At.editingGroupId))return ut;var Tt,jt={},un=st(vt);try{for(un.s();!(Tt=un.n()).done;){var Jt=Tt.value.groupIds;if(Qt.editingGroupId){var hn=Jt.indexOf(Qt.editingGroupId);hn>-1&&(Jt=Jt.slice(0,hn))}if(Jt.length>0){var rn=Jt[Jt.length-1];jt[rn]=!0}}}catch(Dn){un.e(Dn)}finally{un.f()}for(var Mt={},an=zt.reduce(function(Dn,Fn){var vn=Fn.groupIds.find(function(Gn){return jt[Gn]});return vn&&(Dn[Fn.id]=!0,Array.isArray(Mt[vn])?Mt[vn].push(Fn.id):Mt[vn]=[Fn.id]),Dn},{}),Cn=0,kn=Object.keys(Mt);Cn<kn.length;Cn++){var jn=kn[Cn];Mt[jn].length<2&&jt[jn]&&(jt[jn]=!1)}return Xt=zt,Ct=vt,ut={editingGroupId:Qt.editingGroupId,selectedGroupIds:jt,selectedElementIds:(0,Bt.Oh)(St(St({},Qt.selectedElementIds),an),Ft)}}(pt,wt,$,gt):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,Bt.Oh)($.selectedElementIds,gt)}};return ft.clearCache=function(){Xt=null,Ct=null,ut=null},ft}(),dt=function(Ct,Xt){return Yt(Ct,Xt)!=null},Yt=function(Ct,Xt){return Xt.groupIds.filter(function(ut){return ut!==Ct.editingGroupId}).find(function(ut){return Ct.selectedGroupIds[ut]})},sn=function(Ct){return Object.entries(Ct.selectedGroupIds).filter(function(Xt){var ut=(0,ot.Z)(Xt,2);return ut[0],ut[1]}).map(function(Xt){var ut=(0,ot.Z)(Xt,2),ft=ut[0];return ut[1],ft})},bn=function(Ct,Xt){var ut,ft=St(St({},Xt),{},{selectedGroupIds:{}}),$=st(Ct);try{for($.s();!(ut=$.n()).done;){var wt=ut.value.groupIds;if(Xt.editingGroupId){var gt=wt.indexOf(Xt.editingGroupId);gt>-1&&(wt=wt.slice(0,gt))}if(wt.length>0){var lt=wt[wt.length-1];ft=St(St({},ft),Zt(lt,ft,Ct))}}}catch(pt){$.e(pt)}finally{$.f()}return ft.selectedGroupIds},pn=function(Ct,Xt){return St(St({},Ct),{},{editingGroupId:Xt.groupIds.length?Xt.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,it.Z)({},Xt.id,!0)})},mn=function(Ct,Xt){return Ct.groupIds.includes(Xt)},qt=function(Ct,Xt){return Ct.filter(function(ut){return mn(ut,Xt)})},Ut=function(Ct,Xt){return Ct.groupIds.find(function(ut){return Xt[ut]})},Kt=function(Ct,Xt,ut){for(var ft=(0,Et.Z)(Ct),$=Xt?Ct.indexOf(Xt):-1,wt=$>-1?$:Ct.length,gt=0;gt<wt;gt++)ft[gt]=ut(ft[gt]);return ft},yt=function(Ct,Xt,ut){var ft=(0,Et.Z)(Ct),$=ut?ft.indexOf(ut):-1,wt=$>-1?$:ft.length;return ft.splice(wt,0,Xt),ft},Ot=function(Ct,Xt){return Ct.filter(function(ut){return!Xt[ut]})},Gt=function(Ct){var Xt=new Map;return Ct.forEach(function(ut){var ft=ut.groupIds.length===0?ut.id:ut.groupIds[ut.groupIds.length-1],$=Xt.get(ft)||[],wt=(0,ht.WJ)(ut);wt&&$.push(wt),Xt.set(ft,[].concat((0,Et.Z)($),[ut]))}),Array.from(Xt.values())}},334:function($t,Vt,_){_.d(Vt,{F:function(){return Bt}});var Et=_(1930),ot=_(2577),it=_(9787),nt=_(8242),ht=_(100),Bt=function(st){var tt=(0,it.useState)(null),xt=(0,ot.Z)(tt,2),St=xt[0],Zt=xt[1],Nt=(0,nt.Fy)(),dt=(0,ht.I)().theme,Yt=(0,nt.J0)().container;return(0,it.useLayoutEffect)(function(){var sn,bn;St&&(St.className="",(sn=St.classList).add.apply(sn,["excalidraw"].concat((0,Et.Z)((st==null||(bn=st.className)===null||bn===void 0?void 0:bn.split(/\s+/))||[]))),St.classList.toggle("excalidraw--mobile",Nt.editor.isMobile),St.classList.toggle("theme--dark",dt==="dark"))},[St,dt,Nt.editor.isMobile,st==null?void 0:st.className]),(0,it.useLayoutEffect)(function(){var sn=st!=null&&st.parentSelector?Yt==null?void 0:Yt.querySelector(st.parentSelector):document.body;if(sn){var bn=document.createElement("div");return sn.appendChild(bn),Zt(bn),function(){sn.removeChild(bn)}}},[Yt,st==null?void 0:st.parentSelector]),St}},5832:function($t,Vt,_){_.d(Vt,{YX:function(){return St},mF:function(){return Nt},yT:function(){return dt}});var Et=_(2577),ot=_(8950),it=_(2975),nt=_.n(it),ht=_(3607),Bt=_(9787),st=_(9240),tt=_(453),xt=_(507),St=(0,ht.cn)(new Map),Zt=function(){var Yt=(0,ot.Z)(nt().mark(function sn(bn){return nt().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return pn.next=2,(0,xt.$D)({elements:bn,appState:{exportBackground:!1,viewBackgroundColor:st.HO.white},files:null,renderEmbeddables:!1});case 2:return pn.abrupt("return",pn.sent);case 3:case"end":return pn.stop()}},sn)}));return function(sn){return Yt.apply(this,arguments)}}(),Nt=function(Yt,sn,bn){var pn=(0,Bt.useState)(),mn=(0,Et.Z)(pn,2),qt=mn[0],Ut=mn[1];return(0,Bt.useEffect)(function(){if(sn)if(Yt){var Kt=bn.get(Yt);Kt?Ut(Kt):(0,ot.Z)(nt().mark(function yt(){var Ot,Gt;return nt().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ct.next=2,Zt(sn);case 2:Gt=Ct.sent,(Ot=Gt.querySelector(".style-fonts"))===null||Ot===void 0||Ot.remove(),Gt&&(bn.set(Yt,Gt),Ut(Gt));case 5:case"end":return Ct.stop()}},yt)}))()}else(0,ot.Z)(nt().mark(function yt(){var Ot;return nt().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return Gt.next=2,Zt(sn);case 2:Ot=Gt.sent,Ut(Ot);case 4:case"end":return Gt.stop()}},yt)}))()},[Yt,sn,bn,Ut]),qt},dt=function(){var Yt=(0,ht.KO)(St,tt.yE),sn=(0,Et.Z)(Yt,1)[0];return{clearLibraryCache:function(){return sn.clear()},deleteItemsFromLibraryCache:function(bn){bn.forEach(function(pn){return sn.delete(pn)})},svgCache:sn}}},1901:function($t,Vt,_){_.d(Vt,{O:function(){return it}});var Et=_(9787),ot=_(9937);function it(nt,ht,Bt){(0,Et.useEffect)(function(){function st(tt){var xt=tt;if(nt.current){var St=Bt==null?void 0:Bt(xt,nt.current);if(St!==!0){if(St===!1)return ht(xt);!nt.current.contains(xt.target)&&document.documentElement.contains(xt.target)&&(xt.target.closest("[data-radix-portal]")||xt.target===document.documentElement&&document.body.style.pointerEvents==="none"||xt.target.closest("[data-prevent-outside-click]")||ht(xt))}}}return document.addEventListener(ot.Ks.POINTER_DOWN,st),document.addEventListener(ot.Ks.TOUCH_START,st),function(){document.removeEventListener(ot.Ks.POINTER_DOWN,st),document.removeEventListener(ot.Ks.TOUCH_START,st)}},[nt,ht,Bt])}},8227:function($t,Vt,_){_.d(Vt,{Fp:function(){return xt},G3:function(){return sn},Mj:function(){return St},QT:function(){return qt},m0:function(){return Yt},t:function(){return pn}});var Et=_(8950),ot=_(1930),it=_(2975),nt=_.n(it),ht=_(1463),Bt=_(4451),st=_(453),tt=_(3607),xt={code:"en",label:"English"},St=[xt].concat((0,ot.Z)([{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}].filter(function(Ut){return Bt[Ut.code]>=85}).sort(function(Ut,Kt){return Ut.label>Kt.label?1:-1}))),Zt="__test__",Nt=xt,dt={},Yt=function(){var Ut=(0,Et.Z)(nt().mark(function Kt(yt){return nt().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(Nt=yt,document.documentElement.dir=Nt.rtl?"rtl":"ltr",document.documentElement.lang=Nt.code,!yt.code.startsWith(Zt)){Ot.next=7;break}dt={},Ot.next=17;break;case 7:return Ot.prev=7,Ot.next=10,_(940)("./".concat(Nt.code,".json"));case 10:dt=Ot.sent,Ot.next=17;break;case 13:Ot.prev=13,Ot.t0=Ot.catch(7),console.error("Failed to load language ".concat(yt.code,":"),Ot.t0.message),dt=ht;case 17:st.e_.set(mn,yt.code);case 18:case"end":return Ot.stop()}},Kt,null,[[7,13]])}));return function(Kt){return Ut.apply(this,arguments)}}(),sn=function(){return Nt},bn=function(Ut,Kt){for(var yt=0;yt<Kt.length;++yt){var Ot=Kt[yt];if(Ut[Ot]===void 0)return;Ut=Ut[Ot]}if(typeof Ut=="string")return Ut},pn=function(Ut,Kt,yt){if(Nt.code.startsWith(Zt)){var Ot=Kt?"".concat(Ut,"(").concat(JSON.stringify(Kt).slice(1,-1),")"):Ut;return"‪[[".concat(Ot,"]]‬")}var Gt=Ut.split("."),Ct=bn(dt,Gt)||bn(ht,Gt)||yt;if(Ct===void 0){var Xt="Can't find translation for ".concat(Ut);return console.warn(Xt),""}if(Kt)for(var ut in Kt)Ct=Ct.replace("{{".concat(ut,"}}"),String(Kt[ut]));return Ct},mn=(0,tt.cn)(xt.code),qt=function(){var Ut=(0,tt.Dv)(mn,st.yE);return{t:pn,langCode:Ut}}},453:function($t,Vt,_){_.d(Vt,{e_:function(){return it},yE:function(){return ot}});var Et=_(3607),ot=(_(9787),Symbol()),it=(0,Et.Vv)()},5491:function($t,Vt,_){_.d(Vt,{E0:function(){return Bt},Ge:function(){return st},OA:function(){return ht},Wl:function(){return nt},aU:function(){return ot},tW:function(){return it}});var Et=_(9937),ot={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},it={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:Et.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},nt=function(tt){return tt===it.ARROW_LEFT||tt===it.ARROW_RIGHT||tt===it.ARROW_DOWN||tt===it.ARROW_UP},ht=function(tt){return tt.altKey},Bt=function(tt){return tt.shiftKey},st=function(tt){return tt.shiftKey}},2361:function($t,Vt,_){_.d(Vt,{EK:function(){return Ot},H5:function(){return xt},Jj:function(){return yt},LW:function(){return tt},N_:function(){return mn},Ni:function(){return Nt},U1:function(){return ht},Xt:function(){return Xt},c9:function(){return Zt},eH:function(){return Ut},ep:function(){return Gt},g6:function(){return St},lk:function(){return Kt},mW:function(){return Ct},wC:function(){return sn},xj:function(){return Bt},yB:function(){return pn},yW:function(){return bn},yq:function(){return st}});var Et=_(2577),ot=_(9937),it=_(4949),nt=_(2921),ht=function(ut,ft,$,wt,gt){return[(ut-$)*Math.cos(gt)-(ft-wt)*Math.sin(gt)+$,(ut-$)*Math.sin(gt)+(ft-wt)*Math.cos(gt)+wt]},Bt=function(ut,ft,$){return ht(ut[0],ut[1],ft[0],ft[1],$)},st=function(ut,ft,$,wt,gt,lt,pt,vt){var zt=Math.cos(wt),Qt=Math.sin(wt);return ut.e&&ut.w?ft+=gt+pt:ut.e?(ft+=gt*(1+zt),$+=gt*Qt,ft+=pt*(1-zt),$+=pt*-Qt):ut.w&&(ft+=gt*(1-zt),$+=gt*-Qt,ft+=pt*(1+zt),$+=pt*Qt),ut.n&&ut.s?$+=lt+vt:ut.n?(ft+=lt*Qt,$+=lt*(1-zt),ft+=vt*-Qt,$+=vt*(1+zt)):ut.s&&(ft+=lt*-Qt,$+=lt*(1+zt),ft+=vt*Qt,$+=vt*(1-zt)),[ft,$]},tt=function(ut,ft,$,wt){var gt=$-ut,lt=wt-ft;return Math.hypot(gt,lt)},xt=function(ut,ft){return[(ut[0]+ft[0])/2,(ut[1]+ft[1])/2]},St=function(ut){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(ut.length>=3){var $=[ut[0],ut[ut.length-1]],wt=$[0],gt=$[1],lt=tt(wt[0],wt[1],gt[0],gt[1]);return lt<=ot.qx/ft}return!1},Zt=function(ut,ft,$){var wt=ut.length;if(wt<3)return!1;for(var gt=[Number.MAX_SAFE_INTEGER,$],lt=[ft,$],pt=0,vt=0;vt<wt;vt++){var zt=ut[vt],Qt=ut[(vt+1)%wt];if(Yt(zt,Qt,lt,gt)){if(dt(zt,lt,Qt)===0)return Nt(zt,lt,Qt);pt++}}return pt%2==1},Nt=function(ut,ft,$){return ft[0]<=Math.max(ut[0],$[0])&&ft[0]>=Math.min(ut[0],$[0])&&ft[1]<=Math.max(ut[1],$[1])&&ft[1]>=Math.min(ut[1],$[1])},dt=function(ut,ft,$){var wt=(ft[1]-ut[1])*($[0]-ft[0])-(ft[0]-ut[0])*($[1]-ft[1]);return wt===0?0:wt>0?1:2},Yt=function(ut,ft,$,wt){var gt=dt(ut,ft,$),lt=dt(ut,ft,wt),pt=dt($,wt,ut),vt=dt($,wt,ft);return gt!==lt&&pt!==vt||!(gt!==0||!Nt(ut,$,ft))||!(lt!==0||!Nt(ut,wt,ft))||!(pt!==0||!Nt($,ut,wt))||!(vt!==0||!Nt($,ft,wt))},sn=function(ut,ft,$){return $?[Math.round(ut/$)*$,Math.round(ft/$)*$]:[ut,ft]},bn=function(ut,ft){var $,wt,gt;if((($=ft.roundness)===null||$===void 0?void 0:$.type)===ot.a6.PROPORTIONAL_RADIUS||((wt=ft.roundness)===null||wt===void 0?void 0:wt.type)===ot.a6.LEGACY)return ut*ot.Rx;if(((gt=ft.roundness)===null||gt===void 0?void 0:gt.type)===ot.a6.ADAPTIVE_RADIUS){var lt,pt,vt=(lt=(pt=ft.roundness)===null||pt===void 0?void 0:pt.value)!==null&&lt!==void 0?lt:ot._9;return ut<=vt/ot.Rx?ut*ot.Rx:vt}return 0},pn=function(ut,ft){var $=nt.R.generateElementShape(ut);if(!$)return null;for(var wt=(0,it.CM)($[0]),gt=[0,0],lt=0,pt=1/0,vt=null;lt<wt.length;){var zt=wt[lt],Qt=zt.op,Ft=zt.data;if(Qt==="move"&&(gt=Ft),Qt==="bcurveTo"){var At=gt,Tt=[Ft[0],Ft[1]],jt=[Ft[2],Ft[3]],un=[Ft[4],Ft[5]],Jt=tt(un[0],un[1],ft[0],ft[1]);Jt<pt&&(pt=Jt,vt=[At,Tt,jt,un]),gt=un}lt++}return vt},mn=function(ut,ft,$,wt,gt){var lt=function(pt,vt){return Math.pow(1-pt,3)*wt[vt]+3*pt*Math.pow(1-pt,2)*$[vt]+3*Math.pow(pt,2)*(1-pt)*ft[vt]+ut[vt]*Math.pow(pt,3)};return[lt(gt,0),lt(gt,1)]},qt=function(ut,ft){var $=[];$[0]=0;for(var wt=function(pt,vt){var zt=pn(pt,vt);if(!zt)return[];for(var Qt=[],Ft=1;Ft>0;){var At=mn(zt[0],zt[1],zt[2],zt[3],Ft);Qt.push([At[0],At[1]]),Ft-=.05}return Qt.length&&yt(Qt.at(-1),vt)&&Qt.push([vt[0],vt[1]]),Qt}(ut,ft),gt=0,lt=0;gt<wt.length-1;)lt+=tt(wt[gt][0],wt[gt][1],wt[gt+1][0],wt[gt+1][1]),$.push(lt),gt++;return $},Ut=function(ut,ft){return qt(ut,ft).at(-1)},Kt=function(ut,ft,$){for(var wt=qt(ut,ft),gt=wt.length-1,lt=$*wt.at(-1),pt=0,vt=gt,zt=0;pt<vt;)wt[zt=Math.floor(pt+(vt-pt)/2)]<lt?pt=zt+1:vt=zt;return wt[zt]>lt&&zt--,wt[zt]===lt?zt/gt:1-(zt+(lt-wt[zt])/(wt[zt+1]-wt[zt]))/gt},yt=function(ut,ft){return ut[0]===ft[0]&&ut[1]===ft[1]},Ot=function(ut){return Math.round(ut/Math.PI*1e4)%5e3==0},Gt=function(ut,ft){var $=(0,Et.Z)(ut,2),wt=$[0],gt=$[1],lt=(0,Et.Z)(ft,2),pt=lt[0],vt=lt[1];return wt<=pt?gt>=pt:wt>=pt&&vt>=wt},Ct=function(ut,ft){var $=Math.max(ut[0],ft[0]),wt=Math.min(ut[1],ft[1]);return $<=wt?[$,wt]:null},Xt=function(ut,ft,$){return ut>=ft&&ut<=$}},4864:function($t,Vt,_){_.d(Vt,{zx:function(){return In.z},Or:function(){return rr.O},Eb:function(){return Zo},ut:function(){return pt.ut},$_:function(){return Jt},vO:function(){return yr},LO:function(){return pt.LO},lb:function(){return hn.Z},YE:function(){return Kr.YE},C6:function(){return pt.C6},B4:function(){return sr},ZP:function(){return wr.ZP},wc:function(){return Ir.w},Fp:function(){return Nt.Fp},sQ:function(){return pr.sQ},Xs:function(){return pr.Xs},Fl:function(){return Wr.Fl},NL:function(){return Wr.NL},i1:function(){return Wr.i1},$D:function(){return Wr.$D},KP:function(){return xr.KP},N7:function(){return Wr.N7},Lm:function(){return cr.Lm},Uo:function(){return cr.Uo},Ne:function(){return pr.Ne},QD:function(){return cr.QD},bt:function(){return Xr.bt},Mj:function(){return Nt.Mj},cT:function(){return Wr.cT},lV:function(){return Wr.lV},ZY:function(){return Wr.ZY},zh:function(){return Wr.zh},DR:function(){return wr.DR},BE:function(){return wr.BE},$u:function(){return Qr.$u},Di:function(){return Jr.Di},nu:function(){return Ur.nu},lY:function(){return Ur.lY},ET:function(){return Ur.ET},wJ:function(){return Ur.wJ},_i:function(){return bn._i},I_:function(){return Wr.I_},NI:function(){return Wr.NI},Fy:function(){return sn.Fy},xS:function(){return Jr.xS},QT:function(){return Nt.QT},dE:function(){return bn.dE}});var Et=_(6479),ot=_.n(Et),it=_(9713),nt=_.n(it),ht=_(9787),Bt=_.n(ht),st=_(8950),tt=_(2577),xt=_(2975),St=_.n(xt),Zt=_(7165),Nt=_(8227),dt=_(1020),Yt=function(dr){var Hr=(0,ht.useState)(!0),Zr=(0,tt.Z)(Hr,2),Vr=Zr[0],Ao=Zr[1];return(0,ht.useEffect)(function(){var xo=function(){var To=(0,st.Z)(St().mark(function ho(){return St().wrap(function(Cr){for(;;)switch(Cr.prev=Cr.next){case 0:return Cr.next=2,(0,Nt.m0)(wo);case 2:Ao(!1);case 3:case"end":return Cr.stop()}},ho)}));return function(){return To.apply(this,arguments)}}(),wo=Nt.Mj.find(function(To){return To.code===dr.langCode})||Nt.Fp;xo()},[dr.langCode]),Vr?(0,dt.jsx)(Zt.z,{theme:dr.theme}):dr.children},sn=_(8242),bn=_(9827),pn=_(3379),mn=_.n(pn),qt=_(7795),Ut=_.n(qt),Kt=_(569),yt=_.n(Kt),Ot=_(3565),Gt=_.n(Ot),Ct=_(9216),Xt=_.n(Ct),ut=_(4589),ft=_.n(ut),$=_(9915),wt={};wt.styleTagTransform=ft(),wt.setAttributes=Gt(),wt.insert=yt().bind(null,"head"),wt.domAPI=Ut(),wt.insertStyleElement=Xt(),mn()($.Z,wt),$.Z&&$.Z.locals&&$.Z.locals;var gt=_(9310),lt={};lt.styleTagTransform=ft(),lt.setAttributes=Gt(),lt.insert=yt().bind(null,"head"),lt.domAPI=Ut(),lt.insertStyleElement=Xt(),mn()(gt.Z,lt),gt.Z&&gt.Z.locals&&gt.Z.locals;var pt=_(9937),vt=_(3607),zt=_(453),Qt=_(45),Ft=_(4572),At=_(8793),Tt={};Tt.styleTagTransform=ft(),Tt.setAttributes=Gt(),Tt.insert=yt().bind(null,"head"),Tt.domAPI=Ut(),Tt.insertStyleElement=Xt(),mn()(At.Z,Tt),At.Z&&At.Z.locals&&At.Z.locals;var jt=_(100),un=function(dr){var Hr=dr.children,Zr=(0,Ft.R6)().FooterCenterTunnel,Vr=(0,jt.I)();return(0,dt.jsx)(Zr.In,{children:(0,dt.jsx)("div",{className:(0,Qt.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Vr.zenModeEnabled}),children:Hr})})},Jt=un;un.displayName="FooterCenter";var hn=_(7021),rn=_(7169),Mt=_(2726),an=_(5463),Cn=_(2529),kn=_(8935),jn=_(5744),Dn={};Dn.styleTagTransform=ft(),Dn.setAttributes=Gt(),Dn.insert=yt().bind(null,"head"),Dn.domAPI=Ut(),Dn.insertStyleElement=Xt(),mn()(jn.Z,Dn),jn.Z&&jn.Z.locals&&jn.Z.locals;var Fn=function(){return(0,dt.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,dt.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},vn=function(){return(0,dt.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,dt.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,dt.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,dt.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,dt.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Gn=function(dr){var Hr=dr.style,Zr=dr.size,Vr=Zr===void 0?"small":Zr,Ao=dr.withText;return(0,dt.jsxs)("div",{className:"ExcalidrawLogo is-".concat(Vr),style:Hr,children:[(0,dt.jsx)(Fn,{}),Ao&&(0,dt.jsx)(vn,{})]})},Sn=["onSelect","children","icon","shortcut","className"],nn=["children","href","icon","shortcut","className"];function Qn(dr,Hr){var Zr=Object.keys(dr);if(Object.getOwnPropertySymbols){var Vr=Object.getOwnPropertySymbols(dr);Hr&&(Vr=Vr.filter(function(Ao){return Object.getOwnPropertyDescriptor(dr,Ao).enumerable})),Zr.push.apply(Zr,Vr)}return Zr}function tn(dr){for(var Hr=1;Hr<arguments.length;Hr++){var Zr=arguments[Hr]!=null?arguments[Hr]:{};Hr%2?Qn(Object(Zr),!0).forEach(function(Vr){(0,rn.Z)(dr,Vr,Zr[Vr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dr,Object.getOwnPropertyDescriptors(Zr)):Qn(Object(Zr)).forEach(function(Vr){Object.defineProperty(dr,Vr,Object.getOwnPropertyDescriptor(Zr,Vr))})}return dr}var at=function(dr){var Hr=dr.icon,Zr=dr.shortcut,Vr=dr.children,Ao=(0,sn.Fy)();return(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Hr}),(0,dt.jsx)("div",{className:"welcome-screen-menu-item__text",children:Vr}),Zr&&!Ao.editor.isMobile&&(0,dt.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:Zr})]})};at.displayName="WelcomeScreenMenuItemContent";var ct=function(dr){var Hr=dr.onSelect,Zr=dr.children,Vr=dr.icon,Ao=dr.shortcut,xo=dr.className,wo=xo===void 0?"":xo,To=(0,Mt.Z)(dr,Sn);return(0,dt.jsx)("button",tn(tn({},To),{},{type:"button",className:"welcome-screen-menu-item ".concat(wo),onClick:Hr,children:(0,dt.jsx)(at,{icon:Vr,shortcut:Ao,children:Zr})}))};ct.displayName="WelcomeScreenMenuItem";var mt=function(dr){var Hr=dr.children,Zr=dr.href,Vr=dr.icon,Ao=dr.shortcut,xo=dr.className,wo=xo===void 0?"":xo,To=(0,Mt.Z)(dr,nn);return(0,dt.jsx)("a",tn(tn({},To),{},{className:"welcome-screen-menu-item ".concat(wo),href:Zr,target:"_blank",rel:"noreferrer",children:(0,dt.jsx)(at,{icon:Vr,shortcut:Ao,children:Hr})}))};mt.displayName="WelcomeScreenMenuItemLink";var Wt=function(dr){var Hr=dr.children,Zr=(0,Ft.R6)().WelcomeScreenCenterTunnel;return(0,dt.jsx)(Zr.In,{children:(0,dt.jsx)("div",{className:"welcome-screen-center",children:Hr||(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)(Rt,{}),(0,dt.jsx)(en,{children:(0,Nt.t)("welcomeScreen.defaults.center_heading")}),(0,dt.jsxs)(Pt,{children:[(0,dt.jsx)(Bn,{}),(0,dt.jsx)(on,{})]})]})})})};Wt.displayName="Center";var Rt=function(dr){var Hr=dr.children;return(0,dt.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Hr||(0,dt.jsx)(Gn,{withText:!0})})};Rt.displayName="Logo";var en=function(dr){var Hr=dr.children;return(0,dt.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Hr})};en.displayName="Heading";var Pt=function(dr){var Hr=dr.children;return(0,dt.jsx)("div",{className:"welcome-screen-menu",children:Hr})};Pt.displayName="Menu";var on=function(){var dr=(0,sn.eh)();return(0,dt.jsx)(ct,{onSelect:function(){return dr.executeAction(an.jY)},shortcut:"?",icon:kn.by,children:(0,Nt.t)("helpDialog.title")})};on.displayName="MenuItemHelp";var Bn=function(){var dr=(0,jt.I)(),Hr=(0,sn.eh)();return dr.viewModeEnabled?null:(0,dt.jsx)(ct,{onSelect:function(){return Hr.executeAction(an._d)},shortcut:(0,Cn.C)("loadScene"),icon:kn.Tl,children:(0,Nt.t)("buttons.load")})};Bn.displayName="MenuItemLoadScene";var yn=function(dr){var Hr=dr.onSelect,Zr=(0,Nt.QT)().t;return(0,dt.jsx)(ct,{shortcut:null,onSelect:Hr,icon:kn.jn,children:Zr("labels.liveCollaboration")})};yn.displayName="MenuItemLiveCollaborationTrigger",Wt.Logo=Rt,Wt.Heading=en,Wt.Menu=Pt,Wt.MenuItem=ct,Wt.MenuItemLink=mt,Wt.MenuItemHelp=on,Wt.MenuItemLoadScene=Bn,Wt.MenuItemLiveCollaborationTrigger=yn;var Wn=function(dr){var Hr=dr.children,Zr=(0,Ft.R6)().WelcomeScreenMenuHintTunnel;return(0,dt.jsx)(Zr.In,{children:(0,dt.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[kn.oQ,(0,dt.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Hr||(0,Nt.t)("welcomeScreen.defaults.menuHint")})]})})};Wn.displayName="MenuHint";var Vn=function(dr){var Hr=dr.children,Zr=(0,Ft.R6)().WelcomeScreenToolbarHintTunnel;return(0,dt.jsx)(Zr.In,{children:(0,dt.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,dt.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Hr||(0,Nt.t)("welcomeScreen.defaults.toolbarHint")}),kn.DJ]})})};Vn.displayName="ToolbarHint";var Hn=function(dr){var Hr=dr.children,Zr=(0,Ft.R6)().WelcomeScreenHelpHintTunnel;return(0,dt.jsx)(Zr.In,{children:(0,dt.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,dt.jsx)("div",{children:Hr||(0,Nt.t)("welcomeScreen.defaults.helpHint")}),kn._U]})})};Hn.displayName="HelpHint";var Zn=_(1569),Kn={};Kn.styleTagTransform=ft(),Kn.setAttributes=Gt(),Kn.insert=yt().bind(null,"head"),Kn.domAPI=Ut(),Kn.insertStyleElement=Xt(),mn()(Zn.Z,Kn),Zn.Z&&Zn.Z.locals&&Zn.Z.locals;var qn=function(dr){return(0,dt.jsx)(dt.Fragment,{children:dr.children||(0,dt.jsxs)(dt.Fragment,{children:[(0,dt.jsx)(Wt,{}),(0,dt.jsx)(Wn,{}),(0,dt.jsx)(Vn,{}),(0,dt.jsx)(Hn,{})]})})};qn.displayName="WelcomeScreen",qn.Center=Wt,qn.Hints={MenuHint:Wn,ToolbarHint:Vn,HelpHint:Hn};var sr=qn,In=_(8806),An=_(3397),On={};On.styleTagTransform=ft(),On.setAttributes=Gt(),On.insert=yt().bind(null,"head"),On.domAPI=Ut(),On.insertStyleElement=Xt(),mn()(An.Z,On),An.Z&&An.Z.locals&&An.Z.locals;var _n=["isCollaborating","onSelect"];function or(dr,Hr){var Zr=Object.keys(dr);if(Object.getOwnPropertySymbols){var Vr=Object.getOwnPropertySymbols(dr);Hr&&(Vr=Vr.filter(function(Ao){return Object.getOwnPropertyDescriptor(dr,Ao).enumerable})),Zr.push.apply(Zr,Vr)}return Zr}function ir(dr){for(var Hr=1;Hr<arguments.length;Hr++){var Zr=arguments[Hr]!=null?arguments[Hr]:{};Hr%2?or(Object(Zr),!0).forEach(function(Vr){(0,rn.Z)(dr,Vr,Zr[Vr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dr,Object.getOwnPropertyDescriptors(Zr)):or(Object(Zr)).forEach(function(Vr){Object.defineProperty(dr,Vr,Object.getOwnPropertyDescriptor(Zr,Vr))})}return dr}var mr=function(dr){var Hr=dr.isCollaborating,Zr=dr.onSelect,Vr=(0,Mt.Z)(dr,_n),Ao=(0,jt.I)();return(0,dt.jsxs)(In.z,ir(ir({},Vr),{},{className:(0,Qt.Z)("collab-button",{active:Hr}),type:"button",onSelect:Zr,style:{position:"relative"},title:(0,Nt.t)("labels.liveCollaboration"),children:[kn.jn,Ao.collaborators.size>0&&(0,dt.jsx)("div",{className:"CollabButton-collaborators",children:Ao.collaborators.size})]}))},yr=mr;mr.displayName="LiveCollaborationTrigger";var cr=_(7651),Ur=_(7994),Wr=_(507),Xr=_(4183),wr=_(583),Jr=_(9326),Kr=_(5902),rr=_(1925),Qr=_(8020),Ir=_(6199),xr=_(4949),pr=_(6013),Nr=["initialData","UIOptions"],Rr=["initialData","UIOptions"];function qr(dr,Hr){var Zr=Object.keys(dr);if(Object.getOwnPropertySymbols){var Vr=Object.getOwnPropertySymbols(dr);Hr&&(Vr=Vr.filter(function(Ao){return Object.getOwnPropertyDescriptor(dr,Ao).enumerable})),Zr.push.apply(Zr,Vr)}return Zr}function Dr(dr){for(var Hr=1;Hr<arguments.length;Hr++){var Zr=arguments[Hr]!=null?arguments[Hr]:{};Hr%2?qr(Object(Zr),!0).forEach(function(Vr){nt()(dr,Vr,Zr[Vr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dr,Object.getOwnPropertyDescriptors(Zr)):qr(Object(Zr)).forEach(function(Vr){Object.defineProperty(dr,Vr,Object.getOwnPropertyDescriptor(Zr,Vr))})}return dr}var Io=function(dr){var Hr,Zr,Vr,Ao,xo,wo,To=dr.onChange,ho=dr.initialData,Cr=dr.excalidrawAPI,Br=dr.isCollaborating,Fr=Br!==void 0&&Br,Sr=dr.onPointerUpdate,to=dr.renderTopRightUI,lo=dr.langCode,eo=lo===void 0?Nt.Fp.code:lo,Eo=dr.viewModeEnabled,go=dr.zenModeEnabled,mo=dr.gridModeEnabled,Oo=dr.libraryReturnUrl,ao=dr.theme,co=dr.name,po=dr.renderCustomStats,so=dr.onPaste,Lo=dr.detectScroll,Co=Lo===void 0||Lo,Ro=dr.handleKeyboardGlobally,Fl=Ro!==void 0&&Ro,Ll=dr.onLibraryChange,Kl=dr.autoFocus,rs=Kl!==void 0&&Kl,is=dr.generateIdForFile,Ol=dr.onLinkOpen,Ml=dr.onPointerDown,gs=dr.onScrollChange,cn=dr.children,wn=dr.validateEmbeddable,Tn=dr.renderEmbeddable,Ln=(Hr=dr.UIOptions)===null||Hr===void 0?void 0:Hr.canvasActions,Ar=Dr(Dr({},dr.UIOptions),{},{canvasActions:Dr(Dr({},pt.cW.canvasActions),Ln),tools:{image:(Zr=(Vr=dr.UIOptions)===null||Vr===void 0||(Ao=Vr.tools)===null||Ao===void 0?void 0:Ao.image)===null||Zr===void 0||Zr}});return Ln!=null&&Ln.export&&(Ar.canvasActions.export.saveFileToDisk=(xo=(wo=Ln.export)===null||wo===void 0?void 0:wo.saveFileToDisk)!==null&&xo!==void 0?xo:pt.cW.canvasActions.export.saveFileToDisk),Ar.canvasActions.toggleTheme===null&&ao===void 0&&(Ar.canvasActions.toggleTheme=!0),(0,ht.useEffect)(function(){var $r=function(zr){typeof zr.scale=="number"&&zr.scale!==1&&zr.preventDefault()};return document.addEventListener("touchmove",$r,{passive:!1}),function(){document.removeEventListener("touchmove",$r)}},[]),(0,dt.jsx)(vt.zt,{unstable_createStore:function(){return zt.e_},scope:zt.yE,children:(0,dt.jsx)(Yt,{langCode:eo,theme:ao,children:(0,dt.jsx)(sn.ZP,{onChange:To,initialData:ho,excalidrawAPI:Cr,isCollaborating:Fr,onPointerUpdate:Sr,renderTopRightUI:to,langCode:eo,viewModeEnabled:Eo,zenModeEnabled:go,gridModeEnabled:mo,libraryReturnUrl:Oo,theme:ao,name:co,renderCustomStats:po,UIOptions:Ar,onPaste:so,detectScroll:Co,handleKeyboardGlobally:Fl,onLibraryChange:Ll,autoFocus:rs,generateIdForFile:is,onLinkOpen:Ol,onPointerDown:Ml,onScrollChange:gs,validateEmbeddable:wn,renderEmbeddable:Tn,children:cn})})})},ro=function(dr,Hr){if(dr.children!==Hr.children)return!1;dr.initialData;var Zr=dr.UIOptions,Vr=Zr===void 0?{}:Zr,Ao=ot()(dr,Nr),xo=(Hr.initialData,Hr.UIOptions),wo=xo===void 0?{}:xo,To=ot()(Hr,Rr),ho=Object.keys(Vr),Cr=Object.keys(wo);return ho.length===Cr.length&&ho.every(function(Br){return Br==="canvasActions"?Object.keys(Vr.canvasActions).every(function(Fr){var Sr,to,lo,eo;return Fr==="export"&&Vr!=null&&(Sr=Vr.canvasActions)!==null&&Sr!==void 0&&Sr.export&&wo!=null&&(to=wo.canvasActions)!==null&&to!==void 0&&to.export?Vr.canvasActions.export.saveFileToDisk===wo.canvasActions.export.saveFileToDisk:(Vr==null||(lo=Vr.canvasActions)===null||lo===void 0?void 0:lo[Fr])===(wo==null||(eo=wo.canvasActions)===null||eo===void 0?void 0:eo[Fr])}):Vr[Br]===wo[Br]})&&(0,bn.w8)(Ao,To)},Zo=Bt().memo(Io,ro);Zo.displayName="Excalidraw"},507:function($t,Vt,_){_.d(Vt,{y8:function(){return mn},Fl:function(){return Ct},NL:function(){return Gt},i1:function(){return ut},$D:function(){return Xt},N7:function(){return Ut.N7},cT:function(){return qt.cT},lV:function(){return qt.lV},ZY:function(){return qt.ZY},zh:function(){return Kt.zh},I_:function(){return St.I_},NI:function(){return St.NI}});var Et=_(8950),ot=_(7169),it=_(2975),nt=_.n(it),ht=_(3668),Bt=_(6853),st=_(7994),tt=_(9937),xt=_(250),St=_(4419),Zt=_(4694);function Nt(ft){return[Math.min(ft[0][0],ft[1][0]),Math.min(ft[0][1],ft[1][1]),Math.max(ft[0][0],ft[1][0]),Math.max(ft[0][1],ft[1][1])]}function dt(ft,$){return ft[0]*$[1]-$[0]*ft[1]}function Yt(ft,$){return[ft[0]-$[0],ft[1]-$[1]]}function sn(ft,$){var wt=dt(Yt(ft[1],ft[0]),Yt($,ft[0]));return Math.abs(wt)<1e-6}function bn(ft,$){return dt(Yt(ft[1],ft[0]),Yt($,ft[0]))<0}function pn(ft,$){return sn(ft,$[0])||sn(ft,$[1])||(bn(ft,$[0])?!bn(ft,$[1]):bn(ft,$[1]))}function mn(ft,$){return function(wt,gt){return wt[0]<=gt[2]&&wt[2]>=gt[0]&&wt[1]<=gt[3]&&wt[3]>=gt[1]}(Nt(ft),Nt($))&&pn(ft,$)&&pn($,ft)}_(6013);var qt=_(5796),Ut=_(9660),Kt=_(9326);function yt(ft,$){var wt=Object.keys(ft);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(ft);$&&(gt=gt.filter(function(lt){return Object.getOwnPropertyDescriptor(ft,lt).enumerable})),wt.push.apply(wt,gt)}return wt}function Ot(ft){for(var $=1;$<arguments.length;$++){var wt=arguments[$]!=null?arguments[$]:{};$%2?yt(Object(wt),!0).forEach(function(gt){(0,ot.Z)(ft,gt,wt[gt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(wt)):yt(Object(wt)).forEach(function(gt){Object.defineProperty(ft,gt,Object.getOwnPropertyDescriptor(wt,gt))})}return ft}var Gt=function(ft){var $=ft.elements,wt=ft.appState,gt=ft.files,lt=ft.maxWidthOrHeight,pt=ft.getDimensions,vt=ft.exportPadding,zt=ft.exportingFrame,Qt=(0,st.nu)({elements:$,appState:wt},null,null),Ft=Qt.elements,At=Qt.appState,Tt=At.exportBackground,jt=At.viewBackgroundColor;return(0,ht.NL)(Ft,Ot(Ot({},At),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),gt||{},{exportBackground:Tt,exportPadding:vt,viewBackgroundColor:jt,exportingFrame:zt},function(un,Jt){var hn,rn=document.createElement("canvas");if(lt){var Mt;typeof pt=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var an=Math.max(un,Jt),Cn=lt<an?lt/an:(Mt=wt==null?void 0:wt.exportScale)!==null&&Mt!==void 0?Mt:1;return rn.width=un*Cn,rn.height=Jt*Cn,{canvas:rn,scale:Cn}}var kn=(pt==null?void 0:pt(un,Jt))||{width:un,height:Jt};return rn.width=kn.width,rn.height=kn.height,{canvas:rn,scale:(hn=kn.scale)!==null&&hn!==void 0?hn:1}})},Ct=function(){var ft=(0,Et.Z)(nt().mark(function $(wt){var gt,lt,pt,vt,zt,Qt;return nt().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return pt=(lt=wt).mimeType,vt=pt===void 0?tt.LO.png:pt,zt=lt.quality,vt===tt.LO.png&&typeof zt=="number"&&console.warn('"quality" will be ignored for "'.concat(tt.LO.png,'" mimeType')),vt==="image/jpg"&&(vt=tt.LO.jpg),vt!==tt.LO.jpg||(gt=wt.appState)!==null&&gt!==void 0&&gt.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(tt.LO.jpg,'" mimeType')),wt=Ot(Ot({},wt),{},{appState:Ot(Ot({},wt.appState),{},{exportBackground:!0})})),Ft.next=6,Gt(wt);case 6:return Qt=Ft.sent,zt=zt||(/image\/jpe?g/.test(vt)?.92:.8),Ft.abrupt("return",new Promise(function(At,Tt){Qt.toBlob(function(){var jt=(0,Et.Z)(nt().mark(function un(Jt){var hn;return nt().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(Jt){rn.next=2;break}return rn.abrupt("return",Tt(new Error("couldn't export to blob")));case 2:if(!Jt||vt!==tt.LO.png||(hn=wt.appState)===null||hn===void 0||!hn.exportEmbedScene){rn.next=6;break}return rn.next=5,(0,xt.encodePngMetadata)({blob:Jt,metadata:(0,St.I_)(wt.elements,wt.appState,wt.files||{},"local")});case 5:Jt=rn.sent;case 6:At(Jt);case 7:case"end":return rn.stop()}},un)}));return function(un){return jt.apply(this,arguments)}}(),vt,zt)}));case 9:case"end":return Ft.stop()}},$)}));return function($){return ft.apply(this,arguments)}}(),Xt=function(){var ft=(0,Et.Z)(nt().mark(function $(wt){var gt,lt,pt,vt,zt,Qt,Ft,At,Tt,jt,un,Jt;return nt().wrap(function(hn){for(;;)switch(hn.prev=hn.next){case 0:return gt=wt.elements,lt=wt.appState,pt=lt===void 0?(0,Bt.im)():lt,vt=wt.files,zt=vt===void 0?{}:vt,Qt=wt.exportPadding,Ft=wt.renderEmbeddables,At=wt.exportingFrame,Tt=(0,st.nu)({elements:gt,appState:pt},null,null),jt=Tt.elements,un=Tt.appState,Jt=Ot(Ot({},un),{},{exportPadding:Qt}),hn.abrupt("return",(0,ht.$D)(jt,Jt,zt,{exportingFrame:At,renderEmbeddables:Ft}));case 4:case"end":return hn.stop()}},$)}));return function($){return ft.apply(this,arguments)}}(),ut=function(){var ft=(0,Et.Z)(nt().mark(function $(wt){var gt;return nt().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(wt.type!=="svg"){lt.next=8;break}return lt.next=3,Xt(wt);case 3:return gt=lt.sent,lt.next=6,(0,Zt.dd)(gt.outerHTML);case 6:case 11:case 16:lt.next=19;break;case 8:if(wt.type!=="png"){lt.next=13;break}return lt.next=11,(0,Zt.uR)(Ct(wt));case 13:if(wt.type!=="json"){lt.next=18;break}return lt.next=16,(0,Zt.vQ)(wt.elements,wt.files);case 18:throw new Error("Invalid export type");case 19:case"end":return lt.stop()}},$)}));return function($){return ft.apply(this,arguments)}}()},6013:function($t,Vt,_){_.d(Vt,{Ne:function(){return xt},Xs:function(){return Zt},sQ:function(){return St}});var Et=_(2577),ot=_(4183),it=_(2361),nt=_(4949);function ht(Nt,dt){var Yt=typeof Symbol<"u"&&Nt[Symbol.iterator]||Nt["@@iterator"];if(!Yt){if(Array.isArray(Nt)||(Yt=function(Ut,Kt){if(Ut){if(typeof Ut=="string")return Bt(Ut,Kt);var yt=Object.prototype.toString.call(Ut).slice(8,-1);if(yt==="Object"&&Ut.constructor&&(yt=Ut.constructor.name),yt==="Map"||yt==="Set")return Array.from(Ut);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return Bt(Ut,Kt)}}(Nt))||dt){Yt&&(Nt=Yt);var sn=0,bn=function(){};return{s:bn,n:function(){return sn>=Nt.length?{done:!0}:{done:!1,value:Nt[sn++]}},e:function(Ut){throw Ut},f:bn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pn,mn=!0,qt=!1;return{s:function(){Yt=Yt.call(Nt)},n:function(){var Ut=Yt.next();return mn=Ut.done,Ut},e:function(Ut){qt=!0,pn=Ut},f:function(){try{mn||Yt.return==null||Yt.return()}finally{if(qt)throw pn}}}}function Bt(Nt,dt){(dt==null||dt>Nt.length)&&(dt=Nt.length);for(var Yt=0,sn=new Array(dt);Yt<dt;Yt++)sn[Yt]=Nt[Yt];return sn}var st=function(Nt){var dt=Nt.reduce(function(Yt,sn){var bn=(0,Et.Z)(sn,2),pn=bn[0],mn=bn[1];return Yt.minY=Math.min(Yt.minY,mn),Yt.minX=Math.min(Yt.minX,pn),Yt.maxX=Math.max(Yt.maxX,pn),Yt.maxY=Math.max(Yt.maxY,mn),Yt},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return dt.cx=(dt.maxX+dt.minX)/2,dt.cy=(dt.maxY+dt.minY)/2,dt},tt=function(Nt){var dt=function(yt){return(0,ot.bt)(yt)||(0,ot.F9)(yt)?yt.points:function(Ot){return Ot.type==="diamond"?[[Ot.width/2,0],[Ot.width,Ot.height/2],[Ot.width/2,Ot.height],[0,Ot.height/2]]:[[0,0],[0+Ot.width,0],[0+Ot.width,Ot.height],[0,Ot.height]]}(yt)}(Nt),Yt=st(dt),sn=[Yt.cx,Yt.cy],bn=dt.map(function(yt){return(0,it.xj)([yt[0],yt[1]],sn,Nt.angle)}),pn=st(bn),mn=pn.minX,qt=pn.minY,Ut=pn.maxX,Kt=pn.maxY;return[mn+Nt.x,qt+Nt.y,Ut+Nt.x,Kt+Nt.y]},xt=function(Nt,dt){var Yt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],sn=tt(Nt),bn=dt[0]<=sn[0]&&dt[2]>=sn[2]&&dt[1]<=sn[1]&&dt[3]>=sn[3];return Yt?!!bn||sn[0]<=dt[0]&&sn[2]>=dt[2]&&sn[1]<=dt[1]&&sn[3]>=dt[3]:bn},St=function(Nt,dt){var Yt=tt(Nt);return((0,it.Xt)(Yt[0],dt[0],dt[2])||(0,it.Xt)(dt[0],Yt[0],Yt[2]))&&((0,it.Xt)(Yt[1],dt[1],dt[3])||(0,it.Xt)(dt[1],Yt[1],Yt[3]))},Zt=function(Nt){var dt=Nt.elements,Yt=Nt.bounds,sn=Nt.type,bn=Nt.errorMargin,pn=bn===void 0?0:bn;(0,ot.r2)(Yt)&&(Yt=(0,nt.Pi)(Yt));var mn,qt=[Yt[0]-pn,Yt[1]-pn,Yt[2]+pn,Yt[3]+pn],Ut=new Set,Kt=ht(dt);try{for(Kt.s();!(mn=Kt.n()).done;){var yt=mn.value;if(!Ut.has(yt.id)&&(sn==="overlap"?St(yt,qt):sn==="inside"?xt(yt,qt):xt(yt,qt,!0))){if(Ut.add(yt.id),yt.boundElements){var Ot,Gt=ht(yt.boundElements);try{for(Gt.s();!(Ot=Gt.n()).done;){var Ct=Ot.value;Ut.add(Ct.id)}}catch(ut){Gt.e(ut)}finally{Gt.f()}}var Xt;(0,ot.iB)(yt)&&yt.containerId&&Ut.add(yt.containerId),(0,ot.Yv)(yt)&&(yt.startBinding&&Ut.add(yt.startBinding.elementId),yt.endBinding&&Ut.add((Xt=yt.endBinding)===null||Xt===void 0?void 0:Xt.elementId))}}}catch(ut){Kt.e(ut)}finally{Kt.f()}return dt.filter(function(ut){return Ut.has(ut.id)})}},5999:function($t,Vt,_){_.d(Vt,{k:function(){return ot},z:function(){return it}});var Et=_(1930),ot=function(nt){var ht=nt.map(function(st){return st[0]}),Bt=nt.map(function(st){return st[1]});return{width:Math.max.apply(Math,(0,Et.Z)(ht))-Math.min.apply(Math,(0,Et.Z)(ht)),height:Math.max.apply(Math,(0,Et.Z)(Bt))-Math.min.apply(Math,(0,Et.Z)(Bt))}},it=function(nt,ht,Bt,st){var tt=Bt.map(function(bn){return bn[nt]}),xt=Math.max.apply(Math,(0,Et.Z)(tt)),St=Math.min.apply(Math,(0,Et.Z)(tt)),Zt=xt-St,Nt=Zt===0?1:ht/Zt,dt=1/0,Yt=Bt.map(function(bn){var pn=bn[nt]*Nt,mn=(0,Et.Z)(bn);return mn[nt]=pn,pn<dt&&(dt=pn),mn});if(!st||Yt.length===2)return Yt;var sn=St-dt;return Yt.map(function(bn){return bn.map(function(pn,mn){return mn===nt?pn+sn:pn})})}},4643:function($t,Vt,_){_.d(Vt,{LU:function(){return Bt},kb:function(){return st}});var Et=_(8152),ot=_(5605),it=_(9827),nt=new Et.k(Date.now()),ht=0,Bt=function(){return Math.floor(nt.next()*Math.pow(2,31))},st=function(){return(0,it.h2)()?"id".concat(ht++):(0,ot.x0)()}},9660:function($t,Vt,_){_.d(Vt,{Dn:function(){return un},Xx:function(){return Mt},Lc:function(){return Sn},N7:function(){return nn},lw:function(){return jn},Rg:function(){return vn},uI:function(){return kn}});var Et=_(7169),ot=_(2577),it=_(4183),nt=_(4949),ht=_(9827),Bt=_(2361),st=_(9845),tt=_(6853),xt=_(9937);function St(at,ct,mt,Wt=Rt=>Rt){return at*Wt(.5-ct*(.5-mt))}function Zt(at,ct){return[at[0]+ct[0],at[1]+ct[1]]}function Nt(at,ct){return[at[0]-ct[0],at[1]-ct[1]]}function dt(at,ct){return[at[0]*ct,at[1]*ct]}function Yt(at){return[at[1],-at[0]]}function sn(at,ct){return at[0]*ct[0]+at[1]*ct[1]}function bn(at,ct){return at[0]===ct[0]&&at[1]===ct[1]}function pn(at,ct){return function(mt){return mt[0]*mt[0]+mt[1]*mt[1]}(Nt(at,ct))}function mn(at){return function(ct,mt){return[ct[0]/mt,ct[1]/mt]}(at,function(ct){return Math.hypot(ct[0],ct[1])}(at))}function qt(at,ct){return Math.hypot(at[1]-ct[1],at[0]-ct[0])}function Ut(at,ct,mt){let Wt=Math.sin(mt),Rt=Math.cos(mt),en=at[0]-ct[0],Pt=at[1]-ct[1],on=en*Wt+Pt*Rt;return[en*Rt-Pt*Wt+ct[0],on+ct[1]]}function Kt(at,ct,mt){return Zt(at,dt(Nt(ct,at),mt))}function yt(at,ct,mt){return Zt(at,dt(ct,mt))}var{min:Ot,PI:Gt}=Math,Ct=Gt+1e-4;function Xt(at,ct={}){return function(mt,Wt={}){let{size:Rt=16,smoothing:en=.5,thinning:Pt=.5,simulatePressure:on=!0,easing:Bn=xr=>xr,start:yn={},end:Wn={},last:Vn=!1}=Wt,{cap:Hn=!0,easing:Zn=xr=>xr*(2-xr)}=yn,{cap:Kn=!0,easing:qn=xr=>--xr*xr*xr+1}=Wn;if(mt.length===0||Rt<=0)return[];let sr,In=mt[mt.length-1].runningLength,An=yn.taper===!1?0:yn.taper===!0?Math.max(Rt,In):yn.taper,On=Wn.taper===!1?0:Wn.taper===!0?Math.max(Rt,In):Wn.taper,_n=Math.pow(Rt*en,2),or=[],ir=[],mr=mt.slice(0,10).reduce((xr,pr)=>{let Nr=pr.pressure;if(on){let Rr=Ot(1,pr.distance/Rt),qr=Ot(1,1-Rr);Nr=Ot(1,xr+.275*Rr*(qr-xr))}return(xr+Nr)/2},mt[0].pressure),yr=St(Rt,Pt,mt[mt.length-1].pressure,Bn),cr=mt[0].vector,Ur=mt[0].point,Wr=Ur,Xr=Ur,wr=Wr,Jr=!1;for(let xr=0;xr<mt.length;xr++){let{pressure:pr}=mt[xr],{point:Nr,vector:Rr,distance:qr,runningLength:Dr}=mt[xr];if(xr<mt.length-1&&In-Dr<3)continue;if(Pt){if(on){let Vr=Ot(1,qr/Rt),Ao=Ot(1,1-Vr);pr=Ot(1,mr+.275*Vr*(Ao-mr))}yr=St(Rt,Pt,pr,Bn)}else yr=Rt/2;sr===void 0&&(sr=yr);let Io=Dr<An?Zn(Dr/An):1,ro=In-Dr<On?qn((In-Dr)/On):1;yr=Math.max(.01,yr*Math.min(Io,ro));let Zo=(xr<mt.length-1?mt[xr+1]:mt[xr]).vector,dr=xr<mt.length-1?sn(Rr,Zo):1,Hr=dr!==null&&dr<0;if(sn(Rr,cr)<0&&!Jr||Hr){let Vr=dt(Yt(cr),yr);for(let Ao=.07692307692307693,xo=0;xo<=1;xo+=Ao)Xr=Ut(Nt(Nr,Vr),Nr,Ct*xo),or.push(Xr),wr=Ut(Zt(Nr,Vr),Nr,Ct*-xo),ir.push(wr);Ur=Xr,Wr=wr,Hr&&(Jr=!0);continue}if(Jr=!1,xr===mt.length-1){let Vr=dt(Yt(Rr),yr);or.push(Nt(Nr,Vr)),ir.push(Zt(Nr,Vr));continue}let Zr=dt(Yt(Kt(Zo,Rr,dr)),yr);Xr=Nt(Nr,Zr),(xr<=1||pn(Ur,Xr)>_n)&&(or.push(Xr),Ur=Xr),wr=Zt(Nr,Zr),(xr<=1||pn(Wr,wr)>_n)&&(ir.push(wr),Wr=wr),mr=pr,cr=Rr}let Kr=mt[0].point.slice(0,2),rr=mt.length>1?mt[mt.length-1].point.slice(0,2):Zt(mt[0].point,[1,1]),Qr=[],Ir=[];if(mt.length===1){if(!An&&!On||Vn){let xr=yt(Kr,mn(Yt(Nt(Kr,rr))),-(sr||yr)),pr=[];for(let Nr=.07692307692307693,Rr=Nr;Rr<=1;Rr+=Nr)pr.push(Ut(xr,Kr,2*Ct*Rr));return pr}}else{if(!(An||On&&mt.length===1))if(Hn)for(let pr=.07692307692307693,Nr=pr;Nr<=1;Nr+=pr){let Rr=Ut(ir[0],Kr,Ct*Nr);Qr.push(Rr)}else{let pr=Nt(or[0],ir[0]),Nr=dt(pr,.5),Rr=dt(pr,.51);Qr.push(Nt(Kr,Nr),Nt(Kr,Rr),Zt(Kr,Rr),Zt(Kr,Nr))}let xr=Yt(function(pr){return[-pr[0],-pr[1]]}(mt[mt.length-1].vector));if(On||An&&mt.length===1)Ir.push(rr);else if(Kn){let pr=yt(rr,xr,yr);for(let Nr=.034482758620689655,Rr=Nr;Rr<1;Rr+=Nr)Ir.push(Ut(pr,rr,3*Ct*Rr))}else Ir.push(Zt(rr,dt(xr,yr)),Zt(rr,dt(xr,.99*yr)),Nt(rr,dt(xr,.99*yr)),Nt(rr,dt(xr,yr)))}return or.concat(Ir,ir.reverse(),Qr)}(function(mt,Wt={}){var Rt;let{streamline:en=.5,size:Pt=16,last:on=!1}=Wt;if(mt.length===0)return[];let Bn=.15+.85*(1-en),yn=Array.isArray(mt[0])?mt:mt.map(({x:qn,y:sr,pressure:In=.5})=>[qn,sr,In]);if(yn.length===2){let qn=yn[1];yn=yn.slice(0,-1);for(let sr=1;sr<5;sr++)yn.push(Kt(yn[0],qn,sr/4))}yn.length===1&&(yn=[...yn,[...Zt(yn[0],[1,1]),...yn[0].slice(2)]]);let Wn=[{point:[yn[0][0],yn[0][1]],pressure:yn[0][2]>=0?yn[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Vn=!1,Hn=0,Zn=Wn[0],Kn=yn.length-1;for(let qn=1;qn<yn.length;qn++){let sr=on&&qn===Kn?yn[qn].slice(0,2):Kt(Zn.point,yn[qn],Bn);if(bn(Zn.point,sr))continue;let In=qt(sr,Zn.point);if(Hn+=In,qn<Kn&&!Vn){if(Hn<Pt)continue;Vn=!0}Zn={point:sr,pressure:yn[qn][2]>=0?yn[qn][2]:.5,vector:mn(Nt(Zn.point,sr)),distance:In,runningLength:Hn},Wn.push(Zn)}return Wn[0].vector=((Rt=Wn[1])==null?void 0:Rt.vector)||[0,0],Wn}(at,ct),ct)}var ut=_(4761),ft=_(7422),$=_(761),wt=_(4682),gt=_(8020),lt=_(2921);function pt(at,ct){var mt=Object.keys(at);if(Object.getOwnPropertySymbols){var Wt=Object.getOwnPropertySymbols(at);ct&&(Wt=Wt.filter(function(Rt){return Object.getOwnPropertyDescriptor(at,Rt).enumerable})),mt.push.apply(mt,Wt)}return mt}function vt(at){for(var ct=1;ct<arguments.length;ct++){var mt=arguments[ct]!=null?arguments[ct]:{};ct%2?pt(Object(mt),!0).forEach(function(Wt){(0,Et.Z)(at,Wt,mt[Wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(mt)):pt(Object(mt)).forEach(function(Wt){Object.defineProperty(at,Wt,Object.getOwnPropertyDescriptor(mt,Wt))})}return at}var zt="invert(100%) hue-rotate(180deg) saturate(1.25)",Qt=(0,tt.im)(),Ft=function(at,ct){return(0,it.wi)(at)&&!ct.imageCache.has(at.fileId)},At=function(at,ct,mt){var Wt;return mt.theme==="dark"&&(0,it.wi)(at)&&!Ft(at,ct)&&((Wt=ct.imageCache.get(at.fileId))===null||Wt===void 0?void 0:Wt.mimeType)!==xt.LO.svg},Tt=function(at){return at.type==="freedraw"?12*at.strokeWidth:20},jt=function(at,ct,mt,Wt){var Rt,en,Pt=document.createElement("canvas"),on=Pt.getContext("2d"),Bn=Tt(at),yn=function(_n,or){var ir=16777216,mr=32767,yr=Tt(_n),cr=(0,nt.qf)(_n),Ur=(0,ot.Z)(cr,4),Wr=Ur[0],Xr=Ur[1],wr=Ur[2],Jr=Ur[3],Kr=(0,it.bt)(_n)||(0,it.F9)(_n)?(0,ht.TE)(Wr,wr):_n.width,rr=(0,it.bt)(_n)||(0,it.F9)(_n)?(0,ht.TE)(Xr,Jr):_n.height,Qr=Kr*window.devicePixelRatio+2*yr,Ir=rr*window.devicePixelRatio+2*yr,xr=or.value;return(Qr*xr>mr||Ir*xr>mr)&&(xr=Math.min(mr/Qr,mr/Ir)),Qr*Ir*xr*xr>ir&&(xr=Math.sqrt(ir/(Qr*Ir))),{width:Qr=Math.floor(Qr*xr),height:Ir=Math.floor(Ir*xr),scale:xr}}(at,ct),Wn=yn.width,Vn=yn.height,Hn=yn.scale;Pt.width=Wn,Pt.height=Vn;var Zn=0,Kn=0;if((0,it.bt)(at)||(0,it.F9)(at)){var qn=(0,nt.qf)(at),sr=(0,ot.Z)(qn,2),In=sr[0],An=sr[1];Zn=at.x>In?(0,ht.TE)(at.x,In)*window.devicePixelRatio*Hn:0,Kn=at.y>An?(0,ht.TE)(at.y,An)*window.devicePixelRatio*Hn:0,on.translate(Zn,Kn)}on.save(),on.translate(Bn*Hn,Bn*Hn),on.scale(window.devicePixelRatio*Hn,window.devicePixelRatio*Hn);var On=st.Z.canvas(Pt);return At(at,mt,Wt)&&(on.filter=zt),rn(at,On,on,mt,Wt),on.restore(),{element:at,canvas:Pt,theme:Wt.theme,scale:Hn,zoomValue:ct.value,canvasOffsetX:Zn,canvasOffsetY:Kn,boundTextElementVersion:((Rt=(0,ut.WJ)(at))===null||Rt===void 0?void 0:Rt.version)||null,containingFrameOpacity:((en=(0,wt.$Z)(at))===null||en===void 0?void 0:en.opacity)||100}},un=14,Jt=document.createElement("img");Jt.src="data:".concat(xt.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var hn=document.createElement("img");hn.src="data:".concat(xt.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var rn=function(at,ct,mt,Wt,Rt){var en,Pt;switch(mt.globalAlpha=((en=(Pt=(0,wt.$Z)(at))===null||Pt===void 0?void 0:Pt.opacity)!==null&&en!==void 0?en:100)*at.opacity/1e4,at.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":mt.lineJoin="round",mt.lineCap="round",ct.draw(lt.R.get(at));break;case"arrow":case"line":mt.lineJoin="round",mt.lineCap="round",lt.R.get(at).forEach(function(An){ct.draw(An)});break;case"freedraw":mt.save(),mt.fillStyle=at.strokeColor;var on=function(An){return Gn.get(An)}(at),Bn=lt.R.get(at);Bn&&ct.draw(Bn),mt.fillStyle=at.strokeColor,mt.fill(on),mt.restore();break;case"image":var yn,Wn=(0,it.wi)(at)?(yn=Wt.imageCache.get(at.fileId))===null||yn===void 0?void 0:yn.image:void 0;Wn==null||Wn instanceof Promise?function(An,On,_n){On.fillStyle="#E7E7E7",On.fillRect(0,0,An.width,An.height);var or=Math.min(An.width,An.height),ir=Math.min(or,Math.min(.4*or,100));On.drawImage(An.status==="error"?hn:Jt,An.width/2-ir/2,An.height/2-ir/2,ir,ir)}(at,mt,Rt.zoom.value):mt.drawImage(Wn,0,0,at.width,at.height);break;default:if(!(0,it.iB)(at))throw new Error("Unimplemented type ".concat(at.type));var Vn=(0,ht.dZ)(at.text),Hn=Vn&&!mt.canvas.isConnected;Hn&&document.body.appendChild(mt.canvas),mt.canvas.setAttribute("dir",Vn?"rtl":"ltr"),mt.save(),mt.font=(0,ht.mO)(at),mt.fillStyle=at.strokeColor,mt.textAlign=at.textAlign;for(var Zn=at.text.replace(/\r\n?/g,`
`).split(`
`),Kn=at.textAlign==="center"?at.width/2:at.textAlign==="right"?at.width:0,qn=(0,ut.Rg)(at.fontSize,at.lineHeight),sr=at.height-at.baseline,In=0;In<Zn.length;In++)mt.fillText(Zn[In],Kn,(In+1)*qn-sr);mt.restore(),Hn&&mt.canvas.remove()}mt.globalAlpha=1},Mt=new WeakMap,an=function(at,ct,mt){var Wt,Rt,en=ct?mt.zoom:Qt.zoom,Pt=Mt.get(at),on=Pt&&Pt.zoomValue!==en.value&&!(mt!=null&&mt.shouldCacheIgnoreZoom),Bn=((Wt=(0,ut.WJ)(at))===null||Wt===void 0?void 0:Wt.version)||null,yn=((Rt=(0,wt.$Z)(at))===null||Rt===void 0?void 0:Rt.opacity)||100;if(!Pt||on||Pt.theme!==mt.theme||Pt.boundTextElementVersion!==Bn||Pt.containingFrameOpacity!==yn){var Wn=jt(at,en,ct,mt);return Mt.set(at,Wn),Wn}return Pt},Cn=function(at,ct,mt,Wt){var Rt=at.element,en=Tt(Rt),Pt=at.scale,on=(0,nt.qf)(Rt),Bn=(0,ot.Z)(on,4),yn=Bn[0],Wn=Bn[1],Vn=Bn[2],Hn=Bn[3];(0,it.F9)(Rt)&&(yn=Math.floor(yn),Vn=Math.ceil(Vn),Wn=Math.floor(Wn),Hn=Math.ceil(Hn));var Zn=((yn+Vn)/2+Wt.scrollX)*window.devicePixelRatio,Kn=((Wn+Hn)/2+Wt.scrollY)*window.devicePixelRatio;ct.save(),ct.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var qn=(0,ut.WJ)(Rt);if((0,it.Yv)(Rt)&&qn){var sr=document.createElement("canvas"),In=sr.getContext("2d"),An=Math.max((0,ht.TE)(yn,Vn),(0,ht.TE)(Wn,Hn));sr.width=An*window.devicePixelRatio*Pt+en*at.scale*10,sr.height=An*window.devicePixelRatio*Pt+en*at.scale*10;var On=(sr.width-at.canvas.width)/2,_n=(sr.height-at.canvas.height)/2;In.translate(sr.width/2,sr.height/2),In.rotate(Rt.angle),In.drawImage(at.canvas,-at.canvas.width/2,-at.canvas.height/2,at.canvas.width,at.canvas.height);var or=(0,nt.qf)(qn),ir=(0,ot.Z)(or,6),mr=ir[4],yr=ir[5];In.rotate(-Rt.angle);var cr=sr.width/2-(mr-yn)*window.devicePixelRatio*Pt-On-en*Pt,Ur=sr.height/2-(yr-Wn)*window.devicePixelRatio*Pt-_n-en*Pt;In.translate(-cr,-Ur),In.clearRect(-(qn.width/2+xt.gK)*window.devicePixelRatio*Pt,-(qn.height/2+xt.gK)*window.devicePixelRatio*Pt,(qn.width+2*xt.gK)*window.devicePixelRatio*Pt,(qn.height+2*xt.gK)*window.devicePixelRatio*Pt),ct.translate(Zn,Kn),ct.drawImage(sr,-(Vn-yn)/2*window.devicePixelRatio-On/Pt-en,-(Hn-Wn)/2*window.devicePixelRatio-_n/Pt-en,sr.width/Pt,sr.height/Pt)}else if(ct.translate(Zn,Kn),ct.rotate(Rt.angle),"scale"in at.element&&!Ft(Rt,mt)&&ct.scale(at.element.scale[0],at.element.scale[1]),ct.translate(-Zn,-Kn),ct.drawImage(at.canvas,(yn+Wt.scrollX)*window.devicePixelRatio-en*at.scale/at.scale,(Wn+Wt.scrollY)*window.devicePixelRatio-en*at.scale/at.scale,at.canvas.width/at.scale,at.canvas.height/at.scale),{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,it.Xo)(Rt)){var Wr=(0,ut.WJ)(Rt),Xr=(0,ut.cw)(Rt);ct.strokeStyle="#c92a2a",ct.lineWidth=3,ct.strokeRect((Xr.x+Wt.scrollX)*window.devicePixelRatio,(Xr.y+Wt.scrollY)*window.devicePixelRatio,(0,ut.iZ)(Rt)*window.devicePixelRatio,(0,ut.D9)(Rt,Wr)*window.devicePixelRatio)}ct.restore()},kn=function(at,ct,mt){ct.save(),ct.translate(at.x+mt.scrollX,at.y+mt.scrollY),ct.fillStyle="rgba(0, 0, 200, 0.04)";var Wt=.5/mt.zoom.value;ct.fillRect(Wt,Wt,at.width,at.height),ct.lineWidth=1/mt.zoom.value,ct.strokeStyle=" rgb(105, 101, 219)",ct.strokeRect(Wt,Wt,at.width,at.height),ct.restore()},jn=function(at,ct,mt,Wt,Rt){switch(at.type){case"frame":Rt.frameRendering.enabled&&Rt.frameRendering.outline&&(mt.save(),mt.translate(at.x+Rt.scrollX,at.y+Rt.scrollY),mt.fillStyle="rgba(0, 0, 200, 0.04)",mt.lineWidth=xt.iG.strokeWidth/Rt.zoom.value,mt.strokeStyle=xt.iG.strokeColor,xt.iG.radius&&mt.roundRect?(mt.beginPath(),mt.roundRect(0,0,at.width,at.height,xt.iG.radius/Rt.zoom.value),mt.stroke(),mt.closePath()):mt.strokeRect(0,0,at.width,at.height),mt.restore());break;case"freedraw":if(lt.R.generateElementShape(at),Wt.isExporting){var en=(0,nt.qf)(at),Pt=(0,ot.Z)(en,4),on=Pt[0],Bn=Pt[1],yn=Pt[2],Wn=Pt[3],Vn=(on+yn)/2+Rt.scrollX,Hn=(Bn+Wn)/2+Rt.scrollY,Zn=(yn-on)/2-(at.x-on),Kn=(Wn-Bn)/2-(at.y-Bn);mt.save(),mt.translate(Vn,Hn),mt.rotate(at.angle),mt.translate(-Zn,-Kn),rn(at,ct,mt,Wt,Rt),mt.restore()}else{var qn=an(at,Wt,Rt);Cn(qn,mt,Wt,Rt)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(lt.R.generateElementShape(at,Wt.isExporting),Wt.isExporting){var sr=(0,nt.qf)(at),In=(0,ot.Z)(sr,4),An=In[0],On=In[1],_n=In[2],or=In[3],ir=(An+_n)/2+Rt.scrollX,mr=(On+or)/2+Rt.scrollY,yr=(_n-An)/2-(at.x-An),cr=(or-On)/2-(at.y-On);if((0,it.iB)(at)){var Ur=(0,ut.tl)(at);if((0,it.Yv)(Ur)){var Wr=ft._.getBoundTextElementPosition(Ur,at);yr=(_n-An)/2-(Wr.x-An),cr=(or-On)/2-(Wr.y-On)}}mt.save(),mt.translate(ir,mr),At(at,Wt,Rt)&&(mt.filter="none");var Xr=(0,ut.WJ)(at);if((0,it.Yv)(at)&&Xr){var wr=document.createElement("canvas"),Jr=wr.getContext("2d"),Kr=Math.max((0,ht.TE)(An,_n),(0,ht.TE)(On,or)),rr=Tt(at);wr.width=Kr*Rt.exportScale+10*rr*Rt.exportScale,wr.height=Kr*Rt.exportScale+10*rr*Rt.exportScale,Jr.translate(wr.width/2,wr.height/2),Jr.scale(Rt.exportScale,Rt.exportScale),yr=at.width/2-(at.x-An),cr=at.height/2-(at.y-On),Jr.rotate(at.angle);var Qr=st.Z.canvas(wr);Jr.translate(-yr,-cr),rn(at,Qr,Jr,Wt,Rt),Jr.translate(yr,cr),Jr.rotate(-at.angle);var Ir=(0,nt.qf)(Xr),xr=(0,ot.Z)(Ir,6),pr=(An+_n)/2-xr[4],Nr=(On+or)/2-xr[5];Jr.translate(-pr,-Nr),Jr.clearRect(-Xr.width/2,-Xr.height/2,Xr.width,Xr.height),mt.scale(1/Rt.exportScale,1/Rt.exportScale),mt.drawImage(wr,-wr.width/2,-wr.height/2,wr.width,wr.height)}else mt.rotate(at.angle),at.type==="image"&&mt.scale(at.scale[0],at.scale[1]),mt.translate(-yr,-cr),rn(at,ct,mt,Wt,Rt);mt.restore()}else{var Rr=an(at,Wt,Rt),qr=mt.imageSmoothingEnabled;Rt!=null&&Rt.shouldCacheIgnoreZoom||at.angle&&!(0,Bt.EK)(at.angle)||(mt.imageSmoothingEnabled=!1),Cn(Rr,mt,Wt,Rt),mt.imageSmoothingEnabled=qr}break;default:throw new Error("Unimplemented type ".concat(at.type))}},Dn=function(at,ct,mt){if(mt===void 0)return at.draw(ct);var Wt={sets:ct.sets,shape:ct.shape,options:vt(vt({},ct.options),{},{fixedDecimalPlaceDigits:mt})};return at.draw(Wt)},Fn=function(at,ct,mt,Wt){if(!Wt.enabled||!Wt.clip)return null;var Rt=(0,wt.$Z)(at);if(Rt){var en=ct.ownerDocument.createElementNS(xt.hR,"g");return en.setAttributeNS(xt.hR,"clip-path","url(#".concat(Rt.id,")")),mt.forEach(function(Pt){return en.appendChild(Pt)}),en}return null},vn=function at(ct,mt,Wt,Rt,en,Pt,on){var Bn,yn,Wn=en,Vn=Pt,Hn=(0,nt.qf)(ct),Zn=(0,ot.Z)(Hn,4),Kn=Zn[0],qn=Zn[1],sr=Zn[2],In=Zn[3],An=(sr-Kn)/2-(ct.x-Kn),On=(In-qn)/2-(ct.y-qn);if((0,it.iB)(ct)){var _n=(0,ut.tl)(ct);if((0,it.Yv)(_n)){var or=(0,nt.qf)(_n),ir=(0,ot.Z)(or,4),mr=ir[0],yr=ir[1],cr=ir[2],Ur=ir[3],Wr=ft._.getBoundTextElementPosition(_n,ct);An=(cr-mr)/2-(Wr.x-mr),On=(Ur-yr)/2-(Wr.y-yr),en=en+Wr.x-ct.x,Pt=Pt+Wr.y-ct.y}}var Xr=180*ct.angle/Math.PI,wr=Wt;if(ct.link){var Jr=Wt.ownerDocument.createElementNS(xt.hR,"a");Jr.setAttribute("href",(0,gt.$u)(ct.link)),wr.appendChild(Jr),wr=Jr}var Kr=function(gs,cn){(0,ht.h2)()&&gs.setAttribute("data-id",cn.id),wr.appendChild(gs)},rr=((Bn=(yn=(0,wt.$Z)(ct))===null||yn===void 0?void 0:yn.opacity)!==null&&Bn!==void 0?Bn:100)*ct.opacity/1e4;switch(ct.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var Qr=lt.R.generateElementShape(ct),Ir=Dn(mt,Qr,xt.zK);rr!==1&&(Ir.setAttribute("stroke-opacity","".concat(rr)),Ir.setAttribute("fill-opacity","".concat(rr))),Ir.setAttribute("stroke-linecap","round"),Ir.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")")),Kr(Fn(ct,wr,[Ir],on.frameRendering)||Ir,ct);break;case"embeddable":var xr=lt.R.generateElementShape(ct,!0),pr=Dn(mt,xr,xt.zK),Nr=ct.opacity/100;Nr!==1&&(pr.setAttribute("stroke-opacity","".concat(Nr)),pr.setAttribute("fill-opacity","".concat(Nr))),pr.setAttribute("stroke-linecap","round"),pr.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")")),Kr(pr,ct);var Rr=(0,$.g0)(ct);at(Rr,mt,wr,Rt,Rr.x+Wn-ct.x,Rr.y+Vn-ct.y,on);var qr=Dn(mt,xr,xt.zK);for(qr.setAttribute("stroke-linecap","round"),qr.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")"));qr.firstChild;)qr.removeChild(qr.firstChild);var Dr=(0,Bt.yW)(Math.min(ct.width,ct.height),ct),Io=(0,$.LM)((0,gt.ye)(ct.link||""));if(on.renderEmbeddables===!1||(Io==null?void 0:Io.type)==="document"){var ro=Wt.ownerDocument.createElementNS(xt.hR,"a");ro.setAttribute("href",(0,gt.$u)(ct.link||"")),ro.setAttribute("target","_blank"),ro.setAttribute("rel","noopener noreferrer"),ro.style.borderRadius="".concat(Dr,"px"),qr.appendChild(ro)}else{var Zo,dr=Wt.ownerDocument.createElementNS(xt.hR,"foreignObject");dr.style.width="".concat(ct.width,"px"),dr.style.height="".concat(ct.height,"px"),dr.style.border="none";var Hr=dr.ownerDocument.createElementNS(xt.hR,"div");Hr.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Hr.style.width="100%",Hr.style.height="100%";var Zr=Hr.ownerDocument.createElement("iframe");Zr.src=(Zo=Io==null?void 0:Io.link)!==null&&Zo!==void 0?Zo:"",Zr.style.width="100%",Zr.style.height="100%",Zr.style.border="none",Zr.style.borderRadius="".concat(Dr,"px"),Zr.style.top="0",Zr.style.left="0",Zr.allowFullscreen=!0,Hr.appendChild(Zr),dr.appendChild(Hr),qr.appendChild(dr)}Kr(qr,ct);break;case"line":case"arrow":var Vr=(0,ut.WJ)(ct),Ao=Wt.ownerDocument.createElementNS(xt.hR,"mask");if(Vr){Ao.setAttribute("id","mask-".concat(ct.id));var xo=Wt.ownerDocument.createElementNS(xt.hR,"rect");en=en||0,Pt=Pt||0,xo.setAttribute("x","0"),xo.setAttribute("y","0"),xo.setAttribute("fill","#fff"),xo.setAttribute("width","".concat(ct.width+100+en)),xo.setAttribute("height","".concat(ct.height+100+Pt)),Ao.appendChild(xo);var wo=Wt.ownerDocument.createElementNS(xt.hR,"rect"),To=ft._.getBoundTextElementPosition(ct,Vr),ho=en+To.x-ct.x,Cr=Pt+To.y-ct.y;wo.setAttribute("x",ho.toString()),wo.setAttribute("y",Cr.toString()),wo.setAttribute("fill","#000"),wo.setAttribute("width","".concat(Vr.width)),wo.setAttribute("height","".concat(Vr.height)),wo.setAttribute("opacity","1"),Ao.appendChild(wo)}var Br=Wt.ownerDocument.createElementNS(xt.hR,"g");Vr&&Br.setAttribute("mask","url(#mask-".concat(ct.id,")")),Br.setAttribute("stroke-linecap","round"),lt.R.generateElementShape(ct).forEach(function(gs){var cn=Dn(mt,gs,xt.zK);rr!==1&&(cn.setAttribute("stroke-opacity","".concat(rr)),cn.setAttribute("fill-opacity","".concat(rr))),cn.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")")),ct.type==="line"&&(0,Bt.g6)(ct.points)&&ct.backgroundColor!=="transparent"&&cn.setAttribute("fill-rule","evenodd"),Br.appendChild(cn)});var Fr=Fn(ct,wr,[Br,Ao],on.frameRendering);Fr?(Kr(Fr,ct),wr.appendChild(Fr)):(Kr(Br,ct),wr.append(Ao));break;case"freedraw":var Sr=lt.R.generateElementShape(ct),to=Sr?Dn(mt,Sr,xt.zK):Wt.ownerDocument.createElementNS(xt.hR,"g");rr!==1&&(to.setAttribute("stroke-opacity","".concat(rr)),to.setAttribute("fill-opacity","".concat(rr))),to.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")")),to.setAttribute("stroke","none");var lo=Wt.ownerDocument.createElementNS(xt.hR,"path");lo.setAttribute("fill",ct.strokeColor),lo.setAttribute("d",nn(ct)),to.appendChild(lo),Kr(Fn(ct,wr,[to],on.frameRendering)||to,ct);break;case"image":var eo=Math.round(ct.width),Eo=Math.round(ct.height),go=(0,it.wi)(ct)&&Rt[ct.fileId];if(go){var mo="image-".concat(go.id),Oo=Wt.querySelector("#".concat(mo));if(!Oo){(Oo=Wt.ownerDocument.createElementNS(xt.hR,"symbol")).id=mo;var ao=Wt.ownerDocument.createElementNS(xt.hR,"image");ao.setAttribute("width","100%"),ao.setAttribute("height","100%"),ao.setAttribute("href",go.dataURL),Oo.appendChild(ao),wr.prepend(Oo)}var co=Wt.ownerDocument.createElementNS(xt.hR,"use");if(co.setAttribute("href","#".concat(mo)),on.exportWithDarkMode&&go.mimeType!==xt.LO.svg&&co.setAttribute("filter",zt),co.setAttribute("width","".concat(eo)),co.setAttribute("height","".concat(Eo)),co.setAttribute("opacity","".concat(rr)),ct.scale[0]!==1||ct.scale[1]!==1){var po=ct.scale[0]!==1?-eo:0,so=ct.scale[1]!==1?-Eo:0;co.setAttribute("transform","scale(".concat(ct.scale[0],", ").concat(ct.scale[1],") translate(").concat(po," ").concat(so,")"))}var Lo=Wt.ownerDocument.createElementNS(xt.hR,"g");Lo.appendChild(co),Lo.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")")),Kr(Fn(ct,wr,[Lo],on.frameRendering)||Lo,ct)}break;case"frame":if(on.frameRendering.enabled&&on.frameRendering.outline){var Co=document.createElementNS(xt.hR,"rect");Co.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")")),Co.setAttribute("width","".concat(ct.width,"px")),Co.setAttribute("height","".concat(ct.height,"px")),Co.setAttribute("rx",xt.iG.radius.toString()),Co.setAttribute("ry",xt.iG.radius.toString()),Co.setAttribute("fill","none"),Co.setAttribute("stroke",xt.iG.strokeColor),Co.setAttribute("stroke-width",xt.iG.strokeWidth.toString()),Kr(Co,ct)}break;default:if(!(0,it.iB)(ct))throw new Error("Unimplemented type ".concat(ct.type));var Ro=Wt.ownerDocument.createElementNS(xt.hR,"g");rr!==1&&(Ro.setAttribute("stroke-opacity","".concat(rr)),Ro.setAttribute("fill-opacity","".concat(rr))),Ro.setAttribute("transform","translate(".concat(en||0," ").concat(Pt||0,") rotate(").concat(Xr," ").concat(An," ").concat(On,")"));for(var Fl=ct.text.replace(/\r\n?/g,`
`).split(`
`),Ll=(0,ut.Rg)(ct.fontSize,ct.lineHeight),Kl=ct.textAlign==="center"?ct.width/2:ct.textAlign==="right"?ct.width:0,rs=(0,ht.dZ)(ct.text)?"rtl":"ltr",is=ct.textAlign==="center"?"middle":ct.textAlign==="right"||rs==="rtl"?"end":"start",Ol=0;Ol<Fl.length;Ol++){var Ml=Wt.ownerDocument.createElementNS(xt.hR,"text");Ml.textContent=Fl[Ol],Ml.setAttribute("x","".concat(Kl)),Ml.setAttribute("y","".concat(Ol*Ll)),Ml.setAttribute("font-family",(0,ht.$g)(ct)),Ml.setAttribute("font-size","".concat(ct.fontSize,"px")),Ml.setAttribute("fill",ct.strokeColor),Ml.setAttribute("text-anchor",is),Ml.setAttribute("style","white-space: pre;"),Ml.setAttribute("direction",rs),Ml.setAttribute("dominant-baseline","text-before-edge"),Ro.appendChild(Ml)}Kr(Fn(ct,wr,[Ro],on.frameRendering)||Ro,ct)}},Gn=new WeakMap([]);function Sn(at){var ct=nn(at),mt=new Path2D(ct);return Gn.set(at,mt),mt}function nn(at){return function(ct){if(!ct.length)return"";var mt=ct.length-1;return ct.reduce(function(Wt,Rt,en,Pt){return en===mt?Wt.push(Rt,Qn(Rt,Pt[0]),"L",Pt[0],"Z"):Wt.push(Rt,Qn(Rt,Pt[en+1])),Wt},["M",ct[0],"Q"]).join(" ").replace(tn,"$1")}(Xt(at.simulatePressure?at.points:at.points.length?at.points.map(function(ct,mt){var Wt=(0,ot.Z)(ct,2);return[Wt[0],Wt[1],at.pressures[mt]]}):[[0,0,.5]],{simulatePressure:at.simulatePressure,size:4.25*at.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(ct){return Math.sin(ct*Math.PI/2)},last:!!at.lastCommittedPoint}))}function Qn(at,ct){return[(at[0]+ct[0])/2,(at[1]+ct[1])/2]}var tn=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function($t,Vt,_){_.d(Vt,{Lu:function(){return pt},n_:function(){return kn},tp:function(){return Mt},M_:function(){return tn},AW:function(){return Cn}});var Et,ot=_(1930),it=_(2577),nt=_(5284),ht=_(7651),Bt=function(at,ct,mt,Wt,Rt,en,Pt){at.beginPath(),at.moveTo(ct+en,mt),at.lineTo(ct+Wt-en,mt),at.quadraticCurveTo(ct+Wt,mt,ct+Wt,mt+en),at.lineTo(ct+Wt,mt+Rt-en),at.quadraticCurveTo(ct+Wt,mt+Rt,ct+Wt-en,mt+Rt),at.lineTo(ct+en,mt+Rt),at.quadraticCurveTo(ct,mt+Rt,ct,mt+Rt-en),at.lineTo(ct,mt+en),at.quadraticCurveTo(ct,mt,ct+en,mt),at.closePath(),at.fill(),Pt&&(at.strokeStyle=Pt),at.stroke()},st=_(4726),tt=_(9660),xt=_(957),St=_(7422),Zt=_(9215),Nt=_(3528),dt=_(4048),Yt=_(9827);(function(at){at.ACTIVE="active",at.AWAY="away",at.IDLE="idle"})(Et||(Et={}));var sn=_(9937),bn=_(5992);function pn(at,ct){var mt=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(!mt){if(Array.isArray(at)||(mt=function(Bn,yn){if(Bn){if(typeof Bn=="string")return mn(Bn,yn);var Wn=Object.prototype.toString.call(Bn).slice(8,-1);if(Wn==="Object"&&Bn.constructor&&(Wn=Bn.constructor.name),Wn==="Map"||Wn==="Set")return Array.from(Bn);if(Wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wn))return mn(Bn,yn)}}(at))||ct){mt&&(at=mt);var Wt=0,Rt=function(){};return{s:Rt,n:function(){return Wt>=at.length?{done:!0}:{done:!1,value:at[Wt++]}},e:function(Bn){throw Bn},f:Rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var en,Pt=!0,on=!1;return{s:function(){mt=mt.call(at)},n:function(){var Bn=mt.next();return Pt=Bn.done,Bn},e:function(Bn){on=!0,en=Bn},f:function(){try{Pt||mt.return==null||mt.return()}finally{if(on)throw en}}}}function mn(at,ct){(ct==null||ct>at.length)&&(ct=at.length);for(var mt=0,Wt=new Array(ct);mt<ct;mt++)Wt[mt]=at[mt];return Wt}var qt=function(at,ct,mt){if(!mt.zenModeEnabled){var Wt=at.points[0],Rt=at.points[at.points.length-1];yt(Wt,Rt,ct)}var en,Pt=pn(at.points);try{for(Pt.s();!(en=Pt.n()).done;){var on=en.value;Kt(on,mt,ct)}}catch(Bn){Pt.e(Bn)}finally{Pt.f()}},Ut=function(at,ct,mt){Kt(at.points[0],mt,ct),mt.zenModeEnabled||yt(at.points[0],at.points[1],ct)},Kt=function(at,ct,mt){var Wt=(0,it.Z)(at,2),Rt=Wt[0],en=Wt[1];mt.save();var Pt=(ct.zenModeEnabled?3:2)/ct.zoom.value;mt.beginPath(),mt.moveTo(Rt-Pt,en-Pt),mt.lineTo(Rt+Pt,en+Pt),mt.moveTo(Rt+Pt,en-Pt),mt.lineTo(Rt-Pt,en+Pt),mt.stroke(),mt.restore()},yt=function(at,ct,mt){mt.beginPath(),mt.lineTo.apply(mt,(0,ot.Z)(at)),mt.lineTo.apply(mt,(0,ot.Z)(ct)),mt.stroke()},Ot=function(at,ct,mt,Wt,Rt){var en=8/Wt.zoom.value,Pt=en/2,on=en/4;if(mt==="horizontal"){var Bn=[(at[0]+ct[0])/2,at[1]];Wt.zenModeEnabled||yt([at[0],at[1]-en],[at[0],at[1]+en],Rt),yt([Bn[0]-on,Bn[1]-Pt],[Bn[0]-on,Bn[1]+Pt],Rt),yt([Bn[0]+on,Bn[1]-Pt],[Bn[0]+on,Bn[1]+Pt],Rt),Wt.zenModeEnabled||(yt([ct[0],ct[1]-en],[ct[0],ct[1]+en],Rt),yt(at,ct,Rt))}else{var yn=[at[0],(at[1]+ct[1])/2];Wt.zenModeEnabled||yt([at[0]-en,at[1]],[at[0]+en,at[1]],Rt),yt([yn[0]-Pt,yn[1]-on],[yn[0]+Pt,yn[1]-on],Rt),yt([yn[0]-Pt,yn[1]+on],[yn[0]+Pt,yn[1]+on],Rt),Wt.zenModeEnabled||(yt([ct[0]-en,ct[1]],[ct[0]+en,ct[1]],Rt),yt(at,ct,Rt))}},Gt=_(4183),Ct=_(761),Xt=_(4682),ut=_(6655);function ft(at,ct){var mt=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(!mt){if(Array.isArray(at)||(mt=function(Bn,yn){if(Bn){if(typeof Bn=="string")return $(Bn,yn);var Wn=Object.prototype.toString.call(Bn).slice(8,-1);if(Wn==="Object"&&Bn.constructor&&(Wn=Bn.constructor.name),Wn==="Map"||Wn==="Set")return Array.from(Bn);if(Wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wn))return $(Bn,yn)}}(at))||ct){mt&&(at=mt);var Wt=0,Rt=function(){};return{s:Rt,n:function(){return Wt>=at.length?{done:!0}:{done:!1,value:at[Wt++]}},e:function(Bn){throw Bn},f:Rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var en,Pt=!0,on=!1;return{s:function(){mt=mt.call(at)},n:function(){var Bn=mt.next();return Pt=Bn.done,Bn},e:function(Bn){on=!0,en=Bn},f:function(){try{Pt||mt.return==null||mt.return()}finally{if(on)throw en}}}}function $(at,ct){(ct==null||ct>at.length)&&(ct=at.length);for(var mt=0,Wt=new Array(ct);mt<ct;mt++)Wt[mt]=at[mt];return Wt}function wt(at,ct){var mt=typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(!mt){if(Array.isArray(at)||(mt=function(Bn,yn){if(Bn){if(typeof Bn=="string")return gt(Bn,yn);var Wn=Object.prototype.toString.call(Bn).slice(8,-1);if(Wn==="Object"&&Bn.constructor&&(Wn=Bn.constructor.name),Wn==="Map"||Wn==="Set")return Array.from(Bn);if(Wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Wn))return gt(Bn,yn)}}(at))||ct){mt&&(at=mt);var Wt=0,Rt=function(){};return{s:Rt,n:function(){return Wt>=at.length?{done:!0}:{done:!1,value:at[Wt++]}},e:function(Bn){throw Bn},f:Rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var en,Pt=!0,on=!1;return{s:function(){mt=mt.call(at)},n:function(){var Bn=mt.next();return Pt=Bn.done,Bn},e:function(Bn){on=!0,en=Bn},f:function(){try{Pt||mt.return==null||mt.return()}finally{if(on)throw en}}}}function gt(at,ct){(ct==null||ct>at.length)&&(ct=at.length);for(var mt=0,Wt=new Array(ct);mt<ct;mt++)Wt[mt]=at[mt];return Wt}(function(){var at,ct,mt,Wt,Rt,en;(ct=(at=Path2D.prototype).roundRect)!==null&&ct!==void 0||(at.roundRect=Pt),globalThis.CanvasRenderingContext2D&&((Wt=(mt=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&Wt!==void 0||(mt.roundRect=Pt)),globalThis.OffscreenCanvasRenderingContext2D&&((en=(Rt=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&en!==void 0||(Rt.roundRect=Pt));function Pt(Bn,yn,Wn,Vn,Hn){if([Bn,yn,Wn,Vn].every(function(ir){return Number.isFinite(ir)})){var Zn,Kn,qn,sr;if((Hn=function(ir){var mr=(0,ut.Z)(ir);return mr==="undefined"||ir===null?[0]:mr==="function"?[NaN]:mr==="object"?typeof ir[Symbol.iterator]=="function"?(0,ot.Z)(ir).map(function(yr){var cr=(0,ut.Z)(yr);return cr==="undefined"||yr===null?0:cr==="function"?NaN:cr==="object"?On(yr):_n(yr)}):[On(ir)]:[_n(ir)]}(Hn)).length===4)Zn=or(Hn[0]),Kn=or(Hn[1]),qn=or(Hn[2]),sr=or(Hn[3]);else if(Hn.length===3)Zn=or(Hn[0]),Kn=or(Hn[1]),sr=or(Hn[1]),qn=or(Hn[2]);else if(Hn.length===2)Zn=or(Hn[0]),qn=or(Hn[0]),Kn=or(Hn[1]),sr=or(Hn[1]);else{if(Hn.length!==1)throw new RangeError("".concat(on(this)," ").concat(Hn.length," is not a valid size for radii sequence."));Zn=or(Hn[0]),Kn=or(Hn[0]),qn=or(Hn[0]),sr=or(Hn[0])}var In=[Zn,Kn,qn,sr],An=In.find(function(ir){var mr=ir.x,yr=ir.y;return mr<0||yr<0});if((An==null?void 0:An.x)<0?An.x:An==null||An.y,!In.some(function(ir){var mr=ir.x,yr=ir.y;return!Number.isFinite(mr)||!Number.isFinite(yr)})){if(An)throw new RangeError("".concat(on(this)," Radius value ").concat(An," is negative."));(function(ir){var mr=(0,it.Z)(ir,4),yr=mr[0],cr=mr[1],Ur=mr[2],Wr=mr[3],Xr=[Math.abs(Wn)/(yr.x+cr.x),Math.abs(Vn)/(cr.y+Ur.y),Math.abs(Wn)/(Ur.x+Wr.x),Math.abs(Vn)/(yr.y+Wr.y)],wr=Math.min.apply(Math,Xr);if(wr<=1){var Jr,Kr=ft(ir);try{for(Kr.s();!(Jr=Kr.n()).done;){var rr=Jr.value;rr.x*=wr,rr.y*=wr}}catch(Qr){Kr.e(Qr)}finally{Kr.f()}}})(In),Wn<0&&Vn<0?(this.moveTo(Bn-Zn.x,yn),this.ellipse(Bn+Wn+Kn.x,yn-Kn.y,Kn.x,Kn.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(Bn+Wn+qn.x,yn+Vn+qn.y,qn.x,qn.y,0,-Math.PI,-Math.PI/2),this.ellipse(Bn-sr.x,yn+Vn+sr.y,sr.x,sr.y,0,-Math.PI/2,0),this.ellipse(Bn-Zn.x,yn-Zn.y,Zn.x,Zn.y,0,0,-Math.PI/2)):Wn<0?(this.moveTo(Bn-Zn.x,yn),this.ellipse(Bn+Wn+Kn.x,yn+Kn.y,Kn.x,Kn.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(Bn+Wn+qn.x,yn+Vn-qn.y,qn.x,qn.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(Bn-sr.x,yn+Vn-sr.y,sr.x,sr.y,0,Math.PI/2,0,1),this.ellipse(Bn-Zn.x,yn+Zn.y,Zn.x,Zn.y,0,0,-Math.PI/2,1)):Vn<0?(this.moveTo(Bn+Zn.x,yn),this.ellipse(Bn+Wn-Kn.x,yn-Kn.y,Kn.x,Kn.y,0,Math.PI/2,0,1),this.ellipse(Bn+Wn-qn.x,yn+Vn+qn.y,qn.x,qn.y,0,0,-Math.PI/2,1),this.ellipse(Bn+sr.x,yn+Vn+sr.y,sr.x,sr.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(Bn+Zn.x,yn-Zn.y,Zn.x,Zn.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(Bn+Zn.x,yn),this.ellipse(Bn+Wn-Kn.x,yn+Kn.y,Kn.x,Kn.y,0,-Math.PI/2,0),this.ellipse(Bn+Wn-qn.x,yn+Vn-qn.y,qn.x,qn.y,0,0,Math.PI/2),this.ellipse(Bn+sr.x,yn+Vn-sr.y,sr.x,sr.y,0,Math.PI/2,Math.PI),this.ellipse(Bn+Zn.x,yn+Zn.y,Zn.x,Zn.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(Bn,yn)}}function On(ir){return{x:ir.x,y:ir.y,z:ir.z,w:ir.w}}function _n(ir){return+ir}function or(ir){var mr,yr,cr=_n(ir);return Number.isFinite(cr)?{x:cr,y:cr}:Object(ir)===ir?{x:_n((mr=ir.x)!==null&&mr!==void 0?mr:0),y:_n((yr=ir.y)!==null&&yr!==void 0?yr:0)}:{x:NaN,y:NaN}}}function on(Bn){return"Failed to execute 'roundRect' on '".concat(function(yn){return Object(yn)===yn&&yn instanceof Path2D?"Path2D":yn instanceof(globalThis==null?void 0:globalThis.CanvasRenderingContext2D)?"CanvasRenderingContext2D":yn instanceof(globalThis==null?void 0:globalThis.OffscreenCanvasRenderingContext2D)?"OffscreenCanvasRenderingContext2D":(yn==null?void 0:yn.constructor.name)||yn}(Bn),"':")}})();var lt,pt=2,vt=function(at,ct,mt,Wt,Rt,en,Pt,on){var Bn=arguments.length>8&&arguments[8]!==void 0&&arguments[8],yn=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;at.save(),at.translate(en,Pt),at.rotate(on),Bn&&at.fillRect(ct-en,mt-Pt,Wt,Rt),yn&&at.roundRect?(at.beginPath(),at.roundRect(ct-en,mt-Pt,Wt,Rt,yn),at.stroke(),at.closePath()):at.strokeRect(ct-en,mt-Pt,Wt,Rt),at.restore()},zt=function(at,ct,mt,Wt){var Rt=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];at.beginPath(),at.arc(ct,mt,Wt,0,2*Math.PI),at.fill(),Rt&&at.stroke()},Qt=function(at,ct,mt,Wt,Rt){var en=arguments.length>5&&arguments[5]!==void 0&&arguments[5];at.strokeStyle="#5e5ad8",at.setLineDash([]),at.fillStyle="rgba(255, 255, 255, 0.9)",Rt?at.fillStyle="rgba(134, 131, 226, 0.9)":en&&(at.fillStyle="rgba(177, 151, 252, 0.7)"),zt(at,mt[0],mt[1],Wt/ct.zoom.value,!en)},Ft=function(at,ct,mt){if(ct.selectedLinearElement){at.save(),at.translate(ct.scrollX,ct.scrollY),at.lineWidth=1/ct.zoom.value;var Wt=St._.getPointsGlobalCoordinates(mt),Rt=St._.POINT_HANDLE_SIZE,en=ct.editingLinearElement?Rt:Rt/2;Wt.forEach(function(Pt,on){var Bn,yn,Wn=!((Bn=ct.editingLinearElement)===null||Bn===void 0||(yn=Bn.selectedPointsIndices)===null||yn===void 0||!yn.includes(on));Qt(at,ct,Pt,en,Wn)}),St._.getEditorMidPoints(mt,ct).filter(function(Pt){return Pt!==null}).forEach(function(Pt){var on;ct!=null&&(on=ct.selectedLinearElement)!==null&&on!==void 0&&on.segmentMidPointHoveredCoords&&St._.arePointsEqual(Pt,ct.selectedLinearElement.segmentMidPointHoveredCoords)?ct.editingLinearElement?(Qt(at,ct,Pt,en,!1),At(Pt,at,ct)):(At(Pt,at,ct),Qt(at,ct,Pt,en,!1)):(ct.editingLinearElement||Wt.length===2)&&Qt(at,ct,Pt,Rt/2,!1,!0)}),at.restore()}},At=function(at,ct,mt){ct.fillStyle="rgba(105, 101, 219, 0.4)",zt(ct,at[0],at[1],St._.POINT_HANDLE_SIZE/mt.zoom.value,!1)},Tt=function(at,ct,mt,Wt){ct.translate(at.x+Wt.scrollX,at.y+Wt.scrollY),ct.beginPath(),ct.roundRect?ct.roundRect(0,0,at.width,at.height,sn.iG.radius/Wt.zoom.value):ct.rect(0,0,at.width,at.height),ct.clip(),ct.translate(-(at.x+Wt.scrollX),-(at.y+Wt.scrollY))},jt=function(at,ct){return[at.width/ct,at.height/ct]},un=function(at){var ct=at.canvas,mt=at.scale,Wt=at.normalizedWidth,Rt=at.normalizedHeight,en=at.theme,Pt=at.isExporting,on=at.viewBackgroundColor,Bn=ct.getContext("2d");return Bn.setTransform(1,0,0,1,0,0),Bn.scale(mt,mt),Pt&&en==="dark"&&(Bn.filter=sn.ZF),typeof on=="string"?((on==="transparent"||on.length===5||on.length===9||/(hsla|rgba)\(/.test(on))&&Bn.clearRect(0,0,Wt,Rt),Bn.save(),Bn.fillStyle=on,Bn.fillRect(0,0,Wt,Rt),Bn.restore()):Bn.clearRect(0,0,Wt,Rt),Bn},Jt=function(at){var ct,mt=at.canvas,Wt=at.elements,Rt=at.visibleElements,en=at.selectedElements,Pt=at.scale,on=at.appState,Bn=at.renderConfig;if(mt===null)return{atLeastOneVisibleElement:!1,elements:Wt};var yn=jt(mt,Pt),Wn=(0,it.Z)(yn,2),Vn=Wn[0],Hn=Wn[1],Zn=un({canvas:mt,scale:Pt,normalizedWidth:Vn,normalizedHeight:Hn});Zn.save(),Zn.scale(on.zoom.value,on.zoom.value);var Kn=void 0;if(Rt.forEach(function(Br){var Fr;((Fr=on.editingLinearElement)===null||Fr===void 0?void 0:Fr.elementId)===Br.id&&Br&&(Kn=Br)}),Kn&&Ft(Zn,on,Kn),on.selectionElement)try{(0,tt.uI)(on.selectionElement,Zn,on)}catch(Br){console.error(Br)}on.isBindingEnabled&&on.suggestedBindings.filter(function(Br){return Br!=null}).forEach(function(Br){Fn(Zn,on,Br)}),on.frameToHighlight&&Gn(Zn,on,on.frameToHighlight),on.elementsToHighlight&&Sn(Zn,on,on.elementsToHighlight);var qn,sr=en.some(function(Br){return(0,Gt.He)(Br)});if(en.length===1&&((ct=on.editingLinearElement)===null||ct===void 0?void 0:ct.elementId)===en[0].id&&Ft(Zn,on,en[0]),on.selectedLinearElement&&on.selectedLinearElement.hoverPointIndex>=0&&function(Br,Fr){var Sr,to,lo=Fr.selectedLinearElement,eo=lo.elementId,Eo=lo.hoverPointIndex;if((Sr=Fr.editingLinearElement)===null||Sr===void 0||(to=Sr.selectedPointsIndices)===null||to===void 0||!to.includes(Eo)){var go=St._.getElement(eo);if(go){var mo=St._.getPointAtIndexGlobalCoordinates(go,Eo);Br.save(),Br.translate(Fr.scrollX,Fr.scrollY),At(mo,Br,Fr),Br.restore()}}}(Zn,on),!on.multiElement&&!on.editingLinearElement){var In,An=(0,dt.oY)(en,on);en.length===1&&(0,Gt.bt)(en[0])&&((In=on.selectedLinearElement)===null||In===void 0?void 0:In.elementId)===en[0].id&&!en[0].locked&&Ft(Zn,on,en[0]);var On=Bn.selectionColor||nt.black;if(An){var _n,or=en.reduce(function(Br,Fr){return Br[Fr.id]=!0,Br},{}),ir=Wt.reduce(function(Br,Fr){var Sr=[];if(or[Fr.id]&&!(0,Zt.zq)(on,Fr)&&Sr.push(On),Bn.remoteSelectedElementIds[Fr.id]&&Sr.push.apply(Sr,(0,ot.Z)(Bn.remoteSelectedElementIds[Fr.id].map(function(po){return(0,xt.G)(po)}))),Sr.length){var to,lo=(0,ht.qf)(Fr,!0),eo=(0,it.Z)(lo,6),Eo=eo[0],go=eo[1],mo=eo[2],Oo=eo[3],ao=eo[4],co=eo[5];Br.push({angle:Fr.angle,elementX1:Eo,elementY1:go,elementX2:mo,elementY2:Oo,selectionColors:Sr,dashed:!!Bn.remoteSelectedElementIds[Fr.id],cx:ao,cy:co,activeEmbeddable:((to=on.activeEmbeddable)===null||to===void 0?void 0:to.element)===Fr&&on.activeEmbeddable.state==="active"})}return Br},[]),mr=function(Br){var Fr=(0,Zt.Fb)(Wt,Br),Sr=(0,ht.KP)(Fr),to=(0,it.Z)(Sr,4),lo=to[0],eo=to[1],Eo=to[2],go=to[3];ir.push({angle:0,elementX1:lo,elementX2:Eo,elementY1:eo,elementY2:go,selectionColors:[nt.black],dashed:!0,cx:lo+(Eo-lo)/2,cy:eo+(go-eo)/2,activeEmbeddable:!1})},yr=wt((0,Zt.iJ)(on));try{for(yr.s();!(_n=yr.n()).done;)mr(_n.value)}catch(Br){yr.e(Br)}finally{yr.f()}on.editingGroupId&&mr(on.editingGroupId),ir.forEach(function(Br){return Dn(Zn,on,Br)})}if(Zn.save(),Zn.translate(on.scrollX,on.scrollY),en.length===1){Zn.fillStyle=nt.white;var cr=(0,ht.PC)(en[0],on.zoom,"mouse");!on.viewModeEnabled&&An&&jn(Zn,Bn,on,cr,en[0].angle)}else if(en.length>1&&!on.isRotating){var Ur=2*pt/on.zoom.value;Zn.fillStyle=nt.white;var Wr=(0,ht.KP)(en),Xr=(0,it.Z)(Wr,4),wr=Xr[0],Jr=Xr[1],Kr=Xr[2],rr=Xr[3],Qr=Zn.getLineDash();Zn.setLineDash([2/on.zoom.value]);var Ir=Zn.lineWidth;Zn.lineWidth=1/on.zoom.value,Zn.strokeStyle=On,vt(Zn,wr-Ur,Jr-Ur,Kr-wr+2*Ur,rr-Jr+2*Ur,(wr+Kr)/2,(Jr+rr)/2,0),Zn.lineWidth=Ir,Zn.setLineDash(Qr);var xr=(0,ht.kK)([wr,Jr,Kr,rr,(wr+Kr)/2,(Jr+rr)/2],0,on.zoom,"mouse",sr?dt.Fn:ht.ox);en.some(function(Br){return!Br.locked})&&jn(Zn,Bn,on,xr,0)}Zn.restore()}for(var pr in function(Br,Fr){if(Fr.snapLines.length){var Sr=Fr.theme==="light"||Fr.zenModeEnabled?"#ff6b6b":"#ff0000",to=(Fr.zenModeEnabled?1.5:1)/Fr.zoom.value;Br.save(),Br.translate(Fr.scrollX,Fr.scrollY);var lo,eo=pn(Fr.snapLines);try{for(eo.s();!(lo=eo.n()).done;){var Eo=lo.value;Eo.type==="pointer"?(Br.lineWidth=to,Br.strokeStyle=Sr,Ut(Eo,Br,Fr)):Eo.type==="gap"?(Br.lineWidth=to,Br.strokeStyle=Sr,Ot(Eo.points[0],Eo.points[1],Eo.direction,Fr,Br)):Eo.type==="points"&&(Br.lineWidth=to,Br.strokeStyle=Sr,qt(Eo,Br,Fr))}}catch(go){eo.e(go)}finally{eo.f()}Br.restore()}}(Zn,on),Zn.restore(),Bn.remotePointerViewportCoords){var Nr=Bn.remotePointerViewportCoords[pr],Rr=Nr.x,qr=Nr.y;Rr-=on.offsetLeft,qr-=on.offsetTop;var Dr=Rr<0||Rr>Vn-11||qr<0||qr>Hn-14;Rr=Math.max(Rr,0),Rr=Math.min(Rr,Vn-11),qr=Math.max(qr,0),qr=Math.min(qr,Hn-14);var Io=(0,xt.G)(pr);Zn.save(),Zn.strokeStyle=Io,Zn.fillStyle=Io;var ro=Bn.remotePointerUserStates[pr],Zo=Dr||ro===Et.IDLE||ro===Et.AWAY;Zo&&(Zn.globalAlpha=.3),Bn.remotePointerButton&&Bn.remotePointerButton[pr]==="down"&&(Zn.beginPath(),Zn.arc(Rr,qr,15,0,2*Math.PI,!1),Zn.lineWidth=3,Zn.strokeStyle="#ffffff88",Zn.stroke(),Zn.closePath(),Zn.beginPath(),Zn.arc(Rr,qr,15,0,2*Math.PI,!1),Zn.lineWidth=1,Zn.strokeStyle=Io,Zn.stroke(),Zn.closePath()),Zn.fillStyle=nt.white,Zn.strokeStyle=nt.white,Zn.lineWidth=6,Zn.lineJoin="round",Zn.beginPath(),Zn.moveTo(Rr,qr),Zn.lineTo(Rr+0,qr+14),Zn.lineTo(Rr+4,qr+9),Zn.lineTo(Rr+11,qr+8),Zn.closePath(),Zn.stroke(),Zn.fill(),Zn.fillStyle=Io,Zn.strokeStyle=Io,Zn.lineWidth=2,Zn.lineJoin="round",Zn.beginPath(),Zo?(Zn.moveTo(Rr-1,qr-1),Zn.lineTo(Rr-1,qr+15),Zn.lineTo(Rr+5,qr+10),Zn.lineTo(Rr+12,qr+9),Zn.closePath(),Zn.fill()):(Zn.moveTo(Rr,qr),Zn.lineTo(Rr+0,qr+14),Zn.lineTo(Rr+4,qr+9),Zn.lineTo(Rr+11,qr+8),Zn.closePath(),Zn.fill(),Zn.stroke());var dr=Bn.remotePointerUsernames[pr]||"";if(!Dr&&dr){Zn.font="600 12px sans-serif";var Hr=Rr+5.5,Zr=qr+14+2,Vr=Zn.measureText(dr),Ao=Vr.actualBoundingBoxDescent+Vr.actualBoundingBoxAscent,xo=Math.max(Ao,12),wo=Hr-1,To=Zr-1,ho=Vr.width+2+10+2,Cr=xo+2+6+2;Zn.roundRect?(Zn.beginPath(),Zn.roundRect(wo,To,ho,Cr,8),Zn.fillStyle=Io,Zn.fill(),Zn.strokeStyle=nt.white,Zn.stroke()):Bt(Zn,wo,To,ho,Cr,8,nt.white),Zn.fillStyle=nt.black,Zn.fillText(dr,Hr+5+1,Zr+3+Vr.actualBoundingBoxAscent+Math.floor((xo-Ao)/2)+2)}Zn.restore(),Zn.closePath()}return Bn.renderScrollbars&&(qn=(0,st.tJ)(Wt,Vn,Hn,on),Zn.save(),Zn.fillStyle=st.w1,Zn.strokeStyle="rgba(255,255,255,0.8)",[qn.horizontal,qn.vertical].forEach(function(Br){Br&&Bt(Zn,Br.x,Br.y,Br.width,Br.height,st.nn/2)}),Zn.restore()),{scrollBars:qn,atLeastOneVisibleElement:Rt.length>0,elements:Wt}},hn=function(at){var ct=at.canvas,mt=at.rc,Wt=at.elements,Rt=at.visibleElements,en=at.scale,Pt=at.appState,on=at.renderConfig;if(ct!==null){var Bn=on.renderGrid,yn=Bn===void 0||Bn,Wn=on.isExporting,Vn=jt(ct,en),Hn=(0,it.Z)(Vn,2),Zn=Hn[0],Kn=Hn[1],qn=un({canvas:ct,scale:en,normalizedWidth:Zn,normalizedHeight:Kn,theme:Pt.theme,isExporting:Wn,viewBackgroundColor:Pt.viewBackgroundColor});qn.scale(Pt.zoom.value,Pt.zoom.value),yn&&Pt.gridSize&&function(In,An,On,_n,or,ir,mr){var yr;(function(Ir){Ir.Bold="#cccccc",Ir.Regular="#e5e5e5"})(yr||(yr={}));var cr=-Math.round(or.value/An)*An+On%An,Ur=-Math.round(or.value/An)*An+_n%An,Wr=Math.min(1/or.value,1),Xr=1/or.value,wr=[3*Wr,Xr+(Wr+Xr)];In.save(),In.lineWidth=Wr;for(var Jr=cr;Jr<cr+ir+2*An;Jr+=An){var Kr=Math.round(Jr-On)%(5*An)==0;In.beginPath(),In.setLineDash(Kr?[]:wr),In.strokeStyle=Kr?yr.Bold:yr.Regular,In.moveTo(Jr,Ur-An),In.lineTo(Jr,Ur+mr+2*An),In.stroke()}for(var rr=Ur;rr<Ur+mr+2*An;rr+=An){var Qr=Math.round(rr-_n)%(5*An)==0;In.beginPath(),In.setLineDash(Qr?[]:wr),In.strokeStyle=Qr?yr.Bold:yr.Regular,In.moveTo(cr-An,rr),In.lineTo(cr+ir+2*An,rr),In.stroke()}In.restore()}(qn,Pt.gridSize,Pt.scrollX,Pt.scrollY,Pt.zoom,Zn/Pt.zoom.value,Kn/Pt.zoom.value);var sr=new Set;Rt.forEach(function(In){In.groupIds.length>0&&Pt.frameToHighlight&&Pt.selectedElementIds[In.id]&&((0,Xt.cO)(In,Pt.frameToHighlight)||In.groupIds.find(function(An){return sr.has(An)}))&&In.groupIds.forEach(function(An){return sr.add(An)})}),Rt.filter(function(In){return!(0,Ct.uU)(In)}).forEach(function(In){try{var An;if((In.frameId||!((An=Pt.frameToHighlight)===null||An===void 0)&&An.id)&&Pt.frameRendering.enabled&&Pt.frameRendering.clip){qn.save();var On=(0,Xt.cH)(In,Pt);On&&(0,Xt.Qs)(In,Wt,Pt)&&Tt(On,qn,0,Pt),(0,tt.lw)(In,mt,qn,on,Pt),qn.restore()}else(0,tt.lw)(In,mt,qn,on,Pt);Wn||Qn(In,qn,Pt)}catch(_n){console.error(_n)}}),Rt.filter(function(In){return(0,Ct.uU)(In)}).forEach(function(In){try{var An,On=function(){if((0,tt.lw)(In,mt,qn,on,Pt),(0,Gt.gs)(In)&&(Wn||!In.validated)&&In.width&&In.height){var or=(0,Ct.g0)(In);(0,tt.lw)(or,mt,qn,on,Pt)}Wn||Qn(In,qn,Pt)};if((In.frameId||!((An=Pt.frameToHighlight)===null||An===void 0)&&An.id)&&Pt.frameRendering.enabled&&Pt.frameRendering.clip){qn.save();var _n=(0,Xt.cH)(In,Pt);_n&&(0,Xt.Qs)(In,Wt,Pt)&&Tt(_n,qn,0,Pt),On(),qn.restore()}else On()}catch(or){console.error(or)}})}},rn=(0,Yt.hR)(function(at){var ct,mt=Jt(at);(ct=at.callback)===null||ct===void 0||ct.call(at,mt)},{trailing:!0}),Mt=function(at,ct){if(!ct){var mt=Jt(at);return at.callback(mt),mt}rn(at)},an=(0,Yt.hR)(function(at){hn(at)},{trailing:!0}),Cn=function(at,ct){ct?an(at):hn(at)},kn=function(){rn.cancel(),an.cancel()},jn=function(at,ct,mt,Wt,Rt){Object.keys(Wt).forEach(function(en){var Pt=Wt[en];if(Pt!==void 0){var on=(0,it.Z)(Pt,4),Bn=on[0],yn=on[1],Wn=on[2],Vn=on[3];at.save(),at.lineWidth=1/mt.zoom.value,ct.selectionColor&&(at.strokeStyle=ct.selectionColor),en==="rotation"?zt(at,Bn+Wn/2,yn+Vn/2,Wn/2):at.roundRect?(at.beginPath(),at.roundRect(Bn,yn,Wn,Vn,2/mt.zoom.value),at.fill(),at.stroke()):vt(at,Bn,yn,Wn,Vn,Bn+Wn/2,yn+Vn/2,Rt,!0),at.restore()}})},Dn=function(at,ct,mt){var Wt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*pt,Rt=mt.angle,en=mt.elementX1,Pt=mt.elementY1,on=mt.elementX2,Bn=mt.elementY2,yn=mt.selectionColors,Wn=mt.cx,Vn=mt.cy,Hn=mt.dashed,Zn=mt.activeEmbeddable,Kn=on-en,qn=Bn-Pt,sr=Wt/ct.zoom.value,In=8/ct.zoom.value,An=4/ct.zoom.value;at.save(),at.translate(ct.scrollX,ct.scrollY),at.lineWidth=(Zn?4:1)/ct.zoom.value;for(var On=yn.length,_n=0;_n<On;++_n)at.strokeStyle=yn[_n],Hn&&at.setLineDash([In,An+(In+An)*(On-1)]),at.lineDashOffset=(In+An)*_n,vt(at,en-sr,Pt-sr,Kn+2*sr,qn+2*sr,Wn,Vn,Rt);at.restore()},Fn=function(at,ct,mt){var Wt=Array.isArray(mt)?nn:vn;at.save(),at.translate(ct.scrollX,ct.scrollY),Wt(at,mt),at.restore()},vn=function(at,ct){var mt=(0,ht.qf)(ct),Wt=(0,it.Z)(mt,4),Rt=Wt[0],en=Wt[1],Pt=Wt[2]-Rt,on=Wt[3]-en,Bn=(0,Nt.fb)(ct,Pt,on);at.strokeStyle="rgba(0,0,0,.05)",at.lineWidth=Bn-4;var yn=2+Bn/2;switch(ct.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":vt(at,Rt-yn,en-yn,Pt+2*yn,on+2*yn,Rt+Pt/2,en+on/2,ct.angle);break;case"diamond":var Wn=Math.hypot(Pt,on);(function(Vn,Hn,Zn,Kn,qn,sr){Vn.save(),Vn.translate(Kn,qn),Vn.rotate(sr),Vn.beginPath(),Vn.moveTo(0,Zn/2),Vn.lineTo(Hn/2,0),Vn.lineTo(0,-Zn/2),Vn.lineTo(-Hn/2,0),Vn.closePath(),Vn.stroke(),Vn.restore()})(at,Pt+2*(yn*Wn/on),on+2*(yn*Wn/Pt),Rt+Pt/2,en+on/2,ct.angle);break;case"ellipse":(function(Vn,Hn,Zn,Kn,qn,sr){Vn.beginPath(),Vn.ellipse(Kn,qn,Hn/2,Zn/2,sr,0,2*Math.PI),Vn.stroke()})(at,Pt+2*yn,on+2*yn,Rt+Pt/2,en+on/2,ct.angle)}},Gn=function(at,ct,mt){var Wt=(0,ht.qf)(mt),Rt=(0,it.Z)(Wt,4),en=Rt[0],Pt=Rt[1],on=Rt[2]-en,Bn=Rt[3]-Pt;at.strokeStyle="rgb(0,118,255)",at.lineWidth=sn.iG.strokeWidth/ct.zoom.value,at.save(),at.translate(ct.scrollX,ct.scrollY),vt(at,en,Pt,on,Bn,en+on/2,Pt+Bn/2,mt.angle,!1,sn.iG.radius/ct.zoom.value),at.restore()},Sn=function(at,ct,mt){var Wt=mt.filter(function(Pt){return Pt.groupIds.length===0}),Rt=mt.filter(function(Pt){return Pt.groupIds.length>0}),en=function(Pt){var on=(0,ht.KP)(Pt),Bn=(0,it.Z)(on,4),yn=Bn[0],Wn=Bn[1],Vn=Bn[2],Hn=Bn[3];return{angle:0,elementX1:yn,elementX2:Vn,elementY1:Wn,elementY2:Hn,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:yn+(Vn-yn)/2,cy:Wn+(Hn-Wn)/2,activeEmbeddable:!1}};Object.entries((0,Zt.yR)(Rt,ct)).filter(function(Pt){var on=(0,it.Z)(Pt,2);return on[0],on[1]}).map(function(Pt){var on=(0,it.Z)(Pt,2),Bn=on[0];return on[1],Bn}).map(function(Pt){return function(on){var Bn=(0,Zt.Fb)(mt,on);return en(Bn)}(Pt)}).concat(Wt.map(function(Pt){return en([Pt])})).forEach(function(Pt){return Dn(at,ct,Pt)})},nn=function(at,ct){var mt=(0,it.Z)(ct,3),Wt=mt[0],Rt=mt[1],en=mt[2],Pt=(0,Nt.fb)(en,en.width,en.height);at.strokeStyle="rgba(0,0,0,0)",at.fillStyle="rgba(0,0,0,.05)",(Rt==="both"?[0,-1]:Rt==="start"?[0]:[-1]).forEach(function(on){var Bn=St._.getPointAtIndexGlobalCoordinates(Wt,on),yn=(0,it.Z)(Bn,2),Wn=yn[0],Vn=yn[1];zt(at,Wn,Vn,Pt)})},Qn=function(at,ct,mt){if(at.link&&!mt.selectedElementIds[at.id]){var Wt=(0,ht.qf)(at),Rt=(0,it.Z)(Wt,4),en=Rt[0],Pt=Rt[1],on=Rt[2],Bn=Rt[3],yn=(0,bn.sw)([en,Pt,on,Bn],at.angle,mt),Wn=(0,it.Z)(yn,4),Vn=Wn[0],Hn=Wn[1],Zn=Wn[2],Kn=Wn[3],qn=Vn+Zn/2,sr=Hn+Kn/2;if(ct.save(),ct.translate(mt.scrollX+qn,mt.scrollY+sr),ct.rotate(at.angle),lt&&lt.zoom===mt.zoom.value)ct.drawImage(lt,Vn-qn,Hn-sr,Zn,Kn);else{(lt=document.createElement("canvas")).zoom=mt.zoom.value,lt.width=Zn*window.devicePixelRatio*mt.zoom.value,lt.height=Kn*window.devicePixelRatio*mt.zoom.value;var In=lt.getContext("2d");In.scale(window.devicePixelRatio*mt.zoom.value,window.devicePixelRatio*mt.zoom.value),In.fillStyle="#fff",In.fillRect(0,0,Zn,Kn),In.drawImage(bn.rj,0,0,Zn,Kn),In.restore(),ct.drawImage(lt,Vn-qn,Hn-sr,Zn,Kn)}ct.restore()}},tn=function(at,ct,mt,Wt,Rt){var en=Rt.offsetX,Pt=en===void 0?0:en,on=Rt.offsetY,Bn=on===void 0?0:on,yn=Rt.exportWithDarkMode,Wn=Rt.renderEmbeddables,Vn=Rt.frameRendering;if(mt){var Hn={exportWithDarkMode:yn,renderEmbeddables:Wn,frameRendering:Vn};at.filter(function(Zn){return!(0,Ct.uU)(Zn)}).forEach(function(Zn){if(!Zn.isDeleted)try{(0,tt.Rg)(Zn,ct,mt,Wt,Zn.x+Pt,Zn.y+Bn,Hn)}catch(Kn){console.error(Kn)}}),at.filter(function(Zn){return(0,Gt.gs)(Zn)}).forEach(function(Zn){if(!Zn.isDeleted)try{(0,tt.Rg)(Zn,ct,mt,Wt,Zn.x+Pt,Zn.y+Bn,Hn)}catch(Kn){console.error(Kn)}})}}},457:function($t,Vt,_){var Et=_(1930),ot=_(8821),it=_(5169),nt=_(7651),ht=_(4183),Bt=_(6264),st=_(4643),tt=function(St){return typeof St=="string"},xt=function(){function St(){var Zt=this;(0,ot.Z)(this,St),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(Nt){Nt.frameId?Zt.insertElementAtIndex(Nt,Zt.getElementIndex(Nt.frameId)):Zt.replaceAllElements([].concat((0,Et.Z)(Zt.elements),[Nt]))}}return(0,it.Z)(St,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(Zt){var Nt=function(bn){for(var pn="",mn=0,qt=["includeBoundTextElement","includeElementsInFrames"];mn<qt.length;mn++){var Ut=qt[mn];pn+="".concat(Ut,":").concat(bn[Ut]?"1":"0")}return pn}(Zt),dt=(Zt==null?void 0:Zt.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===dt&&this.selectedElementsCache.selectedElementIds===Zt.selectedElementIds){var Yt=this.selectedElementsCache.cache.get(Nt);if(Yt)return Yt}else(Zt==null?void 0:Zt.elements)==null&&this.selectedElementsCache.cache.clear();var sn=(0,Bt.eD)(dt,{selectedElementIds:Zt.selectedElementIds},Zt);return(Zt==null?void 0:Zt.elements)==null&&(this.selectedElementsCache.selectedElementIds=Zt.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(Nt,sn)),sn}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(Zt){return this.elementsMap.get(Zt)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(Zt){var Nt=this.getElement(Zt);return Nt&&(0,nt.qP)(Nt)?Nt:null}},{key:"mapElements",value:function(Zt){var Nt=!1,dt=this.elements.map(function(Yt){var sn=Zt(Yt);return sn!==Yt&&(Nt=!0),sn});return Nt&&this.replaceAllElements(dt),Nt}},{key:"replaceAllElements",value:function(Zt){var Nt=this;this.elements=Zt;var dt=[];this.elementsMap.clear(),Zt.forEach(function(Yt){(0,ht.He)(Yt)&&dt.push(Yt),Nt.elementsMap.set(Yt.id,Yt),St.mapElementToScene(Yt,Nt)}),this.nonDeletedElements=(0,nt.Lm)(this.elements),this.frames=dt,this.nonDeletedFrames=(0,nt.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,st.LU)();for(var Zt=0,Nt=Array.from(this.callbacks);Zt<Nt.length;Zt++)(0,Nt[Zt])()}},{key:"addCallback",value:function(Zt){var Nt=this;if(this.callbacks.has(Zt))throw new Error;return this.callbacks.add(Zt),function(){if(!Nt.callbacks.has(Zt))throw new Error;Nt.callbacks.delete(Zt)}}},{key:"destroy",value:function(){var Zt=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),St.sceneMapById.forEach(function(Nt,dt){Nt===Zt&&St.sceneMapById.delete(dt)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(Zt,Nt){if(!Number.isFinite(Nt)||Nt<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var dt=[].concat((0,Et.Z)(this.elements.slice(0,Nt)),[Zt],(0,Et.Z)(this.elements.slice(Nt)));this.replaceAllElements(dt)}},{key:"insertElementsAtIndex",value:function(Zt,Nt){if(!Number.isFinite(Nt)||Nt<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var dt=[].concat((0,Et.Z)(this.elements.slice(0,Nt)),(0,Et.Z)(Zt),(0,Et.Z)(this.elements.slice(Nt)));this.replaceAllElements(dt)}},{key:"getElementIndex",value:function(Zt){return this.elements.findIndex(function(Nt){return Nt.id===Zt})}}],[{key:"mapElementToScene",value:function(Zt,Nt){var dt=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(tt(Zt)){if(!dt)return;this.sceneMapById.set(Zt,Nt)}else this.sceneMapByElement.set(Zt,Nt),dt||this.sceneMapById.set(Zt.id,Nt)}},{key:"getScene",value:function(Zt){return tt(Zt)?this.sceneMapById.get(Zt)||null:this.sceneMapByElement.get(Zt)||null}}]),St}();xt.sceneMapByElement=new WeakMap,xt.sceneMapById=new Map,Vt.Z=xt},6049:function($t,Vt,_){_.d(Vt,{Z:function(){return pn},i:function(){return qt}});var Et=_(1930),ot=_(2577),it=_(7169),nt=_(7651),ht=_(2361),Bt=_(9660),st=_(9827),tt=_(1493),xt=_(9937),St=_(4183),Zt=_(1648);function Nt(Ut,Kt){var yt=Object.keys(Ut);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Ut);Kt&&(Ot=Ot.filter(function(Gt){return Object.getOwnPropertyDescriptor(Ut,Gt).enumerable})),yt.push.apply(yt,Ot)}return yt}function dt(Ut){for(var Kt=1;Kt<arguments.length;Kt++){var yt=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?Nt(Object(yt),!0).forEach(function(Ot){(0,it.Z)(Ut,Ot,yt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(yt)):Nt(Object(yt)).forEach(function(Ot){Object.defineProperty(Ut,Ot,Object.getOwnPropertyDescriptor(yt,Ot))})}return Ut}var Yt=function(Ut){return[8,8+Ut]},sn=function(Ut){return[1.5,6+Ut]};function bn(Ut){var Kt=Ut.roughness,yt=Math.max(Ut.width,Ut.height),Ot=Math.min(Ut.width,Ut.height);return Ot>=20&&yt>=50||Ot>=15&&Ut.roundness&&(0,Zt.sh)(Ut.type)||(0,St.bt)(Ut)&&yt>=50?Kt:Math.min(Kt/(yt<10?3:2),2.5)}var pn=function(Ut){var Kt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],yt={seed:Ut.seed,strokeLineDash:Ut.strokeStyle==="dashed"?Yt(Ut.strokeWidth):Ut.strokeStyle==="dotted"?sn(Ut.strokeWidth):void 0,disableMultiStroke:Ut.strokeStyle!=="solid",strokeWidth:Ut.strokeStyle!=="solid"?Ut.strokeWidth+.5:Ut.strokeWidth,fillWeight:Ut.strokeWidth/2,hachureGap:4*Ut.strokeWidth,roughness:bn(Ut),stroke:Ut.strokeColor,preserveVertices:Kt||Ut.roughness<xt.$h.cartoonist};switch(Ut.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return yt.fillStyle=Ut.fillStyle,yt.fill=(0,st.Qm)(Ut.backgroundColor)?void 0:Ut.backgroundColor,Ut.type==="ellipse"&&(yt.curveFitting=1),yt;case"line":case"freedraw":return(0,ht.g6)(Ut.points)&&(yt.fillStyle=Ut.fillStyle,yt.fill=Ut.backgroundColor==="transparent"?void 0:Ut.backgroundColor),yt;case"arrow":return yt;default:throw new Error("Unimplemented type ".concat(Ut.type))}},mn=function(Ut,Kt){return Ut.type==="embeddable"&&(Kt||!Ut.validated)&&(0,st.Qm)(Ut.backgroundColor)&&(0,st.Qm)(Ut.strokeColor)?dt(dt({},Ut),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):Ut},qt=function(Ut,Kt){var yt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(Ut.type){case"rectangle":case"embeddable":var Ot;if(Ut.roundness){var Gt=Ut.width,Ct=Ut.height,Xt=(0,ht.yW)(Math.min(Gt,Ct),Ut);Ot=Kt.path("M ".concat(Xt," 0 L ").concat(Gt-Xt," 0 Q ").concat(Gt," 0, ").concat(Gt," ").concat(Xt," L ").concat(Gt," ").concat(Ct-Xt," Q ").concat(Gt," ").concat(Ct,", ").concat(Gt-Xt," ").concat(Ct," L ").concat(Xt," ").concat(Ct," Q 0 ").concat(Ct,", 0 ").concat(Ct-Xt," L 0 ").concat(Xt," Q 0 0, ").concat(Xt," 0"),pn(mn(Ut,yt),!0))}else Ot=Kt.rectangle(0,0,Ut.width,Ut.height,pn(mn(Ut,yt),!1));return Ot;case"diamond":var ut,ft=(0,nt.UC)(Ut),$=(0,ot.Z)(ft,8),wt=$[0],gt=$[1],lt=$[2],pt=$[3],vt=$[4],zt=$[5],Qt=$[6],Ft=$[7];if(Ut.roundness){var At=(0,ht.yW)(Math.abs(wt-Qt),Ut),Tt=(0,ht.yW)(Math.abs(pt-gt),Ut);ut=Kt.path("M ".concat(wt+At," ").concat(gt+Tt," L ").concat(lt-At," ").concat(pt-Tt,`
            C `).concat(lt," ").concat(pt,", ").concat(lt," ").concat(pt,", ").concat(lt-At," ").concat(pt+Tt,`
            L `).concat(vt+At," ").concat(zt-Tt,`
            C `).concat(vt," ").concat(zt,", ").concat(vt," ").concat(zt,", ").concat(vt-At," ").concat(zt-Tt,`
            L `).concat(Qt+At," ").concat(Ft+Tt,`
            C `).concat(Qt," ").concat(Ft,", ").concat(Qt," ").concat(Ft,", ").concat(Qt+At," ").concat(Ft-Tt,`
            L `).concat(wt-At," ").concat(gt+Tt,`
            C `).concat(wt," ").concat(gt,", ").concat(wt," ").concat(gt,", ").concat(wt+At," ").concat(gt+Tt),pn(Ut,!0))}else ut=Kt.polygon([[wt,gt],[lt,pt],[vt,zt],[Qt,Ft]],pn(Ut));return ut;case"ellipse":var jt=Kt.ellipse(Ut.width/2,Ut.height/2,Ut.width,Ut.height,pn(Ut));return jt;case"line":case"arrow":var un,Jt=pn(Ut),hn=Ut.points.length?Ut.points:[[0,0]];if(un=Ut.roundness?[Kt.curve(hn,Jt)]:Jt.fill?[Kt.polygon(hn,Jt)]:[Kt.linearPath(hn,Jt)],Ut.type==="arrow"){var rn=Ut.startArrowhead,Mt=rn===void 0?null:rn,an=Ut.endArrowhead,Cn=an===void 0?"arrow":an,kn=function(Qn,tn,at,ct){var mt=(0,nt.Y5)(Qn,tn,at,ct);if(mt===null)return[];if(ct==="dot"){var Wt=(0,ot.Z)(mt,3),Rt=Wt[0],en=Wt[1],Pt=Wt[2];return[Kt.circle(Rt,en,Pt,dt(dt({},Jt),{},{fill:Qn.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(ct==="triangle"){var on=(0,ot.Z)(mt,6),Bn=on[0],yn=on[1],Wn=on[2],Vn=on[3],Hn=on[4],Zn=on[5];return delete Jt.strokeLineDash,[Kt.polygon([[Bn,yn],[Wn,Vn],[Hn,Zn],[Bn,yn]],dt(dt({},Jt),{},{fill:Qn.strokeColor,fillStyle:"solid"}))]}var Kn=(0,ot.Z)(mt,6),qn=Kn[0],sr=Kn[1],In=Kn[2],An=Kn[3],On=Kn[4],_n=Kn[5];if(Qn.strokeStyle==="dotted"){var or=sn(Qn.strokeWidth-1);Jt.strokeLineDash=[or[0],or[1]-1]}else delete Jt.strokeLineDash;return[Kt.line(In,An,qn,sr,Jt),Kt.line(On,_n,qn,sr,Jt)]};if(Mt!==null){var jn,Dn=kn(Ut,un,"start",Mt);(jn=un).push.apply(jn,(0,Et.Z)(Dn))}if(Cn!==null){var Fn,vn=kn(Ut,un,"end",Cn);(Fn=un).push.apply(Fn,(0,Et.Z)(vn))}}return un;case"freedraw":var Gn;if((0,Bt.Lc)(Ut),(0,ht.g6)(Ut.points)){var Sn=(0,tt.og)(Ut.points,.75);Gn=Kt.curve(Sn,dt(dt({},pn(Ut)),{},{stroke:"none"}))}else Gn=null;return Gn;case"frame":case"text":case"image":var nn=null;return nn;default:return(0,st.vE)(Ut,"generateElementShape(): Unimplemented type ".concat(Ut==null?void 0:Ut.type)),null}}},2921:function($t,Vt,_){_.d(Vt,{R:function(){return Bt}});var Et=_(5169),ot=_(8821),it=_(8128),nt=_(9660),ht=_(6049),Bt=(0,Et.Z)(function st(){(0,ot.Z)(this,st)});Bt.rg=new it.V,Bt.cache=new WeakMap,Bt.get=function(st){return Bt.cache.get(st)},Bt.set=function(st,tt){return Bt.cache.set(st,tt)},Bt.delete=function(st){return Bt.cache.delete(st)},Bt.destroy=function(){Bt.cache=new WeakMap},Bt.generateElementShape=function(st){var tt=arguments.length>1&&arguments[1]!==void 0&&arguments[1],xt=tt?void 0:Bt.get(st);if(xt!==void 0)return xt;nt.Xx.delete(st);var St=(0,ht.i)(st,Bt.rg,tt);return Bt.cache.set(st,St),St}},1648:function($t,Vt,_){_.d(Vt,{$b:function(){return ot},CJ:function(){return xt},M9:function(){return ht},PD:function(){return it},QG:function(){return tt},Un:function(){return st},Zd:function(){return nt},sh:function(){return Bt}});var Et=_(4183),ot=function(St){return St==="rectangle"||St==="embeddable"||St==="ellipse"||St==="diamond"||St==="line"||St==="freedraw"},it=function(St){return St!=="image"&&St!=="frame"},nt=function(St){return St==="rectangle"||St==="embeddable"||St==="ellipse"||St==="diamond"||St==="freedraw"||St==="arrow"||St==="line"},ht=function(St){return St==="rectangle"||St==="embeddable"||St==="ellipse"||St==="diamond"||St==="arrow"||St==="line"},Bt=function(St){return St==="rectangle"||St==="embeddable"||St==="arrow"||St==="line"||St==="diamond"},st=function(St){return St==="arrow"},tt=function(St,Zt){for(var Nt=null,dt=St.length-1;dt>=0;--dt){var Yt=St[dt];if(!Yt.isDeleted&&Zt(Yt)){Nt=Yt;break}}return Nt},xt=function(St,Zt){var Nt=[];return St.filter(function(dt){return!(dt.isDeleted||!Zt(dt))&&(!(0,Et.gs)(dt)||(Nt.push(dt),!1))}).concat(Nt)}},3668:function($t,Vt,_){_.d(Vt,{$D:function(){return ft},Cg:function(){return wt},NL:function(){return ut}});var Et=_(7169),ot=_(2577),it=_(8950),nt=_(2975),ht=_.n(nt),Bt=_(9845),st=_(4949),tt=_(7766),xt=_(9827),St=_(9937),Zt=_(6853),Nt=_(4419),dt=_(4178),Yt=_(6013),sn=_(4682),bn=_(7651),pn=_(583),mn=_(457);function qt(gt,lt){var pt=Object.keys(gt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(gt);lt&&(vt=vt.filter(function(zt){return Object.getOwnPropertyDescriptor(gt,zt).enumerable})),pt.push.apply(pt,vt)}return pt}function Ut(gt){for(var lt=1;lt<arguments.length;lt++){var pt=arguments[lt]!=null?arguments[lt]:{};lt%2?qt(Object(pt),!0).forEach(function(vt){(0,Et.Z)(gt,vt,pt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(pt)):qt(Object(pt)).forEach(function(vt){Object.defineProperty(gt,vt,Object.getOwnPropertyDescriptor(pt,vt))})}return gt}function Kt(gt,lt){var pt=typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(!pt){if(Array.isArray(gt)||(pt=function(Tt,jt){if(Tt){if(typeof Tt=="string")return yt(Tt,jt);var un=Object.prototype.toString.call(Tt).slice(8,-1);if(un==="Object"&&Tt.constructor&&(un=Tt.constructor.name),un==="Map"||un==="Set")return Array.from(Tt);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return yt(Tt,jt)}}(gt))||lt){pt&&(gt=pt);var vt=0,zt=function(){};return{s:zt,n:function(){return vt>=gt.length?{done:!0}:{done:!1,value:gt[vt++]}},e:function(Tt){throw Tt},f:zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qt,Ft=!0,At=!1;return{s:function(){pt=pt.call(gt)},n:function(){var Tt=pt.next();return Ft=Tt.done,Tt},e:function(Tt){At=!0,Qt=Tt},f:function(){try{Ft||pt.return==null||pt.return()}finally{if(At)throw Qt}}}}function yt(gt,lt){(lt==null||lt>gt.length)&&(lt=gt.length);for(var pt=0,vt=new Array(lt);pt<lt;pt++)vt[pt]=gt[pt];return vt}var Ot=function(gt){var lt=new mn.Z;return lt.replaceAllElements((0,xt.xU)(gt),!1),lt},Gt=function(gt,lt){if(gt.width<=lt)return gt;var pt=document.createElement("canvas").getContext("2d");pt.font=(0,xt.mO)({fontFamily:gt.fontFamily,fontSize:gt.fontSize});var vt=gt.text;if(pt.measureText(vt).width>lt)for(var zt=vt.length;zt>0;zt--){var Qt="".concat(vt.slice(0,zt),"...");if(pt.measureText(Qt).width<=lt){vt=Qt;break}}return(0,pn.BE)(gt,{text:vt,width:lt})},Ct=function(gt,lt){return lt=lt||(0,Zt.im)().frameRendering,{enabled:!!gt||lt.enabled,outline:!gt&&lt.outline,name:!gt&&lt.name,clip:!!gt||lt.clip}},Xt=function(gt){var lt=gt.elements,pt=gt.exportingFrame,vt=gt.frameRendering,zt=gt.exportWithDarkMode;return pt?(0,Yt.Xs)({elements:lt,bounds:pt,type:"overlap"}):vt.enabled&&vt.name?function(Qt,Ft){var At,Tt=[],jt=0,un=Kt(Qt);try{for(un.s();!(At=un.n()).done;){var Jt=At.value;if((0,bn.He)(Jt)){jt++;var hn=(0,bn.VL)({x:Jt.x,y:Jt.y-St.iG.nameOffsetY,fontFamily:St.ut.Assistant,fontSize:St.iG.nameFontSize,lineHeight:St.iG.nameLineHeight,strokeColor:Ft.exportWithDarkMode?St.iG.nameColorDarkTheme:St.iG.nameColorLightTheme,text:Jt.name||"Frame ".concat(jt)});hn.y-=hn.height,hn=Gt(hn,Jt.width),Tt.push(hn)}Tt.push(Jt)}}catch(rn){un.e(rn)}finally{un.f()}return Tt}(lt,{exportWithDarkMode:zt}):lt},ut=function(){var gt=(0,it.Z)(ht().mark(function lt(pt,vt,zt,Qt){var Ft,At,Tt,jt,un,Jt,hn,rn,Mt,an,Cn,kn,jn,Dn,Fn,vn,Gn,Sn,nn,Qn,tn,at,ct,mt=arguments;return ht().wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return At=Qt.exportBackground,Tt=Qt.exportPadding,jt=Tt===void 0?St.qy:Tt,un=Qt.viewBackgroundColor,Jt=Qt.exportingFrame,hn=mt.length>4&&mt[4]!==void 0?mt[4]:function(Rt,en){var Pt=document.createElement("canvas");return Pt.width=Rt*vt.exportScale,Pt.height=en*vt.exportScale,{canvas:Pt,scale:vt.exportScale}},rn=Ot(pt),pt=rn.getNonDeletedElements(),Mt=Ct(Jt??null,(Ft=vt.frameRendering)!==null&&Ft!==void 0?Ft:null),an=Xt({elements:pt,exportingFrame:Jt,exportWithDarkMode:vt.exportWithDarkMode,frameRendering:Mt}),Jt&&(jt=0),Cn=$(Jt?[Jt]:(0,sn._h)(an),jt),kn=(0,ot.Z)(Cn,4),jn=kn[0],Dn=kn[1],Fn=kn[2],vn=kn[3],Gn=hn(Fn,vn),Sn=Gn.canvas,nn=Gn.scale,Qn=nn===void 0?1:nn,tn=(0,Zt.im)(),Wt.next=12,(0,dt.Xx)({imageCache:new Map,fileIds:(0,dt.oA)(an).map(function(Rt){return Rt.fileId}),files:zt});case 12:return at=Wt.sent,ct=at.imageCache,(0,tt.AW)({canvas:Sn,rc:Bt.Z.canvas(Sn),elements:an,visibleElements:an,scale:Qn,appState:Ut(Ut({},vt),{},{frameRendering:Mt,viewBackgroundColor:At?un:null,scrollX:-jn+jt,scrollY:-Dn+jt,zoom:tn.zoom,shouldCacheIgnoreZoom:!1,theme:vt.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:ct,renderGrid:!1,isExporting:!0}}),rn.destroy(),Wt.abrupt("return",Sn);case 17:case"end":return Wt.stop()}},lt)}));return function(lt,pt,vt,zt){return gt.apply(this,arguments)}}(),ft=function(){var gt=(0,it.Z)(ht().mark(function lt(pt,vt,zt,Qt){var Ft,At,Tt,jt,un,Jt,hn,rn,Mt,an,Cn,kn,jn,Dn,Fn,vn,Gn,Sn,nn,Qn,tn,at,ct,mt,Wt,Rt,en,Pt,on,Bn,yn,Wn,Vn,Hn,Zn,Kn,qn,sr,In,An,On,_n,or;return ht().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(jt=Ot(pt),pt=jt.getNonDeletedElements(),un=Ct((Ft=Qt==null?void 0:Qt.exportingFrame)!==null&&Ft!==void 0?Ft:null,(At=vt.frameRendering)!==null&&At!==void 0?At:null),Jt=vt.exportPadding,hn=Jt===void 0?St.qy:Jt,rn=vt.exportWithDarkMode,Mt=rn!==void 0&&rn,an=vt.viewBackgroundColor,Cn=vt.exportScale,kn=Cn===void 0?1:Cn,jn=vt.exportEmbedScene,Dn=(Qt||{}).exportingFrame,vn=Xt({elements:pt,exportingFrame:Fn=Dn===void 0?null:Dn,exportWithDarkMode:Mt,frameRendering:un}),Fn&&(hn=0),Gn="",!jn){ir.next=20;break}return ir.prev=9,ir.next=12,Promise.resolve().then(_.bind(_,250));case 12:return ir.next=14,ir.sent.encodeSvgMetadata({text:(0,Nt.I_)(pt,vt,zt||{},"local")});case 14:Gn=ir.sent,ir.next=20;break;case 17:ir.prev=17,ir.t0=ir.catch(9),console.error(ir.t0);case 20:Sn=$(Fn?[Fn]:(0,sn._h)(vn),hn),nn=(0,ot.Z)(Sn,4),Qn=nn[0],tn=nn[1],at=nn[2],ct=nn[3],(mt=document.createElementNS(St.hR,"svg")).setAttribute("version","1.1"),mt.setAttribute("xmlns",St.hR),mt.setAttribute("viewBox","0 0 ".concat(at," ").concat(ct)),mt.setAttribute("width","".concat(at*kn)),mt.setAttribute("height","".concat(ct*kn)),Mt&&mt.setAttribute("filter",St.ZF),Wt="https://excalidraw.com/",Wt=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.PKG_VERSION),(Rt=Wt)!==null&&Rt!==void 0&&Rt.startsWith("/")&&(Wt=Wt.replace("/","".concat(window.location.origin,"/"))),Wt="".concat(Wt,"/dist/excalidraw-assets/"),en=-Qn+hn,Pt=-tn+hn,on=(0,sn.wO)(pt),Bn="",yn=Kt(on);try{for(yn.s();!(Wn=yn.n()).done;)Vn=Wn.value,Hn=(0,st.qf)(Vn),Zn=(0,ot.Z)(Hn,4),Kn=Zn[0],qn=Zn[1],sr=Zn[2],In=Zn[3],An=(sr-Kn)/2-(Vn.x-Kn),On=(In-qn)/2-(Vn.y-qn),Bn+="<clipPath id=".concat(Vn.id,`>
            <rect transform="translate(`).concat(Vn.x+en," ").concat(Vn.y+Pt,") rotate(").concat(Vn.angle," ").concat(An," ").concat(On,`)"
          width="`).concat(Vn.width,`"
          height="`).concat(Vn.height,`"
          >
          </rect>
        </clipPath>`)}catch(mr){yn.e(mr)}finally{yn.f()}return mt.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Gn,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(Wt,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(Wt,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(Wt,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(Bn,`
  </defs>
  `),vt.exportBackground&&an&&((_n=mt.ownerDocument.createElementNS(St.hR,"rect")).setAttribute("x","0"),_n.setAttribute("y","0"),_n.setAttribute("width","".concat(at)),_n.setAttribute("height","".concat(ct)),_n.setAttribute("fill",an),mt.appendChild(_n)),or=Bt.Z.svg(mt),(0,tt.M_)(vn,or,mt,zt||{},{offsetX:en,offsetY:Pt,exportWithDarkMode:Mt,renderEmbeddables:(Tt=Qt==null?void 0:Qt.renderEmbeddables)!==null&&Tt!==void 0&&Tt,frameRendering:un}),jt.destroy(),ir.abrupt("return",mt);case 42:case"end":return ir.stop()}},lt,null,[[9,17]])}));return function(lt,pt,vt,zt){return gt.apply(this,arguments)}}(),$=function(gt,lt){var pt=(0,st.KP)(gt),vt=(0,ot.Z)(pt,4),zt=vt[0],Qt=vt[1],Ft=vt[2],At=vt[3];return[zt,Qt,(0,xt.TE)(zt,Ft)+2*lt,(0,xt.TE)(Qt,At)+2*lt]},wt=function(gt,lt,pt){var vt=$(gt,lt).map(function(Qt){return Math.trunc(Qt*pt)}),zt=(0,ot.Z)(vt,4);return[zt[2],zt[3]]}},4105:function($t,Vt,_){_.d(Vt,{$b:function(){return nt.$b},CJ:function(){return nt.CJ},M9:function(){return nt.M9},N:function(){return ot.N},PR:function(){return ot.PR},QG:function(){return nt.QG},Un:function(){return nt.Un},W:function(){return it.W},Yp:function(){return ot.Yp},Zd:function(){return nt.Zd},Zs:function(){return ot.Zs},_4:function(){return Et._4},eD:function(){return ot.eD},j:function(){return ht.j},sh:function(){return nt.sh}});var Et=_(4726),ot=_(6264),it=_(2382),nt=_(1648),ht=_(4116)},2382:function($t,Vt,_){_.d(Vt,{W:function(){return ht},s:function(){return nt}});var Et=_(2577),ot=_(7651),it=_(9827),nt=function(Bt){var st=Bt.scenePoint,tt=Bt.viewportDimensions,xt=Bt.zoom;return{scrollX:tt.width/2/xt.value-st.x,scrollY:tt.height/2/xt.value-st.y}},ht=function(Bt,st){if(!(Bt=(0,ot.n_)(Bt)).length)return{scrollX:0,scrollY:0};var tt=(0,ot.KP)(Bt),xt=(0,Et.Z)(tt,4),St=xt[0],Zt=xt[1],Nt=xt[2],dt=xt[3];if(function(bn,pn){var mn=(0,Et.Z)(pn,4),qt=mn[0],Ut=mn[1],Kt=mn[2],yt=mn[3],Ot=(0,it._i)({sceneX:qt,sceneY:Ut},bn),Gt=Ot.x,Ct=Ot.y,Xt=(0,it._i)({sceneX:Kt,sceneY:yt},bn),ut=Xt.x,ft=Xt.y;return ut-Gt>bn.width||ft-Ct>bn.height}(st,[St,Zt,Nt,dt])){var Yt=(0,ot.os)(Bt,(0,it.dE)({clientX:st.scrollX,clientY:st.scrollY},st)),sn=(0,Et.Z)(Yt,4);St=sn[0],Zt=sn[1],Nt=sn[2],dt=sn[3]}return nt({scenePoint:{x:(St+Nt)/2,y:(Zt+dt)/2},viewportDimensions:{width:st.width,height:st.height},zoom:st.zoom})}},4726:function($t,Vt,_){_.d(Vt,{WM:function(){return ht},_4:function(){return xt},nn:function(){return Bt},tJ:function(){return tt},w1:function(){return st}});var Et=_(2577),ot=_(7651),it=_(9827),nt=_(8227),ht=4,Bt=6,st="rgba(0,0,0,0.3)",tt=function(St,Zt,Nt,dt){if(St.length===0)return{horizontal:null,vertical:null};var Yt=(0,ot.KP)(St),sn=(0,Et.Z)(Yt,4),bn=sn[0],pn=sn[1],mn=sn[2],qt=sn[3],Ut=Zt/dt.zoom.value,Kt=Nt/dt.zoom.value,yt=Zt-Ut,Ot=Nt-Kt,Gt={top:parseInt((0,it.IH)("sat"))||0,bottom:parseInt((0,it.IH)("sab"))||0,left:parseInt((0,it.IH)("sal"))||0,right:parseInt((0,it.IH)("sar"))||0},Ct=(0,nt.G3)().rtl,Xt=-dt.scrollX+yt/2+Gt.left,ut=-dt.scrollY+Ot/2+Gt.top,ft=Xt+Ut-Gt.right,$=ut+Kt-Gt.bottom,wt=Math.min(bn,Xt),gt=Math.min(pn,ut),lt=Math.max(mn,ft),pt=Math.max(qt,$);return{horizontal:Xt===wt&&ft===lt?null:{x:Math.max(Gt.left,ht)+(Xt-wt)/(lt-wt)*Zt,y:Nt-Bt-Math.max(ht,Gt.bottom),width:(ft-Xt)/(lt-wt)*Zt-Math.max(2*ht,Gt.left+Gt.right),height:Bt},vertical:ut===gt&&$===pt?null:{x:Ct?Math.max(Gt.left,ht):Zt-Bt-Math.max(Gt.right,ht),y:(ut-gt)/(pt-gt)*Nt+Math.max(Gt.top,ht),width:Bt,height:($-ut)/(pt-gt)*Nt-Math.max(2*ht,Gt.top+Gt.bottom)}}},xt=function(St,Zt,Nt){var dt=[St.horizontal,St.vertical].map(function(pn){return pn!=null&&pn.x<=Zt&&Zt<=pn.x+pn.width&&pn.y<=Nt&&Nt<=pn.y+pn.height}),Yt=(0,Et.Z)(dt,2),sn=Yt[0],bn=Yt[1];return{isOverEither:sn||bn,isOverHorizontal:sn,isOverVertical:bn}}},6264:function($t,Vt,_){_.d(Vt,{CF:function(){return dt},N:function(){return Yt},Oh:function(){return mn},PR:function(){return sn},Yp:function(){return Nt},Zs:function(){return pn},aI:function(){return Zt},eD:function(){return bn}});var Et,ot,it,nt,ht=_(2577),Bt=_(7651),st=_(4183),tt=_(4682),xt=_(9827),St=_(7935),Zt=function(qt){var Ut=new Set;return qt.forEach(function(Kt){Kt.type==="frame"&&Ut.add(Kt.id)}),qt.filter(function(Kt){return!Kt.frameId||!Ut.has(Kt.frameId)})},Nt=function(qt,Ut){var Kt=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],yt=(0,Bt.qf)(Ut),Ot=(0,ht.Z)(yt,4),Gt=Ot[0],Ct=Ot[1],Xt=Ot[2],ut=Ot[3],ft=qt.filter(function($){var wt=(0,Bt.Pi)($),gt=(0,ht.Z)(wt,4),lt=gt[0],pt=gt[1],vt=gt[2],zt=gt[3],Qt=(0,tt.$Z)($);if(Qt){var Ft=(0,Bt.Pi)(Qt),At=(0,ht.Z)(Ft,4),Tt=At[0],jt=At[1],un=At[2],Jt=At[3];lt=Math.max(Tt,lt),pt=Math.max(jt,pt),vt=Math.min(un,vt),zt=Math.min(Jt,zt)}return $.locked===!1&&$.type!=="selection"&&!(0,st.Xh)($)&&Gt<=lt&&Ct<=pt&&Xt>=vt&&ut>=zt});return ft=(ft=Kt?Zt(ft):ft).filter(function($){var wt=(0,tt.$Z)($);return!wt||(0,tt.cO)($,wt)})},dt=function(qt,Ut,Kt){var yt=new Set(Ut.map(function(Ot){return Ot.id}));return qt.filter(function(Ot){var Gt=(0,St.PZ)(Ot,Kt.width,Kt.height,Kt);return!yt.has(Ot.id)&&Gt})},Yt=(Et=null,ot=null,it=null,(nt=function(qt,Ut){return it!=null&&qt===Et&&Ut.selectedElementIds===ot||(it=qt.some(function(Kt){return Ut.selectedElementIds[Kt.id]}),Et=qt,ot=Ut.selectedElementIds),it}).clearCache=function(){Et=null,ot=null,it=null},nt),sn=function(qt,Ut,Kt){var yt=Array.from(new Set(bn(qt,Ut).map(function(Ot){return Kt(Ot)})));return yt.length===1?yt[0]:null},bn=function(qt,Ut,Kt){var yt=qt.filter(function(Gt){return Ut.selectedElementIds[Gt.id]||Kt!=null&&Kt.includeBoundTextElement&&(0,st.Xh)(Gt)&&Ut.selectedElementIds[Gt==null?void 0:Gt.containerId]?Gt:null});if(Kt!=null&&Kt.includeElementsInFrames){var Ot=[];return yt.forEach(function(Gt){Gt.type==="frame"&&(0,tt.zD)(qt,Gt.id).forEach(function(Ct){return Ot.push(Ct)}),Ot.push(Gt)}),Ot}return yt},pn=function(qt,Ut){return Ut.editingElement?[Ut.editingElement]:bn(qt,Ut,{includeBoundTextElement:!0})},mn=function(qt,Ut){return(0,xt.w8)(Ut.selectedElementIds,qt)?Ut.selectedElementIds:qt}},4116:function($t,Vt,_){_.d(Vt,{E:function(){return it},j:function(){return ot}});var Et=_(9937),ot=function(nt){return Math.max(Et.Zj,Math.min(nt,30))},it=function(nt,ht){var Bt=nt.viewportX,st=nt.viewportY,tt=nt.nextZoom,xt=Bt-ht.offsetLeft,St=st-ht.offsetTop,Zt=ht.zoom.value;return{scrollX:ht.scrollX+(xt-xt/Zt)+-(xt-xt/tt),scrollY:ht.scrollY+(St-St/Zt)+-(St-St/tt),zoom:{value:tt}}}},9827:function($t,Vt,_){_.d(Vt,{$9:function(){return Jt},$g:function(){return Ut},$h:function(){return vn},AK:function(){return Qt},B4:function(){return Xt},C3:function(){return an},Ds:function(){return yt},FG:function(){return Ft},Fc:function(){return Yt},G3:function(){return Mt},G9:function(){return ct},HP:function(){return at},I4:function(){return kn},IH:function(){return pt},Ip:function(){return hn},Mj:function(){return Qn},Om:function(){return $},Oo:function(){return sn},Qm:function(){return jt},TE:function(){return ft},Vv:function(){return Gt},XF:function(){return mt},_Z:function(){return pn},_i:function(){return lt},ag:function(){return Dn},cx:function(){return At},dE:function(){return gt},dZ:function(){return zt},h2:function(){return jn},hR:function(){return Ot},mO:function(){return Kt},qr:function(){return Tt},qz:function(){return rn},s:function(){return qt},tH:function(){return un},uY:function(){return wt},v4:function(){return Fn},vE:function(){return tn},w8:function(){return nn},wO:function(){return bn},xU:function(){return Wt},xn:function(){return Cn},xp:function(){return Sn},y1:function(){return mn},y8:function(){return Gn},yo:function(){return ut}});var Et=_(6655),ot=_(7169),it=_(1930),nt=_(2577),ht=_(9240),Bt=_(9937),st=_(5156),tt=_(9787),xt=_.n(tt);function St(Rt,en){var Pt=typeof Symbol<"u"&&Rt[Symbol.iterator]||Rt["@@iterator"];if(!Pt){if(Array.isArray(Rt)||(Pt=function(Hn,Zn){if(Hn){if(typeof Hn=="string")return Zt(Hn,Zn);var Kn=Object.prototype.toString.call(Hn).slice(8,-1);if(Kn==="Object"&&Hn.constructor&&(Kn=Hn.constructor.name),Kn==="Map"||Kn==="Set")return Array.from(Hn);if(Kn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Kn))return Zt(Hn,Zn)}}(Rt))||en){Pt&&(Rt=Pt);var on=0,Bn=function(){};return{s:Bn,n:function(){return on>=Rt.length?{done:!0}:{done:!1,value:Rt[on++]}},e:function(Hn){throw Hn},f:Bn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var yn,Wn=!0,Vn=!1;return{s:function(){Pt=Pt.call(Rt)},n:function(){var Hn=Pt.next();return Wn=Hn.done,Hn},e:function(Hn){Vn=!0,yn=Hn},f:function(){try{Wn||Pt.return==null||Pt.return()}finally{if(Vn)throw yn}}}}function Zt(Rt,en){(en==null||en>Rt.length)&&(en=Rt.length);for(var Pt=0,on=new Array(en);Pt<en;Pt++)on[Pt]=Rt[Pt];return on}function Nt(Rt,en){var Pt=Object.keys(Rt);if(Object.getOwnPropertySymbols){var on=Object.getOwnPropertySymbols(Rt);en&&(on=on.filter(function(Bn){return Object.getOwnPropertyDescriptor(Rt,Bn).enumerable})),Pt.push.apply(Pt,on)}return Pt}function dt(Rt){for(var en=1;en<arguments.length;en++){var Pt=arguments[en]!=null?arguments[en]:{};en%2?Nt(Object(Pt),!0).forEach(function(on){(0,ot.Z)(Rt,on,Pt[on])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(Pt)):Nt(Object(Pt)).forEach(function(on){Object.defineProperty(Rt,on,Object.getOwnPropertyDescriptor(Pt,on))})}return Rt}var Yt=function(){var Rt=new Date,en=Rt.getFullYear(),Pt="".concat(Rt.getMonth()+1).padStart(2,"0"),on="".concat(Rt.getDate()).padStart(2,"0"),Bn="".concat(Rt.getHours()).padStart(2,"0"),yn="".concat(Rt.getMinutes()).padStart(2,"0");return"".concat(en,"-").concat(Pt,"-").concat(on,"-").concat(Bn).concat(yn)},sn=function(Rt){return Rt.charAt(0).toUpperCase()+Rt.slice(1)},bn=function(Rt){return Rt instanceof HTMLElement&&Rt.className.includes("ToolIcon")},pn=function(Rt){return Rt instanceof HTMLElement&&Rt.dataset.type==="wysiwyg"||Rt instanceof HTMLBRElement||Rt instanceof HTMLInputElement||Rt instanceof HTMLTextAreaElement||Rt instanceof HTMLSelectElement},mn=function(Rt){return pn(Rt)||Rt instanceof Element&&!!Rt.closest("label, button")},qt=function(Rt){return Rt instanceof HTMLElement&&Rt.dataset.type==="wysiwyg"||Rt instanceof HTMLBRElement||Rt instanceof HTMLTextAreaElement||Rt instanceof HTMLInputElement&&(Rt.type==="text"||Rt.type==="number")},Ut=function(Rt){for(var en=Rt.fontFamily,Pt=0,on=Object.entries(Bt.ut);Pt<on.length;Pt++){var Bn=(0,nt.Z)(on[Pt],2),yn=Bn[0];if(Bn[1]===en)return"".concat(yn,", ").concat(Bt._D)}return Bt._D},Kt=function(Rt){var en=Rt.fontSize,Pt=Rt.fontFamily;return"".concat(en,"px ").concat(Ut({fontFamily:Pt}))},yt=function(Rt,en){var Pt=0,on=null,Bn=function(){for(var yn=arguments.length,Wn=new Array(yn),Vn=0;Vn<yn;Vn++)Wn[Vn]=arguments[Vn];on=Wn,clearTimeout(Pt),Pt=window.setTimeout(function(){on=null,Rt.apply(void 0,Wn)},en)};return Bn.flush=function(){if(clearTimeout(Pt),on){var yn=on;on=null,Rt.apply(void 0,(0,it.Z)(yn))}},Bn.cancel=function(){on=null,clearTimeout(Pt)},Bn},Ot=function(Rt,en){var Pt=null,on=null,Bn=null,yn=function Vn(Hn){Pt=window.requestAnimationFrame(function(){Pt=null,Rt.apply(void 0,(0,it.Z)(Hn)),on=null,Bn&&(on=Bn,Bn=null,Vn(on))})},Wn=function(){for(var Vn=arguments.length,Hn=new Array(Vn),Zn=0;Zn<Vn;Zn++)Hn[Zn]=arguments[Zn];on=Hn,Pt===null?yn(on):en!=null&&en.trailing&&(Bn=Hn)};return Wn.flush=function(){Pt!==null&&(cancelAnimationFrame(Pt),Pt=null),on&&(Rt.apply(void 0,(0,it.Z)(Bn||on)),on=Bn=null)},Wn.cancel=function(){on=Bn=null,Pt!==null&&(cancelAnimationFrame(Pt),Pt=null)},Wn},Gt=function(Rt){return 1-Math.pow(1-Rt,4)},Ct=function(Rt,en,Pt){return(en-Rt)*Gt(Pt)+Rt},Xt=function(Rt){var en,Pt=Rt.fromValues,on=Rt.toValues,Bn=Rt.onStep,yn=Rt.duration,Wn=yn===void 0?250:yn,Vn=Rt.interpolateValue,Hn=Rt.onStart,Zn=Rt.onEnd,Kn=Rt.onCancel,qn=!1,sr=0;return sr=window.requestAnimationFrame(function In(An){if(!qn){en===void 0&&(en=An,Hn==null||Hn());var On=Math.min(An-en,Wn),_n=Gt(On/Wn),or={};if(Object.keys(Pt).forEach(function(yr){var cr=yr,Ur=(on[cr]-Pt[cr])*_n+Pt[cr];or[cr]=Ur}),Bn(or),On<Wn){var ir=On/Wn,mr={};Object.keys(Pt).forEach(function(yr){var cr,Ur=yr,Wr=Pt[Ur],Xr=on[Ur];(cr=Vn?Vn(Wr,Xr,ir,Ur):Ct(Wr,Xr,ir))==null&&(cr=Ct(Wr,Xr,ir)),mr[Ur]=cr}),Bn(mr),sr=window.requestAnimationFrame(In)}else Bn(on),Zn==null||Zn()}}),function(){Kn==null||Kn(),qn=!0,window.cancelAnimationFrame(sr)}},ut=function(Rt,en){if(!Rt.length||en<1)return[];for(var Pt=0,on=0,Bn=Array(Math.ceil(Rt.length/en));Pt<Rt.length;)Bn[on++]=Rt.slice(Pt,Pt+=en);return Bn},ft=function(Rt,en){return Math.abs(Rt-en)},$=function(Rt,en){var Pt,on;return en.type==="custom"?dt(dt({},Rt.activeTool),{},{type:"custom",customType:en.customType,locked:(on=en.locked)!==null&&on!==void 0?on:Rt.activeTool.locked}):dt(dt({},Rt.activeTool),{},{lastActiveTool:en.lastActiveToolBeforeEraser===void 0?Rt.activeTool.lastActiveTool:en.lastActiveToolBeforeEraser,type:en.type,customType:null,locked:(Pt=en.locked)!==null&&Pt!==void 0?Pt:Rt.activeTool.locked})},wt=function(Rt){return Rt=Rt.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),Bt.Um?Rt.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):Rt.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},gt=function(Rt,en){var Pt=Rt.clientX,on=Rt.clientY,Bn=en.zoom,yn=en.offsetLeft,Wn=en.offsetTop,Vn=en.scrollX,Hn=en.scrollY;return{x:(Pt-yn)/Bn.value-Vn,y:(on-Wn)/Bn.value-Hn}},lt=function(Rt,en){var Pt=Rt.sceneX,on=Rt.sceneY,Bn=en.zoom,yn=en.offsetLeft,Wn=en.offsetTop,Vn=en.scrollX,Hn=en.scrollY;return{x:(Pt+Vn)*Bn.value+yn,y:(on+Hn)*Bn.value+Wn}},pt=function(Rt){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(Rt))},vt=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),zt=function(Rt){return vt.test(Rt)},Qt=function(Rt){var en=(0,nt.Z)(Rt,2);return{x:en[0],y:en[1]}},Ft=function(Rt){if((Rt==null?void 0:Rt.name)!=="AbortError")throw Rt;console.warn(Rt)},At=function(Rt,en){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;Pt<0&&(Pt=Rt.length+Pt);for(var on=(Pt=Math.min(Rt.length,Math.max(Pt,0)))-1;++on<Rt.length;)if(en(Rt[on],on,Rt))return on;return-1},Tt=function(Rt,en){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.length-1;Pt<0&&(Pt=Rt.length+Pt);for(var on=(Pt=Math.min(Rt.length-1,Math.max(Pt,0)))+1;--on>-1;)if(en(Rt[on],on,Rt))return on;return-1},jt=function(Rt){var en=Rt.length===5&&Rt.substr(4,1)==="0",Pt=Rt.length===9&&Rt.substr(7,2)==="00";return en||Pt||Rt===ht.HO.transparent},un=function(Rt){return function(en){(0,st.unstable_batchedUpdates)(Rt,en)}},Jt=function(Rt){return Ot(function(en){(0,st.unstable_batchedUpdates)(Rt,en)})},hn=function(Rt){for(var en=Rt.parentElement;en;){if(en===document.body)return document;var Pt=window.getComputedStyle(en).overflowY;if(en.scrollHeight>en.clientHeight&&(Pt==="auto"||Pt==="scroll"||Pt==="overlay"))return en;en=en.parentElement}return document},rn=function(Rt){for(var en=Rt.parentElement;en;){if(en.tabIndex>-1)return void en.focus();en=en.parentElement}},Mt=function(Rt){return Array.from(Rt).map(function(en){return"0".concat(en.toString(16)).slice(-2)}).join("")},an=function(){return jn()?1:Date.now()},Cn=function(Rt){return Rt.reduce(function(en,Pt){return en.set(typeof Pt=="string"?Pt:Pt.id,Pt),en},new Map)},kn=function(Rt){return Rt.reduce(function(en,Pt,on){return en.set(Pt.id,[Pt,on]),en},new Map)},jn=function(){return!1},Dn=function(Rt,en){return new CustomEvent(Rt,{detail:{nativeEvent:en},cancelable:!0})},Fn=function(Rt,en){var Pt=!1;for(var on in en){var Bn=en[on];if(Bn!==void 0){if(Rt[on]===Bn&&((0,Et.Z)(Bn)!=="object"||Bn===null))continue;Pt=!0}}return Pt?dt(dt({},Rt),en):Rt},vn=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Gn=function(Rt){return!!Rt&&(0,Et.Z)(Rt)==="object"&&"then"in Rt&&"catch"in Rt&&"finally"in Rt},Sn=function(Rt){var en=Rt==null?void 0:Rt.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return en?Array.from(en).filter(function(Pt){return Pt.tabIndex>-1&&!Pt.disabled}):[]},nn=function(Rt,en,Pt){var on=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Bn=Object.keys(Rt),yn=Object.keys(en);return Bn.length===yn.length&&Bn.every(function(Wn){var Vn=Pt==null?void 0:Pt[Wn],Hn=Vn?Vn(Rt[Wn],en[Wn]):Rt[Wn]===en[Wn];return!Hn&&on&&console.info("%cisShallowEqual: ".concat(Wn," not equal ->"),"color: #8B4000",Rt[Wn],en[Wn]),Hn})},Qn=function(Rt,en){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},on=Pt.checkForDefaultPrevented,Bn=on===void 0||on;return function(yn){if(Rt==null||Rt(yn),!Bn||!yn.defaultPrevented)return en==null?void 0:en(yn)}},tn=function(Rt,en,Pt){if(!en)return Rt;if(Pt)return console.error(en),Rt;throw new Error(en)},at=function(Rt){var en,Pt,on=function(Bn){var yn=Object.entries(Bn);if(en){var Wn,Vn=!0,Hn=St(yn);try{for(Hn.s();!(Wn=Hn.n()).done;){var Zn=(0,nt.Z)(Wn.value,2),Kn=Zn[0],qn=Zn[1];if(en.get(Kn)!==qn){Vn=!1;break}}}catch(In){Hn.e(In)}finally{Hn.f()}if(Vn)return Pt}var sr=Rt(Bn);return en=new Map(yn),Pt=sr,sr};return on.clear=function(){en=void 0,Pt=void 0},on},ct=function(){var Rt;try{var en=xt().version.split(".");Rt=Number(en[0])>17}catch{Rt=!1}var Pt=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!Rt||(Pt||(Pt=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),mt=function(Rt,en){return Rt instanceof Set||Rt instanceof Map?Rt.has(en):"includes"in Rt?Rt.includes(en):Rt.hasOwnProperty(en)},Wt=function(Rt){return JSON.parse(JSON.stringify(Rt))}},3041:function($t,Vt,_){var Et=_(3379),ot=_.n(Et),it=_(7795),nt=_.n(it),ht=_(569),Bt=_.n(ht),st=_(3565),tt=_.n(st),xt=_(9216),St=_.n(xt),Zt=_(4589),Nt=_.n(Zt),dt=_(2044),Yt={};Yt.styleTagTransform=Nt(),Yt.setAttributes=tt(),Yt.insert=Bt().bind(null,"head"),Yt.domAPI=nt(),Yt.insertStyleElement=St(),ot()(dt.Z,Yt),dt.Z&&dt.Z.locals&&dt.Z.locals},3379:function($t){var Vt=[];function _(it){for(var nt=-1,ht=0;ht<Vt.length;ht++)if(Vt[ht].identifier===it){nt=ht;break}return nt}function Et(it,nt){for(var ht={},Bt=[],st=0;st<it.length;st++){var tt=it[st],xt=nt.base?tt[0]+nt.base:tt[0],St=ht[xt]||0,Zt="".concat(xt," ").concat(St);ht[xt]=St+1;var Nt=_(Zt),dt={css:tt[1],media:tt[2],sourceMap:tt[3],supports:tt[4],layer:tt[5]};if(Nt!==-1)Vt[Nt].references++,Vt[Nt].updater(dt);else{var Yt=ot(dt,nt);nt.byIndex=st,Vt.splice(st,0,{identifier:Zt,updater:Yt,references:1})}Bt.push(Zt)}return Bt}function ot(it,nt){var ht=nt.domAPI(nt);return ht.update(it),function(Bt){if(Bt){if(Bt.css===it.css&&Bt.media===it.media&&Bt.sourceMap===it.sourceMap&&Bt.supports===it.supports&&Bt.layer===it.layer)return;ht.update(it=Bt)}else ht.remove()}}$t.exports=function(it,nt){var ht=Et(it=it||[],nt=nt||{});return function(Bt){Bt=Bt||[];for(var st=0;st<ht.length;st++){var tt=_(ht[st]);Vt[tt].references--}for(var xt=Et(Bt,nt),St=0;St<ht.length;St++){var Zt=_(ht[St]);Vt[Zt].references===0&&(Vt[Zt].updater(),Vt.splice(Zt,1))}ht=xt}}},569:function($t){var Vt={};$t.exports=function(_,Et){var ot=function(it){if(Vt[it]===void 0){var nt=document.querySelector(it);if(window.HTMLIFrameElement&&nt instanceof window.HTMLIFrameElement)try{nt=nt.contentDocument.head}catch{nt=null}Vt[it]=nt}return Vt[it]}(_);if(!ot)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ot.appendChild(Et)}},9216:function($t){$t.exports=function(Vt){var _=document.createElement("style");return Vt.setAttributes(_,Vt.attributes),Vt.insert(_,Vt.options),_}},3565:function($t,Vt,_){$t.exports=function(Et){var ot=_.nc;ot&&Et.setAttribute("nonce",ot)}},7795:function($t){$t.exports=function(Vt){if(typeof document>"u")return{update:function(){},remove:function(){}};var _=Vt.insertStyleElement(Vt);return{update:function(Et){(function(ot,it,nt){var ht="";nt.supports&&(ht+="@supports (".concat(nt.supports,") {")),nt.media&&(ht+="@media ".concat(nt.media," {"));var Bt=nt.layer!==void 0;Bt&&(ht+="@layer".concat(nt.layer.length>0?" ".concat(nt.layer):""," {")),ht+=nt.css,Bt&&(ht+="}"),nt.media&&(ht+="}"),nt.supports&&(ht+="}");var st=nt.sourceMap;st&&typeof btoa<"u"&&(ht+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(st))))," */")),it.styleTagTransform(ht,ot,it.options)})(_,Vt,Et)},remove:function(){(function(Et){if(Et.parentNode===null)return!1;Et.parentNode.removeChild(Et)})(_)}}}},4589:function($t){$t.exports=function(Vt,_){if(_.styleSheet)_.styleSheet.cssText=Vt;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(Vt))}}},9669:function($t){$t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function($t){$t.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function($t){$t.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function($t,Vt,_){$t.exports=_.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function($t,Vt,_){$t.exports=_.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function($t,Vt,_){$t.exports=_.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function($t,Vt,_){$t.exports=_.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function($t,Vt,_){$t.exports=_.p+"excalidraw-assets/Cascadia.woff2"},3940:function($t,Vt,_){$t.exports=_.p+"excalidraw-assets/Virgil.woff2"},9787:function($t){$t.exports=j},5156:function($t){$t.exports=rt},1020:function($t){$t.exports=et},9649:function($t,Vt,_){var Et=_(8114).default;function ot(){$t.exports=ot=function(){return it},$t.exports.__esModule=!0,$t.exports.default=$t.exports;var it={},nt=Object.prototype,ht=nt.hasOwnProperty,Bt=Object.defineProperty||function(gt,lt,pt){gt[lt]=pt.value},st=typeof Symbol=="function"?Symbol:{},tt=st.iterator||"@@iterator",xt=st.asyncIterator||"@@asyncIterator",St=st.toStringTag||"@@toStringTag";function Zt(gt,lt,pt){return Object.defineProperty(gt,lt,{value:pt,enumerable:!0,configurable:!0,writable:!0}),gt[lt]}try{Zt({},"")}catch{Zt=function(lt,pt,vt){return lt[pt]=vt}}function Nt(gt,lt,pt,vt){var zt=lt&&lt.prototype instanceof sn?lt:sn,Qt=Object.create(zt.prototype),Ft=new ft(vt||[]);return Bt(Qt,"_invoke",{value:Gt(gt,pt,Ft)}),Qt}function dt(gt,lt,pt){try{return{type:"normal",arg:gt.call(lt,pt)}}catch(vt){return{type:"throw",arg:vt}}}it.wrap=Nt;var Yt={};function sn(){}function bn(){}function pn(){}var mn={};Zt(mn,tt,function(){return this});var qt=Object.getPrototypeOf,Ut=qt&&qt(qt($([])));Ut&&Ut!==nt&&ht.call(Ut,tt)&&(mn=Ut);var Kt=pn.prototype=sn.prototype=Object.create(mn);function yt(gt){["next","throw","return"].forEach(function(lt){Zt(gt,lt,function(pt){return this._invoke(lt,pt)})})}function Ot(gt,lt){function pt(zt,Qt,Ft,At){var Tt=dt(gt[zt],gt,Qt);if(Tt.type!=="throw"){var jt=Tt.arg,un=jt.value;return un&&Et(un)=="object"&&ht.call(un,"__await")?lt.resolve(un.__await).then(function(Jt){pt("next",Jt,Ft,At)},function(Jt){pt("throw",Jt,Ft,At)}):lt.resolve(un).then(function(Jt){jt.value=Jt,Ft(jt)},function(Jt){return pt("throw",Jt,Ft,At)})}At(Tt.arg)}var vt;Bt(this,"_invoke",{value:function(zt,Qt){function Ft(){return new lt(function(At,Tt){pt(zt,Qt,At,Tt)})}return vt=vt?vt.then(Ft,Ft):Ft()}})}function Gt(gt,lt,pt){var vt="suspendedStart";return function(zt,Qt){if(vt==="executing")throw new Error("Generator is already running");if(vt==="completed"){if(zt==="throw")throw Qt;return wt()}for(pt.method=zt,pt.arg=Qt;;){var Ft=pt.delegate;if(Ft){var At=Ct(Ft,pt);if(At){if(At===Yt)continue;return At}}if(pt.method==="next")pt.sent=pt._sent=pt.arg;else if(pt.method==="throw"){if(vt==="suspendedStart")throw vt="completed",pt.arg;pt.dispatchException(pt.arg)}else pt.method==="return"&&pt.abrupt("return",pt.arg);vt="executing";var Tt=dt(gt,lt,pt);if(Tt.type==="normal"){if(vt=pt.done?"completed":"suspendedYield",Tt.arg===Yt)continue;return{value:Tt.arg,done:pt.done}}Tt.type==="throw"&&(vt="completed",pt.method="throw",pt.arg=Tt.arg)}}}function Ct(gt,lt){var pt=lt.method,vt=gt.iterator[pt];if(vt===void 0)return lt.delegate=null,pt==="throw"&&gt.iterator.return&&(lt.method="return",lt.arg=void 0,Ct(gt,lt),lt.method==="throw")||pt!=="return"&&(lt.method="throw",lt.arg=new TypeError("The iterator does not provide a '"+pt+"' method")),Yt;var zt=dt(vt,gt.iterator,lt.arg);if(zt.type==="throw")return lt.method="throw",lt.arg=zt.arg,lt.delegate=null,Yt;var Qt=zt.arg;return Qt?Qt.done?(lt[gt.resultName]=Qt.value,lt.next=gt.nextLoc,lt.method!=="return"&&(lt.method="next",lt.arg=void 0),lt.delegate=null,Yt):Qt:(lt.method="throw",lt.arg=new TypeError("iterator result is not an object"),lt.delegate=null,Yt)}function Xt(gt){var lt={tryLoc:gt[0]};1 in gt&&(lt.catchLoc=gt[1]),2 in gt&&(lt.finallyLoc=gt[2],lt.afterLoc=gt[3]),this.tryEntries.push(lt)}function ut(gt){var lt=gt.completion||{};lt.type="normal",delete lt.arg,gt.completion=lt}function ft(gt){this.tryEntries=[{tryLoc:"root"}],gt.forEach(Xt,this),this.reset(!0)}function $(gt){if(gt){var lt=gt[tt];if(lt)return lt.call(gt);if(typeof gt.next=="function")return gt;if(!isNaN(gt.length)){var pt=-1,vt=function zt(){for(;++pt<gt.length;)if(ht.call(gt,pt))return zt.value=gt[pt],zt.done=!1,zt;return zt.value=void 0,zt.done=!0,zt};return vt.next=vt}}return{next:wt}}function wt(){return{value:void 0,done:!0}}return bn.prototype=pn,Bt(Kt,"constructor",{value:pn,configurable:!0}),Bt(pn,"constructor",{value:bn,configurable:!0}),bn.displayName=Zt(pn,St,"GeneratorFunction"),it.isGeneratorFunction=function(gt){var lt=typeof gt=="function"&&gt.constructor;return!!lt&&(lt===bn||(lt.displayName||lt.name)==="GeneratorFunction")},it.mark=function(gt){return Object.setPrototypeOf?Object.setPrototypeOf(gt,pn):(gt.__proto__=pn,Zt(gt,St,"GeneratorFunction")),gt.prototype=Object.create(Kt),gt},it.awrap=function(gt){return{__await:gt}},yt(Ot.prototype),Zt(Ot.prototype,xt,function(){return this}),it.AsyncIterator=Ot,it.async=function(gt,lt,pt,vt,zt){zt===void 0&&(zt=Promise);var Qt=new Ot(Nt(gt,lt,pt,vt),zt);return it.isGeneratorFunction(lt)?Qt:Qt.next().then(function(Ft){return Ft.done?Ft.value:Qt.next()})},yt(Kt),Zt(Kt,St,"Generator"),Zt(Kt,tt,function(){return this}),Zt(Kt,"toString",function(){return"[object Generator]"}),it.keys=function(gt){var lt=Object(gt),pt=[];for(var vt in lt)pt.push(vt);return pt.reverse(),function zt(){for(;pt.length;){var Qt=pt.pop();if(Qt in lt)return zt.value=Qt,zt.done=!1,zt}return zt.done=!0,zt}},it.values=$,ft.prototype={constructor:ft,reset:function(gt){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ut),!gt)for(var lt in this)lt.charAt(0)==="t"&&ht.call(this,lt)&&!isNaN(+lt.slice(1))&&(this[lt]=void 0)},stop:function(){this.done=!0;var gt=this.tryEntries[0].completion;if(gt.type==="throw")throw gt.arg;return this.rval},dispatchException:function(gt){if(this.done)throw gt;var lt=this;function pt(Tt,jt){return Qt.type="throw",Qt.arg=gt,lt.next=Tt,jt&&(lt.method="next",lt.arg=void 0),!!jt}for(var vt=this.tryEntries.length-1;vt>=0;--vt){var zt=this.tryEntries[vt],Qt=zt.completion;if(zt.tryLoc==="root")return pt("end");if(zt.tryLoc<=this.prev){var Ft=ht.call(zt,"catchLoc"),At=ht.call(zt,"finallyLoc");if(Ft&&At){if(this.prev<zt.catchLoc)return pt(zt.catchLoc,!0);if(this.prev<zt.finallyLoc)return pt(zt.finallyLoc)}else if(Ft){if(this.prev<zt.catchLoc)return pt(zt.catchLoc,!0)}else{if(!At)throw new Error("try statement without catch or finally");if(this.prev<zt.finallyLoc)return pt(zt.finallyLoc)}}}},abrupt:function(gt,lt){for(var pt=this.tryEntries.length-1;pt>=0;--pt){var vt=this.tryEntries[pt];if(vt.tryLoc<=this.prev&&ht.call(vt,"finallyLoc")&&this.prev<vt.finallyLoc){var zt=vt;break}}zt&&(gt==="break"||gt==="continue")&&zt.tryLoc<=lt&&lt<=zt.finallyLoc&&(zt=null);var Qt=zt?zt.completion:{};return Qt.type=gt,Qt.arg=lt,zt?(this.method="next",this.next=zt.finallyLoc,Yt):this.complete(Qt)},complete:function(gt,lt){if(gt.type==="throw")throw gt.arg;return gt.type==="break"||gt.type==="continue"?this.next=gt.arg:gt.type==="return"?(this.rval=this.arg=gt.arg,this.method="return",this.next="end"):gt.type==="normal"&&lt&&(this.next=lt),Yt},finish:function(gt){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var pt=this.tryEntries[lt];if(pt.finallyLoc===gt)return this.complete(pt.completion,pt.afterLoc),ut(pt),Yt}},catch:function(gt){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var pt=this.tryEntries[lt];if(pt.tryLoc===gt){var vt=pt.completion;if(vt.type==="throw"){var zt=vt.arg;ut(pt)}return zt}}throw new Error("illegal catch attempt")},delegateYield:function(gt,lt,pt){return this.delegate={iterator:$(gt),resultName:lt,nextLoc:pt},this.method==="next"&&(this.arg=void 0),Yt}},it}$t.exports=ot,$t.exports.__esModule=!0,$t.exports.default=$t.exports},8114:function($t){function Vt(_){return $t.exports=Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Et){return typeof Et}:function(Et){return Et&&typeof Symbol=="function"&&Et.constructor===Symbol&&Et!==Symbol.prototype?"symbol":typeof Et},$t.exports.__esModule=!0,$t.exports.default=$t.exports,Vt(_)}$t.exports=Vt,$t.exports.__esModule=!0,$t.exports.default=$t.exports},2975:function($t,Vt,_){var Et=_(9649)();$t.exports=Et;try{regeneratorRuntime=Et}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Et:Function("r","regeneratorRuntime = r")(Et)}},7017:function($t,Vt,_){function Et(ot,it){(it==null||it>ot.length)&&(it=ot.length);for(var nt=0,ht=new Array(it);nt<it;nt++)ht[nt]=ot[nt];return ht}_.d(Vt,{Z:function(){return Et}})},3173:function($t,Vt,_){function Et(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}_.d(Vt,{Z:function(){return Et}})},8950:function($t,Vt,_){function Et(it,nt,ht,Bt,st,tt,xt){try{var St=it[tt](xt),Zt=St.value}catch(Nt){return void ht(Nt)}St.done?nt(Zt):Promise.resolve(Zt).then(Bt,st)}function ot(it){return function(){var nt=this,ht=arguments;return new Promise(function(Bt,st){var tt=it.apply(nt,ht);function xt(Zt){Et(tt,Bt,st,xt,St,"next",Zt)}function St(Zt){Et(tt,Bt,st,xt,St,"throw",Zt)}xt(void 0)})}}_.d(Vt,{Z:function(){return ot}})},8821:function($t,Vt,_){function Et(ot,it){if(!(ot instanceof it))throw new TypeError("Cannot call a class as a function")}_.d(Vt,{Z:function(){return Et}})},5169:function($t,Vt,_){_.d(Vt,{Z:function(){return it}});var Et=_(3525);function ot(nt,ht){for(var Bt=0;Bt<ht.length;Bt++){var st=ht[Bt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(nt,(0,Et.Z)(st.key),st)}}function it(nt,ht,Bt){return ht&&ot(nt.prototype,ht),Bt&&ot(nt,Bt),Object.defineProperty(nt,"prototype",{writable:!1}),nt}},7169:function($t,Vt,_){_.d(Vt,{Z:function(){return ot}});var Et=_(3525);function ot(it,nt,ht){return(nt=(0,Et.Z)(nt))in it?Object.defineProperty(it,nt,{value:ht,enumerable:!0,configurable:!0,writable:!0}):it[nt]=ht,it}},11:function($t,Vt,_){function Et(){return Et=Object.assign?Object.assign.bind():function(ot){for(var it=1;it<arguments.length;it++){var nt=arguments[it];for(var ht in nt)Object.prototype.hasOwnProperty.call(nt,ht)&&(ot[ht]=nt[ht])}return ot},Et.apply(this,arguments)}_.d(Vt,{Z:function(){return Et}})},2312:function($t,Vt,_){function Et(ot){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(it){return it.__proto__||Object.getPrototypeOf(it)},Et(ot)}_.d(Vt,{Z:function(){return Et}})},2248:function($t,Vt,_){_.d(Vt,{Z:function(){return ot}});var Et=_(5901);function ot(it,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(nt&&nt.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),nt&&(0,Et.Z)(it,nt)}},2726:function($t,Vt,_){function Et(ot,it){if(ot==null)return{};var nt,ht,Bt=function(tt,xt){if(tt==null)return{};var St,Zt,Nt={},dt=Object.keys(tt);for(Zt=0;Zt<dt.length;Zt++)St=dt[Zt],xt.indexOf(St)>=0||(Nt[St]=tt[St]);return Nt}(ot,it);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(ot);for(ht=0;ht<st.length;ht++)nt=st[ht],it.indexOf(nt)>=0||Object.prototype.propertyIsEnumerable.call(ot,nt)&&(Bt[nt]=ot[nt])}return Bt}_.d(Vt,{Z:function(){return Et}})},7245:function($t,Vt,_){_.d(Vt,{Z:function(){return it}});var Et=_(6655),ot=_(3173);function it(nt,ht){if(ht&&((0,Et.Z)(ht)==="object"||typeof ht=="function"))return ht;if(ht!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,ot.Z)(nt)}},5901:function($t,Vt,_){function Et(ot,it){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,ht){return nt.__proto__=ht,nt},Et(ot,it)}_.d(Vt,{Z:function(){return Et}})},2577:function($t,Vt,_){_.d(Vt,{Z:function(){return ot}});var Et=_(9139);function ot(it,nt){return function(ht){if(Array.isArray(ht))return ht}(it)||function(ht,Bt){var st=ht==null?null:typeof Symbol<"u"&&ht[Symbol.iterator]||ht["@@iterator"];if(st!=null){var tt,xt,St,Zt,Nt=[],dt=!0,Yt=!1;try{if(St=(st=st.call(ht)).next,Bt===0){if(Object(st)!==st)return;dt=!1}else for(;!(dt=(tt=St.call(st)).done)&&(Nt.push(tt.value),Nt.length!==Bt);dt=!0);}catch(sn){Yt=!0,xt=sn}finally{try{if(!dt&&st.return!=null&&(Zt=st.return(),Object(Zt)!==Zt))return}finally{if(Yt)throw xt}}return Nt}}(it,nt)||(0,Et.Z)(it,nt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function($t,Vt,_){_.d(Vt,{Z:function(){return it}});var Et=_(7017),ot=_(9139);function it(nt){return function(ht){if(Array.isArray(ht))return(0,Et.Z)(ht)}(nt)||function(ht){if(typeof Symbol<"u"&&ht[Symbol.iterator]!=null||ht["@@iterator"]!=null)return Array.from(ht)}(nt)||(0,ot.Z)(nt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function($t,Vt,_){_.d(Vt,{Z:function(){return ot}});var Et=_(6655);function ot(it){var nt=function(ht,Bt){if((0,Et.Z)(ht)!=="object"||ht===null)return ht;var st=ht[Symbol.toPrimitive];if(st!==void 0){var tt=st.call(ht,Bt||"default");if((0,Et.Z)(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Bt==="string"?String:Number)(ht)}(it,"string");return(0,Et.Z)(nt)==="symbol"?nt:String(nt)}},6655:function($t,Vt,_){function Et(ot){return Et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},Et(ot)}_.d(Vt,{Z:function(){return Et}})},9139:function($t,Vt,_){_.d(Vt,{Z:function(){return ot}});var Et=_(7017);function ot(it,nt){if(it){if(typeof it=="string")return(0,Et.Z)(it,nt);var ht=Object.prototype.toString.call(it).slice(8,-1);return ht==="Object"&&it.constructor&&(ht=it.constructor.name),ht==="Map"||ht==="Set"?Array.from(it):ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht)?(0,Et.Z)(it,nt):void 0}}},3607:function($t,Vt,_){_.d(Vt,{zt:function(){return Ut},cn:function(){return Kt},Vv:function(){return bn},KO:function(){return Gt},Dv:function(){return yt},b9:function(){return Ot}});var Et=_(9787);let ot=0;const it=Symbol(),nt=Ct=>!!Ct[it],ht=Ct=>!Ct[it].c,Bt=Ct=>{var Xt;const{b:ut,c:ft}=Ct[it];ft&&(ft(),(Xt=xt.get(ut))==null||Xt())},st=(Ct,Xt)=>{const ut=Ct[it].o,ft=Xt[it].o;return ut===ft||Ct===ft||nt(ut)&&st(ut,Xt)},tt=(Ct,Xt)=>{const ut={b:Ct,o:Xt,c:null},ft=new Promise($=>{ut.c=()=>{ut.c=null,$()},Xt.finally(ut.c)});return ft[it]=ut,ft},xt=new WeakMap,St=Ct=>"init"in Ct,Zt="r",Nt="w",dt="c",Yt="s",sn=Ct=>{const Xt=new WeakMap,ut=new WeakMap,ft=new Map;let $,wt;if($=new Set,wt=new Set,Ct)for(const[Sn,nn]of Ct){const Qn={v:nn,r:0,y:!0,d:new Map};Object.freeze(Qn),St(Sn)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Sn),Xt.set(Sn,Qn)}const gt=new WeakMap,lt=new WeakMap,pt=Sn=>{let nn=lt.get(Sn);return nn||(nn=new Map,lt.set(Sn,nn)),nn},vt=(Sn,nn)=>{if(Sn){const Qn=pt(Sn);let tn=Qn.get(nn);return tn||(tn=vt(Sn.p,nn),tn&&"p"in tn&&ht(tn.p)&&(tn=void 0),tn&&Qn.set(nn,tn)),tn}return Xt.get(nn)},zt=(Sn,nn,Qn)=>{if(Object.freeze(Qn),Sn)pt(Sn).set(nn,Qn);else{const tn=Xt.get(nn);Xt.set(nn,Qn),ft.has(nn)||ft.set(nn,tn)}},Qt=(Sn,nn=new Map,Qn)=>{if(!Qn)return nn;const tn=new Map;let at=!1;return Qn.forEach(ct=>{var mt;const Wt=((mt=vt(Sn,ct))==null?void 0:mt.r)||0;tn.set(ct,Wt),nn.get(ct)!==Wt&&(at=!0)}),nn.size!==tn.size||at?tn:nn},Ft=(Sn,nn,Qn,tn,at)=>{const ct=vt(Sn,nn);if(ct){if(at&&(!("p"in ct)||!st(ct.p,at)))return ct;"p"in ct&&Bt(ct.p)}const mt={v:Qn,r:(ct==null?void 0:ct.r)||0,y:!0,d:Qt(Sn,ct==null?void 0:ct.d,tn)};let Wt=!(ct!=null&&ct.y);return ct&&"v"in ct&&Object.is(ct.v,Qn)?mt.d===ct.d||mt.d.size===ct.d.size&&Array.from(mt.d.keys()).every(Rt=>ct.d.has(Rt))||(Wt=!0,Promise.resolve().then(()=>{Dn(Sn)})):(Wt=!0,++mt.r,mt.d.has(nn)&&(mt.d=new Map(mt.d).set(nn,mt.r))),ct&&!Wt?ct:(zt(Sn,nn,mt),mt)},At=(Sn,nn,Qn,tn,at)=>{const ct=vt(Sn,nn);if(ct){if(at&&(!("p"in ct)||!st(ct.p,at)))return ct;"p"in ct&&Bt(ct.p)}const mt={e:Qn,r:((ct==null?void 0:ct.r)||0)+1,y:!0,d:Qt(Sn,ct==null?void 0:ct.d,tn)};return zt(Sn,nn,mt),mt},Tt=(Sn,nn,Qn,tn)=>{const at=vt(Sn,nn);if(at&&"p"in at){if(st(at.p,Qn)&&!ht(at.p))return at.y?at:{...at,y:!0};Bt(at.p)}((mt,Wt,Rt)=>{let en=gt.get(Wt);en||(en=new Map,gt.set(Wt,en)),Rt.then(()=>{en.get(mt)===Rt&&(en.delete(mt),en.size||gt.delete(Wt))}),en.set(mt,Rt)})(Sn,nn,Qn);const ct={p:Qn,r:((at==null?void 0:at.r)||0)+1,y:!0,d:Qt(Sn,at==null?void 0:at.d,tn)};return zt(Sn,nn,ct),ct},jt=(Sn,nn,Qn,tn)=>{if(Qn instanceof Promise){const at=tt(Qn,Qn.then(ct=>{Ft(Sn,nn,ct,tn,at)}).catch(ct=>{if(ct instanceof Promise)return nt(ct)?ct.then(()=>{un(Sn,nn,!0)}):ct;At(Sn,nn,ct,tn,at)}));return Tt(Sn,nn,at,tn)}return Ft(Sn,nn,Qn,tn)},un=(Sn,nn,Qn)=>{if(!Qn){const at=vt(Sn,nn);if(at){if(at.y&&"p"in at&&!ht(at.p))return at;if(at.d.forEach((ct,mt)=>{if(mt!==nn)if(ut.has(mt)){const Wt=vt(Sn,mt);Wt&&!Wt.y&&un(Sn,mt)}else un(Sn,mt)}),Array.from(at.d).every(([ct,mt])=>{const Wt=vt(Sn,ct);return Wt&&!("p"in Wt)&&Wt.r===mt}))return at.y?at:{...at,y:!0}}}const tn=new Set;try{const at=nn.read(ct=>{tn.add(ct);const mt=ct===nn?vt(Sn,ct):un(Sn,ct);if(mt){if("e"in mt)throw mt.e;if("p"in mt)throw mt.p;return mt.v}if(St(ct))return ct.init;throw new Error("no atom init")});return jt(Sn,nn,at,tn)}catch(at){if(at instanceof Promise){const ct=nt(at)&&ht(at)?(mt=>tt(mt[it].b,mt[it].o))(at):tt(at,at);return Tt(Sn,nn,ct,tn)}return At(Sn,nn,at,tn)}},Jt=(Sn,nn)=>un(nn,Sn),hn=(Sn,nn)=>!nn.l.size&&(!nn.t.size||nn.t.size===1&&nn.t.has(Sn)),rn=(Sn,nn)=>{const Qn=ut.get(nn);Qn==null||Qn.t.forEach(tn=>{tn!==nn&&(((at,ct)=>{const mt=vt(at,ct);if(mt){const Wt={...mt,y:!1};zt(at,ct,Wt)}else console.warn("[Bug] could not invalidate non existing atom",ct)})(Sn,tn),rn(Sn,tn))})},Mt=(Sn,nn,Qn)=>{let tn=!0;const at=(mt,Wt)=>{const Rt=un(Sn,mt);if("e"in Rt)throw Rt.e;if("p"in Rt){if(Wt!=null&&Wt.unstable_promise)return Rt.p.then(()=>{const en=vt(Sn,mt);return en&&"p"in en&&en.p===Rt.p?new Promise(Pt=>setTimeout(Pt)).then(()=>at(mt,Wt)):at(mt,Wt)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",mt),Rt.p}if("v"in Rt)return Rt.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",mt),new Error("no value found")},ct=nn.write(at,(mt,Wt)=>{let Rt;if(mt===nn){if(!St(mt))throw new Error("atom not writable");(Pt=>{const on=new Set,Bn=gt.get(Pt);return Bn&&(gt.delete(Pt),Bn.forEach((yn,Wn)=>{Bt(yn),on.add(Wn)})),on})(mt).forEach(Pt=>{Pt!==Sn&&jt(Pt,mt,Wt)}),vt(Sn,mt)!==jt(Sn,mt,Wt)&&rn(Sn,mt)}else Rt=Mt(Sn,mt,Wt);return tn||Dn(Sn),Rt},Qn);return tn=!1,ct},an=(Sn,nn,Qn)=>{const tn=Mt(Qn,Sn,nn);return Dn(Qn),tn},Cn=(Sn,nn,Qn)=>{const tn={t:new Set(Qn&&[Qn]),l:new Set};if(ut.set(nn,tn),wt.add(nn),un(void 0,nn).d.forEach((at,ct)=>{const mt=ut.get(ct);mt?mt.t.add(nn):ct!==nn&&Cn(Sn,ct,nn)}),(at=>!!at.write)(nn)&&nn.onMount){const at=mt=>an(nn,mt,Sn),ct=nn.onMount(at);Sn=void 0,ct&&(tn.u=ct)}return tn},kn=(Sn,nn)=>{var Qn;const tn=(Qn=ut.get(nn))==null?void 0:Qn.u;tn&&tn(),ut.delete(nn),wt.delete(nn);const at=vt(Sn,nn);at?("p"in at&&Bt(at.p),at.d.forEach((ct,mt)=>{if(mt!==nn){const Wt=ut.get(mt);Wt&&(Wt.t.delete(nn),hn(mt,Wt)&&kn(Sn,mt))}})):console.warn("[Bug] could not find atom state to unmount",nn)},jn=(Sn,nn,Qn,tn)=>{const at=new Set(Qn.d.keys());tn==null||tn.forEach((ct,mt)=>{if(at.has(mt))return void at.delete(mt);const Wt=ut.get(mt);Wt&&(Wt.t.delete(nn),hn(mt,Wt)&&kn(Sn,mt))}),at.forEach(ct=>{const mt=ut.get(ct);mt?mt.t.add(nn):ut.has(nn)&&Cn(Sn,ct,nn)})},Dn=Sn=>{if(Sn)pt(Sn).forEach((nn,Qn)=>{if(nn!==Xt.get(Qn)){const tn=ut.get(Qn);tn==null||tn.l.forEach(at=>at(Sn))}});else{for(;ft.size;){const nn=Array.from(ft);ft.clear(),nn.forEach(([Qn,tn])=>{const at=vt(void 0,Qn);if(at&&at.d!==(tn==null?void 0:tn.d)&&jn(void 0,Qn,at,tn==null?void 0:tn.d),tn&&!tn.y&&(at==null?void 0:at.y))return;const ct=ut.get(Qn);ct==null||ct.l.forEach(mt=>mt())})}$.forEach(nn=>nn())}},Fn=(Sn,nn)=>{nn&&(Qn=>{pt(Qn).forEach((tn,at)=>{const ct=Xt.get(at);(!ct||tn.r>ct.r||tn.y!==ct.y||tn.r===ct.r&&tn.d!==ct.d)&&(Xt.set(at,tn),tn.d!==(ct==null?void 0:ct.d)&&jn(Qn,at,tn,ct==null?void 0:ct.d))})})(nn),Dn(void 0)},vn=(Sn,nn,Qn)=>{const tn=((ct,mt)=>{let Wt=ut.get(mt);return Wt||(Wt=Cn(ct,mt)),Wt})(Qn,Sn),at=tn.l;return at.add(nn),()=>{at.delete(nn),((ct,mt)=>{const Wt=ut.get(mt);Wt&&hn(mt,Wt)&&kn(ct,mt)})(Qn,Sn)}},Gn=(Sn,nn)=>{for(const[Qn,tn]of Sn)St(Qn)&&(jt(nn,Qn,tn),rn(nn,Qn));Dn(nn)};return{[Zt]:Jt,[Nt]:an,[dt]:Fn,[Yt]:vn,h:Gn,n:Sn=>($.add(Sn),()=>{$.delete(Sn)}),l:()=>wt.values(),a:Sn=>Xt.get(Sn),m:Sn=>ut.get(Sn)}},bn=Ct=>{const Xt=sn(Ct),ut=ft=>new Promise(($,wt)=>{const gt=Xt.r(ft);"e"in gt?wt(gt.e):$("p"in gt?gt.p.then(()=>ut(ft)):gt.v)});return{get:ft=>{const $=Xt.r(ft);if("e"in $)throw $.e;if(!("p"in $))return $.v},asyncGet:ut,set:(ft,$)=>Xt.w(ft,$),sub:(ft,$)=>Xt.s(ft,$),SECRET_INTERNAL_store:Xt}},pn=(Ct,Xt)=>({s:Xt?Xt(Ct).SECRET_INTERNAL_store:sn(Ct)}),mn=new Map,qt=Ct=>(mn.has(Ct)||mn.set(Ct,(0,Et.createContext)(pn())),mn.get(Ct)),Ut=({children:Ct,initialValues:Xt,scope:ut,unstable_createStore:ft,unstable_enableVersionedWrite:$})=>{const[wt,gt]=(0,Et.useState)({});(0,Et.useEffect)(()=>{const vt=lt.current;vt.w&&(vt.s.c(null,wt),delete wt.p,vt.v=wt)},[wt]);const lt=(0,Et.useRef)();if(!lt.current){const vt=pn(Xt,ft);if($){let zt=0;vt.w=Qt=>{gt(Ft=>{const At=zt?Ft:{p:Ft};return Qt(At),At})},vt.v=wt,vt.r=Qt=>{++zt,Qt(),--zt}}lt.current=vt}const pt=qt(ut);return(0,Et.createElement)(pt.Provider,{value:lt.current},Ct)};function Kt(Ct,Xt){return function(ut,ft){const $="atom"+ ++ot,wt={toString:()=>$};return typeof ut=="function"?wt.read=ut:(wt.init=ut,wt.read=gt=>gt(wt),wt.write=(gt,lt,pt)=>lt(wt,typeof pt=="function"?pt(gt(wt)):pt)),ft&&(wt.write=ft),wt}(Ct,Xt)}function yt(Ct,Xt){const ut=qt(Xt),ft=(0,Et.useContext)(ut),{s:$,v:wt}=ft,gt=Ft=>{const At=$.r(Ct,Ft);if(!At.y)throw new Error("should not be invalidated");if("e"in At)throw At.e;if("p"in At)throw At.p;if("v"in At)return At.v;throw new Error("no atom value")},[[lt,pt,vt],zt]=(0,Et.useReducer)((Ft,At)=>{const Tt=gt(At);return Object.is(Ft[1],Tt)&&Ft[2]===Ct?Ft:[At,Tt,Ct]},wt,Ft=>[Ft,gt(Ft),Ct]);let Qt=pt;return vt!==Ct&&(zt(lt),Qt=gt(lt)),(0,Et.useEffect)(()=>{const{v:Ft}=ft;Ft&&$.c(Ct,Ft);const At=$.s(Ct,zt,Ft);return zt(Ft),At},[$,Ct,ft]),(0,Et.useEffect)(()=>{$.c(Ct,lt)}),(0,Et.useDebugValue)(Qt),Qt}function Ot(Ct,Xt){const ut=qt(Xt),{s:ft,w:$}=(0,Et.useContext)(ut);return(0,Et.useCallback)(wt=>{if(!("write"in Ct))throw new Error("not writable atom");const gt=lt=>ft.w(Ct,wt,lt);return $?$(gt):gt()},[ft,$,Ct])}function Gt(Ct,Xt){return"scope"in Ct&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),Xt=Ct.scope),[yt(Ct,Xt),Ot(Ct,Xt)]}},5605:function($t,Vt,_){_.d(Vt,{x0:function(){return Et}});let Et=(ot=21)=>crypto.getRandomValues(new Uint8Array(ot)).reduce((it,nt)=>it+=(nt&=63)<36?nt.toString(36):nt<62?(nt-26).toString(36).toUpperCase():nt>62?"-":"_","")},5284:function($t){$t.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function($t){$t.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function($t){$t.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},zn={};function er($t){var Vt=zn[$t];if(Vt!==void 0)return Vt.exports;var _=zn[$t]={id:$t,exports:{}};return En[$t].call(_.exports,_,_.exports,er),_.exports}er.m=En,er.n=function($t){var Vt=$t&&$t.__esModule?function(){return $t.default}:function(){return $t};return er.d(Vt,{a:Vt}),Vt},_t=Object.getPrototypeOf?function($t){return Object.getPrototypeOf($t)}:function($t){return $t.__proto__},er.t=function($t,Vt){if(1&Vt&&($t=this($t)),8&Vt||typeof $t=="object"&&$t&&(4&Vt&&$t.__esModule||16&Vt&&typeof $t.then=="function"))return $t;var _=Object.create(null);er.r(_);var Et={};It=It||[null,_t({}),_t([]),_t(_t)];for(var ot=2&Vt&&$t;typeof ot=="object"&&!~It.indexOf(ot);ot=_t(ot))Object.getOwnPropertyNames(ot).forEach(function(it){Et[it]=function(){return $t[it]}});return Et.default=function(){return $t},er.d(_,Et),_},er.d=function($t,Vt){for(var _ in Vt)er.o(Vt,_)&&!er.o($t,_)&&Object.defineProperty($t,_,{enumerable:!0,get:Vt[_]})},er.f={},er.e=function($t){return Promise.all(Object.keys(er.f).reduce(function(Vt,_){return er.f[_]($t,Vt),Vt},[]))},er.u=function($t){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[$t]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[$t]+".js"},er.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),er.o=function($t,Vt){return Object.prototype.hasOwnProperty.call($t,Vt)},gn={},Xn="ExcalidrawLib:",er.l=function($t,Vt,_,Et){if(gn[$t])gn[$t].push(Vt);else{var ot,it;if(_!==void 0)for(var nt=document.getElementsByTagName("script"),ht=0;ht<nt.length;ht++){var Bt=nt[ht];if(Bt.getAttribute("src")==$t||Bt.getAttribute("data-webpack")==Xn+_){ot=Bt;break}}ot||(it=!0,(ot=document.createElement("script")).charset="utf-8",ot.timeout=120,er.nc&&ot.setAttribute("nonce",er.nc),ot.setAttribute("data-webpack",Xn+_),ot.src=$t),gn[$t]=[Vt];var st=function(xt,St){ot.onerror=ot.onload=null,clearTimeout(tt);var Zt=gn[$t];if(delete gn[$t],ot.parentNode&&ot.parentNode.removeChild(ot),Zt&&Zt.forEach(function(Nt){return Nt(St)}),xt)return xt(St)},tt=setTimeout(st.bind(null,void 0,{type:"timeout",target:ot}),12e4);ot.onerror=st.bind(null,ot.onerror),ot.onload=st.bind(null,ot.onload),it&&document.head.appendChild(ot)}},er.r=function($t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($t,"__esModule",{value:!0})},er.p="",function(){er.b=document.baseURI||self.location.href;var $t={2848:0};er.f.j=function(Et,ot){var it=er.o($t,Et)?$t[Et]:void 0;if(it!==0)if(it)ot.push(it[2]);else{var nt=new Promise(function(st,tt){it=$t[Et]=[st,tt]});ot.push(it[2]=nt);var ht=er.p+er.u(Et),Bt=new Error;er.l(ht,function(st){if(er.o($t,Et)&&((it=$t[Et])!==0&&($t[Et]=void 0),it)){var tt=st&&(st.type==="load"?"missing":st.type),xt=st&&st.target&&st.target.src;Bt.message="Loading chunk "+Et+` failed.
(`+tt+": "+xt+")",Bt.name="ChunkLoadError",Bt.type=tt,Bt.request=xt,it[1](Bt)}},"chunk-"+Et,Et)}};var Vt=function(Et,ot){var it,nt,ht=ot[0],Bt=ot[1],st=ot[2],tt=0;if(ht.some(function(xt){return $t[xt]!==0})){for(it in Bt)er.o(Bt,it)&&(er.m[it]=Bt[it]);st&&st(er)}for(Et&&Et(ot);tt<ht.length;tt++)nt=ht[tt],er.o($t,nt)&&$t[nt]&&$t[nt][0](),$t[nt]=0},_=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];_.forEach(Vt.bind(null,0)),_.push=Vt.bind(null,_.push.bind(_))}(),er.nc=void 0;var tr={};return function(){er.r(tr),er.d(tr,{Button:function(){return dt.zx},DefaultSidebar:function(){return dt.Or},Excalidraw:function(){return dt.Eb},FONT_FAMILY:function(){return dt.ut},Footer:function(){return dt.$_},LiveCollaborationTrigger:function(){return dt.vO},MIME_TYPES:function(){return dt.LO},MainMenu:function(){return dt.lb},Sidebar:function(){return dt.YE},THEME:function(){return dt.C6},WelcomeScreen:function(){return dt.B4},bumpVersion:function(){return dt.ZP},convertToExcalidrawElements:function(){return dt.wc},defaultLang:function(){return dt.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return dt.sQ},elementsOverlappingBBox:function(){return dt.Xs},exportToBlob:function(){return dt.Fl},exportToCanvas:function(){return dt.NL},exportToClipboard:function(){return dt.i1},exportToSvg:function(){return dt.$D},getCommonBounds:function(){return dt.KP},getFreeDrawSvgPath:function(){return dt.N7},getNonDeletedElements:function(){return dt.Lm},getSceneVersion:function(){return dt.Uo},isElementInsideBBox:function(){return dt.Ne},isInvisiblySmallElement:function(){return dt.QD},isLinearElement:function(){return dt.bt},languages:function(){return dt.Mj},loadFromBlob:function(){return dt.cT},loadLibraryFromBlob:function(){return dt.lV},loadSceneOrLibraryFromBlob:function(){return dt.ZY},mergeLibraryItems:function(){return dt.zh},mutateElement:function(){return dt.DR},newElementWith:function(){return dt.BE},normalizeLink:function(){return dt.$u},parseLibraryTokensFromUrl:function(){return dt.Di},restore:function(){return dt.nu},restoreAppState:function(){return dt.lY},restoreElements:function(){return dt.ET},restoreLibraryItems:function(){return dt.wJ},sceneCoordsToViewportCoords:function(){return dt._i},serializeAsJSON:function(){return dt.I_},serializeLibraryAsJSON:function(){return dt.NI},useDevice:function(){return dt.Fy},useHandleLibrary:function(){return dt.xS},useI18n:function(){return dt.QT},viewportCoordsToSceneCoords:function(){return dt.dE}}),er(9937).Vi.TEST!=="production"&&(er.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var $t=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(Yt){if((Yt=Math.trunc(Yt)||0)<0&&(Yt+=this.length),!(Yt<0||Yt>=this.length))return this[Yt]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},Vt=er(3379),_=er.n(Vt),Et=er(7795),ot=er.n(Et),it=er(569),nt=er.n(it),ht=er(3565),Bt=er.n(ht),st=er(9216),tt=er.n(st),xt=er(4589),St=er.n(xt),Zt=er(4295),Nt={};Nt.styleTagTransform=St(),Nt.setAttributes=Bt(),Nt.insert=nt().bind(null,"head"),Nt.domAPI=ot(),Nt.insertStyleElement=tt(),_()(Zt.Z,Nt),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;var dt=er(4864);$t()}(),tr}()})})(excalidrawWithPreact_production_min);var excalidrawWithPreact_production_minExports=excalidrawWithPreact_production_min.exports;main.exports=excalidrawWithPreact_production_minExports;var mainExports=main.exports;const e=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),t$1=e?Promise.resolve().then(function(){return l}):Promise.resolve().then(function(){return v});async function n(...i){return(await t$1).default(...i)}e?Promise.resolve().then(function(){return y}):Promise.resolve().then(function(){return b});const a=e?Promise.resolve().then(function(){return m}):Promise.resolve().then(function(){return k});async function o(...i){return(await a).default(...i)}const s=async i=>{const g=await i.getFile();return g.handle=i,g};var c=async(i=[{}])=>{Array.isArray(i)||(i=[i]);const g=[];i.forEach((rt,It)=>{g[It]={description:rt.description||"Files",accept:{}},rt.mimeTypes?rt.mimeTypes.map(_t=>{g[It].accept[_t]=rt.extensions||[]}):g[It].accept["*/*"]=rt.extensions||[]});const j=await window.showOpenFilePicker({id:i[0].id,startIn:i[0].startIn,types:g,multiple:i[0].multiple||!1,excludeAcceptAllOption:i[0].excludeAcceptAllOption||!1}),et=await Promise.all(j.map(s));return i[0].multiple?et:et[0]},l={__proto__:null,default:c};function u(i){function g(j){if(Object(j)!==j)return Promise.reject(new TypeError(j+" is not an object."));var et=j.done;return Promise.resolve(j.value).then(function(rt){return{value:rt,done:et}})}return u=function(j){this.s=j,this.n=j.next},u.prototype={s:null,n:null,next:function(){return g(this.n.apply(this.s,arguments))},return:function(j){var et=this.s.return;return et===void 0?Promise.resolve({value:j,done:!0}):g(et.apply(this.s,arguments))},throw:function(j){var et=this.s.return;return et===void 0?Promise.reject(j):g(et.apply(this.s,arguments))}},new u(i)}const p=async(i,g,j=i.name,et)=>{const rt=[],It=[];var _t,gn=!1,Xn=!1;try{for(var En,zn=function(er){var tr,$t,Vt,_=2;for(typeof Symbol<"u"&&($t=Symbol.asyncIterator,Vt=Symbol.iterator);_--;){if($t&&(tr=er[$t])!=null)return tr.call(er);if(Vt&&(tr=er[Vt])!=null)return new u(tr.call(er));$t="@@asyncIterator",Vt="@@iterator"}throw new TypeError("Object is not async iterable")}(i.values());gn=!(En=await zn.next()).done;gn=!1){const er=En.value,tr=`${j}/${er.name}`;er.kind==="file"?It.push(er.getFile().then($t=>($t.directoryHandle=i,$t.handle=er,Object.defineProperty($t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>tr})))):er.kind!=="directory"||!g||et&&et(er)||rt.push(p(er,g,tr,et))}}catch(er){Xn=!0,_t=er}finally{try{gn&&zn.return!=null&&await zn.return()}finally{if(Xn)throw _t}}return[...(await Promise.all(rt)).flat(),...await Promise.all(It)]};var d=async(i={})=>{i.recursive=i.recursive||!1,i.mode=i.mode||"read";const g=await window.showDirectoryPicker({id:i.id,startIn:i.startIn,mode:i.mode});return(await(await g.values()).next()).done?[g]:p(g,i.recursive,void 0,i.skipDirectory)},y={__proto__:null,default:d},f=async(i,g=[{}],j=null,et=!1,rt=null)=>{Array.isArray(g)||(g=[g]),g[0].fileName=g[0].fileName||"Untitled";const It=[];let _t=null;if(i instanceof Blob&&i.type?_t=i.type:i.headers&&i.headers.get("content-type")&&(_t=i.headers.get("content-type")),g.forEach((En,zn)=>{It[zn]={description:En.description||"Files",accept:{}},En.mimeTypes?(zn===0&&_t&&En.mimeTypes.push(_t),En.mimeTypes.map(er=>{It[zn].accept[er]=En.extensions||[]})):_t?It[zn].accept[_t]=En.extensions||[]:It[zn].accept["*/*"]=En.extensions||[]}),j)try{await j.getFile()}catch(En){if(j=null,et)throw En}const gn=j||await window.showSaveFilePicker({suggestedName:g[0].fileName,id:g[0].id,startIn:g[0].startIn,types:It,excludeAcceptAllOption:g[0].excludeAcceptAllOption||!1});!j&&rt&&rt(gn);const Xn=await gn.createWritable();return"stream"in i?(await i.stream().pipeTo(Xn),gn):"body"in i?(await i.body.pipeTo(Xn),gn):(await Xn.write(await i),await Xn.close(),gn)},m={__proto__:null,default:f},w=async(i=[{}])=>(Array.isArray(i)||(i=[i]),new Promise((g,j)=>{const et=document.createElement("input");et.type="file";const rt=[...i.map(Xn=>Xn.mimeTypes||[]),...i.map(Xn=>Xn.extensions||[])].join();et.multiple=i[0].multiple||!1,et.accept=rt||"",et.style.display="none",document.body.append(et);const It=Xn=>{typeof _t=="function"&&_t(),g(Xn)},_t=i[0].legacySetup&&i[0].legacySetup(It,()=>_t(j),et),gn=()=>{window.removeEventListener("focus",gn),et.remove()};et.addEventListener("click",()=>{window.addEventListener("focus",gn)}),et.addEventListener("change",()=>{window.removeEventListener("focus",gn),et.remove(),It(et.multiple?Array.from(et.files):et.files[0])}),"showPicker"in HTMLInputElement.prototype?et.showPicker():et.click()})),v={__proto__:null,default:w},h=async(i=[{}])=>(Array.isArray(i)||(i=[i]),i[0].recursive=i[0].recursive||!1,new Promise((g,j)=>{const et=document.createElement("input");et.type="file",et.webkitdirectory=!0;const rt=_t=>{typeof It=="function"&&It(),g(_t)},It=i[0].legacySetup&&i[0].legacySetup(rt,()=>It(j),et);et.addEventListener("change",()=>{let _t=Array.from(et.files);i[0].recursive?i[0].recursive&&i[0].skipDirectory&&(_t=_t.filter(gn=>gn.webkitRelativePath.split("/").every(Xn=>!i[0].skipDirectory({name:Xn,kind:"directory"})))):_t=_t.filter(gn=>gn.webkitRelativePath.split("/").length===2),rt(_t)}),"showPicker"in HTMLInputElement.prototype?et.showPicker():et.click()})),b={__proto__:null,default:h},P=async(i,g={})=>{Array.isArray(g)&&(g=g[0]);const j=document.createElement("a");let et=i;"body"in i&&(et=await async function(_t,gn){const Xn=_t.getReader(),En=new ReadableStream({start:tr=>async function $t(){return Xn.read().then(({done:Vt,value:_})=>{if(!Vt)return tr.enqueue(_),$t();tr.close()})}()}),zn=new Response(En),er=await zn.blob();return Xn.releaseLock(),new Blob([er],{type:gn})}(i.body,i.headers.get("content-type"))),j.download=g.fileName||"Untitled",j.href=URL.createObjectURL(await et);const rt=()=>{typeof It=="function"&&It()},It=g.legacySetup&&g.legacySetup(rt,()=>It(),j);return j.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(j.href),3e4),rt()}),j.click(),null},k={__proto__:null,default:P};const GitHubCorner=({link:i,size:g,fill:j,color:et})=>jsxRuntimeExports.jsx("a",{href:i,className:"GitHubCorner-container","aria-label":"View source on GitHub",target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsxs("svg",{width:g||80,height:g||80,viewBox:"0 0 250 250",style:{fill:j||"#151513",color:et||"#fff",position:"absolute",top:0,border:0,right:0},"aria-hidden":"true",children:[jsxRuntimeExports.jsx("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),jsxRuntimeExports.jsx("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"GitHubCorner-octo-arm"}),jsxRuntimeExports.jsx("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"GitHubCorner-octo-body"})]})}),SVG_NS="http://www.w3.org/2000/svg",findNode=(i,g)=>{const j=i.childNodes;for(let et=0;et<j.length;++et)if(j[et].tagName===g)return j[et];return null},hideBeforeAnimation=(i,g,j,et,rt)=>{g.setAttribute("opacity","0");const It=i.ownerDocument.createElementNS(SVG_NS,"animate");It.setAttribute("attributeName","opacity"),It.setAttribute("from","1"),It.setAttribute("to","1"),It.setAttribute("begin",`${j}ms`),It.setAttribute("dur",`${et}ms`),rt&&It.setAttribute("fill","freeze"),g.appendChild(It)},pickOnePathItem=i=>{const g=i.match(/(M[^C]*C[^M]*)/g);if(!g)return i;if(g.length<=2)return g[g.length-1];const[j]=g.reduce((et,rt,It)=>{const[,_t,gn,Xn,En]=rt.match(/M([\d.-]+) ([\d.-]+) C([\d.-]+) ([\d.-]+)/)||[],zn=Math.hypot(Number(Xn)-Number(_t),Number(En)-Number(gn));return zn>et[1]?[It,zn]:et},[0,0]);return g[j]},animatePointer=(i,g,j,et,rt,It)=>{var Xn;if(!It.pointerImg)return;const _t=i.ownerDocument.createElementNS(SVG_NS,"image");_t.setAttribute("href",It.pointerImg),It.pointerWidth&&_t.setAttribute("width",It.pointerWidth),It.pointerHeight&&_t.setAttribute("height",It.pointerHeight),hideBeforeAnimation(i,_t,et,rt);const gn=i.ownerDocument.createElementNS(SVG_NS,"animateMotion");gn.setAttribute("path",pickOnePathItem(j)),gn.setAttribute("begin",`${et}ms`),gn.setAttribute("dur",`${rt}ms`),_t.appendChild(gn),(Xn=g.parentNode)==null||Xn.appendChild(_t)},animatePath=(i,g,j,et,rt)=>{var zn,er;const It=g.getAttribute("d")||"",_t=((zn=It.match(/M/g))==null?void 0:zn.length)||0,Xn=(((er=It.match(/C/g))==null?void 0:er.length)||0)/_t;let En=It;for(let tr=Xn-1;tr>=0;tr-=1){const $t=It.replace(new RegExp(["M(\\S+) (\\S+)","((?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){",`${tr}`,"})","(?: C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+){1,}"].join(""),"g"),(..._)=>{const[Et,ot]=_[3]?_[3].match(/.* (\S+) (\S+)$/).slice(1,3):[_[1],_[2]];return`M${_[1]} ${_[2]}${_[3]}`+` C${Et} ${ot}, ${Et} ${ot}, ${Et} ${ot}`.repeat(Xn-tr)});tr===0&&g.setAttribute("d",$t);const Vt=i.ownerDocument.createElementNS(SVG_NS,"animate");Vt.setAttribute("attributeName","d"),Vt.setAttribute("from",$t),Vt.setAttribute("to",En),Vt.setAttribute("begin",`${j+tr*(et/Xn)}ms`),Vt.setAttribute("dur",`${et/Xn}ms`),Vt.setAttribute("fill","freeze"),g.appendChild(Vt),En=$t}animatePointer(i,g,It,j,et,rt),hideBeforeAnimation(i,g,j,et,!0)},animateFillPath=(i,g,j,et,rt)=>{const It=g.getAttribute("d")||"";if(It.includes("C")){animatePath(i,g,j,et,rt);return}const _t=It.replace(new RegExp(["M(\\S+) (\\S+)","((?: L\\S+ \\S+){1,})"].join("")),(...Xn)=>`M${Xn[1]} ${Xn[2]}`+Xn[3].replace(/L\S+ \S+/g,`L${Xn[1]} ${Xn[2]}`));g.setAttribute("d",_t);const gn=i.ownerDocument.createElementNS(SVG_NS,"animate");gn.setAttribute("attributeName","d"),gn.setAttribute("from",_t),gn.setAttribute("to",It),gn.setAttribute("begin",`${j}ms`),gn.setAttribute("dur",`${et}ms`),gn.setAttribute("fill","freeze"),g.appendChild(gn)},animatePolygon=(i,g,j,et,rt)=>{var er,tr,$t,Vt;let It=g.getAttribute("d")||"",_t=((er=It.match(/M/g))==null?void 0:er.length)||0,gn=((tr=It.match(/C/g))==null?void 0:tr.length)||0;if(_t===gn+1&&(It=It.replace(/^M\S+ \S+ M/,"M"),_t=(($t=It.match(/M/g))==null?void 0:$t.length)||0,gn=((Vt=It.match(/C/g))==null?void 0:Vt.length)||0),_t!==gn)throw new Error("unexpected m/c counts");const Xn=g.getAttribute("stroke-dasharray")?1:Math.min(2,_t),En=_t/Xn;let zn=It;for(let _=En-1;_>=0;_-=1){const Et=It.replace(new RegExp(["((?:","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Xn),"){",`${_}`,"})","M(\\S+) (\\S+) C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Xn),".*"].join("")),(...it)=>`${it[1]}`+[...Array(Xn).keys()].map(nt=>{const[ht,Bt]=it.slice(2+Xn*2+nt*2);return`M${ht} ${Bt} C${ht} ${Bt}, ${ht} ${Bt}, ${ht} ${Bt} `}).join("").repeat(En-_));_===0&&g.setAttribute("d",Et);const ot=i.ownerDocument.createElementNS(SVG_NS,"animate");ot.setAttribute("attributeName","d"),ot.setAttribute("from",Et),ot.setAttribute("to",zn),ot.setAttribute("begin",`${j+_*(et/En)}ms`),ot.setAttribute("dur",`${et/En}ms`),ot.setAttribute("fill","freeze"),g.appendChild(ot),zn=Et,animatePointer(i,g,It.replace(new RegExp(["(?:","M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+ ?".repeat(Xn),"){",`${_}`,"}","(M\\S+ \\S+ C\\S+ \\S+, \\S+ \\S+, \\S+ \\S+) ?".repeat(Xn),".*"].join("")),"$1"),j+_*(et/En),et/En,rt)}hideBeforeAnimation(i,g,j,et,!0)};let pathForTextIndex=0;const animateText=(i,g,j,et,rt,It)=>{var tr;if((j.getAttribute("text-anchor")||"start")!=="start"){const $t=j.getAttribute("opacity")||"1.0",Vt=i.ownerDocument.createElementNS(SVG_NS,"animate");Vt.setAttribute("attributeName","opacity"),Vt.setAttribute("from","0.0"),Vt.setAttribute("to",$t),Vt.setAttribute("begin",`${et}ms`),Vt.setAttribute("dur",`${rt}ms`),Vt.setAttribute("fill","freeze"),j.appendChild(Vt),j.setAttribute("opacity","0.0");return}const gn=Number(j.getAttribute("x")||0),Xn=Number(j.getAttribute("y")||0);pathForTextIndex+=1;const En=i.ownerDocument.createElementNS(SVG_NS,"path");En.setAttribute("id","pathForText"+pathForTextIndex);const zn=i.ownerDocument.createElementNS(SVG_NS,"animate");zn.setAttribute("attributeName","d"),zn.setAttribute("from",`m${gn} ${Xn} h0`),zn.setAttribute("to",`m${gn} ${Xn} h${g}`),zn.setAttribute("begin",`${et}ms`),zn.setAttribute("dur",`${rt}ms`),zn.setAttribute("fill","freeze"),En.appendChild(zn);const er=i.ownerDocument.createElementNS(SVG_NS,"textPath");er.setAttribute("href","#pathForText"+pathForTextIndex),er.textContent=j.textContent,j.textContent=" ",(tr=findNode(i,"defs"))==null||tr.appendChild(En),j.appendChild(er),animatePointer(i,j,`m${gn} ${Xn} h${g}`,et,rt,It)},animateFromToPath=(i,g,j,et,rt,It)=>{const _t=i.ownerDocument.createElementNS(SVG_NS,"path"),gn=i.ownerDocument.createElementNS(SVG_NS,"animate");gn.setAttribute("attributeName","d"),gn.setAttribute("from",j),gn.setAttribute("to",et),gn.setAttribute("begin",`${rt}ms`),gn.setAttribute("dur",`${It}ms`),_t.appendChild(gn),g.appendChild(_t)},patchSvgLine=(i,g,j,et,rt,It)=>{const _t=j?animatePath:animatePolygon,gn=g.childNodes;gn[0].getAttribute("fill-rule")?(_t(i,gn[0].childNodes[1],et,rt*.75,It),et+=rt*.75,animateFillPath(i,gn[0].childNodes[0],et,rt*.25,It)):_t(i,gn[0].childNodes[0],et,rt,It)},patchSvgArrow=(i,g,j,et,rt,It)=>{const _t=j?animatePath:animatePolygon,gn=g.childNodes.length;_t(i,g.childNodes[0].childNodes[0],et,rt/(gn+2)*3,It),et+=rt/(gn+2)*3;for(let Xn=1;Xn<gn;Xn+=1){const En=g.childNodes[Xn].childNodes.length;for(let zn=0;zn<En;zn+=1)animatePath(i,g.childNodes[Xn].childNodes[zn],et,rt/(gn+2)/En,It),et+=rt/(gn+2)/En}},patchSvgRectangle=(i,g,j,et,rt)=>{g.childNodes[1]?(animatePolygon(i,g.childNodes[1],j,et*.75,rt),j+=et*.75,animateFillPath(i,g.childNodes[0],j,et*.25,rt)):animatePolygon(i,g.childNodes[0],j,et,rt)},patchSvgEllipse=(i,g,j,et,rt)=>{g.childNodes[1]?(animatePath(i,g.childNodes[1],j,et*.75,rt),j+=et*.75,animateFillPath(i,g.childNodes[0],j,et*.25,rt)):animatePath(i,g.childNodes[0],j,et,rt)},patchSvgText=(i,g,j,et,rt,It)=>{const _t=g.childNodes,gn=_t.length;_t.forEach(Xn=>{animateText(i,j,Xn,et,rt/gn,It),et+=rt/gn})},patchSvgFreedraw=(i,g,j,et,rt,It)=>{const _t=g.childNodes[0];_t.setAttribute("opacity","0");const gn=i.ownerDocument.createElementNS(SVG_NS,"animate");gn.setAttribute("attributeName","opacity"),gn.setAttribute("from","0"),gn.setAttribute("to","1"),gn.setAttribute("calcMode","discrete"),gn.setAttribute("begin",`${et+rt-1}ms`),gn.setAttribute("dur","1ms"),gn.setAttribute("fill","freeze"),_t.appendChild(gn),animatePointer(i,_t,j.points.reduce((zn,[er,tr])=>zn?zn+` T ${er} ${tr}`:`M ${er} ${tr}`,""),et,rt,It);const Xn=j.points.length;let En=_t.getAttribute("d");for(let zn=Xn-1;zn>=0;zn-=1){const er=zn>0?mainExports.getFreeDrawSvgPath({...j,points:j.points.slice(0,zn)}):"M 0 0";animateFromToPath(i,g,er,En,et+zn*(rt/Xn),rt/Xn),En=er}},patchSvgImage=(i,g,j,et)=>{const rt=g.getAttribute("opacity")||"1.0",It=i.ownerDocument.createElementNS(SVG_NS,"animate");It.setAttribute("attributeName","opacity"),It.setAttribute("from","0.0"),It.setAttribute("to",rt),It.setAttribute("begin",`${j}ms`),It.setAttribute("dur",`${et}ms`),It.setAttribute("fill","freeze"),g.appendChild(It),g.setAttribute("opacity","0.0")},patchSvgEle=(i,g,j,et,rt,It)=>{const{type:_t,roundness:gn,width:Xn}=j;_t==="line"?patchSvgLine(i,g,!!gn,et,rt,It):_t==="arrow"?patchSvgArrow(i,g,!!gn,et,rt,It):_t==="rectangle"||_t==="diamond"?patchSvgRectangle(i,g,et,rt,It):_t==="ellipse"?patchSvgEllipse(i,g,et,rt,It):_t==="text"?patchSvgText(i,g,Xn,et,rt,It):j.type==="freedraw"?patchSvgFreedraw(i,g,j,et,rt,It):_t==="image"?patchSvgImage(i,g,et,rt):console.error("unknown excalidraw element type",j.type)},createGroups=(i,g)=>{const j={};let et=0;return i.childNodes.forEach(It=>{if(It.tagName==="g"){const{groupIds:_t}=g[et];if(_t.length>=1){const gn=_t[0];j[gn]=j[gn]||[],j[gn].push([It,et])}et+=1}}),j},filterGroupNodes=i=>[...i].filter(g=>g.tagName==="g"||g.tagName==="use"),extractNumberFromElement=(i,g)=>{const j=i.id.match(new RegExp(`${g}:(-?\\d+)`));return j&&Number(j[1])||0},sortSvgNodes=(i,g)=>[...i].sort((j,et)=>{const rt=i.indexOf(j),It=i.indexOf(et),_t=extractNumberFromElement(g[rt],"animateOrder"),gn=extractNumberFromElement(g[It],"animateOrder");return _t-gn}),animateSvg=(i,g,j={})=>{let et;const rt=createGroups(i,g),It=new Map;let _t=j.startMs??1e3;const gn=5e3,Xn=500,En=filterGroupNodes(i.childNodes);if(En.length!==g.length)throw new Error("element length mismatch");const zn=new Map(En.map((er,tr)=>[er,g[tr]]));return sortSvgNodes(En,g).forEach(er=>{const tr=zn.get(er),{groupIds:$t}=tr;if(!It.has(er))if($t.length>=1){const Vt=$t[0],_=rt[Vt],Et=extractNumberFromElement(tr,"animateDuration")||gn/(_.length+1);patchSvgEle(i,er,tr,_t,Et,j),_t+=Et,It.set(er,!0),_.forEach(([ot,it])=>{const nt=extractNumberFromElement(g[it],"animateDuration")||gn/(_.length+1);It.has(ot)||(patchSvgEle(i,ot,g[it],_t,nt,j),_t+=nt,It.set(ot,!0))}),delete rt[Vt]}else{const Vt=extractNumberFromElement(tr,"animateDuration")||Xn;patchSvgEle(i,er,tr,_t,Vt,j),_t+=Vt,It.set(er,!0)}}),et=_t+1e3,{finishedMs:et}},getBeginTimeList=i=>{const g=[],j=[],et=rt=>{if(rt.tagName==="animate"){const It=/([0-9.]+)ms/.exec(rt.getAttribute("begin")||"");It&&j.push(Number(It[1]))}rt.childNodes.forEach(It=>{et(It)})};return i.childNodes.forEach(rt=>{rt.tagName==="g"?(et(rt),j.length&&(g.push(Math.min(...j)),j.splice(0))):rt.tagName==="defs"&&rt.childNodes.forEach(It=>{et(It),j.length&&(g.push(Math.min(...j)),j.splice(0))})}),g},exportToSvgFile=async i=>{const g=i.getCurrentTime();i.setCurrentTime(0);const j=new XMLSerializer().serializeToString(i);i.setCurrentTime(g),await o(new Blob([j],{type:"image/svg+xml"}),{fileName:"excalidraw-animate.svg",extensions:[".svg"]})},exportToWebmFile=async i=>{await o(new Blob([i],{type:"video/webm"}),{fileName:"excalidraw-animate.webm",extensions:[".webm"]})},prepareWebmData=i=>new Promise(async(g,j)=>{try{const et=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"never",displaySurface:"browser"}}),rt=new MediaRecorder(et);rt.ondataavailable=_t=>{g(_t.data)};let It=0;i.forEach(({svg:_t,finishedMs:gn})=>{It=Math.max(It,gn),_t.pauseAnimations(),_t.setCurrentTime(0)}),rt.start(),i.forEach(({svg:_t})=>{_t.unpauseAnimations()}),setTimeout(()=>{rt.stop(),et.getVideoTracks()[0].stop()},It)}catch(et){j(et)}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(i){let g=i.length;for(;--g>=0;)i[g]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(i,g,j,et,rt){this.static_tree=i,this.extra_bits=g,this.extra_base=j,this.elems=et,this.max_length=rt,this.has_stree=i&&i.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(i,g){this.dyn_tree=i,this.max_code=0,this.stat_desc=g}const d_code=i=>i<256?_dist_code[i]:_dist_code[256+(i>>>7)],put_short=(i,g)=>{i.pending_buf[i.pending++]=g&255,i.pending_buf[i.pending++]=g>>>8&255},send_bits=(i,g,j)=>{i.bi_valid>Buf_size-j?(i.bi_buf|=g<<i.bi_valid&65535,put_short(i,i.bi_buf),i.bi_buf=g>>Buf_size-i.bi_valid,i.bi_valid+=j-Buf_size):(i.bi_buf|=g<<i.bi_valid&65535,i.bi_valid+=j)},send_code=(i,g,j)=>{send_bits(i,j[g*2],j[g*2+1])},bi_reverse=(i,g)=>{let j=0;do j|=i&1,i>>>=1,j<<=1;while(--g>0);return j>>>1},bi_flush=i=>{i.bi_valid===16?(put_short(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},gen_bitlen=(i,g)=>{const j=g.dyn_tree,et=g.max_code,rt=g.stat_desc.static_tree,It=g.stat_desc.has_stree,_t=g.stat_desc.extra_bits,gn=g.stat_desc.extra_base,Xn=g.stat_desc.max_length;let En,zn,er,tr,$t,Vt,_=0;for(tr=0;tr<=MAX_BITS$1;tr++)i.bl_count[tr]=0;for(j[i.heap[i.heap_max]*2+1]=0,En=i.heap_max+1;En<HEAP_SIZE$1;En++)zn=i.heap[En],tr=j[j[zn*2+1]*2+1]+1,tr>Xn&&(tr=Xn,_++),j[zn*2+1]=tr,!(zn>et)&&(i.bl_count[tr]++,$t=0,zn>=gn&&($t=_t[zn-gn]),Vt=j[zn*2],i.opt_len+=Vt*(tr+$t),It&&(i.static_len+=Vt*(rt[zn*2+1]+$t)));if(_!==0){do{for(tr=Xn-1;i.bl_count[tr]===0;)tr--;i.bl_count[tr]--,i.bl_count[tr+1]+=2,i.bl_count[Xn]--,_-=2}while(_>0);for(tr=Xn;tr!==0;tr--)for(zn=i.bl_count[tr];zn!==0;)er=i.heap[--En],!(er>et)&&(j[er*2+1]!==tr&&(i.opt_len+=(tr-j[er*2+1])*j[er*2],j[er*2+1]=tr),zn--)}},gen_codes=(i,g,j)=>{const et=new Array(MAX_BITS$1+1);let rt=0,It,_t;for(It=1;It<=MAX_BITS$1;It++)rt=rt+j[It-1]<<1,et[It]=rt;for(_t=0;_t<=g;_t++){let gn=i[_t*2+1];gn!==0&&(i[_t*2]=bi_reverse(et[gn]++,gn))}},tr_static_init=()=>{let i,g,j,et,rt;const It=new Array(MAX_BITS$1+1);for(j=0,et=0;et<LENGTH_CODES$1-1;et++)for(base_length[et]=j,i=0;i<1<<extra_lbits[et];i++)_length_code[j++]=et;for(_length_code[j-1]=et,rt=0,et=0;et<16;et++)for(base_dist[et]=rt,i=0;i<1<<extra_dbits[et];i++)_dist_code[rt++]=et;for(rt>>=7;et<D_CODES$1;et++)for(base_dist[et]=rt<<7,i=0;i<1<<extra_dbits[et]-7;i++)_dist_code[256+rt++]=et;for(g=0;g<=MAX_BITS$1;g++)It[g]=0;for(i=0;i<=143;)static_ltree[i*2+1]=8,i++,It[8]++;for(;i<=255;)static_ltree[i*2+1]=9,i++,It[9]++;for(;i<=279;)static_ltree[i*2+1]=7,i++,It[7]++;for(;i<=287;)static_ltree[i*2+1]=8,i++,It[8]++;for(gen_codes(static_ltree,L_CODES$1+1,It),i=0;i<D_CODES$1;i++)static_dtree[i*2+1]=5,static_dtree[i*2]=bi_reverse(i,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=i=>{let g;for(g=0;g<L_CODES$1;g++)i.dyn_ltree[g*2]=0;for(g=0;g<D_CODES$1;g++)i.dyn_dtree[g*2]=0;for(g=0;g<BL_CODES$1;g++)i.bl_tree[g*2]=0;i.dyn_ltree[END_BLOCK*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},bi_windup=i=>{i.bi_valid>8?put_short(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},smaller=(i,g,j,et)=>{const rt=g*2,It=j*2;return i[rt]<i[It]||i[rt]===i[It]&&et[g]<=et[j]},pqdownheap=(i,g,j)=>{const et=i.heap[j];let rt=j<<1;for(;rt<=i.heap_len&&(rt<i.heap_len&&smaller(g,i.heap[rt+1],i.heap[rt],i.depth)&&rt++,!smaller(g,et,i.heap[rt],i.depth));)i.heap[j]=i.heap[rt],j=rt,rt<<=1;i.heap[j]=et},compress_block=(i,g,j)=>{let et,rt,It=0,_t,gn;if(i.sym_next!==0)do et=i.pending_buf[i.sym_buf+It++]&255,et+=(i.pending_buf[i.sym_buf+It++]&255)<<8,rt=i.pending_buf[i.sym_buf+It++],et===0?send_code(i,rt,g):(_t=_length_code[rt],send_code(i,_t+LITERALS$1+1,g),gn=extra_lbits[_t],gn!==0&&(rt-=base_length[_t],send_bits(i,rt,gn)),et--,_t=d_code(et),send_code(i,_t,j),gn=extra_dbits[_t],gn!==0&&(et-=base_dist[_t],send_bits(i,et,gn)));while(It<i.sym_next);send_code(i,END_BLOCK,g)},build_tree=(i,g)=>{const j=g.dyn_tree,et=g.stat_desc.static_tree,rt=g.stat_desc.has_stree,It=g.stat_desc.elems;let _t,gn,Xn=-1,En;for(i.heap_len=0,i.heap_max=HEAP_SIZE$1,_t=0;_t<It;_t++)j[_t*2]!==0?(i.heap[++i.heap_len]=Xn=_t,i.depth[_t]=0):j[_t*2+1]=0;for(;i.heap_len<2;)En=i.heap[++i.heap_len]=Xn<2?++Xn:0,j[En*2]=1,i.depth[En]=0,i.opt_len--,rt&&(i.static_len-=et[En*2+1]);for(g.max_code=Xn,_t=i.heap_len>>1;_t>=1;_t--)pqdownheap(i,j,_t);En=It;do _t=i.heap[1],i.heap[1]=i.heap[i.heap_len--],pqdownheap(i,j,1),gn=i.heap[1],i.heap[--i.heap_max]=_t,i.heap[--i.heap_max]=gn,j[En*2]=j[_t*2]+j[gn*2],i.depth[En]=(i.depth[_t]>=i.depth[gn]?i.depth[_t]:i.depth[gn])+1,j[_t*2+1]=j[gn*2+1]=En,i.heap[1]=En++,pqdownheap(i,j,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],gen_bitlen(i,g),gen_codes(j,Xn,i.bl_count)},scan_tree=(i,g,j)=>{let et,rt=-1,It,_t=g[0*2+1],gn=0,Xn=7,En=4;for(_t===0&&(Xn=138,En=3),g[(j+1)*2+1]=65535,et=0;et<=j;et++)It=_t,_t=g[(et+1)*2+1],!(++gn<Xn&&It===_t)&&(gn<En?i.bl_tree[It*2]+=gn:It!==0?(It!==rt&&i.bl_tree[It*2]++,i.bl_tree[REP_3_6*2]++):gn<=10?i.bl_tree[REPZ_3_10*2]++:i.bl_tree[REPZ_11_138*2]++,gn=0,rt=It,_t===0?(Xn=138,En=3):It===_t?(Xn=6,En=3):(Xn=7,En=4))},send_tree=(i,g,j)=>{let et,rt=-1,It,_t=g[0*2+1],gn=0,Xn=7,En=4;for(_t===0&&(Xn=138,En=3),et=0;et<=j;et++)if(It=_t,_t=g[(et+1)*2+1],!(++gn<Xn&&It===_t)){if(gn<En)do send_code(i,It,i.bl_tree);while(--gn!==0);else It!==0?(It!==rt&&(send_code(i,It,i.bl_tree),gn--),send_code(i,REP_3_6,i.bl_tree),send_bits(i,gn-3,2)):gn<=10?(send_code(i,REPZ_3_10,i.bl_tree),send_bits(i,gn-3,3)):(send_code(i,REPZ_11_138,i.bl_tree),send_bits(i,gn-11,7));gn=0,rt=It,_t===0?(Xn=138,En=3):It===_t?(Xn=6,En=3):(Xn=7,En=4)}},build_bl_tree=i=>{let g;for(scan_tree(i,i.dyn_ltree,i.l_desc.max_code),scan_tree(i,i.dyn_dtree,i.d_desc.max_code),build_tree(i,i.bl_desc),g=BL_CODES$1-1;g>=3&&i.bl_tree[bl_order[g]*2+1]===0;g--);return i.opt_len+=3*(g+1)+5+5+4,g},send_all_trees=(i,g,j,et)=>{let rt;for(send_bits(i,g-257,5),send_bits(i,j-1,5),send_bits(i,et-4,4),rt=0;rt<et;rt++)send_bits(i,i.bl_tree[bl_order[rt]*2+1],3);send_tree(i,i.dyn_ltree,g-1),send_tree(i,i.dyn_dtree,j-1)},detect_data_type=i=>{let g=4093624447,j;for(j=0;j<=31;j++,g>>>=1)if(g&1&&i.dyn_ltree[j*2]!==0)return Z_BINARY;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return Z_TEXT;for(j=32;j<LITERALS$1;j++)if(i.dyn_ltree[j*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=i=>{static_init_done||(tr_static_init(),static_init_done=!0),i.l_desc=new TreeDesc(i.dyn_ltree,static_l_desc),i.d_desc=new TreeDesc(i.dyn_dtree,static_d_desc),i.bl_desc=new TreeDesc(i.bl_tree,static_bl_desc),i.bi_buf=0,i.bi_valid=0,init_block(i)},_tr_stored_block$1=(i,g,j,et)=>{send_bits(i,(STORED_BLOCK<<1)+(et?1:0),3),bi_windup(i),put_short(i,j),put_short(i,~j),j&&i.pending_buf.set(i.window.subarray(g,g+j),i.pending),i.pending+=j},_tr_align$1=i=>{send_bits(i,STATIC_TREES<<1,3),send_code(i,END_BLOCK,static_ltree),bi_flush(i)},_tr_flush_block$1=(i,g,j,et)=>{let rt,It,_t=0;i.level>0?(i.strm.data_type===Z_UNKNOWN$1&&(i.strm.data_type=detect_data_type(i)),build_tree(i,i.l_desc),build_tree(i,i.d_desc),_t=build_bl_tree(i),rt=i.opt_len+3+7>>>3,It=i.static_len+3+7>>>3,It<=rt&&(rt=It)):rt=It=j+5,j+4<=rt&&g!==-1?_tr_stored_block$1(i,g,j,et):i.strategy===Z_FIXED$1||It===rt?(send_bits(i,(STATIC_TREES<<1)+(et?1:0),3),compress_block(i,static_ltree,static_dtree)):(send_bits(i,(DYN_TREES<<1)+(et?1:0),3),send_all_trees(i,i.l_desc.max_code+1,i.d_desc.max_code+1,_t+1),compress_block(i,i.dyn_ltree,i.dyn_dtree)),init_block(i),et&&bi_windup(i)},_tr_tally$1=(i,g,j)=>(i.pending_buf[i.sym_buf+i.sym_next++]=g,i.pending_buf[i.sym_buf+i.sym_next++]=g>>8,i.pending_buf[i.sym_buf+i.sym_next++]=j,g===0?i.dyn_ltree[j*2]++:(i.matches++,g--,i.dyn_ltree[(_length_code[j]+LITERALS$1+1)*2]++,i.dyn_dtree[d_code(g)*2]++),i.sym_next===i.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(i,g,j,et)=>{let rt=i&65535|0,It=i>>>16&65535|0,_t=0;for(;j!==0;){_t=j>2e3?2e3:j,j-=_t;do rt=rt+g[et++]|0,It=It+rt|0;while(--_t);rt%=65521,It%=65521}return rt|It<<16|0};var adler32_1=adler32;const makeTable=()=>{let i,g=[];for(var j=0;j<256;j++){i=j;for(var et=0;et<8;et++)i=i&1?3988292384^i>>>1:i>>>1;g[j]=i}return g},crcTable=new Uint32Array(makeTable()),crc32=(i,g,j,et)=>{const rt=crcTable,It=et+j;i^=-1;for(let _t=et;_t<It;_t++)i=i>>>8^rt[(i^g[_t])&255];return i^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(i,g)=>(i.msg=messages[g],g),rank=i=>i*2-(i>4?9:0),zero=i=>{let g=i.length;for(;--g>=0;)i[g]=0},slide_hash=i=>{let g,j,et,rt=i.w_size;g=i.hash_size,et=g;do j=i.head[--et],i.head[et]=j>=rt?j-rt:0;while(--g);g=rt,et=g;do j=i.prev[--et],i.prev[et]=j>=rt?j-rt:0;while(--g)};let HASH_ZLIB=(i,g,j)=>(g<<i.hash_shift^j)&i.hash_mask,HASH=HASH_ZLIB;const flush_pending=i=>{const g=i.state;let j=g.pending;j>i.avail_out&&(j=i.avail_out),j!==0&&(i.output.set(g.pending_buf.subarray(g.pending_out,g.pending_out+j),i.next_out),i.next_out+=j,g.pending_out+=j,i.total_out+=j,i.avail_out-=j,g.pending-=j,g.pending===0&&(g.pending_out=0))},flush_block_only=(i,g)=>{_tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,g),i.block_start=i.strstart,flush_pending(i.strm)},put_byte=(i,g)=>{i.pending_buf[i.pending++]=g},putShortMSB=(i,g)=>{i.pending_buf[i.pending++]=g>>>8&255,i.pending_buf[i.pending++]=g&255},read_buf=(i,g,j,et)=>{let rt=i.avail_in;return rt>et&&(rt=et),rt===0?0:(i.avail_in-=rt,g.set(i.input.subarray(i.next_in,i.next_in+rt),j),i.state.wrap===1?i.adler=adler32_1(i.adler,g,rt,j):i.state.wrap===2&&(i.adler=crc32_1(i.adler,g,rt,j)),i.next_in+=rt,i.total_in+=rt,rt)},longest_match=(i,g)=>{let j=i.max_chain_length,et=i.strstart,rt,It,_t=i.prev_length,gn=i.nice_match;const Xn=i.strstart>i.w_size-MIN_LOOKAHEAD?i.strstart-(i.w_size-MIN_LOOKAHEAD):0,En=i.window,zn=i.w_mask,er=i.prev,tr=i.strstart+MAX_MATCH;let $t=En[et+_t-1],Vt=En[et+_t];i.prev_length>=i.good_match&&(j>>=2),gn>i.lookahead&&(gn=i.lookahead);do if(rt=g,!(En[rt+_t]!==Vt||En[rt+_t-1]!==$t||En[rt]!==En[et]||En[++rt]!==En[et+1])){et+=2,rt++;do;while(En[++et]===En[++rt]&&En[++et]===En[++rt]&&En[++et]===En[++rt]&&En[++et]===En[++rt]&&En[++et]===En[++rt]&&En[++et]===En[++rt]&&En[++et]===En[++rt]&&En[++et]===En[++rt]&&et<tr);if(It=MAX_MATCH-(tr-et),et=tr-MAX_MATCH,It>_t){if(i.match_start=g,_t=It,It>=gn)break;$t=En[et+_t-1],Vt=En[et+_t]}}while((g=er[g&zn])>Xn&&--j!==0);return _t<=i.lookahead?_t:i.lookahead},fill_window=i=>{const g=i.w_size;let j,et,rt;do{if(et=i.window_size-i.lookahead-i.strstart,i.strstart>=g+(g-MIN_LOOKAHEAD)&&(i.window.set(i.window.subarray(g,g+g-et),0),i.match_start-=g,i.strstart-=g,i.block_start-=g,i.insert>i.strstart&&(i.insert=i.strstart),slide_hash(i),et+=g),i.strm.avail_in===0)break;if(j=read_buf(i.strm,i.window,i.strstart+i.lookahead,et),i.lookahead+=j,i.lookahead+i.insert>=MIN_MATCH)for(rt=i.strstart-i.insert,i.ins_h=i.window[rt],i.ins_h=HASH(i,i.ins_h,i.window[rt+1]);i.insert&&(i.ins_h=HASH(i,i.ins_h,i.window[rt+MIN_MATCH-1]),i.prev[rt&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=rt,rt++,i.insert--,!(i.lookahead+i.insert<MIN_MATCH)););}while(i.lookahead<MIN_LOOKAHEAD&&i.strm.avail_in!==0)},deflate_stored=(i,g)=>{let j=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,et,rt,It,_t=0,gn=i.strm.avail_in;do{if(et=65535,It=i.bi_valid+42>>3,i.strm.avail_out<It||(It=i.strm.avail_out-It,rt=i.strstart-i.block_start,et>rt+i.strm.avail_in&&(et=rt+i.strm.avail_in),et>It&&(et=It),et<j&&(et===0&&g!==Z_FINISH$3||g===Z_NO_FLUSH$2||et!==rt+i.strm.avail_in)))break;_t=g===Z_FINISH$3&&et===rt+i.strm.avail_in?1:0,_tr_stored_block(i,0,0,_t),i.pending_buf[i.pending-4]=et,i.pending_buf[i.pending-3]=et>>8,i.pending_buf[i.pending-2]=~et,i.pending_buf[i.pending-1]=~et>>8,flush_pending(i.strm),rt&&(rt>et&&(rt=et),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+rt),i.strm.next_out),i.strm.next_out+=rt,i.strm.avail_out-=rt,i.strm.total_out+=rt,i.block_start+=rt,et-=rt),et&&(read_buf(i.strm,i.strm.output,i.strm.next_out,et),i.strm.next_out+=et,i.strm.avail_out-=et,i.strm.total_out+=et)}while(_t===0);return gn-=i.strm.avail_in,gn&&(gn>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=gn&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-gn,i.strm.next_in),i.strstart),i.strstart+=gn,i.insert+=gn>i.w_size-i.insert?i.w_size-i.insert:gn),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),_t?BS_FINISH_DONE:g!==Z_NO_FLUSH$2&&g!==Z_FINISH$3&&i.strm.avail_in===0&&i.strstart===i.block_start?BS_BLOCK_DONE:(It=i.window_size-i.strstart,i.strm.avail_in>It&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,It+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),It>i.strm.avail_in&&(It=i.strm.avail_in),It&&(read_buf(i.strm,i.window,i.strstart,It),i.strstart+=It,i.insert+=It>i.w_size-i.insert?i.w_size-i.insert:It),i.high_water<i.strstart&&(i.high_water=i.strstart),It=i.bi_valid+42>>3,It=i.pending_buf_size-It>65535?65535:i.pending_buf_size-It,j=It>i.w_size?i.w_size:It,rt=i.strstart-i.block_start,(rt>=j||(rt||g===Z_FINISH$3)&&g!==Z_NO_FLUSH$2&&i.strm.avail_in===0&&rt<=It)&&(et=rt>It?It:rt,_t=g===Z_FINISH$3&&i.strm.avail_in===0&&et===rt?1:0,_tr_stored_block(i,i.block_start,et,_t),i.block_start+=et,flush_pending(i.strm)),_t?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(i,g)=>{let j,et;for(;;){if(i.lookahead<MIN_LOOKAHEAD){if(fill_window(i),i.lookahead<MIN_LOOKAHEAD&&g===Z_NO_FLUSH$2)return BS_NEED_MORE;if(i.lookahead===0)break}if(j=0,i.lookahead>=MIN_MATCH&&(i.ins_h=HASH(i,i.ins_h,i.window[i.strstart+MIN_MATCH-1]),j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),j!==0&&i.strstart-j<=i.w_size-MIN_LOOKAHEAD&&(i.match_length=longest_match(i,j)),i.match_length>=MIN_MATCH)if(et=_tr_tally(i,i.strstart-i.match_start,i.match_length-MIN_MATCH),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=MIN_MATCH){i.match_length--;do i.strstart++,i.ins_h=HASH(i,i.ins_h,i.window[i.strstart+MIN_MATCH-1]),j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=HASH(i,i.ins_h,i.window[i.strstart+1]);else et=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(et&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=i.strstart<MIN_MATCH-1?i.strstart:MIN_MATCH-1,g===Z_FINISH$3?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.sym_next&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(i,g)=>{let j,et,rt;for(;;){if(i.lookahead<MIN_LOOKAHEAD){if(fill_window(i),i.lookahead<MIN_LOOKAHEAD&&g===Z_NO_FLUSH$2)return BS_NEED_MORE;if(i.lookahead===0)break}if(j=0,i.lookahead>=MIN_MATCH&&(i.ins_h=HASH(i,i.ins_h,i.window[i.strstart+MIN_MATCH-1]),j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=MIN_MATCH-1,j!==0&&i.prev_length<i.max_lazy_match&&i.strstart-j<=i.w_size-MIN_LOOKAHEAD&&(i.match_length=longest_match(i,j),i.match_length<=5&&(i.strategy===Z_FILTERED||i.match_length===MIN_MATCH&&i.strstart-i.match_start>4096)&&(i.match_length=MIN_MATCH-1)),i.prev_length>=MIN_MATCH&&i.match_length<=i.prev_length){rt=i.strstart+i.lookahead-MIN_MATCH,et=_tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-MIN_MATCH),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=rt&&(i.ins_h=HASH(i,i.ins_h,i.window[i.strstart+MIN_MATCH-1]),j=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=MIN_MATCH-1,i.strstart++,et&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}else if(i.match_available){if(et=_tr_tally(i,0,i.window[i.strstart-1]),et&&flush_block_only(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return BS_NEED_MORE}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(et=_tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<MIN_MATCH-1?i.strstart:MIN_MATCH-1,g===Z_FINISH$3?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.sym_next&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(i,g)=>{let j,et,rt,It;const _t=i.window;for(;;){if(i.lookahead<=MAX_MATCH){if(fill_window(i),i.lookahead<=MAX_MATCH&&g===Z_NO_FLUSH$2)return BS_NEED_MORE;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=MIN_MATCH&&i.strstart>0&&(rt=i.strstart-1,et=_t[rt],et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt])){It=i.strstart+MAX_MATCH;do;while(et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt]&&et===_t[++rt]&&rt<It);i.match_length=MAX_MATCH-(It-rt),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=MIN_MATCH?(j=_tr_tally(i,1,i.match_length-MIN_MATCH),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(j=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),j&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,g===Z_FINISH$3?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.sym_next&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(i,g)=>{let j;for(;;){if(i.lookahead===0&&(fill_window(i),i.lookahead===0)){if(g===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(i.match_length=0,j=_tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,j&&(flush_block_only(i,!1),i.strm.avail_out===0))return BS_NEED_MORE}return i.insert=0,g===Z_FINISH$3?(flush_block_only(i,!0),i.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):i.sym_next&&(flush_block_only(i,!1),i.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(i,g,j,et,rt){this.good_length=i,this.max_lazy=g,this.nice_length=j,this.max_chain=et,this.func=rt}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=i=>{i.window_size=2*i.w_size,zero(i.head),i.max_lazy_match=configuration_table[i.level].max_lazy,i.good_match=configuration_table[i.level].good_length,i.nice_match=configuration_table[i.level].nice_length,i.max_chain_length=configuration_table[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=MIN_MATCH-1,i.match_available=0,i.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=i=>{if(!i)return 1;const g=i.state;return!g||g.strm!==i||g.status!==INIT_STATE&&g.status!==GZIP_STATE&&g.status!==EXTRA_STATE&&g.status!==NAME_STATE&&g.status!==COMMENT_STATE&&g.status!==HCRC_STATE&&g.status!==BUSY_STATE&&g.status!==FINISH_STATE?1:0},deflateResetKeep=i=>{if(deflateStateCheck(i))return err(i,Z_STREAM_ERROR$2);i.total_in=i.total_out=0,i.data_type=Z_UNKNOWN;const g=i.state;return g.pending=0,g.pending_out=0,g.wrap<0&&(g.wrap=-g.wrap),g.status=g.wrap===2?GZIP_STATE:g.wrap?INIT_STATE:BUSY_STATE,i.adler=g.wrap===2?0:1,g.last_flush=-2,_tr_init(g),Z_OK$3},deflateReset=i=>{const g=deflateResetKeep(i);return g===Z_OK$3&&lm_init(i.state),g},deflateSetHeader=(i,g)=>deflateStateCheck(i)||i.state.wrap!==2?Z_STREAM_ERROR$2:(i.state.gzhead=g,Z_OK$3),deflateInit2=(i,g,j,et,rt,It)=>{if(!i)return Z_STREAM_ERROR$2;let _t=1;if(g===Z_DEFAULT_COMPRESSION$1&&(g=6),et<0?(_t=0,et=-et):et>15&&(_t=2,et-=16),rt<1||rt>MAX_MEM_LEVEL||j!==Z_DEFLATED$2||et<8||et>15||g<0||g>9||It<0||It>Z_FIXED||et===8&&_t!==1)return err(i,Z_STREAM_ERROR$2);et===8&&(et=9);const gn=new DeflateState;return i.state=gn,gn.strm=i,gn.status=INIT_STATE,gn.wrap=_t,gn.gzhead=null,gn.w_bits=et,gn.w_size=1<<gn.w_bits,gn.w_mask=gn.w_size-1,gn.hash_bits=rt+7,gn.hash_size=1<<gn.hash_bits,gn.hash_mask=gn.hash_size-1,gn.hash_shift=~~((gn.hash_bits+MIN_MATCH-1)/MIN_MATCH),gn.window=new Uint8Array(gn.w_size*2),gn.head=new Uint16Array(gn.hash_size),gn.prev=new Uint16Array(gn.w_size),gn.lit_bufsize=1<<rt+6,gn.pending_buf_size=gn.lit_bufsize*4,gn.pending_buf=new Uint8Array(gn.pending_buf_size),gn.sym_buf=gn.lit_bufsize,gn.sym_end=(gn.lit_bufsize-1)*3,gn.level=g,gn.strategy=It,gn.method=j,deflateReset(i)},deflateInit=(i,g)=>deflateInit2(i,g,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(i,g)=>{if(deflateStateCheck(i)||g>Z_BLOCK$1||g<0)return i?err(i,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const j=i.state;if(!i.output||i.avail_in!==0&&!i.input||j.status===FINISH_STATE&&g!==Z_FINISH$3)return err(i,i.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const et=j.last_flush;if(j.last_flush=g,j.pending!==0){if(flush_pending(i),i.avail_out===0)return j.last_flush=-1,Z_OK$3}else if(i.avail_in===0&&rank(g)<=rank(et)&&g!==Z_FINISH$3)return err(i,Z_BUF_ERROR$1);if(j.status===FINISH_STATE&&i.avail_in!==0)return err(i,Z_BUF_ERROR$1);if(j.status===INIT_STATE&&j.wrap===0&&(j.status=BUSY_STATE),j.status===INIT_STATE){let rt=Z_DEFLATED$2+(j.w_bits-8<<4)<<8,It=-1;if(j.strategy>=Z_HUFFMAN_ONLY||j.level<2?It=0:j.level<6?It=1:j.level===6?It=2:It=3,rt|=It<<6,j.strstart!==0&&(rt|=PRESET_DICT),rt+=31-rt%31,putShortMSB(j,rt),j.strstart!==0&&(putShortMSB(j,i.adler>>>16),putShortMSB(j,i.adler&65535)),i.adler=1,j.status=BUSY_STATE,flush_pending(i),j.pending!==0)return j.last_flush=-1,Z_OK$3}if(j.status===GZIP_STATE){if(i.adler=0,put_byte(j,31),put_byte(j,139),put_byte(j,8),j.gzhead)put_byte(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),put_byte(j,j.gzhead.time&255),put_byte(j,j.gzhead.time>>8&255),put_byte(j,j.gzhead.time>>16&255),put_byte(j,j.gzhead.time>>24&255),put_byte(j,j.level===9?2:j.strategy>=Z_HUFFMAN_ONLY||j.level<2?4:0),put_byte(j,j.gzhead.os&255),j.gzhead.extra&&j.gzhead.extra.length&&(put_byte(j,j.gzhead.extra.length&255),put_byte(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=EXTRA_STATE;else if(put_byte(j,0),put_byte(j,0),put_byte(j,0),put_byte(j,0),put_byte(j,0),put_byte(j,j.level===9?2:j.strategy>=Z_HUFFMAN_ONLY||j.level<2?4:0),put_byte(j,OS_CODE),j.status=BUSY_STATE,flush_pending(i),j.pending!==0)return j.last_flush=-1,Z_OK$3}if(j.status===EXTRA_STATE){if(j.gzhead.extra){let rt=j.pending,It=(j.gzhead.extra.length&65535)-j.gzindex;for(;j.pending+It>j.pending_buf_size;){let gn=j.pending_buf_size-j.pending;if(j.pending_buf.set(j.gzhead.extra.subarray(j.gzindex,j.gzindex+gn),j.pending),j.pending=j.pending_buf_size,j.gzhead.hcrc&&j.pending>rt&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending-rt,rt)),j.gzindex+=gn,flush_pending(i),j.pending!==0)return j.last_flush=-1,Z_OK$3;rt=0,It-=gn}let _t=new Uint8Array(j.gzhead.extra);j.pending_buf.set(_t.subarray(j.gzindex,j.gzindex+It),j.pending),j.pending+=It,j.gzhead.hcrc&&j.pending>rt&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending-rt,rt)),j.gzindex=0}j.status=NAME_STATE}if(j.status===NAME_STATE){if(j.gzhead.name){let rt=j.pending,It;do{if(j.pending===j.pending_buf_size){if(j.gzhead.hcrc&&j.pending>rt&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending-rt,rt)),flush_pending(i),j.pending!==0)return j.last_flush=-1,Z_OK$3;rt=0}j.gzindex<j.gzhead.name.length?It=j.gzhead.name.charCodeAt(j.gzindex++)&255:It=0,put_byte(j,It)}while(It!==0);j.gzhead.hcrc&&j.pending>rt&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending-rt,rt)),j.gzindex=0}j.status=COMMENT_STATE}if(j.status===COMMENT_STATE){if(j.gzhead.comment){let rt=j.pending,It;do{if(j.pending===j.pending_buf_size){if(j.gzhead.hcrc&&j.pending>rt&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending-rt,rt)),flush_pending(i),j.pending!==0)return j.last_flush=-1,Z_OK$3;rt=0}j.gzindex<j.gzhead.comment.length?It=j.gzhead.comment.charCodeAt(j.gzindex++)&255:It=0,put_byte(j,It)}while(It!==0);j.gzhead.hcrc&&j.pending>rt&&(i.adler=crc32_1(i.adler,j.pending_buf,j.pending-rt,rt))}j.status=HCRC_STATE}if(j.status===HCRC_STATE){if(j.gzhead.hcrc){if(j.pending+2>j.pending_buf_size&&(flush_pending(i),j.pending!==0))return j.last_flush=-1,Z_OK$3;put_byte(j,i.adler&255),put_byte(j,i.adler>>8&255),i.adler=0}if(j.status=BUSY_STATE,flush_pending(i),j.pending!==0)return j.last_flush=-1,Z_OK$3}if(i.avail_in!==0||j.lookahead!==0||g!==Z_NO_FLUSH$2&&j.status!==FINISH_STATE){let rt=j.level===0?deflate_stored(j,g):j.strategy===Z_HUFFMAN_ONLY?deflate_huff(j,g):j.strategy===Z_RLE?deflate_rle(j,g):configuration_table[j.level].func(j,g);if((rt===BS_FINISH_STARTED||rt===BS_FINISH_DONE)&&(j.status=FINISH_STATE),rt===BS_NEED_MORE||rt===BS_FINISH_STARTED)return i.avail_out===0&&(j.last_flush=-1),Z_OK$3;if(rt===BS_BLOCK_DONE&&(g===Z_PARTIAL_FLUSH?_tr_align(j):g!==Z_BLOCK$1&&(_tr_stored_block(j,0,0,!1),g===Z_FULL_FLUSH$1&&(zero(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),flush_pending(i),i.avail_out===0))return j.last_flush=-1,Z_OK$3}return g!==Z_FINISH$3?Z_OK$3:j.wrap<=0?Z_STREAM_END$3:(j.wrap===2?(put_byte(j,i.adler&255),put_byte(j,i.adler>>8&255),put_byte(j,i.adler>>16&255),put_byte(j,i.adler>>24&255),put_byte(j,i.total_in&255),put_byte(j,i.total_in>>8&255),put_byte(j,i.total_in>>16&255),put_byte(j,i.total_in>>24&255)):(putShortMSB(j,i.adler>>>16),putShortMSB(j,i.adler&65535)),flush_pending(i),j.wrap>0&&(j.wrap=-j.wrap),j.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=i=>{if(deflateStateCheck(i))return Z_STREAM_ERROR$2;const g=i.state.status;return i.state=null,g===BUSY_STATE?err(i,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(i,g)=>{let j=g.length;if(deflateStateCheck(i))return Z_STREAM_ERROR$2;const et=i.state,rt=et.wrap;if(rt===2||rt===1&&et.status!==INIT_STATE||et.lookahead)return Z_STREAM_ERROR$2;if(rt===1&&(i.adler=adler32_1(i.adler,g,j,0)),et.wrap=0,j>=et.w_size){rt===0&&(zero(et.head),et.strstart=0,et.block_start=0,et.insert=0);let Xn=new Uint8Array(et.w_size);Xn.set(g.subarray(j-et.w_size,j),0),g=Xn,j=et.w_size}const It=i.avail_in,_t=i.next_in,gn=i.input;for(i.avail_in=j,i.next_in=0,i.input=g,fill_window(et);et.lookahead>=MIN_MATCH;){let Xn=et.strstart,En=et.lookahead-(MIN_MATCH-1);do et.ins_h=HASH(et,et.ins_h,et.window[Xn+MIN_MATCH-1]),et.prev[Xn&et.w_mask]=et.head[et.ins_h],et.head[et.ins_h]=Xn,Xn++;while(--En);et.strstart=Xn,et.lookahead=MIN_MATCH-1,fill_window(et)}return et.strstart+=et.lookahead,et.block_start=et.strstart,et.insert=et.lookahead,et.lookahead=0,et.match_length=et.prev_length=MIN_MATCH-1,et.match_available=0,i.next_in=_t,i.input=gn,i.avail_in=It,et.wrap=rt,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(i,g)=>Object.prototype.hasOwnProperty.call(i,g);var assign=function(i){const g=Array.prototype.slice.call(arguments,1);for(;g.length;){const j=g.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(const et in j)_has(j,et)&&(i[et]=j[et])}}return i},flattenChunks=i=>{let g=0;for(let et=0,rt=i.length;et<rt;et++)g+=i[et].length;const j=new Uint8Array(g);for(let et=0,rt=0,It=i.length;et<It;et++){let _t=i[et];j.set(_t,rt),rt+=_t.length}return j},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let i=0;i<256;i++)_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let g,j,et,rt,It,_t=i.length,gn=0;for(rt=0;rt<_t;rt++)j=i.charCodeAt(rt),(j&64512)===55296&&rt+1<_t&&(et=i.charCodeAt(rt+1),(et&64512)===56320&&(j=65536+(j-55296<<10)+(et-56320),rt++)),gn+=j<128?1:j<2048?2:j<65536?3:4;for(g=new Uint8Array(gn),It=0,rt=0;It<gn;rt++)j=i.charCodeAt(rt),(j&64512)===55296&&rt+1<_t&&(et=i.charCodeAt(rt+1),(et&64512)===56320&&(j=65536+(j-55296<<10)+(et-56320),rt++)),j<128?g[It++]=j:j<2048?(g[It++]=192|j>>>6,g[It++]=128|j&63):j<65536?(g[It++]=224|j>>>12,g[It++]=128|j>>>6&63,g[It++]=128|j&63):(g[It++]=240|j>>>18,g[It++]=128|j>>>12&63,g[It++]=128|j>>>6&63,g[It++]=128|j&63);return g};const buf2binstring=(i,g)=>{if(g<65534&&i.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,i.length===g?i:i.subarray(0,g));let j="";for(let et=0;et<g;et++)j+=String.fromCharCode(i[et]);return j};var buf2string=(i,g)=>{const j=g||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,g));let et,rt;const It=new Array(j*2);for(rt=0,et=0;et<j;){let _t=i[et++];if(_t<128){It[rt++]=_t;continue}let gn=_utf8len[_t];if(gn>4){It[rt++]=65533,et+=gn-1;continue}for(_t&=gn===2?31:gn===3?15:7;gn>1&&et<j;)_t=_t<<6|i[et++]&63,gn--;if(gn>1){It[rt++]=65533;continue}_t<65536?It[rt++]=_t:(_t-=65536,It[rt++]=55296|_t>>10&1023,It[rt++]=56320|_t&1023)}return buf2binstring(It,rt)},utf8border=(i,g)=>{g=g||i.length,g>i.length&&(g=i.length);let j=g-1;for(;j>=0&&(i[j]&192)===128;)j--;return j<0||j===0?g:j+_utf8len[i[j]]>g?j:g},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(i){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},i||{});let g=this.options;g.raw&&g.windowBits>0?g.windowBits=-g.windowBits:g.gzip&&g.windowBits>0&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let j=deflate_1$2.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(j!==Z_OK$2)throw new Error(messages[j]);if(g.header&&deflate_1$2.deflateSetHeader(this.strm,g.header),g.dictionary){let et;if(typeof g.dictionary=="string"?et=strings.string2buf(g.dictionary):toString$1.call(g.dictionary)==="[object ArrayBuffer]"?et=new Uint8Array(g.dictionary):et=g.dictionary,j=deflate_1$2.deflateSetDictionary(this.strm,et),j!==Z_OK$2)throw new Error(messages[j]);this._dict_set=!0}}Deflate$1.prototype.push=function(i,g){const j=this.strm,et=this.options.chunkSize;let rt,It;if(this.ended)return!1;for(g===~~g?It=g:It=g===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof i=="string"?j.input=strings.string2buf(i):toString$1.call(i)==="[object ArrayBuffer]"?j.input=new Uint8Array(i):j.input=i,j.next_in=0,j.avail_in=j.input.length;;){if(j.avail_out===0&&(j.output=new Uint8Array(et),j.next_out=0,j.avail_out=et),(It===Z_SYNC_FLUSH||It===Z_FULL_FLUSH)&&j.avail_out<=6){this.onData(j.output.subarray(0,j.next_out)),j.avail_out=0;continue}if(rt=deflate_1$2.deflate(j,It),rt===Z_STREAM_END$2)return j.next_out>0&&this.onData(j.output.subarray(0,j.next_out)),rt=deflate_1$2.deflateEnd(this.strm),this.onEnd(rt),this.ended=!0,rt===Z_OK$2;if(j.avail_out===0){this.onData(j.output);continue}if(It>0&&j.next_out>0){this.onData(j.output.subarray(0,j.next_out)),j.avail_out=0;continue}if(j.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(i){this.chunks.push(i)};Deflate$1.prototype.onEnd=function(i){i===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function(g,j){let et,rt,It,_t,gn,Xn,En,zn,er,tr,$t,Vt,_,Et,ot,it,nt,ht,Bt,st,tt,xt,St,Zt;const Nt=g.state;et=g.next_in,St=g.input,rt=et+(g.avail_in-5),It=g.next_out,Zt=g.output,_t=It-(j-g.avail_out),gn=It+(g.avail_out-257),Xn=Nt.dmax,En=Nt.wsize,zn=Nt.whave,er=Nt.wnext,tr=Nt.window,$t=Nt.hold,Vt=Nt.bits,_=Nt.lencode,Et=Nt.distcode,ot=(1<<Nt.lenbits)-1,it=(1<<Nt.distbits)-1;e:do{Vt<15&&($t+=St[et++]<<Vt,Vt+=8,$t+=St[et++]<<Vt,Vt+=8),nt=_[$t&ot];t:for(;;){if(ht=nt>>>24,$t>>>=ht,Vt-=ht,ht=nt>>>16&255,ht===0)Zt[It++]=nt&65535;else if(ht&16){Bt=nt&65535,ht&=15,ht&&(Vt<ht&&($t+=St[et++]<<Vt,Vt+=8),Bt+=$t&(1<<ht)-1,$t>>>=ht,Vt-=ht),Vt<15&&($t+=St[et++]<<Vt,Vt+=8,$t+=St[et++]<<Vt,Vt+=8),nt=Et[$t&it];n:for(;;){if(ht=nt>>>24,$t>>>=ht,Vt-=ht,ht=nt>>>16&255,ht&16){if(st=nt&65535,ht&=15,Vt<ht&&($t+=St[et++]<<Vt,Vt+=8,Vt<ht&&($t+=St[et++]<<Vt,Vt+=8)),st+=$t&(1<<ht)-1,st>Xn){g.msg="invalid distance too far back",Nt.mode=BAD$1;break e}if($t>>>=ht,Vt-=ht,ht=It-_t,st>ht){if(ht=st-ht,ht>zn&&Nt.sane){g.msg="invalid distance too far back",Nt.mode=BAD$1;break e}if(tt=0,xt=tr,er===0){if(tt+=En-ht,ht<Bt){Bt-=ht;do Zt[It++]=tr[tt++];while(--ht);tt=It-st,xt=Zt}}else if(er<ht){if(tt+=En+er-ht,ht-=er,ht<Bt){Bt-=ht;do Zt[It++]=tr[tt++];while(--ht);if(tt=0,er<Bt){ht=er,Bt-=ht;do Zt[It++]=tr[tt++];while(--ht);tt=It-st,xt=Zt}}}else if(tt+=er-ht,ht<Bt){Bt-=ht;do Zt[It++]=tr[tt++];while(--ht);tt=It-st,xt=Zt}for(;Bt>2;)Zt[It++]=xt[tt++],Zt[It++]=xt[tt++],Zt[It++]=xt[tt++],Bt-=3;Bt&&(Zt[It++]=xt[tt++],Bt>1&&(Zt[It++]=xt[tt++]))}else{tt=It-st;do Zt[It++]=Zt[tt++],Zt[It++]=Zt[tt++],Zt[It++]=Zt[tt++],Bt-=3;while(Bt>2);Bt&&(Zt[It++]=Zt[tt++],Bt>1&&(Zt[It++]=Zt[tt++]))}}else if(ht&64){g.msg="invalid distance code",Nt.mode=BAD$1;break e}else{nt=Et[(nt&65535)+($t&(1<<ht)-1)];continue n}break}}else if(ht&64)if(ht&32){Nt.mode=TYPE$1;break e}else{g.msg="invalid literal/length code",Nt.mode=BAD$1;break e}else{nt=_[(nt&65535)+($t&(1<<ht)-1)];continue t}break}}while(et<rt&&It<gn);Bt=Vt>>3,et-=Bt,Vt-=Bt<<3,$t&=(1<<Vt)-1,g.next_in=et,g.next_out=It,g.avail_in=et<rt?5+(rt-et):5-(et-rt),g.avail_out=It<gn?257+(gn-It):257-(It-gn),Nt.hold=$t,Nt.bits=Vt};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(i,g,j,et,rt,It,_t,gn)=>{const Xn=gn.bits;let En=0,zn=0,er=0,tr=0,$t=0,Vt=0,_=0,Et=0,ot=0,it=0,nt,ht,Bt,st,tt,xt=null,St;const Zt=new Uint16Array(MAXBITS+1),Nt=new Uint16Array(MAXBITS+1);let dt=null,Yt,sn,bn;for(En=0;En<=MAXBITS;En++)Zt[En]=0;for(zn=0;zn<et;zn++)Zt[g[j+zn]]++;for($t=Xn,tr=MAXBITS;tr>=1&&Zt[tr]===0;tr--);if($t>tr&&($t=tr),tr===0)return rt[It++]=1<<24|64<<16|0,rt[It++]=1<<24|64<<16|0,gn.bits=1,0;for(er=1;er<tr&&Zt[er]===0;er++);for($t<er&&($t=er),Et=1,En=1;En<=MAXBITS;En++)if(Et<<=1,Et-=Zt[En],Et<0)return-1;if(Et>0&&(i===CODES$1||tr!==1))return-1;for(Nt[1]=0,En=1;En<MAXBITS;En++)Nt[En+1]=Nt[En]+Zt[En];for(zn=0;zn<et;zn++)g[j+zn]!==0&&(_t[Nt[g[j+zn]]++]=zn);if(i===CODES$1?(xt=dt=_t,St=20):i===LENS$1?(xt=lbase,dt=lext,St=257):(xt=dbase,dt=dext,St=0),it=0,zn=0,En=er,tt=It,Vt=$t,_=0,Bt=-1,ot=1<<$t,st=ot-1,i===LENS$1&&ot>ENOUGH_LENS$1||i===DISTS$1&&ot>ENOUGH_DISTS$1)return 1;for(;;){Yt=En-_,_t[zn]+1<St?(sn=0,bn=_t[zn]):_t[zn]>=St?(sn=dt[_t[zn]-St],bn=xt[_t[zn]-St]):(sn=96,bn=0),nt=1<<En-_,ht=1<<Vt,er=ht;do ht-=nt,rt[tt+(it>>_)+ht]=Yt<<24|sn<<16|bn|0;while(ht!==0);for(nt=1<<En-1;it&nt;)nt>>=1;if(nt!==0?(it&=nt-1,it+=nt):it=0,zn++,--Zt[En]===0){if(En===tr)break;En=g[j+_t[zn]]}if(En>$t&&(it&st)!==Bt){for(_===0&&(_=$t),tt+=er,Vt=En-_,Et=1<<Vt;Vt+_<tr&&(Et-=Zt[Vt+_],!(Et<=0));)Vt++,Et<<=1;if(ot+=1<<Vt,i===LENS$1&&ot>ENOUGH_LENS$1||i===DISTS$1&&ot>ENOUGH_DISTS$1)return 1;Bt=it&st,rt[Bt]=$t<<24|Vt<<16|tt-It|0}}return it!==0&&(rt[tt+it]=En-_<<24|64<<16|0),gn.bits=$t,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=i=>{if(!i)return 1;const g=i.state;return!g||g.strm!==i||g.mode<HEAD||g.mode>SYNC?1:0},inflateResetKeep=i=>{if(inflateStateCheck(i))return Z_STREAM_ERROR$1;const g=i.state;return i.total_in=i.total_out=g.total=0,i.msg="",g.wrap&&(i.adler=g.wrap&1),g.mode=HEAD,g.last=0,g.havedict=0,g.flags=-1,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new Int32Array(ENOUGH_LENS),g.distcode=g.distdyn=new Int32Array(ENOUGH_DISTS),g.sane=1,g.back=-1,Z_OK$1},inflateReset=i=>{if(inflateStateCheck(i))return Z_STREAM_ERROR$1;const g=i.state;return g.wsize=0,g.whave=0,g.wnext=0,inflateResetKeep(i)},inflateReset2=(i,g)=>{let j;if(inflateStateCheck(i))return Z_STREAM_ERROR$1;const et=i.state;return g<0?(j=0,g=-g):(j=(g>>4)+5,g<48&&(g&=15)),g&&(g<8||g>15)?Z_STREAM_ERROR$1:(et.window!==null&&et.wbits!==g&&(et.window=null),et.wrap=j,et.wbits=g,inflateReset(i))},inflateInit2=(i,g)=>{if(!i)return Z_STREAM_ERROR$1;const j=new InflateState;i.state=j,j.strm=i,j.window=null,j.mode=HEAD;const et=inflateReset2(i,g);return et!==Z_OK$1&&(i.state=null),et},inflateInit=i=>inflateInit2(i,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=i=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let g=0;for(;g<144;)i.lens[g++]=8;for(;g<256;)i.lens[g++]=9;for(;g<280;)i.lens[g++]=7;for(;g<288;)i.lens[g++]=8;for(inftrees(LENS,i.lens,0,288,lenfix,0,i.work,{bits:9}),g=0;g<32;)i.lens[g++]=5;inftrees(DISTS,i.lens,0,32,distfix,0,i.work,{bits:5}),virgin=!1}i.lencode=lenfix,i.lenbits=9,i.distcode=distfix,i.distbits=5},updatewindow=(i,g,j,et)=>{let rt;const It=i.state;return It.window===null&&(It.wsize=1<<It.wbits,It.wnext=0,It.whave=0,It.window=new Uint8Array(It.wsize)),et>=It.wsize?(It.window.set(g.subarray(j-It.wsize,j),0),It.wnext=0,It.whave=It.wsize):(rt=It.wsize-It.wnext,rt>et&&(rt=et),It.window.set(g.subarray(j-et,j-et+rt),It.wnext),et-=rt,et?(It.window.set(g.subarray(j-et,j),0),It.wnext=et,It.whave=It.wsize):(It.wnext+=rt,It.wnext===It.wsize&&(It.wnext=0),It.whave<It.wsize&&(It.whave+=rt))),0},inflate$2=(i,g)=>{let j,et,rt,It,_t,gn,Xn,En,zn,er,tr,$t,Vt,_,Et=0,ot,it,nt,ht,Bt,st,tt,xt;const St=new Uint8Array(4);let Zt,Nt;const dt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(i)||!i.output||!i.input&&i.avail_in!==0)return Z_STREAM_ERROR$1;j=i.state,j.mode===TYPE&&(j.mode=TYPEDO),_t=i.next_out,rt=i.output,Xn=i.avail_out,It=i.next_in,et=i.input,gn=i.avail_in,En=j.hold,zn=j.bits,er=gn,tr=Xn,xt=Z_OK$1;e:for(;;)switch(j.mode){case HEAD:if(j.wrap===0){j.mode=TYPEDO;break}for(;zn<16;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(j.wrap&2&&En===35615){j.wbits===0&&(j.wbits=15),j.check=0,St[0]=En&255,St[1]=En>>>8&255,j.check=crc32_1(j.check,St,2,0),En=0,zn=0,j.mode=FLAGS;break}if(j.head&&(j.head.done=!1),!(j.wrap&1)||(((En&255)<<8)+(En>>8))%31){i.msg="incorrect header check",j.mode=BAD;break}if((En&15)!==Z_DEFLATED){i.msg="unknown compression method",j.mode=BAD;break}if(En>>>=4,zn-=4,tt=(En&15)+8,j.wbits===0&&(j.wbits=tt),tt>15||tt>j.wbits){i.msg="invalid window size",j.mode=BAD;break}j.dmax=1<<j.wbits,j.flags=0,i.adler=j.check=1,j.mode=En&512?DICTID:TYPE,En=0,zn=0;break;case FLAGS:for(;zn<16;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(j.flags=En,(j.flags&255)!==Z_DEFLATED){i.msg="unknown compression method",j.mode=BAD;break}if(j.flags&57344){i.msg="unknown header flags set",j.mode=BAD;break}j.head&&(j.head.text=En>>8&1),j.flags&512&&j.wrap&4&&(St[0]=En&255,St[1]=En>>>8&255,j.check=crc32_1(j.check,St,2,0)),En=0,zn=0,j.mode=TIME;case TIME:for(;zn<32;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}j.head&&(j.head.time=En),j.flags&512&&j.wrap&4&&(St[0]=En&255,St[1]=En>>>8&255,St[2]=En>>>16&255,St[3]=En>>>24&255,j.check=crc32_1(j.check,St,4,0)),En=0,zn=0,j.mode=OS;case OS:for(;zn<16;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}j.head&&(j.head.xflags=En&255,j.head.os=En>>8),j.flags&512&&j.wrap&4&&(St[0]=En&255,St[1]=En>>>8&255,j.check=crc32_1(j.check,St,2,0)),En=0,zn=0,j.mode=EXLEN;case EXLEN:if(j.flags&1024){for(;zn<16;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}j.length=En,j.head&&(j.head.extra_len=En),j.flags&512&&j.wrap&4&&(St[0]=En&255,St[1]=En>>>8&255,j.check=crc32_1(j.check,St,2,0)),En=0,zn=0}else j.head&&(j.head.extra=null);j.mode=EXTRA;case EXTRA:if(j.flags&1024&&($t=j.length,$t>gn&&($t=gn),$t&&(j.head&&(tt=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Uint8Array(j.head.extra_len)),j.head.extra.set(et.subarray(It,It+$t),tt)),j.flags&512&&j.wrap&4&&(j.check=crc32_1(j.check,et,$t,It)),gn-=$t,It+=$t,j.length-=$t),j.length))break e;j.length=0,j.mode=NAME;case NAME:if(j.flags&2048){if(gn===0)break e;$t=0;do tt=et[It+$t++],j.head&&tt&&j.length<65536&&(j.head.name+=String.fromCharCode(tt));while(tt&&$t<gn);if(j.flags&512&&j.wrap&4&&(j.check=crc32_1(j.check,et,$t,It)),gn-=$t,It+=$t,tt)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=COMMENT;case COMMENT:if(j.flags&4096){if(gn===0)break e;$t=0;do tt=et[It+$t++],j.head&&tt&&j.length<65536&&(j.head.comment+=String.fromCharCode(tt));while(tt&&$t<gn);if(j.flags&512&&j.wrap&4&&(j.check=crc32_1(j.check,et,$t,It)),gn-=$t,It+=$t,tt)break e}else j.head&&(j.head.comment=null);j.mode=HCRC;case HCRC:if(j.flags&512){for(;zn<16;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(j.wrap&4&&En!==(j.check&65535)){i.msg="header crc mismatch",j.mode=BAD;break}En=0,zn=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),i.adler=j.check=0,j.mode=TYPE;break;case DICTID:for(;zn<32;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}i.adler=j.check=zswap32(En),En=0,zn=0,j.mode=DICT;case DICT:if(j.havedict===0)return i.next_out=_t,i.avail_out=Xn,i.next_in=It,i.avail_in=gn,j.hold=En,j.bits=zn,Z_NEED_DICT$1;i.adler=j.check=1,j.mode=TYPE;case TYPE:if(g===Z_BLOCK||g===Z_TREES)break e;case TYPEDO:if(j.last){En>>>=zn&7,zn-=zn&7,j.mode=CHECK;break}for(;zn<3;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}switch(j.last=En&1,En>>>=1,zn-=1,En&3){case 0:j.mode=STORED;break;case 1:if(fixedtables(j),j.mode=LEN_,g===Z_TREES){En>>>=2,zn-=2;break e}break;case 2:j.mode=TABLE;break;case 3:i.msg="invalid block type",j.mode=BAD}En>>>=2,zn-=2;break;case STORED:for(En>>>=zn&7,zn-=zn&7;zn<32;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if((En&65535)!==(En>>>16^65535)){i.msg="invalid stored block lengths",j.mode=BAD;break}if(j.length=En&65535,En=0,zn=0,j.mode=COPY_,g===Z_TREES)break e;case COPY_:j.mode=COPY;case COPY:if($t=j.length,$t){if($t>gn&&($t=gn),$t>Xn&&($t=Xn),$t===0)break e;rt.set(et.subarray(It,It+$t),_t),gn-=$t,It+=$t,Xn-=$t,_t+=$t,j.length-=$t;break}j.mode=TYPE;break;case TABLE:for(;zn<14;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(j.nlen=(En&31)+257,En>>>=5,zn-=5,j.ndist=(En&31)+1,En>>>=5,zn-=5,j.ncode=(En&15)+4,En>>>=4,zn-=4,j.nlen>286||j.ndist>30){i.msg="too many length or distance symbols",j.mode=BAD;break}j.have=0,j.mode=LENLENS;case LENLENS:for(;j.have<j.ncode;){for(;zn<3;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}j.lens[dt[j.have++]]=En&7,En>>>=3,zn-=3}for(;j.have<19;)j.lens[dt[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,Zt={bits:j.lenbits},xt=inftrees(CODES,j.lens,0,19,j.lencode,0,j.work,Zt),j.lenbits=Zt.bits,xt){i.msg="invalid code lengths set",j.mode=BAD;break}j.have=0,j.mode=CODELENS;case CODELENS:for(;j.have<j.nlen+j.ndist;){for(;Et=j.lencode[En&(1<<j.lenbits)-1],ot=Et>>>24,it=Et>>>16&255,nt=Et&65535,!(ot<=zn);){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(nt<16)En>>>=ot,zn-=ot,j.lens[j.have++]=nt;else{if(nt===16){for(Nt=ot+2;zn<Nt;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(En>>>=ot,zn-=ot,j.have===0){i.msg="invalid bit length repeat",j.mode=BAD;break}tt=j.lens[j.have-1],$t=3+(En&3),En>>>=2,zn-=2}else if(nt===17){for(Nt=ot+3;zn<Nt;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}En>>>=ot,zn-=ot,tt=0,$t=3+(En&7),En>>>=3,zn-=3}else{for(Nt=ot+7;zn<Nt;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}En>>>=ot,zn-=ot,tt=0,$t=11+(En&127),En>>>=7,zn-=7}if(j.have+$t>j.nlen+j.ndist){i.msg="invalid bit length repeat",j.mode=BAD;break}for(;$t--;)j.lens[j.have++]=tt}}if(j.mode===BAD)break;if(j.lens[256]===0){i.msg="invalid code -- missing end-of-block",j.mode=BAD;break}if(j.lenbits=9,Zt={bits:j.lenbits},xt=inftrees(LENS,j.lens,0,j.nlen,j.lencode,0,j.work,Zt),j.lenbits=Zt.bits,xt){i.msg="invalid literal/lengths set",j.mode=BAD;break}if(j.distbits=6,j.distcode=j.distdyn,Zt={bits:j.distbits},xt=inftrees(DISTS,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,Zt),j.distbits=Zt.bits,xt){i.msg="invalid distances set",j.mode=BAD;break}if(j.mode=LEN_,g===Z_TREES)break e;case LEN_:j.mode=LEN;case LEN:if(gn>=6&&Xn>=258){i.next_out=_t,i.avail_out=Xn,i.next_in=It,i.avail_in=gn,j.hold=En,j.bits=zn,inffast(i,tr),_t=i.next_out,rt=i.output,Xn=i.avail_out,It=i.next_in,et=i.input,gn=i.avail_in,En=j.hold,zn=j.bits,j.mode===TYPE&&(j.back=-1);break}for(j.back=0;Et=j.lencode[En&(1<<j.lenbits)-1],ot=Et>>>24,it=Et>>>16&255,nt=Et&65535,!(ot<=zn);){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(it&&!(it&240)){for(ht=ot,Bt=it,st=nt;Et=j.lencode[st+((En&(1<<ht+Bt)-1)>>ht)],ot=Et>>>24,it=Et>>>16&255,nt=Et&65535,!(ht+ot<=zn);){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}En>>>=ht,zn-=ht,j.back+=ht}if(En>>>=ot,zn-=ot,j.back+=ot,j.length=nt,it===0){j.mode=LIT;break}if(it&32){j.back=-1,j.mode=TYPE;break}if(it&64){i.msg="invalid literal/length code",j.mode=BAD;break}j.extra=it&15,j.mode=LENEXT;case LENEXT:if(j.extra){for(Nt=j.extra;zn<Nt;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}j.length+=En&(1<<j.extra)-1,En>>>=j.extra,zn-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=DIST;case DIST:for(;Et=j.distcode[En&(1<<j.distbits)-1],ot=Et>>>24,it=Et>>>16&255,nt=Et&65535,!(ot<=zn);){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(!(it&240)){for(ht=ot,Bt=it,st=nt;Et=j.distcode[st+((En&(1<<ht+Bt)-1)>>ht)],ot=Et>>>24,it=Et>>>16&255,nt=Et&65535,!(ht+ot<=zn);){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}En>>>=ht,zn-=ht,j.back+=ht}if(En>>>=ot,zn-=ot,j.back+=ot,it&64){i.msg="invalid distance code",j.mode=BAD;break}j.offset=nt,j.extra=it&15,j.mode=DISTEXT;case DISTEXT:if(j.extra){for(Nt=j.extra;zn<Nt;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}j.offset+=En&(1<<j.extra)-1,En>>>=j.extra,zn-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){i.msg="invalid distance too far back",j.mode=BAD;break}j.mode=MATCH;case MATCH:if(Xn===0)break e;if($t=tr-Xn,j.offset>$t){if($t=j.offset-$t,$t>j.whave&&j.sane){i.msg="invalid distance too far back",j.mode=BAD;break}$t>j.wnext?($t-=j.wnext,Vt=j.wsize-$t):Vt=j.wnext-$t,$t>j.length&&($t=j.length),_=j.window}else _=rt,Vt=_t-j.offset,$t=j.length;$t>Xn&&($t=Xn),Xn-=$t,j.length-=$t;do rt[_t++]=_[Vt++];while(--$t);j.length===0&&(j.mode=LEN);break;case LIT:if(Xn===0)break e;rt[_t++]=j.length,Xn--,j.mode=LEN;break;case CHECK:if(j.wrap){for(;zn<32;){if(gn===0)break e;gn--,En|=et[It++]<<zn,zn+=8}if(tr-=Xn,i.total_out+=tr,j.total+=tr,j.wrap&4&&tr&&(i.adler=j.check=j.flags?crc32_1(j.check,rt,tr,_t-tr):adler32_1(j.check,rt,tr,_t-tr)),tr=Xn,j.wrap&4&&(j.flags?En:zswap32(En))!==j.check){i.msg="incorrect data check",j.mode=BAD;break}En=0,zn=0}j.mode=LENGTH;case LENGTH:if(j.wrap&&j.flags){for(;zn<32;){if(gn===0)break e;gn--,En+=et[It++]<<zn,zn+=8}if(j.wrap&4&&En!==(j.total&4294967295)){i.msg="incorrect length check",j.mode=BAD;break}En=0,zn=0}j.mode=DONE;case DONE:xt=Z_STREAM_END$1;break e;case BAD:xt=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return i.next_out=_t,i.avail_out=Xn,i.next_in=It,i.avail_in=gn,j.hold=En,j.bits=zn,(j.wsize||tr!==i.avail_out&&j.mode<BAD&&(j.mode<CHECK||g!==Z_FINISH$1))&&updatewindow(i,i.output,i.next_out,tr-i.avail_out),er-=i.avail_in,tr-=i.avail_out,i.total_in+=er,i.total_out+=tr,j.total+=tr,j.wrap&4&&tr&&(i.adler=j.check=j.flags?crc32_1(j.check,rt,tr,i.next_out-tr):adler32_1(j.check,rt,tr,i.next_out-tr)),i.data_type=j.bits+(j.last?64:0)+(j.mode===TYPE?128:0)+(j.mode===LEN_||j.mode===COPY_?256:0),(er===0&&tr===0||g===Z_FINISH$1)&&xt===Z_OK$1&&(xt=Z_BUF_ERROR),xt},inflateEnd=i=>{if(inflateStateCheck(i))return Z_STREAM_ERROR$1;let g=i.state;return g.window&&(g.window=null),i.state=null,Z_OK$1},inflateGetHeader=(i,g)=>{if(inflateStateCheck(i))return Z_STREAM_ERROR$1;const j=i.state;return j.wrap&2?(j.head=g,g.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(i,g)=>{const j=g.length;let et,rt,It;return inflateStateCheck(i)||(et=i.state,et.wrap!==0&&et.mode!==DICT)?Z_STREAM_ERROR$1:et.mode===DICT&&(rt=1,rt=adler32_1(rt,g,j,0),rt!==et.check)?Z_DATA_ERROR$1:(It=updatewindow(i,g,j,j),It?(et.mode=MEM,Z_MEM_ERROR$1):(et.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(i){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(i&&i.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15||(g.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let j=inflate_1$2.inflateInit2(this.strm,g.windowBits);if(j!==Z_OK)throw new Error(messages[j]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),g.dictionary&&(typeof g.dictionary=="string"?g.dictionary=strings.string2buf(g.dictionary):toString.call(g.dictionary)==="[object ArrayBuffer]"&&(g.dictionary=new Uint8Array(g.dictionary)),g.raw&&(j=inflate_1$2.inflateSetDictionary(this.strm,g.dictionary),j!==Z_OK)))throw new Error(messages[j])}Inflate$1.prototype.push=function(i,g){const j=this.strm,et=this.options.chunkSize,rt=this.options.dictionary;let It,_t,gn;if(this.ended)return!1;for(g===~~g?_t=g:_t=g===!0?Z_FINISH:Z_NO_FLUSH,toString.call(i)==="[object ArrayBuffer]"?j.input=new Uint8Array(i):j.input=i,j.next_in=0,j.avail_in=j.input.length;;){for(j.avail_out===0&&(j.output=new Uint8Array(et),j.next_out=0,j.avail_out=et),It=inflate_1$2.inflate(j,_t),It===Z_NEED_DICT&&rt&&(It=inflate_1$2.inflateSetDictionary(j,rt),It===Z_OK?It=inflate_1$2.inflate(j,_t):It===Z_DATA_ERROR&&(It=Z_NEED_DICT));j.avail_in>0&&It===Z_STREAM_END&&j.state.wrap>0&&i[j.next_in]!==0;)inflate_1$2.inflateReset(j),It=inflate_1$2.inflate(j,_t);switch(It){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(It),this.ended=!0,!1}if(gn=j.avail_out,j.next_out&&(j.avail_out===0||It===Z_STREAM_END))if(this.options.to==="string"){let Xn=strings.utf8border(j.output,j.next_out),En=j.next_out-Xn,zn=strings.buf2string(j.output,Xn);j.next_out=En,j.avail_out=et-En,En&&j.output.set(j.output.subarray(Xn,Xn+En),0),this.onData(zn)}else this.onData(j.output.length===j.next_out?j.output:j.output.subarray(0,j.next_out));if(!(It===Z_OK&&gn===0)){if(It===Z_STREAM_END)return It=inflate_1$2.inflateEnd(this.strm),this.onEnd(It),this.ended=!0,!0;if(j.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(i){this.chunks.push(i)};Inflate$1.prototype.onEnd=function(i){i===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function inflate$1(i,g){const j=new Inflate$1(g);if(j.push(i),j.err)throw j.msg||messages[j.err];return j.result}function inflateRaw$1(i,g){return g=g||{},g.raw=!0,inflate$1(i,g)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;const t=i=>i,BACKEND_V2_GET="https://json.excalidraw.com/api/v2/",IV_LENGTH_BYTES=12,ENCRYPTION_KEY_BITS=128,CONCAT_BUFFERS_VERSION=1,VERSION_DATAVIEW_BYTES=4,NEXT_CHUNK_SIZE_DATAVIEW_BYTES=4,DATA_VIEW_BITS_MAP={1:8,2:16,4:32};function dataView(i,g,j,et){const rt=`getUint${DATA_VIEW_BITS_MAP[g]}`;return new DataView(i.buffer)[rt](j)}const splitBuffers=i=>{const g=[];let j=0;const et=dataView(i,NEXT_CHUNK_SIZE_DATAVIEW_BYTES,j);if(et>CONCAT_BUFFERS_VERSION)throw new Error(`invalid version ${et}`);for(j+=VERSION_DATAVIEW_BYTES;;){const rt=dataView(i,NEXT_CHUNK_SIZE_DATAVIEW_BYTES,j);if(j+=NEXT_CHUNK_SIZE_DATAVIEW_BYTES,g.push(i.slice(j,j+rt)),j+=rt,j>=i.byteLength)break}return g},getCryptoKey=(i,g)=>window.crypto.subtle.importKey("jwk",{alg:"A128GCM",ext:!0,k:i,key_ops:["encrypt","decrypt"],kty:"oct"},{name:"AES-GCM",length:ENCRYPTION_KEY_BITS},!1,[g]),decryptData=async(i,g,j)=>{const et=await getCryptoKey(j,"decrypt");return window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},et,g)},_decryptAndDecompress=async(i,g,j,et)=>(g=new Uint8Array(await decryptData(i,g,j)),et?inflate_1(g):g),decompressData=async(i,g)=>{const[j,et,rt]=splitBuffers(i),It=JSON.parse(new TextDecoder().decode(j));try{const[_t,gn]=splitBuffers(await _decryptAndDecompress(et,rt,g.decryptionKey,!!It.compression));return{metadata:JSON.parse(new TextDecoder().decode(_t)),data:gn}}catch(_t){throw console.error("Error during decompressing and decrypting the file.",It),_t}},legacy_decodeFromBackend=async({buffer:i,decryptionKey:g})=>{let j;try{const It=i.slice(0,IV_LENGTH_BYTES),_t=i.slice(IV_LENGTH_BYTES,i.byteLength);j=await decryptData(new Uint8Array(It),_t,g)}catch{const _t=new Uint8Array(IV_LENGTH_BYTES);j=await decryptData(_t,i,g)}const et=new window.TextDecoder("utf-8").decode(new Uint8Array(j)),rt=JSON.parse(et);return{elements:rt.elements||null,appState:rt.appState||null}},importFromBackend=async(i,g)=>{try{const j=await fetch(`${BACKEND_V2_GET}${i}`);if(!j.ok)return window.alert(t("alerts.importBackendFailed")),{};const et=await j.arrayBuffer();try{const{data:rt}=await decompressData(new Uint8Array(et),{decryptionKey:g}),It=JSON.parse(new TextDecoder().decode(rt));return{elements:It.elements||null,appState:It.appState||null}}catch(rt){return console.warn("error when decoding shareLink data using the new format:",rt),legacy_decodeFromBackend({buffer:et,decryptionKey:g})}}catch(j){return window.alert(t("alerts.importBackendFailed")),console.error(j),{}}},loadScene=async(i,g,j)=>{let et;return i!=null&&g!=null?et=mainExports.restore(await importFromBackend(i,g),j==null?void 0:j.appState,j==null?void 0:j.elements):et=mainExports.restore(null,null,null),{elements:et.elements,appState:et.appState,files:et.files,commitToHistory:!1}},getNonDeletedElements=i=>i.filter(g=>!g.isDeleted),importLibraryFromUrl=async i=>{try{const j=await(await fetch(i)).blob();return(await mainExports.loadLibraryFromBlob(j)).map(rt=>getNonDeletedElements(mainExports.restoreElements(rt.elements,null)))}catch{return window.alert("Unable to load library"),[]}},useLoadSvg=()=>{const[i,g]=reactExports.useState(!0),[j,et]=reactExports.useState([]),rt=reactExports.useCallback(async(It,_t)=>{const gn=window.location.hash.slice(1),Xn=new URLSearchParams(gn),En={startMs:void 0,pointerImg:Xn.get("pointerImg")||void 0,pointerWidth:Xn.get("pointerWidth")||void 0,pointerHeight:Xn.get("pointerHeight")||void 0},zn=await Promise.all(It.map(async er=>{const tr=getNonDeletedElements(er.elements),$t=await mainExports.exportToSvg({elements:tr,files:er.files,appState:er.appState,exportPadding:30}),Vt=animateSvg($t,tr,En);return console.log($t),_t&&(En.startMs=Vt.finishedMs),{svg:$t,finishedMs:Vt.finishedMs}}));return et(zn),zn},[]);return reactExports.useEffect(()=>{(async()=>{const It=window.location.hash.slice(1),_t=new URLSearchParams(It),gn=/([a-zA-Z0-9_-]+),?([a-zA-Z0-9_-]*)/.exec(_t.get("json")||"");if(gn){const[,En,zn]=gn,er=await loadScene(En,zn,null),[{svg:tr,finishedMs:$t}]=await rt([er]);_t.get("autoplay")==="no"&&tr.setCurrentTime($t)}const Xn=/(.*\.excalidrawlib)/.exec(_t.get("library")||"");if(Xn){const[,En]=Xn,zn=await importLibraryFromUrl(En),er=await rt(zn.map(tr=>({elements:tr,appState:{},files:{}})),_t.has("sequence"));_t.get("autoplay")==="no"&&er.forEach(({svg:tr,finishedMs:$t})=>{tr.setCurrentTime($t)})}g(!1)})()},[rt]),{loading:i,loadedSvgList:j,loadDataList:rt}},loadFromJSON=async()=>{const i=await n({description:"Excalidraw files"});return mainExports.loadFromBlob(i,null,null)},linkRegex=/#json=([a-zA-Z0-9_-]+),?([a-zA-Z0-9_-]*)|^http.*\.excalidrawlib$/,getCombinedBeginTimeList=i=>{const g=[].concat(...i.map(({svg:j})=>getBeginTimeList(j).map(et=>Math.floor(et/100)*100)));return[...new Set(g)].sort((j,et)=>j-et)},Toolbar=({svgList:i,loadDataList:g})=>{const[j,et]=reactExports.useState(!1),[rt,It]=reactExports.useState(!1),[_t,gn]=reactExports.useState(!1),[Xn,En]=reactExports.useState(""),[zn,er]=reactExports.useState();reactExports.useEffect(()=>{er(void 0)},[i]),reactExports.useEffect(()=>{i.forEach(({svg:st})=>{rt?st.pauseAnimations():st.unpauseAnimations()})},[i,rt]),reactExports.useEffect(()=>{const st=window.location.hash.slice(1);new URLSearchParams(st).get("toolbar")!=="no"?et(!0):et("never")},[]);const tr=async()=>{const st=await loadFromJSON();g([st])},$t=async()=>{const st=await n({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]}),xt=(await mainExports.loadLibraryFromBlob(st)).map(St=>getNonDeletedElements(mainExports.restoreElements(St.elements,null)));g(xt.map(St=>({elements:St,appState:{},files:{}})))},Vt=st=>{st.preventDefault();const tt=linkRegex.exec(Xn);if(!tt){window.alert("Invalid link");return}tt[1]?window.location.hash=tt[0]:window.location.hash=`library=${tt[0]}`,window.location.reload()},_=reactExports.useCallback(()=>{i.length&&It(st=>!st)},[i]),Et=reactExports.useRef(),ot=reactExports.useCallback(()=>{if(!i.length)return;const st=getCombinedBeginTimeList(i),tt=i[0].svg.getCurrentTime()*1e3;let xt=st.find(St=>St>tt+50);xt?xt-=1:xt=tt+500,clearTimeout(Et.current),i.forEach(({svg:St})=>{St.unpauseAnimations()}),Et.current=setTimeout(()=>{i.forEach(({svg:St})=>{St.pauseAnimations(),St.setCurrentTime(xt/1e3)}),It(!0)},xt-tt)},[i]),it=reactExports.useCallback(()=>{i.forEach(({svg:st})=>{st.setCurrentTime(0)})},[i]);reactExports.useEffect(()=>{const st=tt=>{tt.key.toLowerCase()==="p"?_():tt.key.toLowerCase()==="s"?ot():tt.key.toLowerCase()==="r"?it():tt.key.toLowerCase()==="q"?et(xt=>typeof xt=="boolean"?!xt:xt):et(xt=>typeof xt=="boolean"?!0:xt)};return document.addEventListener("keydown",st),()=>{document.removeEventListener("keydown",st)}},[_,ot,it]);const nt=()=>{et(st=>typeof st=="boolean"?!1:st)},ht=()=>{i.length&&i.forEach(({svg:st})=>{exportToSvgFile(st)})},Bt=async()=>{if(i.length){if(zn){await exportToWebmFile(zn);return}gn(!0),et(!1);try{const st=await prepareWebmData(i);er(st)}catch(st){console.log(st)}et(!0),gn(!1)}};return j!==!0?null:jsxRuntimeExports.jsxs("div",{className:"Toolbar",children:[jsxRuntimeExports.jsxs("div",{className:"Toolbar-loader",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:tr,children:"Load File"}),jsxRuntimeExports.jsx("span",{children:"OR"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:$t,children:"Load Library"}),jsxRuntimeExports.jsx("span",{children:"OR"}),jsxRuntimeExports.jsxs("form",{onSubmit:Vt,children:[jsxRuntimeExports.jsx("input",{placeholder:"Enter link...",value:Xn,onChange:st=>En(st.target.value)}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:!linkRegex.test(Xn),children:"Animate!"})]})]}),!!i.length&&jsxRuntimeExports.jsxs("div",{className:"Toolbar-controller",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_,children:rt?"Play (P)":"Pause (P)"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ot,children:"Step (S)"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:it,children:"Reset (R)"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:nt,children:"Hide Toolbar (Q)"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ht,children:"Export to SVG"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Bt,disabled:_t,children:_t?"Processing...":zn?"Export to WebM":"Prepare WebM"})]}),jsxRuntimeExports.jsx(GitHubCorner,{link:"https://github.com/dai-shi/excalidraw-animate",size:40})]})},Viewer=({svgList:i})=>{const g=reactExports.useRef(null);reactExports.useEffect(()=>(i.forEach(({svg:rt})=>{g.current&&g.current.appendChild(rt)}),()=>{i.forEach(({svg:rt})=>{rt.remove()})}),[i]),reactExports.useEffect(()=>{const rt=window.location.hash.slice(1);if(new URLSearchParams(rt).get("autoplay")==="no"&&g.current){const _t=g.current,gn=()=>{i.forEach(({svg:Xn})=>{Xn.setCurrentTime(0),Xn.unpauseAnimations()})};return _t.addEventListener("click",gn),()=>{_t.removeEventListener("click",gn)}}},[i]);const j=Math.ceil(Math.sqrt(i.length)),et=`repeat(${j}, ${100/j}%)`;return jsxRuntimeExports.jsx("div",{className:"Viewer",style:{gridTemplateColumns:et,gridTemplateRows:et},ref:g})};function Anime$1(){const{loading:i,loadedSvgList:g,loadDataList:j}=useLoadSvg();return i?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsx(Toolbar,{svgList:g,loadDataList:j}),!!g.length&&jsxRuntimeExports.jsx(Viewer,{svgList:g})]})}var bundle={exports:{}};(function(module,exports){(function(i,g){module.exports=g()})(self,function(){return(()=>{var __webpack_modules__={773:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval(`// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ src)
});

// NAMESPACE OBJECT: ./src/parser.ts
var src_parser_namespaceObject = {};
__webpack_require__.r(src_parser_namespaceObject);
__webpack_require__.d(src_parser_namespaceObject, {
  "convert": () => (convert)
});

;// CONCATENATED MODULE: ./src/elements/ExcalidrawScene.ts
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var ExcalidrawScene = /*#__PURE__*/function () {
  function ExcalidrawScene() {
    var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

    _classCallCheck(this, ExcalidrawScene);

    _defineProperty(this, "type", "excalidraw");

    _defineProperty(this, "version", 2);

    _defineProperty(this, "source", "https://excalidraw.com");

    _defineProperty(this, "elements", []);

    this.elements = elements;
  }

  _createClass(ExcalidrawScene, [{
    key: "toExJSON",
    value: function toExJSON() {
      return _objectSpread(_objectSpread({}, this), {}, {
        elements: this.elements.map(function (el) {
          return _objectSpread({}, el);
        })
      });
    }
  }]);

  return ExcalidrawScene;
}();

/* harmony default export */ const elements_ExcalidrawScene = (ExcalidrawScene);
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/common.js
/**\r
 * Common utilities\r
 * @module glMatrix\r
 */
// Configuration Constants
var EPSILON = 0.000001;
var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;
var RANDOM = Math.random;
/**\r
 * Sets the type of array used when creating new vectors and matrices\r
 *\r
 * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r
 */

function setMatrixArrayType(type) {
  ARRAY_TYPE = type;
}
var degree = Math.PI / 180;
/**\r
 * Convert Degree To Radian\r
 *\r
 * @param {Number} a Angle in Degrees\r
 */

function toRadian(a) {
  return a * degree;
}
/**\r
 * Tests whether or not the arguments have approximately the same value, within an absolute\r
 * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r
 * than or equal to 1.0, and a relative tolerance is used for larger values)\r
 *\r
 * @param {Number} a The first number to test.\r
 * @param {Number} b The second number to test.\r
 * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r
 */

function equals(a, b) {
  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));
}
if (!Math.hypot) Math.hypot = function () {
  var y = 0,
      i = arguments.length;

  while (i--) {
    y += arguments[i] * arguments[i];
  }

  return Math.sqrt(y);
};
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/mat4.js

/**\r
 * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r
 * @module mat4\r
 */

/**\r
 * Creates a new identity mat4\r
 *\r
 * @returns {mat4} a new 4x4 matrix\r
 */

function create() {
  var out = new ARRAY_TYPE(16);

  if (ARRAY_TYPE != Float32Array) {
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
  }

  out[0] = 1;
  out[5] = 1;
  out[10] = 1;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a new mat4 initialized with values from an existing matrix\r
 *\r
 * @param {ReadonlyMat4} a matrix to clone\r
 * @returns {mat4} a new 4x4 matrix\r
 */

function clone(a) {
  var out = new ARRAY_TYPE(16);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Copy the values from one mat4 to another\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  out[3] = a[3];
  out[4] = a[4];
  out[5] = a[5];
  out[6] = a[6];
  out[7] = a[7];
  out[8] = a[8];
  out[9] = a[9];
  out[10] = a[10];
  out[11] = a[11];
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Create a new mat4 with the given values\r
 *\r
 * @param {Number} m00 Component in column 0, row 0 position (index 0)\r
 * @param {Number} m01 Component in column 0, row 1 position (index 1)\r
 * @param {Number} m02 Component in column 0, row 2 position (index 2)\r
 * @param {Number} m03 Component in column 0, row 3 position (index 3)\r
 * @param {Number} m10 Component in column 1, row 0 position (index 4)\r
 * @param {Number} m11 Component in column 1, row 1 position (index 5)\r
 * @param {Number} m12 Component in column 1, row 2 position (index 6)\r
 * @param {Number} m13 Component in column 1, row 3 position (index 7)\r
 * @param {Number} m20 Component in column 2, row 0 position (index 8)\r
 * @param {Number} m21 Component in column 2, row 1 position (index 9)\r
 * @param {Number} m22 Component in column 2, row 2 position (index 10)\r
 * @param {Number} m23 Component in column 2, row 3 position (index 11)\r
 * @param {Number} m30 Component in column 3, row 0 position (index 12)\r
 * @param {Number} m31 Component in column 3, row 1 position (index 13)\r
 * @param {Number} m32 Component in column 3, row 2 position (index 14)\r
 * @param {Number} m33 Component in column 3, row 3 position (index 15)\r
 * @returns {mat4} A new mat4\r
 */

function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  var out = new ARRAY_TYPE(16);
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
/**\r
 * Set the components of a mat4 to the given values\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {Number} m00 Component in column 0, row 0 position (index 0)\r
 * @param {Number} m01 Component in column 0, row 1 position (index 1)\r
 * @param {Number} m02 Component in column 0, row 2 position (index 2)\r
 * @param {Number} m03 Component in column 0, row 3 position (index 3)\r
 * @param {Number} m10 Component in column 1, row 0 position (index 4)\r
 * @param {Number} m11 Component in column 1, row 1 position (index 5)\r
 * @param {Number} m12 Component in column 1, row 2 position (index 6)\r
 * @param {Number} m13 Component in column 1, row 3 position (index 7)\r
 * @param {Number} m20 Component in column 2, row 0 position (index 8)\r
 * @param {Number} m21 Component in column 2, row 1 position (index 9)\r
 * @param {Number} m22 Component in column 2, row 2 position (index 10)\r
 * @param {Number} m23 Component in column 2, row 3 position (index 11)\r
 * @param {Number} m30 Component in column 3, row 0 position (index 12)\r
 * @param {Number} m31 Component in column 3, row 1 position (index 13)\r
 * @param {Number} m32 Component in column 3, row 2 position (index 14)\r
 * @param {Number} m33 Component in column 3, row 3 position (index 15)\r
 * @returns {mat4} out\r
 */

function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
  out[0] = m00;
  out[1] = m01;
  out[2] = m02;
  out[3] = m03;
  out[4] = m10;
  out[5] = m11;
  out[6] = m12;
  out[7] = m13;
  out[8] = m20;
  out[9] = m21;
  out[10] = m22;
  out[11] = m23;
  out[12] = m30;
  out[13] = m31;
  out[14] = m32;
  out[15] = m33;
  return out;
}
/**\r
 * Set a mat4 to the identity matrix\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @returns {mat4} out\r
 */

function identity(out) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Transpose the values of a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function transpose(out, a) {
  // If we are transposing ourselves we can skip a few steps but have to cache some values
  if (out === a) {
    var a01 = a[1],
        a02 = a[2],
        a03 = a[3];
    var a12 = a[6],
        a13 = a[7];
    var a23 = a[11];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a01;
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a02;
    out[9] = a12;
    out[11] = a[14];
    out[12] = a03;
    out[13] = a13;
    out[14] = a23;
  } else {
    out[0] = a[0];
    out[1] = a[4];
    out[2] = a[8];
    out[3] = a[12];
    out[4] = a[1];
    out[5] = a[5];
    out[6] = a[9];
    out[7] = a[13];
    out[8] = a[2];
    out[9] = a[6];
    out[10] = a[10];
    out[11] = a[14];
    out[12] = a[3];
    out[13] = a[7];
    out[14] = a[11];
    out[15] = a[15];
  }

  return out;
}
/**\r
 * Inverts a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function invert(out, a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant

  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;

  if (!det) {
    return null;
  }

  det = 1.0 / det;
  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
  return out;
}
/**\r
 * Calculates the adjugate of a mat4\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {mat4} out\r
 */

function adjoint(out, a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
  return out;
}
/**\r
 * Calculates the determinant of a mat4\r
 *\r
 * @param {ReadonlyMat4} a the source matrix\r
 * @returns {Number} determinant of a\r
 */

function determinant(a) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15];
  var b00 = a00 * a11 - a01 * a10;
  var b01 = a00 * a12 - a02 * a10;
  var b02 = a00 * a13 - a03 * a10;
  var b03 = a01 * a12 - a02 * a11;
  var b04 = a01 * a13 - a03 * a11;
  var b05 = a02 * a13 - a03 * a12;
  var b06 = a20 * a31 - a21 * a30;
  var b07 = a20 * a32 - a22 * a30;
  var b08 = a20 * a33 - a23 * a30;
  var b09 = a21 * a32 - a22 * a31;
  var b10 = a21 * a33 - a23 * a31;
  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant

  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
}
/**\r
 * Multiplies two mat4s\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function multiply(out, a, b) {
  var a00 = a[0],
      a01 = a[1],
      a02 = a[2],
      a03 = a[3];
  var a10 = a[4],
      a11 = a[5],
      a12 = a[6],
      a13 = a[7];
  var a20 = a[8],
      a21 = a[9],
      a22 = a[10],
      a23 = a[11];
  var a30 = a[12],
      a31 = a[13],
      a32 = a[14],
      a33 = a[15]; // Cache only the current line of the second matrix

  var b0 = b[0],
      b1 = b[1],
      b2 = b[2],
      b3 = b[3];
  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[4];
  b1 = b[5];
  b2 = b[6];
  b3 = b[7];
  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[8];
  b1 = b[9];
  b2 = b[10];
  b3 = b[11];
  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  b0 = b[12];
  b1 = b[13];
  b2 = b[14];
  b3 = b[15];
  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
  return out;
}
/**\r
 * Translate a mat4 by the given vector\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to translate\r
 * @param {ReadonlyVec3} v vector to translate by\r
 * @returns {mat4} out\r
 */

function translate(out, a, v) {
  var x = v[0],
      y = v[1],
      z = v[2];
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;

  if (a === out) {
    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
  } else {
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    out[0] = a00;
    out[1] = a01;
    out[2] = a02;
    out[3] = a03;
    out[4] = a10;
    out[5] = a11;
    out[6] = a12;
    out[7] = a13;
    out[8] = a20;
    out[9] = a21;
    out[10] = a22;
    out[11] = a23;
    out[12] = a00 * x + a10 * y + a20 * z + a[12];
    out[13] = a01 * x + a11 * y + a21 * z + a[13];
    out[14] = a02 * x + a12 * y + a22 * z + a[14];
    out[15] = a03 * x + a13 * y + a23 * z + a[15];
  }

  return out;
}
/**\r
 * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to scale\r
 * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r
 * @returns {mat4} out\r
 **/

function scale(out, a, v) {
  var x = v[0],
      y = v[1],
      z = v[2];
  out[0] = a[0] * x;
  out[1] = a[1] * x;
  out[2] = a[2] * x;
  out[3] = a[3] * x;
  out[4] = a[4] * y;
  out[5] = a[5] * y;
  out[6] = a[6] * y;
  out[7] = a[7] * y;
  out[8] = a[8] * z;
  out[9] = a[9] * z;
  out[10] = a[10] * z;
  out[11] = a[11] * z;
  out[12] = a[12];
  out[13] = a[13];
  out[14] = a[14];
  out[15] = a[15];
  return out;
}
/**\r
 * Rotates a mat4 by the given angle around the given axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @param {ReadonlyVec3} axis the axis to rotate around\r
 * @returns {mat4} out\r
 */

function rotate(out, a, rad, axis) {
  var x = axis[0],
      y = axis[1],
      z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;
  var a00, a01, a02, a03;
  var a10, a11, a12, a13;
  var a20, a21, a22, a23;
  var b00, b01, b02;
  var b10, b11, b12;
  var b20, b21, b22;

  if (len < glMatrix.EPSILON) {
    return null;
  }

  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c;
  a00 = a[0];
  a01 = a[1];
  a02 = a[2];
  a03 = a[3];
  a10 = a[4];
  a11 = a[5];
  a12 = a[6];
  a13 = a[7];
  a20 = a[8];
  a21 = a[9];
  a22 = a[10];
  a23 = a[11]; // Construct the elements of the rotation matrix

  b00 = x * x * t + c;
  b01 = y * x * t + z * s;
  b02 = z * x * t - y * s;
  b10 = x * y * t - z * s;
  b11 = y * y * t + c;
  b12 = z * y * t + x * s;
  b20 = x * z * t + y * s;
  b21 = y * z * t - x * s;
  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication

  out[0] = a00 * b00 + a10 * b01 + a20 * b02;
  out[1] = a01 * b00 + a11 * b01 + a21 * b02;
  out[2] = a02 * b00 + a12 * b01 + a22 * b02;
  out[3] = a03 * b00 + a13 * b01 + a23 * b02;
  out[4] = a00 * b10 + a10 * b11 + a20 * b12;
  out[5] = a01 * b10 + a11 * b11 + a21 * b12;
  out[6] = a02 * b10 + a12 * b11 + a22 * b12;
  out[7] = a03 * b10 + a13 * b11 + a23 * b12;
  out[8] = a00 * b20 + a10 * b21 + a20 * b22;
  out[9] = a01 * b20 + a11 * b21 + a21 * b22;
  out[10] = a02 * b20 + a12 * b21 + a22 * b22;
  out[11] = a03 * b20 + a13 * b21 + a23 * b22;

  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  }

  return out;
}
/**\r
 * Rotates a matrix by the given angle around the X axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateX(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[4] = a10 * c + a20 * s;
  out[5] = a11 * c + a21 * s;
  out[6] = a12 * c + a22 * s;
  out[7] = a13 * c + a23 * s;
  out[8] = a20 * c - a10 * s;
  out[9] = a21 * c - a11 * s;
  out[10] = a22 * c - a12 * s;
  out[11] = a23 * c - a13 * s;
  return out;
}
/**\r
 * Rotates a matrix by the given angle around the Y axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateY(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a20 = a[8];
  var a21 = a[9];
  var a22 = a[10];
  var a23 = a[11];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged rows
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[0] = a00 * c - a20 * s;
  out[1] = a01 * c - a21 * s;
  out[2] = a02 * c - a22 * s;
  out[3] = a03 * c - a23 * s;
  out[8] = a00 * s + a20 * c;
  out[9] = a01 * s + a21 * c;
  out[10] = a02 * s + a22 * c;
  out[11] = a03 * s + a23 * c;
  return out;
}
/**\r
 * Rotates a matrix by the given angle around the Z axis\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to rotate\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function rotateZ(out, a, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad);
  var a00 = a[0];
  var a01 = a[1];
  var a02 = a[2];
  var a03 = a[3];
  var a10 = a[4];
  var a11 = a[5];
  var a12 = a[6];
  var a13 = a[7];

  if (a !== out) {
    // If the source and destination differ, copy the unchanged last row
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
  } // Perform axis-specific matrix multiplication


  out[0] = a00 * c + a10 * s;
  out[1] = a01 * c + a11 * s;
  out[2] = a02 * c + a12 * s;
  out[3] = a03 * c + a13 * s;
  out[4] = a10 * c - a00 * s;
  out[5] = a11 * c - a01 * s;
  out[6] = a12 * c - a02 * s;
  out[7] = a13 * c - a03 * s;
  return out;
}
/**\r
 * Creates a matrix from a vector translation\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, dest, vec);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @returns {mat4} out\r
 */

function fromTranslation(out, v) {
  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a vector scaling\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.scale(dest, dest, vec);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyVec3} v Scaling vector\r
 * @returns {mat4} out\r
 */

function fromScaling(out, v) {
  out[0] = v[0];
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = v[1];
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = v[2];
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a given angle around a given axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotate(dest, dest, rad, axis);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @param {ReadonlyVec3} axis the axis to rotate around\r
 * @returns {mat4} out\r
 */

function fromRotation(out, rad, axis) {
  var x = axis[0],
      y = axis[1],
      z = axis[2];
  var len = Math.hypot(x, y, z);
  var s, c, t;

  if (len < glMatrix.EPSILON) {
    return null;
  }

  len = 1 / len;
  x *= len;
  y *= len;
  z *= len;
  s = Math.sin(rad);
  c = Math.cos(rad);
  t = 1 - c; // Perform rotation-specific matrix multiplication

  out[0] = x * x * t + c;
  out[1] = y * x * t + z * s;
  out[2] = z * x * t - y * s;
  out[3] = 0;
  out[4] = x * y * t - z * s;
  out[5] = y * y * t + c;
  out[6] = z * y * t + x * s;
  out[7] = 0;
  out[8] = x * z * t + y * s;
  out[9] = y * z * t - x * s;
  out[10] = z * z * t + c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the X axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateX(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromXRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = 1;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = c;
  out[6] = s;
  out[7] = 0;
  out[8] = 0;
  out[9] = -s;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the Y axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateY(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromYRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = c;
  out[1] = 0;
  out[2] = -s;
  out[3] = 0;
  out[4] = 0;
  out[5] = 1;
  out[6] = 0;
  out[7] = 0;
  out[8] = s;
  out[9] = 0;
  out[10] = c;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from the given angle around the Z axis\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.rotateZ(dest, dest, rad);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {Number} rad the angle to rotate the matrix by\r
 * @returns {mat4} out\r
 */

function fromZRotation(out, rad) {
  var s = Math.sin(rad);
  var c = Math.cos(rad); // Perform axis-specific matrix multiplication

  out[0] = c;
  out[1] = s;
  out[2] = 0;
  out[3] = 0;
  out[4] = -s;
  out[5] = c;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 1;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation and vector translation\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @returns {mat4} out\r
 */

function fromRotationTranslation(out, q, v) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - (yy + zz);
  out[1] = xy + wz;
  out[2] = xz - wy;
  out[3] = 0;
  out[4] = xy - wz;
  out[5] = 1 - (xx + zz);
  out[6] = yz + wx;
  out[7] = 0;
  out[8] = xz + wy;
  out[9] = yz - wx;
  out[10] = 1 - (xx + yy);
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a new mat4 from a dual quat.\r
 *\r
 * @param {mat4} out Matrix\r
 * @param {ReadonlyQuat2} a Dual Quaternion\r
 * @returns {mat4} mat4 receiving operation result\r
 */

function fromQuat2(out, a) {
  var translation = new glMatrix.ARRAY_TYPE(3);
  var bx = -a[0],
      by = -a[1],
      bz = -a[2],
      bw = a[3],
      ax = a[4],
      ay = a[5],
      az = a[6],
      aw = a[7];
  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense

  if (magnitude > 0) {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
  } else {
    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
  }

  fromRotationTranslation(out, a, translation);
  return out;
}
/**\r
 * Returns the translation vector component of a transformation\r
 *  matrix. If a matrix is built with fromRotationTranslation,\r
 *  the returned vector will be the same as the translation vector\r
 *  originally supplied.\r
 * @param  {vec3} out Vector to receive translation component\r
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {vec3} out\r
 */

function getTranslation(out, mat) {
  out[0] = mat[12];
  out[1] = mat[13];
  out[2] = mat[14];
  return out;
}
/**\r
 * Returns the scaling factor component of a transformation\r
 *  matrix. If a matrix is built with fromRotationTranslationScale\r
 *  with a normalized Quaternion paramter, the returned vector will be\r
 *  the same as the scaling vector\r
 *  originally supplied.\r
 * @param  {vec3} out Vector to receive scaling factor component\r
 * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {vec3} out\r
 */

function getScaling(out, mat) {
  var m11 = mat[0];
  var m12 = mat[1];
  var m13 = mat[2];
  var m21 = mat[4];
  var m22 = mat[5];
  var m23 = mat[6];
  var m31 = mat[8];
  var m32 = mat[9];
  var m33 = mat[10];
  out[0] = Math.hypot(m11, m12, m13);
  out[1] = Math.hypot(m21, m22, m23);
  out[2] = Math.hypot(m31, m32, m33);
  return out;
}
/**\r
 * Returns a quaternion representing the rotational component\r
 *  of a transformation matrix. If a matrix is built with\r
 *  fromRotationTranslation, the returned quaternion will be the\r
 *  same as the quaternion originally supplied.\r
 * @param {quat} out Quaternion to receive the rotation component\r
 * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r
 * @return {quat} out\r
 */

function getRotation(out, mat) {
  var scaling = new glMatrix.ARRAY_TYPE(3);
  getScaling(scaling, mat);
  var is1 = 1 / scaling[0];
  var is2 = 1 / scaling[1];
  var is3 = 1 / scaling[2];
  var sm11 = mat[0] * is1;
  var sm12 = mat[1] * is2;
  var sm13 = mat[2] * is3;
  var sm21 = mat[4] * is1;
  var sm22 = mat[5] * is2;
  var sm23 = mat[6] * is3;
  var sm31 = mat[8] * is1;
  var sm32 = mat[9] * is2;
  var sm33 = mat[10] * is3;
  var trace = sm11 + sm22 + sm33;
  var S = 0;

  if (trace > 0) {
    S = Math.sqrt(trace + 1.0) * 2;
    out[3] = 0.25 * S;
    out[0] = (sm23 - sm32) / S;
    out[1] = (sm31 - sm13) / S;
    out[2] = (sm12 - sm21) / S;
  } else if (sm11 > sm22 && sm11 > sm33) {
    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;
    out[3] = (sm23 - sm32) / S;
    out[0] = 0.25 * S;
    out[1] = (sm12 + sm21) / S;
    out[2] = (sm31 + sm13) / S;
  } else if (sm22 > sm33) {
    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;
    out[3] = (sm31 - sm13) / S;
    out[0] = (sm12 + sm21) / S;
    out[1] = 0.25 * S;
    out[2] = (sm23 + sm32) / S;
  } else {
    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;
    out[3] = (sm12 - sm21) / S;
    out[0] = (sm31 + sm13) / S;
    out[1] = (sm23 + sm32) / S;
    out[2] = 0.25 * S;
  }

  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation, vector translation and vector scale\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *     mat4.scale(dest, scale)\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @param {ReadonlyVec3} s Scaling vector\r
 * @returns {mat4} out\r
 */

function fromRotationTranslationScale(out, q, v, s) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  out[0] = (1 - (yy + zz)) * sx;
  out[1] = (xy + wz) * sx;
  out[2] = (xz - wy) * sx;
  out[3] = 0;
  out[4] = (xy - wz) * sy;
  out[5] = (1 - (xx + zz)) * sy;
  out[6] = (yz + wx) * sy;
  out[7] = 0;
  out[8] = (xz + wy) * sz;
  out[9] = (yz - wx) * sz;
  out[10] = (1 - (xx + yy)) * sz;
  out[11] = 0;
  out[12] = v[0];
  out[13] = v[1];
  out[14] = v[2];
  out[15] = 1;
  return out;
}
/**\r
 * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r
 * This is equivalent to (but much faster than):\r
 *\r
 *     mat4.identity(dest);\r
 *     mat4.translate(dest, vec);\r
 *     mat4.translate(dest, origin);\r
 *     let quatMat = mat4.create();\r
 *     quat4.toMat4(quat, quatMat);\r
 *     mat4.multiply(dest, quatMat);\r
 *     mat4.scale(dest, scale)\r
 *     mat4.translate(dest, negativeOrigin);\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {quat4} q Rotation quaternion\r
 * @param {ReadonlyVec3} v Translation vector\r
 * @param {ReadonlyVec3} s Scaling vector\r
 * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r
 * @returns {mat4} out\r
 */

function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
  // Quaternion math
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var xy = x * y2;
  var xz = x * z2;
  var yy = y * y2;
  var yz = y * z2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  var sx = s[0];
  var sy = s[1];
  var sz = s[2];
  var ox = o[0];
  var oy = o[1];
  var oz = o[2];
  var out0 = (1 - (yy + zz)) * sx;
  var out1 = (xy + wz) * sx;
  var out2 = (xz - wy) * sx;
  var out4 = (xy - wz) * sy;
  var out5 = (1 - (xx + zz)) * sy;
  var out6 = (yz + wx) * sy;
  var out8 = (xz + wy) * sz;
  var out9 = (yz - wx) * sz;
  var out10 = (1 - (xx + yy)) * sz;
  out[0] = out0;
  out[1] = out1;
  out[2] = out2;
  out[3] = 0;
  out[4] = out4;
  out[5] = out5;
  out[6] = out6;
  out[7] = 0;
  out[8] = out8;
  out[9] = out9;
  out[10] = out10;
  out[11] = 0;
  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
  out[15] = 1;
  return out;
}
/**\r
 * Calculates a 4x4 matrix from the given quaternion\r
 *\r
 * @param {mat4} out mat4 receiving operation result\r
 * @param {ReadonlyQuat} q Quaternion to create matrix from\r
 *\r
 * @returns {mat4} out\r
 */

function fromQuat(out, q) {
  var x = q[0],
      y = q[1],
      z = q[2],
      w = q[3];
  var x2 = x + x;
  var y2 = y + y;
  var z2 = z + z;
  var xx = x * x2;
  var yx = y * x2;
  var yy = y * y2;
  var zx = z * x2;
  var zy = z * y2;
  var zz = z * z2;
  var wx = w * x2;
  var wy = w * y2;
  var wz = w * z2;
  out[0] = 1 - yy - zz;
  out[1] = yx + wz;
  out[2] = zx - wy;
  out[3] = 0;
  out[4] = yx - wz;
  out[5] = 1 - xx - zz;
  out[6] = zy + wx;
  out[7] = 0;
  out[8] = zx + wy;
  out[9] = zy - wx;
  out[10] = 1 - xx - yy;
  out[11] = 0;
  out[12] = 0;
  out[13] = 0;
  out[14] = 0;
  out[15] = 1;
  return out;
}
/**\r
 * Generates a frustum matrix with the given bounds\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {Number} left Left bound of the frustum\r
 * @param {Number} right Right bound of the frustum\r
 * @param {Number} bottom Bottom bound of the frustum\r
 * @param {Number} top Top bound of the frustum\r
 * @param {Number} near Near bound of the frustum\r
 * @param {Number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function frustum(out, left, right, bottom, top, near, far) {
  var rl = 1 / (right - left);
  var tb = 1 / (top - bottom);
  var nf = 1 / (near - far);
  out[0] = near * 2 * rl;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = near * 2 * tb;
  out[6] = 0;
  out[7] = 0;
  out[8] = (right + left) * rl;
  out[9] = (top + bottom) * tb;
  out[10] = (far + near) * nf;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[14] = far * near * 2 * nf;
  out[15] = 0;
  return out;
}
/**\r
 * Generates a perspective projection matrix with the given bounds.\r
 * Passing null/undefined/no value for far will generate infinite projection matrix.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {number} fovy Vertical field of view in radians\r
 * @param {number} aspect Aspect ratio. typically viewport width/height\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum, can be null or Infinity\r
 * @returns {mat4} out\r
 */

function perspective(out, fovy, aspect, near, far) {
  var f = 1.0 / Math.tan(fovy / 2),
      nf;
  out[0] = f / aspect;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = f;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[11] = -1;
  out[12] = 0;
  out[13] = 0;
  out[15] = 0;

  if (far != null && far !== Infinity) {
    nf = 1 / (near - far);
    out[10] = (far + near) * nf;
    out[14] = 2 * far * near * nf;
  } else {
    out[10] = -1;
    out[14] = -2 * near;
  }

  return out;
}
/**\r
 * Generates a perspective projection matrix with the given field of view.\r
 * This is primarily useful for generating projection matrices to be used\r
 * with the still experiemental WebVR API.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function perspectiveFromFieldOfView(out, fov, near, far) {
  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);
  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);
  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);
  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);
  var xScale = 2.0 / (leftTan + rightTan);
  var yScale = 2.0 / (upTan + downTan);
  out[0] = xScale;
  out[1] = 0.0;
  out[2] = 0.0;
  out[3] = 0.0;
  out[4] = 0.0;
  out[5] = yScale;
  out[6] = 0.0;
  out[7] = 0.0;
  out[8] = -((leftTan - rightTan) * xScale * 0.5);
  out[9] = (upTan - downTan) * yScale * 0.5;
  out[10] = far / (near - far);
  out[11] = -1.0;
  out[12] = 0.0;
  out[13] = 0.0;
  out[14] = far * near / (near - far);
  out[15] = 0.0;
  return out;
}
/**\r
 * Generates a orthogonal projection matrix with the given bounds\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {number} left Left bound of the frustum\r
 * @param {number} right Right bound of the frustum\r
 * @param {number} bottom Bottom bound of the frustum\r
 * @param {number} top Top bound of the frustum\r
 * @param {number} near Near bound of the frustum\r
 * @param {number} far Far bound of the frustum\r
 * @returns {mat4} out\r
 */

function ortho(out, left, right, bottom, top, near, far) {
  var lr = 1 / (left - right);
  var bt = 1 / (bottom - top);
  var nf = 1 / (near - far);
  out[0] = -2 * lr;
  out[1] = 0;
  out[2] = 0;
  out[3] = 0;
  out[4] = 0;
  out[5] = -2 * bt;
  out[6] = 0;
  out[7] = 0;
  out[8] = 0;
  out[9] = 0;
  out[10] = 2 * nf;
  out[11] = 0;
  out[12] = (left + right) * lr;
  out[13] = (top + bottom) * bt;
  out[14] = (far + near) * nf;
  out[15] = 1;
  return out;
}
/**\r
 * Generates a look-at matrix with the given eye position, focal point, and up axis.\r
 * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {ReadonlyVec3} eye Position of the viewer\r
 * @param {ReadonlyVec3} center Point the viewer is looking at\r
 * @param {ReadonlyVec3} up vec3 pointing up\r
 * @returns {mat4} out\r
 */

function lookAt(out, eye, center, up) {
  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;
  var eyex = eye[0];
  var eyey = eye[1];
  var eyez = eye[2];
  var upx = up[0];
  var upy = up[1];
  var upz = up[2];
  var centerx = center[0];
  var centery = center[1];
  var centerz = center[2];

  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {
    return identity(out);
  }

  z0 = eyex - centerx;
  z1 = eyey - centery;
  z2 = eyez - centerz;
  len = 1 / Math.hypot(z0, z1, z2);
  z0 *= len;
  z1 *= len;
  z2 *= len;
  x0 = upy * z2 - upz * z1;
  x1 = upz * z0 - upx * z2;
  x2 = upx * z1 - upy * z0;
  len = Math.hypot(x0, x1, x2);

  if (!len) {
    x0 = 0;
    x1 = 0;
    x2 = 0;
  } else {
    len = 1 / len;
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }

  y0 = z1 * x2 - z2 * x1;
  y1 = z2 * x0 - z0 * x2;
  y2 = z0 * x1 - z1 * x0;
  len = Math.hypot(y0, y1, y2);

  if (!len) {
    y0 = 0;
    y1 = 0;
    y2 = 0;
  } else {
    len = 1 / len;
    y0 *= len;
    y1 *= len;
    y2 *= len;
  }

  out[0] = x0;
  out[1] = y0;
  out[2] = z0;
  out[3] = 0;
  out[4] = x1;
  out[5] = y1;
  out[6] = z1;
  out[7] = 0;
  out[8] = x2;
  out[9] = y2;
  out[10] = z2;
  out[11] = 0;
  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
  out[15] = 1;
  return out;
}
/**\r
 * Generates a matrix that makes something look at something else.\r
 *\r
 * @param {mat4} out mat4 frustum matrix will be written into\r
 * @param {ReadonlyVec3} eye Position of the viewer\r
 * @param {ReadonlyVec3} center Point the viewer is looking at\r
 * @param {ReadonlyVec3} up vec3 pointing up\r
 * @returns {mat4} out\r
 */

function targetTo(out, eye, target, up) {
  var eyex = eye[0],
      eyey = eye[1],
      eyez = eye[2],
      upx = up[0],
      upy = up[1],
      upz = up[2];
  var z0 = eyex - target[0],
      z1 = eyey - target[1],
      z2 = eyez - target[2];
  var len = z0 * z0 + z1 * z1 + z2 * z2;

  if (len > 0) {
    len = 1 / Math.sqrt(len);
    z0 *= len;
    z1 *= len;
    z2 *= len;
  }

  var x0 = upy * z2 - upz * z1,
      x1 = upz * z0 - upx * z2,
      x2 = upx * z1 - upy * z0;
  len = x0 * x0 + x1 * x1 + x2 * x2;

  if (len > 0) {
    len = 1 / Math.sqrt(len);
    x0 *= len;
    x1 *= len;
    x2 *= len;
  }

  out[0] = x0;
  out[1] = x1;
  out[2] = x2;
  out[3] = 0;
  out[4] = z1 * x2 - z2 * x1;
  out[5] = z2 * x0 - z0 * x2;
  out[6] = z0 * x1 - z1 * x0;
  out[7] = 0;
  out[8] = z0;
  out[9] = z1;
  out[10] = z2;
  out[11] = 0;
  out[12] = eyex;
  out[13] = eyey;
  out[14] = eyez;
  out[15] = 1;
  return out;
}
/**\r
 * Returns a string representation of a mat4\r
 *\r
 * @param {ReadonlyMat4} a matrix to represent as a string\r
 * @returns {String} string representation of the matrix\r
 */

function str(a) {
  return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
}
/**\r
 * Returns Frobenius norm of a mat4\r
 *\r
 * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r
 * @returns {Number} Frobenius norm\r
 */

function frob(a) {
  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
}
/**\r
 * Adds two mat4's\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  out[3] = a[3] + b[3];
  out[4] = a[4] + b[4];
  out[5] = a[5] + b[5];
  out[6] = a[6] + b[6];
  out[7] = a[7] + b[7];
  out[8] = a[8] + b[8];
  out[9] = a[9] + b[9];
  out[10] = a[10] + b[10];
  out[11] = a[11] + b[11];
  out[12] = a[12] + b[12];
  out[13] = a[13] + b[13];
  out[14] = a[14] + b[14];
  out[15] = a[15] + b[15];
  return out;
}
/**\r
 * Subtracts matrix b from matrix a\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @returns {mat4} out\r
 */

function subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  out[3] = a[3] - b[3];
  out[4] = a[4] - b[4];
  out[5] = a[5] - b[5];
  out[6] = a[6] - b[6];
  out[7] = a[7] - b[7];
  out[8] = a[8] - b[8];
  out[9] = a[9] - b[9];
  out[10] = a[10] - b[10];
  out[11] = a[11] - b[11];
  out[12] = a[12] - b[12];
  out[13] = a[13] - b[13];
  out[14] = a[14] - b[14];
  out[15] = a[15] - b[15];
  return out;
}
/**\r
 * Multiply each element of the matrix by a scalar.\r
 *\r
 * @param {mat4} out the receiving matrix\r
 * @param {ReadonlyMat4} a the matrix to scale\r
 * @param {Number} b amount to scale the matrix's elements by\r
 * @returns {mat4} out\r
 */

function multiplyScalar(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  out[3] = a[3] * b;
  out[4] = a[4] * b;
  out[5] = a[5] * b;
  out[6] = a[6] * b;
  out[7] = a[7] * b;
  out[8] = a[8] * b;
  out[9] = a[9] * b;
  out[10] = a[10] * b;
  out[11] = a[11] * b;
  out[12] = a[12] * b;
  out[13] = a[13] * b;
  out[14] = a[14] * b;
  out[15] = a[15] * b;
  return out;
}
/**\r
 * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r
 *\r
 * @param {mat4} out the receiving vector\r
 * @param {ReadonlyMat4} a the first operand\r
 * @param {ReadonlyMat4} b the second operand\r
 * @param {Number} scale the amount to scale b's elements by before adding\r
 * @returns {mat4} out\r
 */

function multiplyScalarAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  out[3] = a[3] + b[3] * scale;
  out[4] = a[4] + b[4] * scale;
  out[5] = a[5] + b[5] * scale;
  out[6] = a[6] + b[6] * scale;
  out[7] = a[7] + b[7] * scale;
  out[8] = a[8] + b[8] * scale;
  out[9] = a[9] + b[9] * scale;
  out[10] = a[10] + b[10] * scale;
  out[11] = a[11] + b[11] * scale;
  out[12] = a[12] + b[12] * scale;
  out[13] = a[13] + b[13] * scale;
  out[14] = a[14] + b[14] * scale;
  out[15] = a[15] + b[15] * scale;
  return out;
}
/**\r
 * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r
 *\r
 * @param {ReadonlyMat4} a The first matrix.\r
 * @param {ReadonlyMat4} b The second matrix.\r
 * @returns {Boolean} True if the matrices are equal, false otherwise.\r
 */

function exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
}
/**\r
 * Returns whether or not the matrices have approximately the same elements in the same position.\r
 *\r
 * @param {ReadonlyMat4} a The first matrix.\r
 * @param {ReadonlyMat4} b The second matrix.\r
 * @returns {Boolean} True if the matrices are equal, false otherwise.\r
 */

function mat4_equals(a, b) {
  var a0 = a[0],
      a1 = a[1],
      a2 = a[2],
      a3 = a[3];
  var a4 = a[4],
      a5 = a[5],
      a6 = a[6],
      a7 = a[7];
  var a8 = a[8],
      a9 = a[9],
      a10 = a[10],
      a11 = a[11];
  var a12 = a[12],
      a13 = a[13],
      a14 = a[14],
      a15 = a[15];
  var b0 = b[0],
      b1 = b[1],
      b2 = b[2],
      b3 = b[3];
  var b4 = b[4],
      b5 = b[5],
      b6 = b[6],
      b7 = b[7];
  var b8 = b[8],
      b9 = b[9],
      b10 = b[10],
      b11 = b[11];
  var b12 = b[12],
      b13 = b[13],
      b14 = b[14],
      b15 = b[15];
  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));
}
/**\r
 * Alias for {@link mat4.multiply}\r
 * @function\r
 */

var mul = (/* unused pure expression or super */ null && (multiply));
/**\r
 * Alias for {@link mat4.subtract}\r
 * @function\r
 */

var sub = (/* unused pure expression or super */ null && (subtract));
;// CONCATENATED MODULE: ./node_modules/roughjs/bin/math.js
function randomSeed() {
    return Math.floor(Math.random() * 2 ** 31);
}
class Random {
    constructor(seed) {
        this.seed = seed;
    }
    next() {
        if (this.seed) {
            return ((2 ** 31 - 1) & (this.seed = Math.imul(48271, this.seed))) / 2 ** 31;
        }
        else {
            return Math.random();
        }
    }
}

;// CONCATENATED MODULE: ./node_modules/nanoid/index.prod.js
// This file replaces \`index.js\` in bundlers like webpack or Rollup,
// according to \`browser\` config in \`package.json\`.



if (false) {}

let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))

let customRandom = (alphabet, size, getRandom) => {
  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes
  // values closer to the alphabet size. The bitmask calculates the closest
  // \`2^31 - 1\` number, which exceeds the alphabet size.
  // For example, the bitmask for the alphabet size 30 is 31 (00011111).
  // \`Math.clz32\` is not used, because it is not available in browsers.
  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1
  // Though, the bitmask solution is not perfect since the bytes exceeding
  // the alphabet size are refused. Therefore, to reliably generate the ID,
  // the random bytes redundancy has to be satisfied.

  // Note: every hardware random generator call is performance expensive,
  // because the system call for entropy collection takes a lot of time.
  // So, to avoid additional system calls, extra bytes are requested in advance.

  // Next, a step determines how many random bytes to generate.
  // The number of random bytes gets decided upon the ID size, mask,
  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance
  // according to benchmarks).

  // \`-~f => Math.ceil(f)\` if f is a float
  // \`-~i => i + 1\` if i is an integer
  let step = -~((1.6 * mask * size) / alphabet.length)

  return () => {
    let id = ''
    while (true) {
      let bytes = getRandom(step)
      // A compact alternative for \`for (var i = 0; i < step; i++)\`.
      let j = step
      while (j--) {
        // Adding \`|| ''\` refuses a random byte that exceeds the alphabet size.
        id += alphabet[bytes[j] & mask] || ''
        if (id.length === size) return id
      }
    }
  }
}

let customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)

let nanoid = (size = 21) => {
  let id = ''
  let bytes = crypto.getRandomValues(new Uint8Array(size))

  // A compact alternative for \`for (var i = 0; i < step; i++)\`.
  while (size--) {
    // It is incorrect to use bytes exceeding the alphabet size.
    // The following mask reduces the random byte in the 0-255 value
    // range to the 0-63 value range. Therefore, adding hacks, such
    // as empty string fallback or magic numbers, is unneccessary because
    // the bitmask trims bytes down to the alphabet size.
    let byte = bytes[size] & 63
    if (byte < 36) {
      // \`0-9a-z\`
      id += byte.toString(36)
    } else if (byte < 62) {
      // \`A-Z\`
      id += (byte - 26).toString(36).toUpperCase()
    } else if (byte < 63) {
      id += '_'
    } else {
      id += '-'
    }
  }
  return id
}



;// CONCATENATED MODULE: ./src/utils.ts
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var utils_random = new Random(Date.now());
var randomInteger = function randomInteger() {
  return Math.floor(utils_random.next() * Math.pow(2, 31));
};
var randomId = function randomId() {
  return nanoid();
};
var safeNumber = function safeNumber(number) {
  return Number(number.toFixed(2));
};
function dimensionsFromPoints(points) {
  var xCoords = points.map(function (_ref) {
    var _ref2 = _slicedToArray(_ref, 1),
        x = _ref2[0];

    return x;
  });
  var yCoords = points.map(function (_ref3) {
    var _ref4 = _slicedToArray(_ref3, 2),
        y = _ref4[1];

    return y;
  });
  var minX = Math.min.apply(Math, _toConsumableArray(xCoords));
  var minY = Math.min.apply(Math, _toConsumableArray(yCoords));
  var maxX = Math.max.apply(Math, _toConsumableArray(xCoords));
  var maxY = Math.max.apply(Math, _toConsumableArray(yCoords));
  return [maxX - minX, maxY - minY];
} // winding order is clockwise values is positive, counter clockwise if negative.

function getWindingOrder(points) {
  var total = points.reduce(function (acc, _ref5, idx, arr) {
    var _ref6 = _slicedToArray(_ref5, 2),
        x1 = _ref6[0],
        y1 = _ref6[1];

    var p2 = arr[idx + 1];
    var x2 = p2 ? p2[0] : 0;
    var y2 = p2 ? p2[1] : 0;
    var e = (x2 - x1) * (y2 + y1);
    return e + acc;
  }, 0);
  return total > 0 ? "clockwise" : "counterclockwise";
}
// EXTERNAL MODULE: ./node_modules/chroma-js/chroma.js
var chroma = __webpack_require__(792);
var chroma_default = /*#__PURE__*/__webpack_require__.n(chroma);
;// CONCATENATED MODULE: ./src/attributes.ts
function attributes_toConsumableArray(arr) { return attributes_arrayWithoutHoles(arr) || attributes_iterableToArray(arr) || attributes_unsupportedIterableToArray(arr) || attributes_nonIterableSpread(); }

function attributes_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function attributes_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return attributes_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return attributes_arrayLikeToArray(o, minLen); }

function attributes_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function attributes_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return attributes_arrayLikeToArray(arr); }

function attributes_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


function hexWithAlpha(color, alpha) {
  return chroma_default()(color).alpha(alpha).css();
}
function has(el, attr) {
  return el.hasAttribute(attr);
}
function get(el, attr, backup) {
  return el.getAttribute(attr) || backup || "";
}
function getNum(el, attr, backup) {
  var numVal = Number(get(el, attr));
  return numVal === NaN ? backup || 0 : numVal;
}
var presAttrs = {
  stroke: "stroke",
  "stroke-opacity": "stroke-opacity",
  "stroke-width": "stroke-width",
  fill: "fill",
  "fill-opacity": "fill-opacity",
  opacity: "opacity"
};
var attrHandlers = {
  stroke: function stroke(_ref) {
    var el = _ref.el,
        exVals = _ref.exVals;
    var strokeColor = get(el, "stroke");
    exVals.strokeColor = has(el, "stroke-opacity") ? hexWithAlpha(strokeColor, getNum(el, "stroke-opacity")) : strokeColor;
  },
  "stroke-opacity": function strokeOpacity(_ref2) {
    var el = _ref2.el,
        exVals = _ref2.exVals;
    exVals.strokeColor = hexWithAlpha(get(el, "stroke", "#000000"), getNum(el, "stroke-opacity"));
  },
  "stroke-width": function strokeWidth(_ref3) {
    var el = _ref3.el,
        exVals = _ref3.exVals;
    exVals.strokeWidth = getNum(el, "stroke-width");
  },
  fill: function fill(_ref4) {
    var el = _ref4.el,
        exVals = _ref4.exVals;
    var fill = get(el, "fill");
    exVals.backgroundColor = fill === "none" ? "#00000000" : fill;
  },
  "fill-opacity": function fillOpacity(_ref5) {
    var el = _ref5.el,
        exVals = _ref5.exVals;
    exVals.backgroundColor = hexWithAlpha(get(el, "fill", "#000000"), getNum(el, "fill-opacity"));
  },
  opacity: function opacity(_ref6) {
    var el = _ref6.el,
        exVals = _ref6.exVals;
    exVals.opacity = getNum(el, "opacity", 100);
  }
}; // Presentation Attributes for SVG Elements:
// https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/Presentation

function presAttrsToElementValues(el) {
  var exVals = attributes_toConsumableArray(el.attributes).reduce(function (exVals, attr) {
    var name = attr.name;

    if (Object.keys(attrHandlers).includes(name)) {
      attrHandlers[name]({
        el: el,
        exVals: exVals
      });
    }

    return exVals;
  }, {});

  return exVals;
}
function filterAttrsToElementValues(el) {
  var filterVals = {};

  if (has(el, "x")) {
    filterVals.x = getNum(el, "x");
  }

  if (has(el, "y")) {
    filterVals.y = getNum(el, "y");
  }

  if (has(el, "width")) {
    filterVals.width = getNum(el, "width");
  }

  if (has(el, "height")) {
    filterVals.height = getNum(el, "height");
  }

  return filterVals;
}
function pointsAttrToPoints(el) {
  var points = [];

  if (has(el, "points")) {
    points = get(el, "points").split(" ").map(function (p) {
      return p.split(",").map(parseFloat);
    });
  }

  return points;
}
;// CONCATENATED MODULE: ./src/elements/Group.ts
function Group_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Group_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function Group_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Group_ownKeys(Object(source), true).forEach(function (key) { Group_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Group_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function Group_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



function getGroupAttrs(groups) {
  return groups.reduce(function (acc, _ref) {
    var element = _ref.element;
    var elVals = presAttrsToElementValues(element);
    return Group_objectSpread(Group_objectSpread({}, acc), elVals);
  }, {});
}

var Group = function Group(element) {
  Group_classCallCheck(this, Group);

  Group_defineProperty(this, "id", randomId());

  Group_defineProperty(this, "element", void 0);

  this.element = element;
};

/* harmony default export */ const elements_Group = (Group);
;// CONCATENATED MODULE: ./src/elements/ExcalidrawElement.ts
function ExcalidrawElement_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function ExcalidrawElement_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ExcalidrawElement_ownKeys(Object(source), true).forEach(function (key) { ExcalidrawElement_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ExcalidrawElement_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function ExcalidrawElement_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function createExElement() {
  return {
    id: randomId(),
    x: 0,
    y: 0,
    strokeColor: "#000000",
    backgroundColor: "#000000",
    fillStyle: "solid",
    strokeWidth: 1,
    strokeStyle: "solid",
    strokeSharpness: "sharp",
    roughness: 0,
    opacity: 100,
    width: 0,
    height: 0,
    angle: 0,
    seed: randomInteger(),
    version: 0,
    versionNonce: 0,
    isDeleted: false,
    groupIds: [],
    boundElementIds: null
  };
}
function createExRect() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "rectangle"
  });
}
function createExLine() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "line",
    points: []
  });
}
function createExEllipse() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "ellipse"
  });
}
function createExDraw() {
  return ExcalidrawElement_objectSpread(ExcalidrawElement_objectSpread({}, createExElement()), {}, {
    type: "draw",
    points: []
  });
}
;// CONCATENATED MODULE: ./node_modules/gl-matrix/esm/vec3.js

/**\r
 * 3 Dimensional Vector\r
 * @module vec3\r
 */

/**\r
 * Creates a new, empty vec3\r
 *\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_create() {
  var out = new ARRAY_TYPE(3);

  if (ARRAY_TYPE != Float32Array) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
  }

  return out;
}
/**\r
 * Creates a new vec3 initialized with values from an existing vector\r
 *\r
 * @param {ReadonlyVec3} a vector to clone\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_clone(a) {
  var out = new glMatrix.ARRAY_TYPE(3);
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
/**\r
 * Calculates the length of a vec3\r
 *\r
 * @param {ReadonlyVec3} a vector to calculate length of\r
 * @returns {Number} length of a\r
 */

function vec3_length(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return Math.hypot(x, y, z);
}
/**\r
 * Creates a new vec3 initialized with the given values\r
 *\r
 * @param {Number} x X component\r
 * @param {Number} y Y component\r
 * @param {Number} z Z component\r
 * @returns {vec3} a new 3D vector\r
 */

function vec3_fromValues(x, y, z) {
  var out = new ARRAY_TYPE(3);
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
/**\r
 * Copy the values from one vec3 to another\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the source vector\r
 * @returns {vec3} out\r
 */

function vec3_copy(out, a) {
  out[0] = a[0];
  out[1] = a[1];
  out[2] = a[2];
  return out;
}
/**\r
 * Set the components of a vec3 to the given values\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {Number} x X component\r
 * @param {Number} y Y component\r
 * @param {Number} z Z component\r
 * @returns {vec3} out\r
 */

function vec3_set(out, x, y, z) {
  out[0] = x;
  out[1] = y;
  out[2] = z;
  return out;
}
/**\r
 * Adds two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_add(out, a, b) {
  out[0] = a[0] + b[0];
  out[1] = a[1] + b[1];
  out[2] = a[2] + b[2];
  return out;
}
/**\r
 * Subtracts vector b from vector a\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_subtract(out, a, b) {
  out[0] = a[0] - b[0];
  out[1] = a[1] - b[1];
  out[2] = a[2] - b[2];
  return out;
}
/**\r
 * Multiplies two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function vec3_multiply(out, a, b) {
  out[0] = a[0] * b[0];
  out[1] = a[1] * b[1];
  out[2] = a[2] * b[2];
  return out;
}
/**\r
 * Divides two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function divide(out, a, b) {
  out[0] = a[0] / b[0];
  out[1] = a[1] / b[1];
  out[2] = a[2] / b[2];
  return out;
}
/**\r
 * Math.ceil the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to ceil\r
 * @returns {vec3} out\r
 */

function ceil(out, a) {
  out[0] = Math.ceil(a[0]);
  out[1] = Math.ceil(a[1]);
  out[2] = Math.ceil(a[2]);
  return out;
}
/**\r
 * Math.floor the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to floor\r
 * @returns {vec3} out\r
 */

function floor(out, a) {
  out[0] = Math.floor(a[0]);
  out[1] = Math.floor(a[1]);
  out[2] = Math.floor(a[2]);
  return out;
}
/**\r
 * Returns the minimum of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function min(out, a, b) {
  out[0] = Math.min(a[0], b[0]);
  out[1] = Math.min(a[1], b[1]);
  out[2] = Math.min(a[2], b[2]);
  return out;
}
/**\r
 * Returns the maximum of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function max(out, a, b) {
  out[0] = Math.max(a[0], b[0]);
  out[1] = Math.max(a[1], b[1]);
  out[2] = Math.max(a[2], b[2]);
  return out;
}
/**\r
 * Math.round the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to round\r
 * @returns {vec3} out\r
 */

function round(out, a) {
  out[0] = Math.round(a[0]);
  out[1] = Math.round(a[1]);
  out[2] = Math.round(a[2]);
  return out;
}
/**\r
 * Scales a vec3 by a scalar number\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to scale\r
 * @param {Number} b amount to scale the vector by\r
 * @returns {vec3} out\r
 */

function vec3_scale(out, a, b) {
  out[0] = a[0] * b;
  out[1] = a[1] * b;
  out[2] = a[2] * b;
  return out;
}
/**\r
 * Adds two vec3's after scaling the second operand by a scalar value\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {Number} scale the amount to scale b by before adding\r
 * @returns {vec3} out\r
 */

function scaleAndAdd(out, a, b, scale) {
  out[0] = a[0] + b[0] * scale;
  out[1] = a[1] + b[1] * scale;
  out[2] = a[2] + b[2] * scale;
  return out;
}
/**\r
 * Calculates the euclidian distance between two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} distance between a and b\r
 */

function distance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return Math.hypot(x, y, z);
}
/**\r
 * Calculates the squared euclidian distance between two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} squared distance between a and b\r
 */

function squaredDistance(a, b) {
  var x = b[0] - a[0];
  var y = b[1] - a[1];
  var z = b[2] - a[2];
  return x * x + y * y + z * z;
}
/**\r
 * Calculates the squared length of a vec3\r
 *\r
 * @param {ReadonlyVec3} a vector to calculate squared length of\r
 * @returns {Number} squared length of a\r
 */

function squaredLength(a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  return x * x + y * y + z * z;
}
/**\r
 * Negates the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to negate\r
 * @returns {vec3} out\r
 */

function negate(out, a) {
  out[0] = -a[0];
  out[1] = -a[1];
  out[2] = -a[2];
  return out;
}
/**\r
 * Returns the inverse of the components of a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to invert\r
 * @returns {vec3} out\r
 */

function inverse(out, a) {
  out[0] = 1.0 / a[0];
  out[1] = 1.0 / a[1];
  out[2] = 1.0 / a[2];
  return out;
}
/**\r
 * Normalize a vec3\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a vector to normalize\r
 * @returns {vec3} out\r
 */

function normalize(out, a) {
  var x = a[0];
  var y = a[1];
  var z = a[2];
  var len = x * x + y * y + z * z;

  if (len > 0) {
    //TODO: evaluate use of glm_invsqrt here?
    len = 1 / Math.sqrt(len);
  }

  out[0] = a[0] * len;
  out[1] = a[1] * len;
  out[2] = a[2] * len;
  return out;
}
/**\r
 * Calculates the dot product of two vec3's\r
 *\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {Number} dot product of a and b\r
 */

function dot(a, b) {
  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
}
/**\r
 * Computes the cross product of two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @returns {vec3} out\r
 */

function cross(out, a, b) {
  var ax = a[0],
      ay = a[1],
      az = a[2];
  var bx = b[0],
      by = b[1],
      bz = b[2];
  out[0] = ay * bz - az * by;
  out[1] = az * bx - ax * bz;
  out[2] = ax * by - ay * bx;
  return out;
}
/**\r
 * Performs a linear interpolation between two vec3's\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function lerp(out, a, b, t) {
  var ax = a[0];
  var ay = a[1];
  var az = a[2];
  out[0] = ax + t * (b[0] - ax);
  out[1] = ay + t * (b[1] - ay);
  out[2] = az + t * (b[2] - az);
  return out;
}
/**\r
 * Performs a hermite interpolation with two control points\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {ReadonlyVec3} c the third operand\r
 * @param {ReadonlyVec3} d the fourth operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function hermite(out, a, b, c, d, t) {
  var factorTimes2 = t * t;
  var factor1 = factorTimes2 * (2 * t - 3) + 1;
  var factor2 = factorTimes2 * (t - 2) + t;
  var factor3 = factorTimes2 * (t - 1);
  var factor4 = factorTimes2 * (3 - 2 * t);
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
/**\r
 * Performs a bezier interpolation with two control points\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the first operand\r
 * @param {ReadonlyVec3} b the second operand\r
 * @param {ReadonlyVec3} c the third operand\r
 * @param {ReadonlyVec3} d the fourth operand\r
 * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r
 * @returns {vec3} out\r
 */

function bezier(out, a, b, c, d, t) {
  var inverseFactor = 1 - t;
  var inverseFactorTimesTwo = inverseFactor * inverseFactor;
  var factorTimes2 = t * t;
  var factor1 = inverseFactorTimesTwo * inverseFactor;
  var factor2 = 3 * t * inverseFactorTimesTwo;
  var factor3 = 3 * factorTimes2 * inverseFactor;
  var factor4 = factorTimes2 * t;
  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
  return out;
}
/**\r
 * Generates a random vector with the given scale\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r
 * @returns {vec3} out\r
 */

function vec3_random(out, scale) {
  scale = scale || 1.0;
  var r = glMatrix.RANDOM() * 2.0 * Math.PI;
  var z = glMatrix.RANDOM() * 2.0 - 1.0;
  var zScale = Math.sqrt(1.0 - z * z) * scale;
  out[0] = Math.cos(r) * zScale;
  out[1] = Math.sin(r) * zScale;
  out[2] = z * scale;
  return out;
}
/**\r
 * Transforms the vec3 with a mat4.\r
 * 4th vector component is implicitly '1'\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyMat4} m matrix to transform with\r
 * @returns {vec3} out\r
 */

function transformMat4(out, a, m) {
  var x = a[0],
      y = a[1],
      z = a[2];
  var w = m[3] * x + m[7] * y + m[11] * z + m[15];
  w = w || 1.0;
  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
  return out;
}
/**\r
 * Transforms the vec3 with a mat3.\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r
 * @returns {vec3} out\r
 */

function transformMat3(out, a, m) {
  var x = a[0],
      y = a[1],
      z = a[2];
  out[0] = x * m[0] + y * m[3] + z * m[6];
  out[1] = x * m[1] + y * m[4] + z * m[7];
  out[2] = x * m[2] + y * m[5] + z * m[8];
  return out;
}
/**\r
 * Transforms the vec3 with a quat\r
 * Can also be used for dual quaternions. (Multiply it with the real part)\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @param {ReadonlyVec3} a the vector to transform\r
 * @param {ReadonlyQuat} q quaternion to transform with\r
 * @returns {vec3} out\r
 */

function transformQuat(out, a, q) {
  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed
  var qx = q[0],
      qy = q[1],
      qz = q[2],
      qw = q[3];
  var x = a[0],
      y = a[1],
      z = a[2]; // var qvec = [qx, qy, qz];
  // var uv = vec3.cross([], qvec, a);

  var uvx = qy * z - qz * y,
      uvy = qz * x - qx * z,
      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);

  var uuvx = qy * uvz - qz * uvy,
      uuvy = qz * uvx - qx * uvz,
      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);

  var w2 = qw * 2;
  uvx *= w2;
  uvy *= w2;
  uvz *= w2; // vec3.scale(uuv, uuv, 2);

  uuvx *= 2;
  uuvy *= 2;
  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));

  out[0] = x + uvx + uuvx;
  out[1] = y + uvy + uuvy;
  out[2] = z + uvz + uuvz;
  return out;
}
/**\r
 * Rotate a 3D vector around the x-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateX(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[0];
  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Rotate a 3D vector around the y-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateY(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
  r[1] = p[1];
  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Rotate a 3D vector around the z-axis\r
 * @param {vec3} out The receiving vec3\r
 * @param {ReadonlyVec3} a The vec3 point to rotate\r
 * @param {ReadonlyVec3} b The origin of the rotation\r
 * @param {Number} rad The angle of rotation in radians\r
 * @returns {vec3} out\r
 */

function vec3_rotateZ(out, a, b, rad) {
  var p = [],
      r = []; //Translate point to the origin

  p[0] = a[0] - b[0];
  p[1] = a[1] - b[1];
  p[2] = a[2] - b[2]; //perform rotation

  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
  r[2] = p[2]; //translate to correct position

  out[0] = r[0] + b[0];
  out[1] = r[1] + b[1];
  out[2] = r[2] + b[2];
  return out;
}
/**\r
 * Get the angle between two 3D vectors\r
 * @param {ReadonlyVec3} a The first operand\r
 * @param {ReadonlyVec3} b The second operand\r
 * @returns {Number} The angle in radians\r
 */

function angle(a, b) {
  var ax = a[0],
      ay = a[1],
      az = a[2],
      bx = b[0],
      by = b[1],
      bz = b[2],
      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),
      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),
      mag = mag1 * mag2,
      cosine = mag && dot(a, b) / mag;
  return Math.acos(Math.min(Math.max(cosine, -1), 1));
}
/**\r
 * Set the components of a vec3 to zero\r
 *\r
 * @param {vec3} out the receiving vector\r
 * @returns {vec3} out\r
 */

function zero(out) {
  out[0] = 0.0;
  out[1] = 0.0;
  out[2] = 0.0;
  return out;
}
/**\r
 * Returns a string representation of a vector\r
 *\r
 * @param {ReadonlyVec3} a vector to represent as a string\r
 * @returns {String} string representation of the vector\r
 */

function vec3_str(a) {
  return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
}
/**\r
 * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r
 *\r
 * @param {ReadonlyVec3} a The first vector.\r
 * @param {ReadonlyVec3} b The second vector.\r
 * @returns {Boolean} True if the vectors are equal, false otherwise.\r
 */

function vec3_exactEquals(a, b) {
  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
}
/**\r
 * Returns whether or not the vectors have approximately the same elements in the same position.\r
 *\r
 * @param {ReadonlyVec3} a The first vector.\r
 * @param {ReadonlyVec3} b The second vector.\r
 * @returns {Boolean} True if the vectors are equal, false otherwise.\r
 */

function vec3_equals(a, b) {
  var a0 = a[0],
      a1 = a[1],
      a2 = a[2];
  var b0 = b[0],
      b1 = b[1],
      b2 = b[2];
  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));
}
/**\r
 * Alias for {@link vec3.subtract}\r
 * @function\r
 */

var vec3_sub = (/* unused pure expression or super */ null && (vec3_subtract));
/**\r
 * Alias for {@link vec3.multiply}\r
 * @function\r
 */

var vec3_mul = (/* unused pure expression or super */ null && (vec3_multiply));
/**\r
 * Alias for {@link vec3.divide}\r
 * @function\r
 */

var div = (/* unused pure expression or super */ null && (divide));
/**\r
 * Alias for {@link vec3.distance}\r
 * @function\r
 */

var dist = (/* unused pure expression or super */ null && (distance));
/**\r
 * Alias for {@link vec3.squaredDistance}\r
 * @function\r
 */

var sqrDist = (/* unused pure expression or super */ null && (squaredDistance));
/**\r
 * Alias for {@link vec3.length}\r
 * @function\r
 */

var len = (/* unused pure expression or super */ null && (vec3_length));
/**\r
 * Alias for {@link vec3.squaredLength}\r
 * @function\r
 */

var sqrLen = (/* unused pure expression or super */ null && (squaredLength));
/**\r
 * Perform some operation over an array of vec3s.\r
 *\r
 * @param {Array} a the array of vectors to iterate over\r
 * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r
 * @param {Number} offset Number of elements to skip at the beginning of the array\r
 * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r
 * @param {Function} fn Function to call for each vector in the array\r
 * @param {Object} [arg] additional argument to pass to fn\r
 * @returns {Array} a\r
 * @function\r
 */

var forEach = function () {
  var vec = vec3_create();
  return function (a, stride, offset, count, fn, arg) {
    var i, l;

    if (!stride) {
      stride = 3;
    }

    if (!offset) {
      offset = 0;
    }

    if (count) {
      l = Math.min(count * stride + offset, a.length);
    } else {
      l = a.length;
    }

    for (i = offset; i < l; i += stride) {
      vec[0] = a[i];
      vec[1] = a[i + 1];
      vec[2] = a[i + 2];
      fn(vec, vec, arg);
      a[i] = vec[0];
      a[i + 1] = vec[1];
      a[i + 2] = vec[2];
    }

    return a;
  };
}();
;// CONCATENATED MODULE: ./src/transform.ts
function transform_slicedToArray(arr, i) { return transform_arrayWithHoles(arr) || transform_iterableToArrayLimit(arr, i) || transform_unsupportedIterableToArray(arr, i) || transform_nonIterableRest(); }

function transform_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function transform_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return transform_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return transform_arrayLikeToArray(o, minLen); }

function transform_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function transform_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function transform_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


/*
SVG transform attr is a bit strange in that it can accept traditional
css transform string (at least per spec) as well as a it's own "unitless"
version of transform functions.

https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform
*/

var transformFunctions = {
  matrix: "matrix",
  matrix3d: "matrix3d",
  perspective: "perspective",
  rotate: "rotate",
  rotate3d: "rotate3d",
  rotateX: "rotateX",
  rotateY: "rotateY",
  rotateZ: "rotateZ",
  scale: "scale",
  scale3d: "scale3d",
  scaleX: "scaleX",
  scaleY: "scaleY",
  scaleZ: "scaleZ",
  skew: "skew",
  skewX: "skewX",
  skewY: "skewY",
  translate: "translate",
  translate3d: "translate3d",
  translateX: "translateX",
  translateY: "translateY",
  translateZ: "translateZ"
};
var transformFunctionsArr = Object.keys(transformFunctions); // type Transform

var defaultUnits = {
  matrix: "",
  matrix3d: "",
  perspective: "perspective",
  rotate: "deg",
  rotate3d: "deg",
  rotateX: "deg",
  rotateY: "deg",
  rotateZ: "deg",
  scale: "",
  scale3d: "",
  scaleX: "",
  scaleY: "",
  scaleZ: "",
  skew: "skew",
  skewX: "deg",
  skewY: "deg",
  translate: "px",
  translate3d: "px",
  translateX: "px",
  translateY: "px",
  translateZ: "px"
}; // Convert between possible svg transform attribute values to css transform attribute values.

var svgTransformToCSSTransform = function svgTransformToCSSTransform(svgTransformStr) {
  // Create transform function string "chunks", e.g "rotate(90deg)"
  var tFuncs = svgTransformStr.match(/(\\w+)\\(([^)]*)\\)/g);

  if (!tFuncs) {
    return "";
  }

  var tFuncValues = tFuncs.map(function (tFuncStr) {
    var _values;

    var type = tFuncStr.split("(")[0];

    if (!type) {
      throw new Error("Unable to find transform name");
    }

    if (!transformFunctionsArr.includes(type)) {
      throw new Error("transform function name \\"".concat(type, "\\" is not valid"));
    } // get the arg/props of the transform function, e.g "90deg".


    var tFuncParts = tFuncStr.match(/([-+]?[0-9]*\\.?[0-9]+)([a-z])*/g);

    if (!tFuncParts) {
      return {
        type: type,
        values: []
      };
    }

    var values = tFuncParts.map(function (a) {
      // Separate the arg value and unit. e.g ["90", "deg"]
      var _a$matchAll = a.matchAll(/([-+]?[0-9]*\\.?[0-9]+)|([a-z])*/g),
          _a$matchAll2 = transform_slicedToArray(_a$matchAll, 2),
          value = _a$matchAll2[0],
          unit = _a$matchAll2[1];

      return {
        unit: unit[0] || defaultUnits[type],
        value: value[0]
      };
    }); // Not supporting x, y args of svg rotate transform yet...

    if (values && type === "rotate" && ((_values = values) === null || _values === void 0 ? void 0 : _values.length) > 1) {
      values = [values[0]];
    }

    return {
      type: type,
      values: values
    };
  }); // Generate a string of transform functions that can be set as a CSS Transform.

  var csstransformStr = tFuncValues.map(function (_ref) {
    var type = _ref.type,
        values = _ref.values;
    var valStr = values.map(function (_ref2) {
      var unit = _ref2.unit,
          value = _ref2.value;
      return "".concat(value).concat(unit);
    }).join(", ");
    return "".concat(type, "(").concat(valStr, ")");
  }).join(" ");
  return csstransformStr;
};

var createDOMMatrixFromSVGStr = function createDOMMatrixFromSVGStr(svgTransformStr) {
  var cssTransformStr = svgTransformToCSSTransform(svgTransformStr);
  return new DOMMatrix(cssTransformStr);
};
function getElementMatrix(el) {
  if (el.hasAttribute("transform")) {
    var elMat = new DOMMatrix(svgTransformToCSSTransform(el.getAttribute("transform") || ""));
    return multiply(create(), create(), elMat.toFloat32Array());
  }

  return create();
}
function getTransformMatrix(el, groups) {
  var accumMat = groups.map(function (_ref3) {
    var element = _ref3.element;
    return getElementMatrix(element);
  }).concat([getElementMatrix(el)]).reduce(function (acc, mat) {
    return multiply(acc, acc, mat);
  }, create());
  return accumMat;
}
function transformPoints(points, transform) {
  return points.map(function (_ref4) {
    var _ref5 = transform_slicedToArray(_ref4, 2),
        x = _ref5[0],
        y = _ref5[1];

    var _vec3$transformMat = transformMat4(vec3_create(), vec3_fromValues(x, y, 1), transform),
        _vec3$transformMat2 = transform_slicedToArray(_vec3$transformMat, 2),
        newX = _vec3$transformMat2[0],
        newY = _vec3$transformMat2[1];

    return [newX, newY];
  });
}
;// CONCATENATED MODULE: ./node_modules/points-on-curve/lib/index.js
// distance between 2 points
function lib_distance(p1, p2) {
    return Math.sqrt(distanceSq(p1, p2));
}
// distance between 2 points squared
function distanceSq(p1, p2) {
    return Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2);
}
// Sistance squared from a point p to the line segment vw
function distanceToSegmentSq(p, v, w) {
    const l2 = distanceSq(v, w);
    if (l2 === 0) {
        return distanceSq(p, v);
    }
    let t = ((p[0] - v[0]) * (w[0] - v[0]) + (p[1] - v[1]) * (w[1] - v[1])) / l2;
    t = Math.max(0, Math.min(1, t));
    return distanceSq(p, lib_lerp(v, w, t));
}
function lib_lerp(a, b, t) {
    return [
        a[0] + (b[0] - a[0]) * t,
        a[1] + (b[1] - a[1]) * t,
    ];
}
// Adapted from https://seant23.wordpress.com/2010/11/12/offset-bezier-curves/
function flatness(points, offset) {
    const p1 = points[offset + 0];
    const p2 = points[offset + 1];
    const p3 = points[offset + 2];
    const p4 = points[offset + 3];
    let ux = 3 * p2[0] - 2 * p1[0] - p4[0];
    ux *= ux;
    let uy = 3 * p2[1] - 2 * p1[1] - p4[1];
    uy *= uy;
    let vx = 3 * p3[0] - 2 * p4[0] - p1[0];
    vx *= vx;
    let vy = 3 * p3[1] - 2 * p4[1] - p1[1];
    vy *= vy;
    if (ux < vx) {
        ux = vx;
    }
    if (uy < vy) {
        uy = vy;
    }
    return ux + uy;
}
function getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints) {
    const outPoints = newPoints || [];
    if (flatness(points, offset) < tolerance) {
        const p0 = points[offset + 0];
        if (outPoints.length) {
            const d = lib_distance(outPoints[outPoints.length - 1], p0);
            if (d > 1) {
                outPoints.push(p0);
            }
        }
        else {
            outPoints.push(p0);
        }
        outPoints.push(points[offset + 3]);
    }
    else {
        // subdivide
        const t = .5;
        const p1 = points[offset + 0];
        const p2 = points[offset + 1];
        const p3 = points[offset + 2];
        const p4 = points[offset + 3];
        const q1 = lib_lerp(p1, p2, t);
        const q2 = lib_lerp(p2, p3, t);
        const q3 = lib_lerp(p3, p4, t);
        const r1 = lib_lerp(q1, q2, t);
        const r2 = lib_lerp(q2, q3, t);
        const red = lib_lerp(r1, r2, t);
        getPointsOnBezierCurveWithSplitting([p1, q1, r1, red], 0, tolerance, outPoints);
        getPointsOnBezierCurveWithSplitting([red, r2, q3, p4], 0, tolerance, outPoints);
    }
    return outPoints;
}
function simplify(points, distance) {
    return simplifyPoints(points, 0, points.length, distance);
}
// Ramer–Douglas–Peucker algorithm
// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm
function simplifyPoints(points, start, end, epsilon, newPoints) {
    const outPoints = newPoints || [];
    // find the most distance point from the endpoints
    const s = points[start];
    const e = points[end - 1];
    let maxDistSq = 0;
    let maxNdx = 1;
    for (let i = start + 1; i < end - 1; ++i) {
        const distSq = distanceToSegmentSq(points[i], s, e);
        if (distSq > maxDistSq) {
            maxDistSq = distSq;
            maxNdx = i;
        }
    }
    // if that point is too far, split
    if (Math.sqrt(maxDistSq) > epsilon) {
        simplifyPoints(points, start, maxNdx + 1, epsilon, outPoints);
        simplifyPoints(points, maxNdx, end, epsilon, outPoints);
    }
    else {
        if (!outPoints.length) {
            outPoints.push(s);
        }
        outPoints.push(e);
    }
    return outPoints;
}
function pointsOnBezierCurves(points, tolerance = 0.15, distance) {
    const newPoints = [];
    const numSegments = (points.length - 1) / 3;
    for (let i = 0; i < numSegments; i++) {
        const offset = i * 3;
        getPointsOnBezierCurveWithSplitting(points, offset, tolerance, newPoints);
    }
    if (distance && distance > 0) {
        return simplifyPoints(newPoints, 0, newPoints.length, distance);
    }
    return newPoints;
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/parser.js
const COMMAND = 0;
const NUMBER = 1;
const EOD = 2;
const PARAMS = { A: 7, a: 7, C: 6, c: 6, H: 1, h: 1, L: 2, l: 2, M: 2, m: 2, Q: 4, q: 4, S: 4, s: 4, T: 2, t: 2, V: 1, v: 1, Z: 0, z: 0 };
function tokenize(d) {
    const tokens = new Array();
    while (d !== '') {
        if (d.match(/^([ \\t\\r\\n,]+)/)) {
            d = d.substr(RegExp.$1.length);
        }
        else if (d.match(/^([aAcChHlLmMqQsStTvVzZ])/)) {
            tokens[tokens.length] = { type: COMMAND, text: RegExp.$1 };
            d = d.substr(RegExp.$1.length);
        }
        else if (d.match(/^(([-+]?[0-9]+(\\.[0-9]*)?|[-+]?\\.[0-9]+)([eE][-+]?[0-9]+)?)/)) {
            tokens[tokens.length] = { type: NUMBER, text: \`\${parseFloat(RegExp.$1)}\` };
            d = d.substr(RegExp.$1.length);
        }
        else {
            return [];
        }
    }
    tokens[tokens.length] = { type: EOD, text: '' };
    return tokens;
}
function isType(token, type) {
    return token.type === type;
}
function parsePath(d) {
    const segments = [];
    const tokens = tokenize(d);
    let mode = 'BOD';
    let index = 0;
    let token = tokens[index];
    while (!isType(token, EOD)) {
        let paramsCount = 0;
        const params = [];
        if (mode === 'BOD') {
            if (token.text === 'M' || token.text === 'm') {
                index++;
                paramsCount = PARAMS[token.text];
                mode = token.text;
            }
            else {
                return parsePath('M0,0' + d);
            }
        }
        else if (isType(token, NUMBER)) {
            paramsCount = PARAMS[mode];
        }
        else {
            index++;
            paramsCount = PARAMS[token.text];
            mode = token.text;
        }
        if ((index + paramsCount) < tokens.length) {
            for (let i = index; i < index + paramsCount; i++) {
                const numbeToken = tokens[i];
                if (isType(numbeToken, NUMBER)) {
                    params[params.length] = +numbeToken.text;
                }
                else {
                    throw new Error('Param not a number: ' + mode + ',' + numbeToken.text);
                }
            }
            if (typeof PARAMS[mode] === 'number') {
                const segment = { key: mode, data: params };
                segments.push(segment);
                index += paramsCount;
                token = tokens[index];
                if (mode === 'M')
                    mode = 'L';
                if (mode === 'm')
                    mode = 'l';
            }
            else {
                throw new Error('Bad segment: ' + mode);
            }
        }
        else {
            throw new Error('Path data ended short');
        }
    }
    return segments;
}
function serialize(segments) {
    const tokens = [];
    for (const { key, data } of segments) {
        tokens.push(key);
        switch (key) {
            case 'C':
            case 'c':
                tokens.push(data[0], \`\${data[1]},\`, data[2], \`\${data[3]},\`, data[4], data[5]);
                break;
            case 'S':
            case 's':
            case 'Q':
            case 'q':
                tokens.push(data[0], \`\${data[1]},\`, data[2], data[3]);
                break;
            default:
                tokens.push(...data);
                break;
        }
    }
    return tokens.join(' ');
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/absolutize.js
// Translate relative commands to absolute commands
function absolutize(segments) {
    let cx = 0, cy = 0;
    let subx = 0, suby = 0;
    const out = [];
    for (const { key, data } of segments) {
        switch (key) {
            case 'M':
                out.push({ key: 'M', data: [...data] });
                [cx, cy] = data;
                [subx, suby] = data;
                break;
            case 'm':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'M', data: [cx, cy] });
                subx = cx;
                suby = cy;
                break;
            case 'L':
                out.push({ key: 'L', data: [...data] });
                [cx, cy] = data;
                break;
            case 'l':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'C':
                out.push({ key: 'C', data: [...data] });
                cx = data[4];
                cy = data[5];
                break;
            case 'c': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'C', data: newdata });
                cx = newdata[4];
                cy = newdata[5];
                break;
            }
            case 'Q':
                out.push({ key: 'Q', data: [...data] });
                cx = data[2];
                cy = data[3];
                break;
            case 'q': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'Q', data: newdata });
                cx = newdata[2];
                cy = newdata[3];
                break;
            }
            case 'A':
                out.push({ key: 'A', data: [...data] });
                cx = data[5];
                cy = data[6];
                break;
            case 'a':
                cx += data[5];
                cy += data[6];
                out.push({ key: 'A', data: [data[0], data[1], data[2], data[3], data[4], cx, cy] });
                break;
            case 'H':
                out.push({ key: 'H', data: [...data] });
                cx = data[0];
                break;
            case 'h':
                cx += data[0];
                out.push({ key: 'H', data: [cx] });
                break;
            case 'V':
                out.push({ key: 'V', data: [...data] });
                cy = data[0];
                break;
            case 'v':
                cy += data[0];
                out.push({ key: 'V', data: [cy] });
                break;
            case 'S':
                out.push({ key: 'S', data: [...data] });
                cx = data[2];
                cy = data[3];
                break;
            case 's': {
                const newdata = data.map((d, i) => (i % 2) ? (d + cy) : (d + cx));
                out.push({ key: 'S', data: newdata });
                cx = newdata[2];
                cy = newdata[3];
                break;
            }
            case 'T':
                out.push({ key: 'T', data: [...data] });
                cx = data[0];
                cy = data[1];
                break;
            case 't':
                cx += data[0];
                cy += data[1];
                out.push({ key: 'T', data: [cx, cy] });
                break;
            case 'Z':
            case 'z':
                out.push({ key: 'Z', data: [] });
                cx = subx;
                cy = suby;
                break;
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/normalize.js
// Normalize path to include only M, L, C, and Z commands
function normalize_normalize(segments) {
    const out = [];
    let lastType = '';
    let cx = 0, cy = 0;
    let subx = 0, suby = 0;
    let lcx = 0, lcy = 0;
    for (const { key, data } of segments) {
        switch (key) {
            case 'M':
                out.push({ key: 'M', data: [...data] });
                [cx, cy] = data;
                [subx, suby] = data;
                break;
            case 'C':
                out.push({ key: 'C', data: [...data] });
                cx = data[4];
                cy = data[5];
                lcx = data[2];
                lcy = data[3];
                break;
            case 'L':
                out.push({ key: 'L', data: [...data] });
                [cx, cy] = data;
                break;
            case 'H':
                cx = data[0];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'V':
                cy = data[0];
                out.push({ key: 'L', data: [cx, cy] });
                break;
            case 'S': {
                let cx1 = 0, cy1 = 0;
                if (lastType === 'C' || lastType === 'S') {
                    cx1 = cx + (cx - lcx);
                    cy1 = cy + (cy - lcy);
                }
                else {
                    cx1 = cx;
                    cy1 = cy;
                }
                out.push({ key: 'C', data: [cx1, cy1, ...data] });
                lcx = data[0];
                lcy = data[1];
                cx = data[2];
                cy = data[3];
                break;
            }
            case 'T': {
                const [x, y] = data;
                let x1 = 0, y1 = 0;
                if (lastType === 'Q' || lastType === 'T') {
                    x1 = cx + (cx - lcx);
                    y1 = cy + (cy - lcy);
                }
                else {
                    x1 = cx;
                    y1 = cy;
                }
                const cx1 = cx + 2 * (x1 - cx) / 3;
                const cy1 = cy + 2 * (y1 - cy) / 3;
                const cx2 = x + 2 * (x1 - x) / 3;
                const cy2 = y + 2 * (y1 - y) / 3;
                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });
                lcx = x1;
                lcy = y1;
                cx = x;
                cy = y;
                break;
            }
            case 'Q': {
                const [x1, y1, x, y] = data;
                const cx1 = cx + 2 * (x1 - cx) / 3;
                const cy1 = cy + 2 * (y1 - cy) / 3;
                const cx2 = x + 2 * (x1 - x) / 3;
                const cy2 = y + 2 * (y1 - y) / 3;
                out.push({ key: 'C', data: [cx1, cy1, cx2, cy2, x, y] });
                lcx = x1;
                lcy = y1;
                cx = x;
                cy = y;
                break;
            }
            case 'A': {
                const r1 = Math.abs(data[0]);
                const r2 = Math.abs(data[1]);
                const angle = data[2];
                const largeArcFlag = data[3];
                const sweepFlag = data[4];
                const x = data[5];
                const y = data[6];
                if (r1 === 0 || r2 === 0) {
                    out.push({ key: 'C', data: [cx, cy, x, y, x, y] });
                    cx = x;
                    cy = y;
                }
                else {
                    if (cx !== x || cy !== y) {
                        const curves = arcToCubicCurves(cx, cy, x, y, r1, r2, angle, largeArcFlag, sweepFlag);
                        curves.forEach(function (curve) {
                            out.push({ key: 'C', data: curve });
                        });
                        cx = x;
                        cy = y;
                    }
                }
                break;
            }
            case 'Z':
                out.push({ key: 'Z', data: [] });
                cx = subx;
                cy = suby;
                break;
        }
        lastType = key;
    }
    return out;
}
function degToRad(degrees) {
    return (Math.PI * degrees) / 180;
}
function normalize_rotate(x, y, angleRad) {
    const X = x * Math.cos(angleRad) - y * Math.sin(angleRad);
    const Y = x * Math.sin(angleRad) + y * Math.cos(angleRad);
    return [X, Y];
}
function arcToCubicCurves(x1, y1, x2, y2, r1, r2, angle, largeArcFlag, sweepFlag, recursive) {
    const angleRad = degToRad(angle);
    let params = [];
    let f1 = 0, f2 = 0, cx = 0, cy = 0;
    if (recursive) {
        [f1, f2, cx, cy] = recursive;
    }
    else {
        [x1, y1] = normalize_rotate(x1, y1, -angleRad);
        [x2, y2] = normalize_rotate(x2, y2, -angleRad);
        const x = (x1 - x2) / 2;
        const y = (y1 - y2) / 2;
        let h = (x * x) / (r1 * r1) + (y * y) / (r2 * r2);
        if (h > 1) {
            h = Math.sqrt(h);
            r1 = h * r1;
            r2 = h * r2;
        }
        const sign = (largeArcFlag === sweepFlag) ? -1 : 1;
        const r1Pow = r1 * r1;
        const r2Pow = r2 * r2;
        const left = r1Pow * r2Pow - r1Pow * y * y - r2Pow * x * x;
        const right = r1Pow * y * y + r2Pow * x * x;
        const k = sign * Math.sqrt(Math.abs(left / right));
        cx = k * r1 * y / r2 + (x1 + x2) / 2;
        cy = k * -r2 * x / r1 + (y1 + y2) / 2;
        f1 = Math.asin(parseFloat(((y1 - cy) / r2).toFixed(9)));
        f2 = Math.asin(parseFloat(((y2 - cy) / r2).toFixed(9)));
        if (x1 < cx) {
            f1 = Math.PI - f1;
        }
        if (x2 < cx) {
            f2 = Math.PI - f2;
        }
        if (f1 < 0) {
            f1 = Math.PI * 2 + f1;
        }
        if (f2 < 0) {
            f2 = Math.PI * 2 + f2;
        }
        if (sweepFlag && f1 > f2) {
            f1 = f1 - Math.PI * 2;
        }
        if (!sweepFlag && f2 > f1) {
            f2 = f2 - Math.PI * 2;
        }
    }
    let df = f2 - f1;
    if (Math.abs(df) > (Math.PI * 120 / 180)) {
        const f2old = f2;
        const x2old = x2;
        const y2old = y2;
        if (sweepFlag && f2 > f1) {
            f2 = f1 + (Math.PI * 120 / 180) * (1);
        }
        else {
            f2 = f1 + (Math.PI * 120 / 180) * (-1);
        }
        x2 = cx + r1 * Math.cos(f2);
        y2 = cy + r2 * Math.sin(f2);
        params = arcToCubicCurves(x2, y2, x2old, y2old, r1, r2, angle, 0, sweepFlag, [f2, f2old, cx, cy]);
    }
    df = f2 - f1;
    const c1 = Math.cos(f1);
    const s1 = Math.sin(f1);
    const c2 = Math.cos(f2);
    const s2 = Math.sin(f2);
    const t = Math.tan(df / 4);
    const hx = 4 / 3 * r1 * t;
    const hy = 4 / 3 * r2 * t;
    const m1 = [x1, y1];
    const m2 = [x1 + hx * s1, y1 - hy * c1];
    const m3 = [x2 + hx * s2, y2 - hy * c2];
    const m4 = [x2, y2];
    m2[0] = 2 * m1[0] - m2[0];
    m2[1] = 2 * m1[1] - m2[1];
    if (recursive) {
        return [m2, m3, m4].concat(params);
    }
    else {
        params = [m2, m3, m4].concat(params);
        const curves = [];
        for (let i = 0; i < params.length; i += 3) {
            const r1 = normalize_rotate(params[i][0], params[i][1], angleRad);
            const r2 = normalize_rotate(params[i + 1][0], params[i + 1][1], angleRad);
            const r3 = normalize_rotate(params[i + 2][0], params[i + 2][1], angleRad);
            curves.push([r1[0], r1[1], r2[0], r2[1], r3[0], r3[1]]);
        }
        return curves;
    }
}

;// CONCATENATED MODULE: ./node_modules/path-data-parser/lib/index.js




;// CONCATENATED MODULE: ./node_modules/points-on-path/lib/index.js


function pointsOnPath(path, tolerance, distance) {
    const segments = parsePath(path);
    const normalized = normalize_normalize(absolutize(segments));
    const sets = [];
    let currentPoints = [];
    let start = [0, 0];
    let pendingCurve = [];
    const appendPendingCurve = () => {
        if (pendingCurve.length >= 4) {
            currentPoints.push(...pointsOnBezierCurves(pendingCurve, tolerance));
        }
        pendingCurve = [];
    };
    const appendPendingPoints = () => {
        appendPendingCurve();
        if (currentPoints.length) {
            sets.push(currentPoints);
            currentPoints = [];
        }
    };
    for (const { key, data } of normalized) {
        switch (key) {
            case 'M':
                appendPendingPoints();
                start = [data[0], data[1]];
                currentPoints.push(start);
                break;
            case 'L':
                appendPendingCurve();
                currentPoints.push([data[0], data[1]]);
                break;
            case 'C':
                if (!pendingCurve.length) {
                    const lastPoint = currentPoints.length ? currentPoints[currentPoints.length - 1] : start;
                    pendingCurve.push([lastPoint[0], lastPoint[1]]);
                }
                pendingCurve.push([data[0], data[1]]);
                pendingCurve.push([data[2], data[3]]);
                pendingCurve.push([data[4], data[5]]);
                break;
            case 'Z':
                appendPendingCurve();
                currentPoints.push([start[0], start[1]]);
                break;
        }
    }
    appendPendingPoints();
    if (!distance) {
        return sets;
    }
    const out = [];
    for (const set of sets) {
        const simplifiedSet = simplify(set, distance);
        if (simplifiedSet.length) {
            out.push(simplifiedSet);
        }
    }
    return out;
}

;// CONCATENATED MODULE: ./src/walker.ts
function walker_slicedToArray(arr, i) { return walker_arrayWithHoles(arr) || walker_iterableToArrayLimit(arr, i) || walker_unsupportedIterableToArray(arr, i) || walker_nonIterableRest(); }

function walker_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function walker_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function walker_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function walker_toConsumableArray(arr) { return walker_arrayWithoutHoles(arr) || walker_iterableToArray(arr) || walker_unsupportedIterableToArray(arr) || walker_nonIterableSpread(); }

function walker_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function walker_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return walker_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return walker_arrayLikeToArray(o, minLen); }

function walker_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function walker_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return walker_arrayLikeToArray(arr); }

function walker_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function walker_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function walker_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { walker_ownKeys(Object(source), true).forEach(function (key) { walker_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { walker_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function walker_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var SUPPORTED_TAGS = ["svg", "path", "g", "use", "circle", "ellipse", "rect", "polyline", "polygon"];

var nodeValidator = function nodeValidator(node) {
  if (SUPPORTED_TAGS.includes(node.tagName)) {
    return NodeFilter.FILTER_ACCEPT;
  }

  return NodeFilter.FILTER_REJECT;
};

function createTreeWalker(dom) {
  return document.createTreeWalker(dom, NodeFilter.SHOW_ALL, {
    acceptNode: nodeValidator
  });
}

var walker_presAttrs = function presAttrs(el, groups) {
  return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, getGroupAttrs(groups)), presAttrsToElementValues(el)), filterAttrsToElementValues(el));
};

var skippedUseAttrs = ["id"];
var allwaysPassedUseAttrs = ["x", "y", "width", "height", "href", "xlink:href"];
/*
  "Most attributes on use do not override those already on the element
  referenced by use. (This differs from how CSS style attributes override
  those set 'earlier' in the cascade). Only the attributes x, y, width,
  height and href on the use element will override those set on the
  referenced element. However, any other attributes not set on the referenced
  element will be applied to the use element."

  Situation 1: Attr is set on defEl, NOT on useEl
    - result: use defEl attr
  Situation 2: Attr is on useEl, NOT on defEl
    - result: use the useEl attr
  Situation 3: Attr is on both useEl and defEl
    - result: use the defEl attr (Unless x, y, width, height, href, xlink:href)
*/

var getDefElWithCorrectAttrs = function getDefElWithCorrectAttrs(defEl, useEl) {
  var finalEl = walker_toConsumableArray(useEl.attributes).reduce(function (el, attr) {
    if (skippedUseAttrs.includes(attr.value)) {
      return el;
    } // Does defEl have the attr? If so, use it, else use the useEl attr


    if (!defEl.hasAttribute(attr.name) || allwaysPassedUseAttrs.includes(attr.name)) {
      el.setAttribute(attr.name, useEl.getAttribute(attr.name) || "");
    }

    return el;
  }, defEl.cloneNode());

  return finalEl;
};

var walkers = {
  svg: function svg(args) {
    walk(args, args.tw.nextNode());
  },
  g: function g(args) {
    var nextArgs = walker_objectSpread(walker_objectSpread({}, args), {}, {
      tw: createTreeWalker(args.tw.currentNode),
      groups: [].concat(walker_toConsumableArray(args.groups), [new elements_Group(args.tw.currentNode)])
    });

    walk(nextArgs, nextArgs.tw.nextNode());
    walk(args, args.tw.nextSibling());
  },
  use: function use(args) {
    var root = args.root,
        tw = args.tw,
        scene = args.scene;
    var useEl = tw.currentNode;
    var id = useEl.getAttribute("href") || useEl.getAttribute("xlink:href");

    if (!id) {
      throw new Error("unable to get id of use element");
    }

    var defEl = root.querySelector(id);

    if (!defEl) {
      throw new Error("unable to find def element with id: ".concat(id));
    }

    var tempScene = new elements_ExcalidrawScene();
    var finalEl = getDefElWithCorrectAttrs(defEl, useEl);
    walk(walker_objectSpread(walker_objectSpread({}, args), {}, {
      scene: tempScene,
      tw: createTreeWalker(finalEl)
    }), finalEl);
    var exEl = tempScene.elements.pop();

    if (!exEl) {
      throw new Error("Unable to create ex element");
    }

    scene.elements.push(exEl);
    walk(args, args.tw.nextNode());
  },
  circle: function circle(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var r = getNum(el, "r", 0);
    var d = r * 2;
    var x = getNum(el, "x", 0) + getNum(el, "cx", 0) - r;
    var y = getNum(el, "y", 0) + getNum(el, "cy", 0) - r;
    var mat = getTransformMatrix(el, groups); // @ts-ignore

    var m = fromValues(d, 0, 0, 0, 0, d, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);

    var circle = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      groupIds: groups.map(function (g) {
        return g.id;
      })
    });

    scene.elements.push(circle);
    walk(args, tw.nextNode());
  },
  ellipse: function ellipse(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var rx = getNum(el, "rx", 0);
    var ry = getNum(el, "ry", 0);
    var cx = getNum(el, "cx", 0);
    var cy = getNum(el, "cy", 0);
    var x = getNum(el, "x", 0) + cx - rx;
    var y = getNum(el, "y", 0) + cy - ry;
    var w = rx * 2;
    var h = ry * 2;
    var mat = getTransformMatrix(el, groups);
    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);

    var ellipse = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExEllipse()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      groupIds: groups.map(function (g) {
        return g.id;
      })
    });

    scene.elements.push(ellipse);
    walk(args, tw.nextNode());
  },
  line: function line(args) {
    // unimplemented
    walk(args, args.tw.nextNode());
  },
  polygon: function polygon(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var points = pointsAttrToPoints(el);
    var mat = getTransformMatrix(el, groups);
    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points
    // are relative to the first point.

    var x = transformedPoints[0][0];
    var y = transformedPoints[0][1];
    var relativePoints = transformedPoints.map(function (_ref) {
      var _ref2 = walker_slicedToArray(_ref, 2),
          _x = _ref2[0],
          _y = _ref2[1];

      return [_x - x, _y - y];
    });

    var _dimensionsFromPoints = dimensionsFromPoints(relativePoints),
        _dimensionsFromPoints2 = walker_slicedToArray(_dimensionsFromPoints, 2),
        width = _dimensionsFromPoints2[0],
        height = _dimensionsFromPoints2[1];

    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {
      points: relativePoints.concat([[0, 0]]),
      x: x,
      y: y,
      width: width,
      height: height
    });

    scene.elements.push(line);
    walk(args, args.tw.nextNode());
  },
  polyline: function polyline(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var mat = getTransformMatrix(el, groups);
    var points = pointsAttrToPoints(el);
    var transformedPoints = transformPoints(points, mat); // The first point needs to be 0, 0, and all following points
    // are relative to the first point.

    var x = transformedPoints[0][0];
    var y = transformedPoints[0][1];
    var relativePoints = transformedPoints.map(function (_ref3) {
      var _ref4 = walker_slicedToArray(_ref3, 2),
          _x = _ref4[0],
          _y = _ref4[1];

      return [_x - x, _y - y];
    });

    var _dimensionsFromPoints3 = dimensionsFromPoints(relativePoints),
        _dimensionsFromPoints4 = walker_slicedToArray(_dimensionsFromPoints3, 2),
        width = _dimensionsFromPoints4[0],
        height = _dimensionsFromPoints4[1];

    var hasFill = has(el, "fill");
    var fill = get(el, "fill");
    var shouldFill = !hasFill || hasFill && fill !== "none";

    var line = walker_objectSpread(walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExLine()), getGroupAttrs(groups)), presAttrsToElementValues(el)), {}, {
      points: relativePoints.concat(shouldFill ? [[0, 0]] : []),
      x: x,
      y: y,
      width: width,
      height: height
    });

    scene.elements.push(line);
    walk(args, args.tw.nextNode());
  },
  rect: function rect(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var x = getNum(el, "x", 0);
    var y = getNum(el, "y", 0);
    var w = getNum(el, "width", 0);
    var h = getNum(el, "height", 0);
    var mat = getTransformMatrix(el, groups); // @ts-ignore

    var m = fromValues(w, 0, 0, 0, 0, h, 0, 0, 0, 0, 1, 0, x, y, 0, 1);
    var result = multiply(create(), mat, m);
    /*
    NOTE: Currently there doesn't seem to be a way to specify the border
          radius of a rect within Excalidraw. This means that attributes
          rx and ry can't be used.
    */

    var isRound = el.hasAttribute("rx") || el.hasAttribute("ry");

    var rect = walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExRect()), walker_presAttrs(el, groups)), {}, {
      x: result[12],
      y: result[13],
      width: result[0],
      height: result[5],
      strokeSharpness: isRound ? "round" : "sharp"
    });

    scene.elements.push(rect);
    walk(args, args.tw.nextNode());
  },
  path: function path(args) {
    var tw = args.tw,
        scene = args.scene,
        groups = args.groups;
    var el = tw.currentNode;
    var mat = getTransformMatrix(el, groups);
    var points = pointsOnPath(get(el, "d"));
    var fillColor = get(el, "fill", "black");
    var fillRule = get(el, "fill-rule", "nonzero");
    var elements = [];
    var localGroup = randomId();

    switch (fillRule) {
      case "nonzero":
        var initialWindingOrder = "clockwise";
        elements = points.map(function (pointArr, idx) {
          var tPoints = transformPoints(pointArr, clone(mat));
          var x = tPoints[0][0];
          var y = tPoints[0][1];

          var _dimensionsFromPoints5 = dimensionsFromPoints(tPoints),
              _dimensionsFromPoints6 = walker_slicedToArray(_dimensionsFromPoints5, 2),
              width = _dimensionsFromPoints6[0],
              height = _dimensionsFromPoints6[1];

          var relativePoints = tPoints.map(function (_ref5) {
            var _ref6 = walker_slicedToArray(_ref5, 2),
                _x = _ref6[0],
                _y = _ref6[1];

            return [_x - x, _y - y];
          });
          var windingOrder = getWindingOrder(relativePoints);

          if (idx === 0) {
            initialWindingOrder = windingOrder;
            localGroup = randomId();
          }

          var backgroundColor = fillColor;

          if (initialWindingOrder !== windingOrder) {
            backgroundColor = "#FFFFFF";
          }

          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), {}, {
            strokeWidth: 0,
            strokeColor: "#00000000"
          }, walker_presAttrs(el, groups)), {}, {
            points: relativePoints,
            backgroundColor: backgroundColor,
            width: width,
            height: height,
            x: x + getNum(el, "x", 0),
            y: y + getNum(el, "y", 0),
            groupIds: [localGroup]
          });
        });
        break;

      case "evenodd":
        elements = points.map(function (pointArr, idx) {
          var tPoints = transformPoints(pointArr, clone(mat));
          var x = tPoints[0][0];
          var y = tPoints[0][1];

          var _dimensionsFromPoints7 = dimensionsFromPoints(tPoints),
              _dimensionsFromPoints8 = walker_slicedToArray(_dimensionsFromPoints7, 2),
              width = _dimensionsFromPoints8[0],
              height = _dimensionsFromPoints8[1];

          var relativePoints = tPoints.map(function (_ref7) {
            var _ref8 = walker_slicedToArray(_ref7, 2),
                _x = _ref8[0],
                _y = _ref8[1];

            return [_x - x, _y - y];
          });

          if (idx === 0) {
            localGroup = randomId();
          }

          return walker_objectSpread(walker_objectSpread(walker_objectSpread({}, createExDraw()), walker_presAttrs(el, groups)), {}, {
            points: relativePoints,
            width: width,
            height: height,
            x: x + getNum(el, "x", 0),
            y: y + getNum(el, "y", 0)
          });
        });
        break;

      default:
    }

    scene.elements = scene.elements.concat(elements);
    walk(args, tw.nextNode());
  }
};
function walk(args, nextNode) {
  if (!nextNode) {
    return;
  }

  var nodeName = nextNode.nodeName;

  if (walkers[nodeName]) {
    walkers[nodeName](args);
  }
}
;// CONCATENATED MODULE: ./src/parser.ts
function parser_toConsumableArray(arr) { return parser_arrayWithoutHoles(arr) || parser_iterableToArray(arr) || parser_unsupportedIterableToArray(arr) || parser_nonIterableSpread(); }

function parser_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function parser_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return parser_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return parser_arrayLikeToArray(o, minLen); }

function parser_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function parser_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return parser_arrayLikeToArray(arr); }

function parser_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



var convert = function convert(svgString) {
  var parser = new DOMParser();
  var svgDOM = parser.parseFromString(svgString, "image/svg+xml"); // was there a parsing error?

  var errorsElements = svgDOM.querySelectorAll("parsererror");
  var hasErrors = errorsElements.length > 0;
  var content = null;

  if (hasErrors) {
    console.error("There were errors while parsing the given SVG: ", parser_toConsumableArray(errorsElements).map(function (el) {
      return el.innerHTML;
    }));
  } else {
    var tw = createTreeWalker(svgDOM);
    var scene = new elements_ExcalidrawScene();
    var groups = [];
    walk({
      tw: tw,
      scene: scene,
      groups: groups,
      root: svgDOM
    }, tw.nextNode());
    content = scene.toExJSON();
  }

  return {
    hasErrors: hasErrors,
    errors: hasErrors ? errorsElements : null,
    content: content
  };
};
;// CONCATENATED MODULE: ./src/index.ts

/* harmony default export */ const src = (src_parser_namespaceObject);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzczLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFFTUE7QUFNSiw2QkFBMkI7QUFBQSxRQUFmQyxRQUFlLHVFQUFKLEVBQUk7O0FBQUE7O0FBQUEsa0NBTHBCLFlBS29COztBQUFBLHFDQUpqQixDQUlpQjs7QUFBQSxvQ0FIbEIsd0JBR2tCOztBQUFBLHNDQUZZLEVBRVo7O0FBQ3pCLFNBQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0Q7Ozs7V0FFRCxvQkFBZ0I7QUFDZCw2Q0FDSyxJQURMO0FBRUVBLFFBQUFBLFFBQVEsRUFBRSxLQUFLQSxRQUFMLENBQWNDLEdBQWQsQ0FBa0IsVUFBQ0MsRUFBRDtBQUFBLG1DQUFjQSxFQUFkO0FBQUEsU0FBbEI7QUFGWjtBQUlEOzs7Ozs7QUFHSCwrREFBZUgsZUFBZixFOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0Q0FBNEM7QUFDdkQ7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFOztBQ2pEd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1AsZ0JBQWdCLFVBQW1COztBQUVuQyxNQUFNLFVBQW1CO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUCxnQkFBZ0IsVUFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1AsZ0JBQWdCLFVBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQzs7QUFFbkM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixhQUFhLFFBQVE7QUFDckI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOzs7QUFHSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQSx5QkFBeUI7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxlQUFlO0FBQzFCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQixZQUFZLGNBQWM7QUFDMUIsWUFBWSxNQUFNO0FBQ2xCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQixZQUFZLGNBQWM7QUFDMUIsWUFBWSxNQUFNO0FBQ2xCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFlBQVksTUFBTTtBQUNsQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsT0FBTztBQUNsQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekI7QUFDQSxhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsUUFBUTtBQUNyQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsU0FBUztBQUN0Qjs7QUFFTyxTQUFTLFdBQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVPLFVBQVUsd0RBQVE7QUFDekI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTyxVQUFVLHdEQUFRLEc7O0FDcnhEbEI7QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2ZBO0FBQ0E7O0FBRXFEOztBQUVyRCxJQUFJLEtBQUssRUFBRSxFQTBCVjs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELFVBQVU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0QsVUFBVTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9FOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZHcEU7QUFDQTtBQUdBLElBQU1NLFlBQU0sR0FBRyxJQUFJRixNQUFKLENBQVdHLElBQUksQ0FBQ0MsR0FBTCxFQUFYLENBQWY7QUFFTyxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCO0FBQUEsU0FBY0MsSUFBSSxDQUFDQyxLQUFMLENBQVdMLFlBQU0sQ0FBQ00sSUFBUCxjQUFnQixDQUFoQixFQUFxQixFQUFyQixDQUFYLENBQWQ7QUFBQSxDQUF0QjtBQUVBLElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFXO0FBQUEsU0FBY1IsTUFBTSxFQUFwQjtBQUFBLENBQWpCO0FBRUEsSUFBTVMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0MsTUFBRDtBQUFBLFNBQTRCQyxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBUCxDQUFlLENBQWYsQ0FBRCxDQUFsQztBQUFBLENBQW5CO0FBRUEsU0FBU0Msb0JBQVQsQ0FBOEJDLE1BQTlCLEVBQTREO0FBQ2pFLE1BQU1DLE9BQU8sR0FBR0QsTUFBTSxDQUFDakIsR0FBUCxDQUFXO0FBQUE7QUFBQSxRQUFFbUIsQ0FBRjs7QUFBQSxXQUFTQSxDQUFUO0FBQUEsR0FBWCxDQUFoQjtBQUNBLE1BQU1DLE9BQU8sR0FBR0gsTUFBTSxDQUFDakIsR0FBUCxDQUFXO0FBQUE7QUFBQSxRQUFJcUIsQ0FBSjs7QUFBQSxXQUFXQSxDQUFYO0FBQUEsR0FBWCxDQUFoQjtBQUVBLE1BQU1DLElBQUksR0FBR2QsSUFBSSxDQUFDZSxHQUFMLE9BQUFmLElBQUkscUJBQVFVLE9BQVIsRUFBakI7QUFDQSxNQUFNTSxJQUFJLEdBQUdoQixJQUFJLENBQUNlLEdBQUwsT0FBQWYsSUFBSSxxQkFBUVksT0FBUixFQUFqQjtBQUNBLE1BQU1LLElBQUksR0FBR2pCLElBQUksQ0FBQ2tCLEdBQUwsT0FBQWxCLElBQUkscUJBQVFVLE9BQVIsRUFBakI7QUFDQSxNQUFNUyxJQUFJLEdBQUduQixJQUFJLENBQUNrQixHQUFMLE9BQUFsQixJQUFJLHFCQUFRWSxPQUFSLEVBQWpCO0FBRUEsU0FBTyxDQUFDSyxJQUFJLEdBQUdILElBQVIsRUFBY0ssSUFBSSxHQUFHSCxJQUFyQixDQUFQO0FBQ0QsRUFFRDs7QUFDTyxTQUFTSSxlQUFULENBQ0xYLE1BREssRUFFNkI7QUFDbEMsTUFBTVksS0FBSyxHQUFHWixNQUFNLENBQUNhLE1BQVAsQ0FBYyxVQUFDQyxHQUFELFNBQWdCQyxHQUFoQixFQUFxQkMsR0FBckIsRUFBNkI7QUFBQTtBQUFBLFFBQXRCQyxFQUFzQjtBQUFBLFFBQWxCQyxFQUFrQjs7QUFDdkQsUUFBTUMsRUFBRSxHQUFHSCxHQUFHLENBQUNELEdBQUcsR0FBRyxDQUFQLENBQWQ7QUFDQSxRQUFNSyxFQUFFLEdBQUdELEVBQUUsR0FBR0EsRUFBRSxDQUFDLENBQUQsQ0FBTCxHQUFXLENBQXhCO0FBQ0EsUUFBTUUsRUFBRSxHQUFHRixFQUFFLEdBQUdBLEVBQUUsQ0FBQyxDQUFELENBQUwsR0FBVyxDQUF4QjtBQUVBLFFBQU1HLENBQUMsR0FBRyxDQUFDRixFQUFFLEdBQUdILEVBQU4sS0FBYUksRUFBRSxHQUFHSCxFQUFsQixDQUFWO0FBRUEsV0FBT0ksQ0FBQyxHQUFHUixHQUFYO0FBQ0QsR0FSYSxFQVFYLENBUlcsQ0FBZDtBQVVBLFNBQU9GLEtBQUssR0FBRyxDQUFSLEdBQVksV0FBWixHQUEwQixrQkFBakM7QUFDRCxDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZDRDtBQUdPLFNBQVNZLFlBQVQsQ0FBc0JDLEtBQXRCLEVBQXFDQyxLQUFyQyxFQUE0RDtBQUNqRSxTQUFPSCxnQkFBTSxDQUFDRSxLQUFELENBQU4sQ0FBY0MsS0FBZCxDQUFvQkEsS0FBcEIsRUFBMkJDLEdBQTNCLEVBQVA7QUFDRDtBQUVNLFNBQVNDLEdBQVQsQ0FBYTVDLEVBQWIsRUFBMEI2QyxJQUExQixFQUFpRDtBQUN0RCxTQUFPN0MsRUFBRSxDQUFDOEMsWUFBSCxDQUFnQkQsSUFBaEIsQ0FBUDtBQUNEO0FBRU0sU0FBU0UsR0FBVCxDQUFhL0MsRUFBYixFQUEwQjZDLElBQTFCLEVBQXdDRyxNQUF4QyxFQUFpRTtBQUN0RSxTQUFPaEQsRUFBRSxDQUFDaUQsWUFBSCxDQUFnQkosSUFBaEIsS0FBeUJHLE1BQXpCLElBQW1DLEVBQTFDO0FBQ0Q7QUFFTSxTQUFTRSxNQUFULENBQWdCbEQsRUFBaEIsRUFBNkI2QyxJQUE3QixFQUEyQ0csTUFBM0MsRUFBb0U7QUFDekUsTUFBTUcsTUFBTSxHQUFHdEMsTUFBTSxDQUFDa0MsR0FBRyxDQUFDL0MsRUFBRCxFQUFLNkMsSUFBTCxDQUFKLENBQXJCO0FBQ0EsU0FBT00sTUFBTSxLQUFLQyxHQUFYLEdBQWlCSixNQUFNLElBQUksQ0FBM0IsR0FBK0JHLE1BQXRDO0FBQ0Q7QUFFRCxJQUFNRSxTQUFTLEdBQUc7QUFDaEJDLEVBQUFBLE1BQU0sRUFBRSxRQURRO0FBRWhCLG9CQUFrQixnQkFGRjtBQUdoQixrQkFBZ0IsY0FIQTtBQUloQkMsRUFBQUEsSUFBSSxFQUFFLE1BSlU7QUFLaEIsa0JBQWdCLGNBTEE7QUFNaEJDLEVBQUFBLE9BQU8sRUFBRTtBQU5PLENBQWxCO0FBb0JBLElBQU1DLFlBQThCLEdBQUc7QUFDckNILEVBQUFBLE1BQU0sRUFBRSxzQkFBb0I7QUFBQSxRQUFqQnRELEVBQWlCLFFBQWpCQSxFQUFpQjtBQUFBLFFBQWIwRCxNQUFhLFFBQWJBLE1BQWE7QUFDMUIsUUFBTUMsV0FBVyxHQUFHWixHQUFHLENBQUMvQyxFQUFELEVBQUssUUFBTCxDQUF2QjtBQUVBMEQsSUFBQUEsTUFBTSxDQUFDQyxXQUFQLEdBQXFCZixHQUFHLENBQUM1QyxFQUFELEVBQUssZ0JBQUwsQ0FBSCxHQUNqQndDLFlBQVksQ0FBQ21CLFdBQUQsRUFBY1QsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLGdCQUFMLENBQXBCLENBREssR0FFakIyRCxXQUZKO0FBR0QsR0FQb0M7QUFTckMsb0JBQWtCLDhCQUFvQjtBQUFBLFFBQWpCM0QsRUFBaUIsU0FBakJBLEVBQWlCO0FBQUEsUUFBYjBELE1BQWEsU0FBYkEsTUFBYTtBQUNwQ0EsSUFBQUEsTUFBTSxDQUFDQyxXQUFQLEdBQXFCbkIsWUFBWSxDQUMvQk8sR0FBRyxDQUFDL0MsRUFBRCxFQUFLLFFBQUwsRUFBZSxTQUFmLENBRDRCLEVBRS9Ca0QsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLGdCQUFMLENBRnlCLENBQWpDO0FBSUQsR0Fkb0M7QUFnQnJDLGtCQUFnQiw0QkFBb0I7QUFBQSxRQUFqQkEsRUFBaUIsU0FBakJBLEVBQWlCO0FBQUEsUUFBYjBELE1BQWEsU0FBYkEsTUFBYTtBQUNsQ0EsSUFBQUEsTUFBTSxDQUFDRSxXQUFQLEdBQXFCVixNQUFNLENBQUNsRCxFQUFELEVBQUssY0FBTCxDQUEzQjtBQUNELEdBbEJvQztBQW9CckN1RCxFQUFBQSxJQUFJLEVBQUUscUJBQW9CO0FBQUEsUUFBakJ2RCxFQUFpQixTQUFqQkEsRUFBaUI7QUFBQSxRQUFiMEQsTUFBYSxTQUFiQSxNQUFhO0FBQ3hCLFFBQU1ILElBQUksR0FBR1IsR0FBRyxDQUFDL0MsRUFBRCxTQUFoQjtBQUVBMEQsSUFBQUEsTUFBTSxDQUFDRyxlQUFQLEdBQXlCTixJQUFJLEtBQUssTUFBVCxHQUFrQixXQUFsQixHQUFnQ0EsSUFBekQ7QUFDRCxHQXhCb0M7QUEwQnJDLGtCQUFnQiw0QkFBb0I7QUFBQSxRQUFqQnZELEVBQWlCLFNBQWpCQSxFQUFpQjtBQUFBLFFBQWIwRCxNQUFhLFNBQWJBLE1BQWE7QUFDbENBLElBQUFBLE1BQU0sQ0FBQ0csZUFBUCxHQUF5QnJCLFlBQVksQ0FDbkNPLEdBQUcsQ0FBQy9DLEVBQUQsRUFBSyxNQUFMLEVBQWEsU0FBYixDQURnQyxFQUVuQ2tELE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxjQUFMLENBRjZCLENBQXJDO0FBSUQsR0EvQm9DO0FBaUNyQ3dELEVBQUFBLE9BQU8sRUFBRSx3QkFBb0I7QUFBQSxRQUFqQnhELEVBQWlCLFNBQWpCQSxFQUFpQjtBQUFBLFFBQWIwRCxNQUFhLFNBQWJBLE1BQWE7QUFDM0JBLElBQUFBLE1BQU0sQ0FBQ0YsT0FBUCxHQUFpQk4sTUFBTSxDQUFDbEQsRUFBRCxFQUFLLFNBQUwsRUFBZ0IsR0FBaEIsQ0FBdkI7QUFDRDtBQW5Db0MsQ0FBdkMsRUFzQ0E7QUFDQTs7QUFDTyxTQUFTOEQsd0JBQVQsQ0FDTDlELEVBREssRUFFMkI7QUFDaEMsTUFBTTBELE1BQU0sR0FBRyw2QkFBSTFELEVBQUUsQ0FBQytELFVBQVAsRUFBbUJsQyxNQUFuQixDQUEwQixVQUFDNkIsTUFBRCxFQUFTYixJQUFULEVBQWtCO0FBQ3pELFFBQU1tQixJQUFJLEdBQUduQixJQUFJLENBQUNtQixJQUFsQjs7QUFFQSxRQUFJQyxNQUFNLENBQUNDLElBQVAsQ0FBWVQsWUFBWixFQUEwQlUsUUFBMUIsQ0FBbUNILElBQW5DLENBQUosRUFBOEM7QUFDNUNQLE1BQUFBLFlBQVksQ0FBQ08sSUFBRCxDQUFaLENBQTZDO0FBQUVoRSxRQUFBQSxFQUFFLEVBQUZBLEVBQUY7QUFBTTBELFFBQUFBLE1BQU0sRUFBTkE7QUFBTixPQUE3QztBQUNEOztBQUVELFdBQU9BLE1BQVA7QUFDRCxHQVJjLEVBUVosRUFSWSxDQUFmOztBQVVBLFNBQU9BLE1BQVA7QUFDRDtBQU1NLFNBQVNVLDBCQUFULENBQW9DcEUsRUFBcEMsRUFBOEQ7QUFDbkUsTUFBTXFFLFVBQXVCLEdBQUcsRUFBaEM7O0FBRUEsTUFBSXpCLEdBQUcsQ0FBQzVDLEVBQUQsRUFBSyxHQUFMLENBQVAsRUFBa0I7QUFDaEJxRSxJQUFBQSxVQUFVLENBQUNuRCxDQUFYLEdBQWVnQyxNQUFNLENBQUNsRCxFQUFELEVBQUssR0FBTCxDQUFyQjtBQUNEOztBQUVELE1BQUk0QyxHQUFHLENBQUM1QyxFQUFELEVBQUssR0FBTCxDQUFQLEVBQWtCO0FBQ2hCcUUsSUFBQUEsVUFBVSxDQUFDakQsQ0FBWCxHQUFlOEIsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLEdBQUwsQ0FBckI7QUFDRDs7QUFFRCxNQUFJNEMsR0FBRyxDQUFDNUMsRUFBRCxFQUFLLE9BQUwsQ0FBUCxFQUFzQjtBQUNwQnFFLElBQUFBLFVBQVUsQ0FBQ0MsS0FBWCxHQUFtQnBCLE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxPQUFMLENBQXpCO0FBQ0Q7O0FBRUQsTUFBSTRDLEdBQUcsQ0FBQzVDLEVBQUQsRUFBSyxRQUFMLENBQVAsRUFBdUI7QUFDckJxRSxJQUFBQSxVQUFVLENBQUNFLE1BQVgsR0FBb0JyQixNQUFNLENBQUNsRCxFQUFELEVBQUssUUFBTCxDQUExQjtBQUNEOztBQUVELFNBQU9xRSxVQUFQO0FBQ0Q7QUFFTSxTQUFTRyxrQkFBVCxDQUE0QnhFLEVBQTVCLEVBQXFEO0FBQzFELE1BQUlnQixNQUFrQixHQUFHLEVBQXpCOztBQUVBLE1BQUk0QixHQUFHLENBQUM1QyxFQUFELEVBQUssUUFBTCxDQUFQLEVBQXVCO0FBQ3JCZ0IsSUFBQUEsTUFBTSxHQUFHK0IsR0FBRyxDQUFDL0MsRUFBRCxFQUFLLFFBQUwsQ0FBSCxDQUNOeUUsS0FETSxDQUNBLEdBREEsRUFFTjFFLEdBRk0sQ0FFRixVQUFDMkUsQ0FBRDtBQUFBLGFBQU9BLENBQUMsQ0FBQ0QsS0FBRixDQUFRLEdBQVIsRUFBYTFFLEdBQWIsQ0FBaUI0RSxVQUFqQixDQUFQO0FBQUEsS0FGRSxDQUFUO0FBR0Q7O0FBRUQsU0FBTzNELE1BQVA7QUFDRCxDOzs7Ozs7Ozs7O0FDcElEO0FBQ0E7QUFHTyxTQUFTNEQsYUFBVCxDQUF1QkMsTUFBdkIsRUFBNkM7QUFDbEQsU0FBT0EsTUFBTSxDQUFDaEQsTUFBUCxDQUFjLFVBQUNDLEdBQUQsUUFBc0I7QUFBQSxRQUFkZ0QsT0FBYyxRQUFkQSxPQUFjO0FBQ3pDLFFBQU1DLE1BQU0sR0FBR2pCLHdCQUF3QixDQUFDZ0IsT0FBRCxDQUF2QztBQUVBLHFEQUFZaEQsR0FBWixHQUFvQmlELE1BQXBCO0FBQ0QsR0FKTSxFQUlKLEVBSkksQ0FBUDtBQUtEOztJQUVLQyxRQUtKLGVBQVlGLE9BQVosRUFBOEI7QUFBQTs7QUFBQSxtQ0FKekJwRSxRQUFRLEVBSWlCOztBQUFBOztBQUM1QixPQUFLb0UsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7O0FBR0gscURBQWVFLEtBQWYsRTs7Ozs7Ozs7QUN0QkE7QUFxRU8sU0FBU0MsZUFBVCxHQUFrRDtBQUN2RCxTQUFPO0FBQ0xDLElBQUFBLEVBQUUsRUFBRXhFLFFBQVEsRUFEUDtBQUVMUSxJQUFBQSxDQUFDLEVBQUUsQ0FGRTtBQUdMRSxJQUFBQSxDQUFDLEVBQUUsQ0FIRTtBQUlMdUMsSUFBQUEsV0FBVyxFQUFFLFNBSlI7QUFLTEUsSUFBQUEsZUFBZSxFQUFFLFNBTFo7QUFNTHNCLElBQUFBLFNBQVMsRUFBRSxPQU5OO0FBT0x2QixJQUFBQSxXQUFXLEVBQUUsQ0FQUjtBQVFMd0IsSUFBQUEsV0FBVyxFQUFFLE9BUlI7QUFTTEMsSUFBQUEsZUFBZSxFQUFFLE9BVFo7QUFVTEMsSUFBQUEsU0FBUyxFQUFFLENBVk47QUFXTDlCLElBQUFBLE9BQU8sRUFBRSxHQVhKO0FBWUxjLElBQUFBLEtBQUssRUFBRSxDQVpGO0FBYUxDLElBQUFBLE1BQU0sRUFBRSxDQWJIO0FBY0xnQixJQUFBQSxLQUFLLEVBQUUsQ0FkRjtBQWVMQyxJQUFBQSxJQUFJLEVBQUVsRixhQUFhLEVBZmQ7QUFnQkxtRixJQUFBQSxPQUFPLEVBQUUsQ0FoQko7QUFpQkxDLElBQUFBLFlBQVksRUFBRSxDQWpCVDtBQWtCTEMsSUFBQUEsU0FBUyxFQUFFLEtBbEJOO0FBbUJMQyxJQUFBQSxRQUFRLEVBQUUsRUFuQkw7QUFvQkxDLElBQUFBLGVBQWUsRUFBRTtBQXBCWixHQUFQO0FBc0JEO0FBRU0sU0FBU0MsWUFBVCxHQUE2QztBQUNsRCwyRUFDS2IsZUFBZSxFQURwQjtBQUVFYyxJQUFBQSxJQUFJLEVBQUU7QUFGUjtBQUlEO0FBRU0sU0FBU0MsWUFBVCxHQUF3QztBQUM3QywyRUFDS2YsZUFBZSxFQURwQjtBQUVFYyxJQUFBQSxJQUFJLEVBQUUsTUFGUjtBQUdFL0UsSUFBQUEsTUFBTSxFQUFFO0FBSFY7QUFLRDtBQUVNLFNBQVNpRixlQUFULEdBQThDO0FBQ25ELDJFQUNLaEIsZUFBZSxFQURwQjtBQUVFYyxJQUFBQSxJQUFJLEVBQUU7QUFGUjtBQUlEO0FBRU0sU0FBU0csWUFBVCxHQUF3QztBQUM3QywyRUFDS2pCLGVBQWUsRUFEcEI7QUFFRWMsSUFBQUEsSUFBSSxFQUFFLE1BRlI7QUFHRS9FLElBQUFBLE1BQU0sRUFBRTtBQUhWO0FBS0QsQzs7QUMxSHVDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQjs7QUFFTyxTQUFTLFdBQU07QUFDdEIsZ0JBQWdCLFVBQW1COztBQUVuQyxNQUFNLFVBQW1CO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPLFNBQVMsVUFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCOztBQUVPLFNBQVMsV0FBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPLFNBQVMsZUFBVTtBQUMxQixnQkFBZ0IsVUFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPLFNBQVMsU0FBSTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTyxTQUFTLFFBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTyxTQUFTLFFBQUc7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTyxTQUFTLGFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTyxTQUFTLGFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTyxTQUFTLFVBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLFFBQVE7QUFDckI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLFFBQVE7QUFDckI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsUUFBUTtBQUNyQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsUUFBUTtBQUNyQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxNQUFNO0FBQ25COztBQUVPLFNBQVMsV0FBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxNQUFNO0FBQ25COztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBLDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU8sU0FBUyxZQUFPO0FBQ3ZCO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0Esc0RBQXNEOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU8sU0FBUyxZQUFPO0FBQ3ZCO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0Esc0RBQXNEOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLGNBQWM7QUFDekIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE1BQU07QUFDbkI7O0FBRU8sU0FBUyxZQUFPO0FBQ3ZCO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0EsZUFBZTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsTUFBTTtBQUNuQjs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsYUFBYSxRQUFRO0FBQ3JCOztBQUVPLFNBQVMsUUFBRztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLFNBQVM7QUFDdEI7O0FBRU8sU0FBUyxnQkFBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QixhQUFhLFNBQVM7QUFDdEI7O0FBRU8sU0FBUyxXQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVPLElBQUksUUFBRyxHQUFHLDZEQUFRO0FBQ3pCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU8sSUFBSSxRQUFHLEdBQUcsNkRBQVE7QUFDekI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTyxVQUFVLHNEQUFNO0FBQ3ZCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU8sV0FBVyx3REFBUTtBQUMxQjtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVPLGNBQWMsK0RBQWU7QUFDcEM7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFTyxVQUFVLDJEQUFNO0FBQ3ZCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRU8sYUFBYSw2REFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7QUFFTztBQUNQLFlBQVksV0FBTTtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBLHFCQUFxQixPQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUMsRzs7Ozs7Ozs7Ozs7Ozs7QUNqeEJEO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTXFGLGtCQUFrQixHQUFHO0FBQ3pCQyxFQUFBQSxNQUFNLEVBQUUsUUFEaUI7QUFFekJDLEVBQUFBLFFBQVEsRUFBRSxVQUZlO0FBR3pCQyxFQUFBQSxXQUFXLEVBQUUsYUFIWTtBQUl6QkMsRUFBQUEsTUFBTSxFQUFFLFFBSmlCO0FBS3pCQyxFQUFBQSxRQUFRLEVBQUUsVUFMZTtBQU16QkMsRUFBQUEsT0FBTyxFQUFFLFNBTmdCO0FBT3pCQyxFQUFBQSxPQUFPLEVBQUUsU0FQZ0I7QUFRekJDLEVBQUFBLE9BQU8sRUFBRSxTQVJnQjtBQVN6QkMsRUFBQUEsS0FBSyxFQUFFLE9BVGtCO0FBVXpCQyxFQUFBQSxPQUFPLEVBQUUsU0FWZ0I7QUFXekJDLEVBQUFBLE1BQU0sRUFBRSxRQVhpQjtBQVl6QkMsRUFBQUEsTUFBTSxFQUFFLFFBWmlCO0FBYXpCQyxFQUFBQSxNQUFNLEVBQUUsUUFiaUI7QUFjekJDLEVBQUFBLElBQUksRUFBRSxNQWRtQjtBQWV6QkMsRUFBQUEsS0FBSyxFQUFFLE9BZmtCO0FBZ0J6QkMsRUFBQUEsS0FBSyxFQUFFLE9BaEJrQjtBQWlCekJDLEVBQUFBLFNBQVMsRUFBRSxXQWpCYztBQWtCekJDLEVBQUFBLFdBQVcsRUFBRSxhQWxCWTtBQW1CekJDLEVBQUFBLFVBQVUsRUFBRSxZQW5CYTtBQW9CekJDLEVBQUFBLFVBQVUsRUFBRSxZQXBCYTtBQXFCekJDLEVBQUFBLFVBQVUsRUFBRTtBQXJCYSxDQUEzQjtBQXdCQSxJQUFNQyxxQkFBcUIsR0FBRzFELE1BQU0sQ0FBQ0MsSUFBUCxDQUFZbUMsa0JBQVosQ0FBOUIsRUFFQTs7QUFZQSxJQUFNdUIsWUFBWSxHQUFHO0FBQ25CdEIsRUFBQUEsTUFBTSxFQUFFLEVBRFc7QUFFbkJDLEVBQUFBLFFBQVEsRUFBRSxFQUZTO0FBR25CQyxFQUFBQSxXQUFXLEVBQUUsYUFITTtBQUluQkMsRUFBQUEsTUFBTSxFQUFFLEtBSlc7QUFLbkJDLEVBQUFBLFFBQVEsRUFBRSxLQUxTO0FBTW5CQyxFQUFBQSxPQUFPLEVBQUUsS0FOVTtBQU9uQkMsRUFBQUEsT0FBTyxFQUFFLEtBUFU7QUFRbkJDLEVBQUFBLE9BQU8sRUFBRSxLQVJVO0FBU25CQyxFQUFBQSxLQUFLLEVBQUUsRUFUWTtBQVVuQkMsRUFBQUEsT0FBTyxFQUFFLEVBVlU7QUFXbkJDLEVBQUFBLE1BQU0sRUFBRSxFQVhXO0FBWW5CQyxFQUFBQSxNQUFNLEVBQUUsRUFaVztBQWFuQkMsRUFBQUEsTUFBTSxFQUFFLEVBYlc7QUFjbkJDLEVBQUFBLElBQUksRUFBRSxNQWRhO0FBZW5CQyxFQUFBQSxLQUFLLEVBQUUsS0FmWTtBQWdCbkJDLEVBQUFBLEtBQUssRUFBRSxLQWhCWTtBQWlCbkJDLEVBQUFBLFNBQVMsRUFBRSxJQWpCUTtBQWtCbkJDLEVBQUFBLFdBQVcsRUFBRSxJQWxCTTtBQW1CbkJDLEVBQUFBLFVBQVUsRUFBRSxJQW5CTztBQW9CbkJDLEVBQUFBLFVBQVUsRUFBRSxJQXBCTztBQXFCbkJDLEVBQUFBLFVBQVUsRUFBRTtBQXJCTyxDQUFyQixFQXdCQTs7QUFDQSxJQUFNRywwQkFBMEIsR0FBRyxTQUE3QkEsMEJBQTZCLENBQUNDLGVBQUQsRUFBcUM7QUFDdEU7QUFDQSxNQUFNQyxNQUFNLEdBQUdELGVBQWUsQ0FBQ0UsS0FBaEIsQ0FBc0IsbUJBQXRCLENBQWY7O0FBQ0EsTUFBSSxDQUFDRCxNQUFMLEVBQWE7QUFDWCxXQUFPLEVBQVA7QUFDRDs7QUFFRCxNQUFNRSxXQUE0QixHQUFHRixNQUFNLENBQUNoSSxHQUFQLENBQ25DLFVBQUNtSSxRQUFELEVBQTZCO0FBQUE7O0FBQzNCLFFBQU1uQyxJQUFJLEdBQUdtQyxRQUFRLENBQUN6RCxLQUFULENBQWUsR0FBZixFQUFvQixDQUFwQixDQUFiOztBQUNBLFFBQUksQ0FBQ3NCLElBQUwsRUFBVztBQUNULFlBQU0sSUFBSW9DLEtBQUosQ0FBVSwrQkFBVixDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDUixxQkFBcUIsQ0FBQ3hELFFBQXRCLENBQStCNEIsSUFBL0IsQ0FBTCxFQUEyQztBQUN6QyxZQUFNLElBQUlvQyxLQUFKLHFDQUFzQ3BDLElBQXRDLHFCQUFOO0FBQ0QsS0FQMEIsQ0FTM0I7OztBQUNBLFFBQU1xQyxVQUFVLEdBQUdGLFFBQVEsQ0FBQ0YsS0FBVCxDQUFlLGlDQUFmLENBQW5COztBQUNBLFFBQUksQ0FBQ0ksVUFBTCxFQUFpQjtBQUNmLGFBQU87QUFBRXJDLFFBQUFBLElBQUksRUFBSkEsSUFBRjtBQUFRc0MsUUFBQUEsTUFBTSxFQUFFO0FBQWhCLE9BQVA7QUFDRDs7QUFFRCxRQUFJQSxNQUFNLEdBQUdELFVBQVUsQ0FBQ3JJLEdBQVgsQ0FDWCxVQUFDdUksQ0FBRCxFQUEyQjtBQUN6QjtBQUNBLHdCQUFzQkEsQ0FBQyxDQUFDQyxRQUFGLENBQVcsa0NBQVgsQ0FBdEI7QUFBQTtBQUFBLFVBQU9DLEtBQVA7QUFBQSxVQUFjQyxJQUFkOztBQUVBLGFBQU87QUFDTEEsUUFBQUEsSUFBSSxFQUFFQSxJQUFJLENBQUMsQ0FBRCxDQUFKLElBQVdiLFlBQVksQ0FBQzdCLElBQUQsQ0FEeEI7QUFFTHlDLFFBQUFBLEtBQUssRUFBRUEsS0FBSyxDQUFDLENBQUQ7QUFGUCxPQUFQO0FBSUQsS0FUVSxDQUFiLENBZjJCLENBMkIzQjs7QUFDQSxRQUFJSCxNQUFNLElBQUl0QyxJQUFJLEtBQUssUUFBbkIsSUFBK0IsWUFBQXNDLE1BQU0sVUFBTiwwQ0FBUUssTUFBUixJQUFpQixDQUFwRCxFQUF1RDtBQUNyREwsTUFBQUEsTUFBTSxHQUFHLENBQUNBLE1BQU0sQ0FBQyxDQUFELENBQVAsQ0FBVDtBQUNEOztBQUVELFdBQU87QUFDTHRDLE1BQUFBLElBQUksRUFBSkEsSUFESztBQUVMc0MsTUFBQUEsTUFBTSxFQUFOQTtBQUZLLEtBQVA7QUFJRCxHQXJDa0MsQ0FBckMsQ0FQc0UsQ0ErQ3RFOztBQUNBLE1BQU1NLGVBQWUsR0FBR1YsV0FBVyxDQUNoQ2xJLEdBRHFCLENBQ2pCLGdCQUFzQjtBQUFBLFFBQW5CZ0csSUFBbUIsUUFBbkJBLElBQW1CO0FBQUEsUUFBYnNDLE1BQWEsUUFBYkEsTUFBYTtBQUN6QixRQUFNTyxNQUFNLEdBQUdQLE1BQU0sQ0FDbEJ0SSxHQURZLENBQ1I7QUFBQSxVQUFHMEksSUFBSCxTQUFHQSxJQUFIO0FBQUEsVUFBU0QsS0FBVCxTQUFTQSxLQUFUO0FBQUEsdUJBQXdCQSxLQUF4QixTQUFnQ0MsSUFBaEM7QUFBQSxLQURRLEVBRVpJLElBRlksQ0FFUCxJQUZPLENBQWY7QUFHQSxxQkFBVTlDLElBQVYsY0FBa0I2QyxNQUFsQjtBQUNELEdBTnFCLEVBT3JCQyxJQVBxQixDQU9oQixHQVBnQixDQUF4QjtBQVNBLFNBQU9GLGVBQVA7QUFDRCxDQTFERDs7QUE0RE8sSUFBTUcseUJBQXlCLEdBQUcsU0FBNUJBLHlCQUE0QixDQUN2Q2hCLGVBRHVDLEVBRXpCO0FBQ2QsTUFBTWlCLGVBQWUsR0FBR2xCLDBCQUEwQixDQUFDQyxlQUFELENBQWxEO0FBRUEsU0FBTyxJQUFJa0IsU0FBSixDQUFjRCxlQUFkLENBQVA7QUFDRCxDQU5NO0FBUUEsU0FBU0UsZ0JBQVQsQ0FBMEJqSixFQUExQixFQUE2QztBQUNsRCxNQUFJQSxFQUFFLENBQUM4QyxZQUFILENBQWdCLFdBQWhCLENBQUosRUFBa0M7QUFDaEMsUUFBTW9HLEtBQUssR0FBRyxJQUFJRixTQUFKLENBQ1puQiwwQkFBMEIsQ0FBQzdILEVBQUUsQ0FBQ2lELFlBQUgsQ0FBZ0IsV0FBaEIsS0FBZ0MsRUFBakMsQ0FEZCxDQUFkO0FBSUEsV0FBT21ELFFBQUEsQ0FBY0EsTUFBQSxFQUFkLEVBQTZCQSxNQUFBLEVBQTdCLEVBQTRDOEMsS0FBSyxDQUFDRyxjQUFOLEVBQTVDLENBQVA7QUFDRDs7QUFFRCxTQUFPakQsTUFBQSxFQUFQO0FBQ0Q7QUFFTSxTQUFTa0Qsa0JBQVQsQ0FBNEJ0SixFQUE1QixFQUF5QzZFLE1BQXpDLEVBQWdFO0FBQ3JFLE1BQU0wRSxRQUFRLEdBQUcxRSxNQUFNLENBQ3BCOUUsR0FEYyxDQUNWO0FBQUEsUUFBRytFLE9BQUgsU0FBR0EsT0FBSDtBQUFBLFdBQWlCbUUsZ0JBQWdCLENBQUNuRSxPQUFELENBQWpDO0FBQUEsR0FEVSxFQUVkMEUsTUFGYyxDQUVQLENBQUNQLGdCQUFnQixDQUFDakosRUFBRCxDQUFqQixDQUZPLEVBR2Q2QixNQUhjLENBR1AsVUFBQ0MsR0FBRCxFQUFNMkgsR0FBTjtBQUFBLFdBQWNyRCxRQUFBLENBQWN0RSxHQUFkLEVBQW1CQSxHQUFuQixFQUF3QjJILEdBQXhCLENBQWQ7QUFBQSxHQUhPLEVBR3FDckQsTUFBQSxFQUhyQyxDQUFqQjtBQUtBLFNBQU9tRCxRQUFQO0FBQ0Q7QUFFTSxTQUFTRyxlQUFULENBQ0wxSSxNQURLLEVBRUwySSxTQUZLLEVBR2U7QUFDcEIsU0FBTzNJLE1BQU0sQ0FBQ2pCLEdBQVAsQ0FBVyxpQkFBWTtBQUFBO0FBQUEsUUFBVm1CLENBQVU7QUFBQSxRQUFQRSxDQUFPOztBQUM1Qiw2QkFBcUIrRSxhQUFBLENBQ25CQSxXQUFBLEVBRG1CLEVBRW5CQSxlQUFBLENBQWdCakYsQ0FBaEIsRUFBbUJFLENBQW5CLEVBQXNCLENBQXRCLENBRm1CLEVBR25CdUksU0FIbUIsQ0FBckI7QUFBQTtBQUFBLFFBQU9HLElBQVA7QUFBQSxRQUFhQyxJQUFiOztBQU1BLFdBQU8sQ0FBQ0QsSUFBRCxFQUFPQyxJQUFQLENBQVA7QUFDRCxHQVJNLENBQVA7QUFTRCxDOztBQ2hMRDtBQUNBLFNBQVMsWUFBUTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFFBQUk7QUFDN0I7QUFDQSxTQUFTLFFBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFlBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBSTtBQUN2QixtQkFBbUIsUUFBSTtBQUN2QixtQkFBbUIsUUFBSTtBQUN2QixtQkFBbUIsUUFBSTtBQUN2QixtQkFBbUIsUUFBSTtBQUN2QixvQkFBb0IsUUFBSTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFIQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVCQUF1QixzQkFBc0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5QkFBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxRQUFRLGdCQUFnQixRQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxR0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseUJBQXlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseUJBQXlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1RUFBdUU7QUFDbEc7QUFDQTtBQUNBLDJCQUEyQiwyQkFBMkI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0JBQXNCO0FBQ2pEO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNCQUFzQjtBQUNqRDtBQUNBO0FBQ0EsMkJBQTJCLDJCQUEyQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlCQUF5QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJCQUEyQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvQkFBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzdHQTtBQUNPLFNBQVMsbUJBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJCQUEyQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBCQUEwQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUNBQXFDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0Q0FBNEM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDRDQUE0QztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0NBQXNDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHVCQUF1QjtBQUM5RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFNO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFNO0FBQ3pCLG1CQUFtQixnQkFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDLHVCQUF1QixnQkFBTTtBQUM3Qix1QkFBdUIsZ0JBQU07QUFDN0IsdUJBQXVCLGdCQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFObUQ7QUFDTjtBQUNGOzs7QUNGc0I7QUFDRztBQUM3RDtBQUNQLHFCQUFxQixTQUFTO0FBQzlCLHVCQUF1QixtQkFBUyxDQUFDLFVBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFRQTtBQUNBO0FBQ0E7QUFFQSxJQUFNRSxjQUFjLEdBQUcsQ0FDckIsS0FEcUIsRUFFckIsTUFGcUIsRUFHckIsR0FIcUIsRUFJckIsS0FKcUIsRUFLckIsUUFMcUIsRUFNckIsU0FOcUIsRUFPckIsTUFQcUIsRUFRckIsVUFScUIsRUFTckIsU0FUcUIsQ0FBdkI7O0FBWUEsSUFBTUMsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFDQyxJQUFELEVBQTJCO0FBQy9DLE1BQUlGLGNBQWMsQ0FBQzlGLFFBQWYsQ0FBd0JnRyxJQUFJLENBQUNDLE9BQTdCLENBQUosRUFBMkM7QUFDekMsV0FBT0MsVUFBVSxDQUFDQyxhQUFsQjtBQUNEOztBQUVELFNBQU9ELFVBQVUsQ0FBQ0UsYUFBbEI7QUFDRCxDQU5EOztBQVFPLFNBQVNDLGdCQUFULENBQTBCQyxHQUExQixFQUFpRDtBQUN0RCxTQUFPQyxRQUFRLENBQUNGLGdCQUFULENBQTBCQyxHQUExQixFQUErQkosVUFBVSxDQUFDTSxRQUExQyxFQUFvRDtBQUN6REMsSUFBQUEsVUFBVSxFQUFFVjtBQUQ2QyxHQUFwRCxDQUFQO0FBR0Q7O0FBU0QsSUFBTTdHLGdCQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUNoQnJELEVBRGdCLEVBRWhCNkUsTUFGZ0IsRUFHbUI7QUFDbkMseUVBQ0tELGFBQWEsQ0FBQ0MsTUFBRCxDQURsQixHQUVLZix3QkFBd0IsQ0FBQzlELEVBQUQsQ0FGN0IsR0FHS29FLDBCQUEwQixDQUFDcEUsRUFBRCxDQUgvQjtBQUtELENBVEQ7O0FBV0EsSUFBTTZLLGVBQWUsR0FBRyxDQUFDLElBQUQsQ0FBeEI7QUFDQSxJQUFNQyxxQkFBcUIsR0FBRyxDQUM1QixHQUQ0QixFQUU1QixHQUY0QixFQUc1QixPQUg0QixFQUk1QixRQUo0QixFQUs1QixNQUw0QixFQU01QixZQU40QixDQUE5QjtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxJQUFNQyx3QkFBd0IsR0FBRyxTQUEzQkEsd0JBQTJCLENBQUNDLEtBQUQsRUFBaUJDLEtBQWpCLEVBQTZDO0FBQzVFLE1BQU1DLE9BQU8sR0FBRyx5QkFBSUQsS0FBSyxDQUFDbEgsVUFBVixFQUFzQmxDLE1BQXRCLENBQTZCLFVBQUM3QixFQUFELEVBQUs2QyxJQUFMLEVBQWM7QUFDekQsUUFBSWdJLGVBQWUsQ0FBQzFHLFFBQWhCLENBQXlCdEIsSUFBSSxDQUFDMkYsS0FBOUIsQ0FBSixFQUEwQztBQUN4QyxhQUFPeEksRUFBUDtBQUNELEtBSHdELENBS3pEOzs7QUFDQSxRQUNFLENBQUNnTCxLQUFLLENBQUNsSSxZQUFOLENBQW1CRCxJQUFJLENBQUNtQixJQUF4QixDQUFELElBQ0E4RyxxQkFBcUIsQ0FBQzNHLFFBQXRCLENBQStCdEIsSUFBSSxDQUFDbUIsSUFBcEMsQ0FGRixFQUdFO0FBQ0FoRSxNQUFBQSxFQUFFLENBQUNtTCxZQUFILENBQWdCdEksSUFBSSxDQUFDbUIsSUFBckIsRUFBMkJpSCxLQUFLLENBQUNoSSxZQUFOLENBQW1CSixJQUFJLENBQUNtQixJQUF4QixLQUFpQyxFQUE1RDtBQUNEOztBQUNELFdBQU9oRSxFQUFQO0FBQ0QsR0FiZSxFQWFiZ0wsS0FBSyxDQUFDSSxTQUFOLEVBYmEsQ0FBaEI7O0FBZUEsU0FBT0YsT0FBUDtBQUNELENBakJEOztBQW1CQSxJQUFNRyxPQUFPLEdBQUc7QUFDZEMsRUFBQUEsR0FBRyxFQUFFLGFBQUNDLElBQUQsRUFBc0I7QUFDekJDLElBQUFBLElBQUksQ0FBQ0QsSUFBRCxFQUFPQSxJQUFJLENBQUNFLEVBQUwsQ0FBUUMsUUFBUixFQUFQLENBQUo7QUFDRCxHQUhhO0FBS2RDLEVBQUFBLENBQUMsRUFBRSxXQUFDSixJQUFELEVBQXNCO0FBQ3ZCLFFBQU1LLFFBQVEsR0FBRyw0Q0FDWkwsSUFEUztBQUVaRSxNQUFBQSxFQUFFLEVBQUVqQixnQkFBZ0IsQ0FBQ2UsSUFBSSxDQUFDRSxFQUFMLENBQVFJLFdBQVQsQ0FGUjtBQUdaaEgsTUFBQUEsTUFBTSxxQ0FBTTBHLElBQUksQ0FBQzFHLE1BQVgsSUFBbUIsSUFBSUcsY0FBSixDQUFVdUcsSUFBSSxDQUFDRSxFQUFMLENBQVFJLFdBQWxCLENBQW5CO0FBSE0sTUFBZDs7QUFNQUwsSUFBQUEsSUFBSSxDQUFDSSxRQUFELEVBQVdBLFFBQVEsQ0FBQ0gsRUFBVCxDQUFZQyxRQUFaLEVBQVgsQ0FBSjtBQUVBRixJQUFBQSxJQUFJLENBQUNELElBQUQsRUFBT0EsSUFBSSxDQUFDRSxFQUFMLENBQVFLLFdBQVIsRUFBUCxDQUFKO0FBQ0QsR0FmYTtBQWlCZEMsRUFBQUEsR0FBRyxFQUFFLGFBQUNSLElBQUQsRUFBc0I7QUFDekIsUUFBUVMsSUFBUixHQUE0QlQsSUFBNUIsQ0FBUVMsSUFBUjtBQUFBLFFBQWNQLEVBQWQsR0FBNEJGLElBQTVCLENBQWNFLEVBQWQ7QUFBQSxRQUFrQlEsS0FBbEIsR0FBNEJWLElBQTVCLENBQWtCVSxLQUFsQjtBQUNBLFFBQU1oQixLQUFLLEdBQUdRLEVBQUUsQ0FBQ0ksV0FBakI7QUFFQSxRQUFNM0csRUFBRSxHQUFHK0YsS0FBSyxDQUFDaEksWUFBTixDQUFtQixNQUFuQixLQUE4QmdJLEtBQUssQ0FBQ2hJLFlBQU4sQ0FBbUIsWUFBbkIsQ0FBekM7O0FBRUEsUUFBSSxDQUFDaUMsRUFBTCxFQUFTO0FBQ1AsWUFBTSxJQUFJaUQsS0FBSixDQUFVLGlDQUFWLENBQU47QUFDRDs7QUFFRCxRQUFNNkMsS0FBSyxHQUFHZ0IsSUFBSSxDQUFDRSxhQUFMLENBQW1CaEgsRUFBbkIsQ0FBZDs7QUFFQSxRQUFJLENBQUM4RixLQUFMLEVBQVk7QUFDVixZQUFNLElBQUk3QyxLQUFKLCtDQUFpRGpELEVBQWpELEVBQU47QUFDRDs7QUFFRCxRQUFNaUgsU0FBUyxHQUFHLElBQUl0TSx3QkFBSixFQUFsQjtBQUVBLFFBQU1xTCxPQUFPLEdBQUdILHdCQUF3QixDQUFDQyxLQUFELEVBQVFDLEtBQVIsQ0FBeEM7QUFFQU8sSUFBQUEsSUFBSSxDQUFDLDRDQUVFRCxJQUZIO0FBR0FVLE1BQUFBLEtBQUssRUFBRUUsU0FIUDtBQUlBVixNQUFBQSxFQUFFLEVBQUVqQixnQkFBZ0IsQ0FBQ1UsT0FBRDtBQUpwQixRQU1GQSxPQU5FLENBQUo7QUFTQSxRQUFNa0IsSUFBSSxHQUFHRCxTQUFTLENBQUNyTSxRQUFWLENBQW1CdU0sR0FBbkIsRUFBYjs7QUFFQSxRQUFJLENBQUNELElBQUwsRUFBVztBQUNULFlBQU0sSUFBSWpFLEtBQUosQ0FBVSw2QkFBVixDQUFOO0FBQ0Q7O0FBRUQ4RCxJQUFBQSxLQUFLLENBQUNuTSxRQUFOLENBQWV3TSxJQUFmLENBQW9CRixJQUFwQjtBQUVBWixJQUFBQSxJQUFJLENBQUNELElBQUQsRUFBT0EsSUFBSSxDQUFDRSxFQUFMLENBQVFDLFFBQVIsRUFBUCxDQUFKO0FBQ0QsR0F2RGE7QUF5RGRhLEVBQUFBLE1BQU0sRUFBRSxnQkFBQ2hCLElBQUQsRUFBNEI7QUFDbEMsUUFBUUUsRUFBUixHQUE4QkYsSUFBOUIsQ0FBUUUsRUFBUjtBQUFBLFFBQVlRLEtBQVosR0FBOEJWLElBQTlCLENBQVlVLEtBQVo7QUFBQSxRQUFtQnBILE1BQW5CLEdBQThCMEcsSUFBOUIsQ0FBbUIxRyxNQUFuQjtBQUNBLFFBQU03RSxFQUFFLEdBQUd5TCxFQUFFLENBQUNJLFdBQWQ7QUFFQSxRQUFNVyxDQUFDLEdBQUd0SixNQUFNLENBQUNsRCxFQUFELEVBQUssR0FBTCxFQUFVLENBQVYsQ0FBaEI7QUFDQSxRQUFNeU0sQ0FBQyxHQUFHRCxDQUFDLEdBQUcsQ0FBZDtBQUNBLFFBQU10TCxDQUFDLEdBQUdnQyxNQUFNLENBQUNsRCxFQUFELEVBQUssR0FBTCxFQUFVLENBQVYsQ0FBTixHQUFxQmtELE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxJQUFMLEVBQVcsQ0FBWCxDQUEzQixHQUEyQ3dNLENBQXJEO0FBQ0EsUUFBTXBMLENBQUMsR0FBRzhCLE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxHQUFMLEVBQVUsQ0FBVixDQUFOLEdBQXFCa0QsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLElBQUwsRUFBVyxDQUFYLENBQTNCLEdBQTJDd00sQ0FBckQ7QUFFQSxRQUFNL0MsR0FBRyxHQUFHSCxrQkFBa0IsQ0FBQ3RKLEVBQUQsRUFBSzZFLE1BQUwsQ0FBOUIsQ0FUa0MsQ0FXbEM7O0FBQ0EsUUFBTTZILENBQUMsR0FBR3RHLFVBQUEsQ0FBZ0JxRyxDQUFoQixFQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixDQUF6QixFQUE0QixDQUE1QixFQUErQkEsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUMsQ0FBckMsRUFBd0MsQ0FBeEMsRUFBMkMsQ0FBM0MsRUFBOEMsQ0FBOUMsRUFBaUQsQ0FBakQsRUFBb0R2TCxDQUFwRCxFQUF1REUsQ0FBdkQsRUFBMEQsQ0FBMUQsRUFBNkQsQ0FBN0QsQ0FBVjtBQUVBLFFBQU11TCxNQUFNLEdBQUd2RyxRQUFBLENBQWNBLE1BQUEsRUFBZCxFQUE2QnFELEdBQTdCLEVBQWtDaUQsQ0FBbEMsQ0FBZjs7QUFFQSxRQUFNSCxNQUF5QixHQUFHLGdFQUM3QnRHLGVBQWUsRUFEVyxHQUUxQjVDLGdCQUFTLENBQUNyRCxFQUFELEVBQUs2RSxNQUFMLENBRmlCO0FBRzdCM0QsTUFBQUEsQ0FBQyxFQUFFeUwsTUFBTSxDQUFDLEVBQUQsQ0FIb0I7QUFJN0J2TCxNQUFBQSxDQUFDLEVBQUV1TCxNQUFNLENBQUMsRUFBRCxDQUpvQjtBQUs3QnJJLE1BQUFBLEtBQUssRUFBRXFJLE1BQU0sQ0FBQyxDQUFELENBTGdCO0FBTTdCcEksTUFBQUEsTUFBTSxFQUFFb0ksTUFBTSxDQUFDLENBQUQsQ0FOZTtBQU83Qi9HLE1BQUFBLFFBQVEsRUFBRWYsTUFBTSxDQUFDOUUsR0FBUCxDQUFXLFVBQUM0TCxDQUFEO0FBQUEsZUFBT0EsQ0FBQyxDQUFDekcsRUFBVDtBQUFBLE9BQVg7QUFQbUIsTUFBL0I7O0FBVUErRyxJQUFBQSxLQUFLLENBQUNuTSxRQUFOLENBQWV3TSxJQUFmLENBQW9CQyxNQUFwQjtBQUVBZixJQUFBQSxJQUFJLENBQUNELElBQUQsRUFBT0UsRUFBRSxDQUFDQyxRQUFILEVBQVAsQ0FBSjtBQUNELEdBdEZhO0FBd0Zka0IsRUFBQUEsT0FBTyxFQUFFLGlCQUFDckIsSUFBRCxFQUE0QjtBQUNuQyxRQUFRRSxFQUFSLEdBQThCRixJQUE5QixDQUFRRSxFQUFSO0FBQUEsUUFBWVEsS0FBWixHQUE4QlYsSUFBOUIsQ0FBWVUsS0FBWjtBQUFBLFFBQW1CcEgsTUFBbkIsR0FBOEIwRyxJQUE5QixDQUFtQjFHLE1BQW5CO0FBQ0EsUUFBTTdFLEVBQUUsR0FBR3lMLEVBQUUsQ0FBQ0ksV0FBZDtBQUVBLFFBQU1nQixFQUFFLEdBQUczSixNQUFNLENBQUNsRCxFQUFELEVBQUssSUFBTCxFQUFXLENBQVgsQ0FBakI7QUFDQSxRQUFNOE0sRUFBRSxHQUFHNUosTUFBTSxDQUFDbEQsRUFBRCxFQUFLLElBQUwsRUFBVyxDQUFYLENBQWpCO0FBQ0EsUUFBTStNLEVBQUUsR0FBRzdKLE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxJQUFMLEVBQVcsQ0FBWCxDQUFqQjtBQUNBLFFBQU1nTixFQUFFLEdBQUc5SixNQUFNLENBQUNsRCxFQUFELEVBQUssSUFBTCxFQUFXLENBQVgsQ0FBakI7QUFDQSxRQUFNa0IsQ0FBQyxHQUFHZ0MsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLEdBQUwsRUFBVSxDQUFWLENBQU4sR0FBcUIrTSxFQUFyQixHQUEwQkYsRUFBcEM7QUFDQSxRQUFNekwsQ0FBQyxHQUFHOEIsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLEdBQUwsRUFBVSxDQUFWLENBQU4sR0FBcUJnTixFQUFyQixHQUEwQkYsRUFBcEM7QUFDQSxRQUFNRyxDQUFDLEdBQUdKLEVBQUUsR0FBRyxDQUFmO0FBQ0EsUUFBTUssQ0FBQyxHQUFHSixFQUFFLEdBQUcsQ0FBZjtBQUVBLFFBQU1yRCxHQUFHLEdBQUdILGtCQUFrQixDQUFDdEosRUFBRCxFQUFLNkUsTUFBTCxDQUE5QjtBQUVBLFFBQU02SCxDQUFDLEdBQUd0RyxVQUFBLENBQWdCNkcsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBekIsRUFBNEIsQ0FBNUIsRUFBK0JDLENBQS9CLEVBQWtDLENBQWxDLEVBQXFDLENBQXJDLEVBQXdDLENBQXhDLEVBQTJDLENBQTNDLEVBQThDLENBQTlDLEVBQWlELENBQWpELEVBQW9EaE0sQ0FBcEQsRUFBdURFLENBQXZELEVBQTBELENBQTFELEVBQTZELENBQTdELENBQVY7QUFFQSxRQUFNdUwsTUFBTSxHQUFHdkcsUUFBQSxDQUFjQSxNQUFBLEVBQWQsRUFBNkJxRCxHQUE3QixFQUFrQ2lELENBQWxDLENBQWY7O0FBRUEsUUFBTUUsT0FBMEIsR0FBRyxnRUFDOUIzRyxlQUFlLEVBRFksR0FFM0I1QyxnQkFBUyxDQUFDckQsRUFBRCxFQUFLNkUsTUFBTCxDQUZrQjtBQUc5QjNELE1BQUFBLENBQUMsRUFBRXlMLE1BQU0sQ0FBQyxFQUFELENBSHFCO0FBSTlCdkwsTUFBQUEsQ0FBQyxFQUFFdUwsTUFBTSxDQUFDLEVBQUQsQ0FKcUI7QUFLOUJySSxNQUFBQSxLQUFLLEVBQUVxSSxNQUFNLENBQUMsQ0FBRCxDQUxpQjtBQU05QnBJLE1BQUFBLE1BQU0sRUFBRW9JLE1BQU0sQ0FBQyxDQUFELENBTmdCO0FBTzlCL0csTUFBQUEsUUFBUSxFQUFFZixNQUFNLENBQUM5RSxHQUFQLENBQVcsVUFBQzRMLENBQUQ7QUFBQSxlQUFPQSxDQUFDLENBQUN6RyxFQUFUO0FBQUEsT0FBWDtBQVBvQixNQUFoQzs7QUFVQStHLElBQUFBLEtBQUssQ0FBQ25NLFFBQU4sQ0FBZXdNLElBQWYsQ0FBb0JNLE9BQXBCO0FBRUFwQixJQUFBQSxJQUFJLENBQUNELElBQUQsRUFBT0UsRUFBRSxDQUFDQyxRQUFILEVBQVAsQ0FBSjtBQUNELEdBeEhhO0FBMEhkeUIsRUFBQUEsSUFBSSxFQUFFLGNBQUM1QixJQUFELEVBQXNCO0FBQzFCO0FBQ0FDLElBQUFBLElBQUksQ0FBQ0QsSUFBRCxFQUFPQSxJQUFJLENBQUNFLEVBQUwsQ0FBUUMsUUFBUixFQUFQLENBQUo7QUFDRCxHQTdIYTtBQStIZDBCLEVBQUFBLE9BQU8sRUFBRSxpQkFBQzdCLElBQUQsRUFBc0I7QUFDN0IsUUFBUUUsRUFBUixHQUE4QkYsSUFBOUIsQ0FBUUUsRUFBUjtBQUFBLFFBQVlRLEtBQVosR0FBOEJWLElBQTlCLENBQVlVLEtBQVo7QUFBQSxRQUFtQnBILE1BQW5CLEdBQThCMEcsSUFBOUIsQ0FBbUIxRyxNQUFuQjtBQUNBLFFBQU03RSxFQUFFLEdBQUd5TCxFQUFFLENBQUNJLFdBQWQ7QUFFQSxRQUFNN0ssTUFBTSxHQUFHd0Qsa0JBQWtCLENBQUN4RSxFQUFELENBQWpDO0FBRUEsUUFBTXlKLEdBQUcsR0FBR0gsa0JBQWtCLENBQUN0SixFQUFELEVBQUs2RSxNQUFMLENBQTlCO0FBRUEsUUFBTXdJLGlCQUFpQixHQUFHM0QsZUFBZSxDQUFDMUksTUFBRCxFQUFTeUksR0FBVCxDQUF6QyxDQVI2QixDQVU3QjtBQUNBOztBQUNBLFFBQU12SSxDQUFDLEdBQUdtTSxpQkFBaUIsQ0FBQyxDQUFELENBQWpCLENBQXFCLENBQXJCLENBQVY7QUFDQSxRQUFNak0sQ0FBQyxHQUFHaU0saUJBQWlCLENBQUMsQ0FBRCxDQUFqQixDQUFxQixDQUFyQixDQUFWO0FBRUEsUUFBTUMsY0FBYyxHQUFHRCxpQkFBaUIsQ0FBQ3ROLEdBQWxCLENBQXNCO0FBQUE7QUFBQSxVQUFFd04sRUFBRjtBQUFBLFVBQU1DLEVBQU47O0FBQUEsYUFBYyxDQUN6REQsRUFBRSxHQUFHck0sQ0FEb0QsRUFFekRzTSxFQUFFLEdBQUdwTSxDQUZvRCxDQUFkO0FBQUEsS0FBdEIsQ0FBdkI7O0FBS0EsZ0NBQXdCTCxvQkFBb0IsQ0FBQ3VNLGNBQUQsQ0FBNUM7QUFBQTtBQUFBLFFBQU9oSixLQUFQO0FBQUEsUUFBY0MsTUFBZDs7QUFFQSxRQUFNNEksSUFBb0IsR0FBRyxvRkFDeEJuSCxZQUFZLEVBRFMsR0FFckJwQixhQUFhLENBQUNDLE1BQUQsQ0FGUSxHQUdyQmYsd0JBQXdCLENBQUM5RCxFQUFELENBSEg7QUFJeEJnQixNQUFBQSxNQUFNLEVBQUVzTSxjQUFjLENBQUM5RCxNQUFmLENBQXNCLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFELENBQXRCLENBSmdCO0FBS3hCdEksTUFBQUEsQ0FBQyxFQUFEQSxDQUx3QjtBQU14QkUsTUFBQUEsQ0FBQyxFQUFEQSxDQU53QjtBQU94QmtELE1BQUFBLEtBQUssRUFBTEEsS0FQd0I7QUFReEJDLE1BQUFBLE1BQU0sRUFBTkE7QUFSd0IsTUFBMUI7O0FBV0EwSCxJQUFBQSxLQUFLLENBQUNuTSxRQUFOLENBQWV3TSxJQUFmLENBQW9CYSxJQUFwQjtBQUVBM0IsSUFBQUEsSUFBSSxDQUFDRCxJQUFELEVBQU9BLElBQUksQ0FBQ0UsRUFBTCxDQUFRQyxRQUFSLEVBQVAsQ0FBSjtBQUNELEdBbkthO0FBcUtkK0IsRUFBQUEsUUFBUSxFQUFFLGtCQUFDbEMsSUFBRCxFQUFzQjtBQUM5QixRQUFRRSxFQUFSLEdBQThCRixJQUE5QixDQUFRRSxFQUFSO0FBQUEsUUFBWVEsS0FBWixHQUE4QlYsSUFBOUIsQ0FBWVUsS0FBWjtBQUFBLFFBQW1CcEgsTUFBbkIsR0FBOEIwRyxJQUE5QixDQUFtQjFHLE1BQW5CO0FBQ0EsUUFBTTdFLEVBQUUsR0FBR3lMLEVBQUUsQ0FBQ0ksV0FBZDtBQUVBLFFBQU1wQyxHQUFHLEdBQUdILGtCQUFrQixDQUFDdEosRUFBRCxFQUFLNkUsTUFBTCxDQUE5QjtBQUVBLFFBQU03RCxNQUFNLEdBQUd3RCxrQkFBa0IsQ0FBQ3hFLEVBQUQsQ0FBakM7QUFDQSxRQUFNcU4saUJBQWlCLEdBQUczRCxlQUFlLENBQUMxSSxNQUFELEVBQVN5SSxHQUFULENBQXpDLENBUDhCLENBUzlCO0FBQ0E7O0FBQ0EsUUFBTXZJLENBQUMsR0FBR21NLGlCQUFpQixDQUFDLENBQUQsQ0FBakIsQ0FBcUIsQ0FBckIsQ0FBVjtBQUNBLFFBQU1qTSxDQUFDLEdBQUdpTSxpQkFBaUIsQ0FBQyxDQUFELENBQWpCLENBQXFCLENBQXJCLENBQVY7QUFFQSxRQUFNQyxjQUFjLEdBQUdELGlCQUFpQixDQUFDdE4sR0FBbEIsQ0FBc0I7QUFBQTtBQUFBLFVBQUV3TixFQUFGO0FBQUEsVUFBTUMsRUFBTjs7QUFBQSxhQUFjLENBQ3pERCxFQUFFLEdBQUdyTSxDQURvRCxFQUV6RHNNLEVBQUUsR0FBR3BNLENBRm9ELENBQWQ7QUFBQSxLQUF0QixDQUF2Qjs7QUFLQSxpQ0FBd0JMLG9CQUFvQixDQUFDdU0sY0FBRCxDQUE1QztBQUFBO0FBQUEsUUFBT2hKLEtBQVA7QUFBQSxRQUFjQyxNQUFkOztBQUVBLFFBQU1tSixPQUFPLEdBQUc5SyxHQUFHLENBQUM1QyxFQUFELEVBQUssTUFBTCxDQUFuQjtBQUNBLFFBQU11RCxJQUFJLEdBQUdSLEdBQUcsQ0FBQy9DLEVBQUQsRUFBSyxNQUFMLENBQWhCO0FBRUEsUUFBTTJOLFVBQVUsR0FBRyxDQUFDRCxPQUFELElBQWFBLE9BQU8sSUFBSW5LLElBQUksS0FBSyxNQUFwRDs7QUFFQSxRQUFNNEosSUFBb0IsR0FBRyxvRkFDeEJuSCxZQUFZLEVBRFMsR0FFckJwQixhQUFhLENBQUNDLE1BQUQsQ0FGUSxHQUdyQmYsd0JBQXdCLENBQUM5RCxFQUFELENBSEg7QUFJeEJnQixNQUFBQSxNQUFNLEVBQUVzTSxjQUFjLENBQUM5RCxNQUFmLENBQXNCbUUsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFELENBQUgsR0FBYyxFQUE5QyxDQUpnQjtBQUt4QnpNLE1BQUFBLENBQUMsRUFBREEsQ0FMd0I7QUFNeEJFLE1BQUFBLENBQUMsRUFBREEsQ0FOd0I7QUFPeEJrRCxNQUFBQSxLQUFLLEVBQUxBLEtBUHdCO0FBUXhCQyxNQUFBQSxNQUFNLEVBQU5BO0FBUndCLE1BQTFCOztBQVdBMEgsSUFBQUEsS0FBSyxDQUFDbk0sUUFBTixDQUFld00sSUFBZixDQUFvQmEsSUFBcEI7QUFFQTNCLElBQUFBLElBQUksQ0FBQ0QsSUFBRCxFQUFPQSxJQUFJLENBQUNFLEVBQUwsQ0FBUUMsUUFBUixFQUFQLENBQUo7QUFDRCxHQTdNYTtBQStNZGtDLEVBQUFBLElBQUksRUFBRSxjQUFDckMsSUFBRCxFQUFzQjtBQUMxQixRQUFRRSxFQUFSLEdBQThCRixJQUE5QixDQUFRRSxFQUFSO0FBQUEsUUFBWVEsS0FBWixHQUE4QlYsSUFBOUIsQ0FBWVUsS0FBWjtBQUFBLFFBQW1CcEgsTUFBbkIsR0FBOEIwRyxJQUE5QixDQUFtQjFHLE1BQW5CO0FBQ0EsUUFBTTdFLEVBQUUsR0FBR3lMLEVBQUUsQ0FBQ0ksV0FBZDtBQUVBLFFBQU0zSyxDQUFDLEdBQUdnQyxNQUFNLENBQUNsRCxFQUFELEVBQUssR0FBTCxFQUFVLENBQVYsQ0FBaEI7QUFDQSxRQUFNb0IsQ0FBQyxHQUFHOEIsTUFBTSxDQUFDbEQsRUFBRCxFQUFLLEdBQUwsRUFBVSxDQUFWLENBQWhCO0FBQ0EsUUFBTWlOLENBQUMsR0FBRy9KLE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxPQUFMLEVBQWMsQ0FBZCxDQUFoQjtBQUNBLFFBQU1rTixDQUFDLEdBQUdoSyxNQUFNLENBQUNsRCxFQUFELEVBQUssUUFBTCxFQUFlLENBQWYsQ0FBaEI7QUFFQSxRQUFNeUosR0FBRyxHQUFHSCxrQkFBa0IsQ0FBQ3RKLEVBQUQsRUFBSzZFLE1BQUwsQ0FBOUIsQ0FUMEIsQ0FXMUI7O0FBQ0EsUUFBTTZILENBQUMsR0FBR3RHLFVBQUEsQ0FBZ0I2RyxDQUFoQixFQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QixDQUF6QixFQUE0QixDQUE1QixFQUErQkMsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUMsQ0FBckMsRUFBd0MsQ0FBeEMsRUFBMkMsQ0FBM0MsRUFBOEMsQ0FBOUMsRUFBaUQsQ0FBakQsRUFBb0RoTSxDQUFwRCxFQUF1REUsQ0FBdkQsRUFBMEQsQ0FBMUQsRUFBNkQsQ0FBN0QsQ0FBVjtBQUVBLFFBQU11TCxNQUFNLEdBQUd2RyxRQUFBLENBQWNBLE1BQUEsRUFBZCxFQUE2QnFELEdBQTdCLEVBQWtDaUQsQ0FBbEMsQ0FBZjtBQUVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksUUFBTW1CLE9BQU8sR0FBRzdOLEVBQUUsQ0FBQzhDLFlBQUgsQ0FBZ0IsSUFBaEIsS0FBeUI5QyxFQUFFLENBQUM4QyxZQUFILENBQWdCLElBQWhCLENBQXpDOztBQUVBLFFBQU04SyxJQUF5QixHQUFHLGdFQUM3QjlILFlBQVksRUFEYyxHQUUxQnpDLGdCQUFTLENBQUNyRCxFQUFELEVBQUs2RSxNQUFMLENBRmlCO0FBRzdCM0QsTUFBQUEsQ0FBQyxFQUFFeUwsTUFBTSxDQUFDLEVBQUQsQ0FIb0I7QUFJN0J2TCxNQUFBQSxDQUFDLEVBQUV1TCxNQUFNLENBQUMsRUFBRCxDQUpvQjtBQUs3QnJJLE1BQUFBLEtBQUssRUFBRXFJLE1BQU0sQ0FBQyxDQUFELENBTGdCO0FBTTdCcEksTUFBQUEsTUFBTSxFQUFFb0ksTUFBTSxDQUFDLENBQUQsQ0FOZTtBQU83QnRILE1BQUFBLGVBQWUsRUFBRXdJLE9BQU8sR0FBRyxPQUFILEdBQWE7QUFQUixNQUEvQjs7QUFVQTVCLElBQUFBLEtBQUssQ0FBQ25NLFFBQU4sQ0FBZXdNLElBQWYsQ0FBb0JzQixJQUFwQjtBQUVBcEMsSUFBQUEsSUFBSSxDQUFDRCxJQUFELEVBQU9BLElBQUksQ0FBQ0UsRUFBTCxDQUFRQyxRQUFSLEVBQVAsQ0FBSjtBQUNELEdBblBhO0FBcVBkb0MsRUFBQUEsSUFBSSxFQUFFLGNBQUN2QyxJQUFELEVBQXNCO0FBQzFCLFFBQVFFLEVBQVIsR0FBOEJGLElBQTlCLENBQVFFLEVBQVI7QUFBQSxRQUFZUSxLQUFaLEdBQThCVixJQUE5QixDQUFZVSxLQUFaO0FBQUEsUUFBbUJwSCxNQUFuQixHQUE4QjBHLElBQTlCLENBQW1CMUcsTUFBbkI7QUFDQSxRQUFNN0UsRUFBRSxHQUFHeUwsRUFBRSxDQUFDSSxXQUFkO0FBRUEsUUFBTXBDLEdBQUcsR0FBR0gsa0JBQWtCLENBQUN0SixFQUFELEVBQUs2RSxNQUFMLENBQTlCO0FBRUEsUUFBTTdELE1BQU0sR0FBR2dKLFlBQVksQ0FBQ2pILEdBQUcsQ0FBQy9DLEVBQUQsRUFBSyxHQUFMLENBQUosQ0FBM0I7QUFFQSxRQUFNK04sU0FBUyxHQUFHaEwsR0FBRyxDQUFDL0MsRUFBRCxFQUFLLE1BQUwsRUFBYSxPQUFiLENBQXJCO0FBQ0EsUUFBTWdPLFFBQVEsR0FBR2pMLEdBQUcsQ0FBQy9DLEVBQUQsRUFBSyxXQUFMLEVBQWtCLFNBQWxCLENBQXBCO0FBRUEsUUFBSUYsUUFBMEIsR0FBRyxFQUFqQztBQUNBLFFBQUltTyxVQUFVLEdBQUd2TixRQUFRLEVBQXpCOztBQUVBLFlBQVFzTixRQUFSO0FBQ0UsV0FBSyxTQUFMO0FBQ0UsWUFBSUUsbUJBQW1CLEdBQUcsV0FBMUI7QUFFQXBPLFFBQUFBLFFBQVEsR0FBR2tCLE1BQU0sQ0FBQ2pCLEdBQVAsQ0FDVCxVQUFDb08sUUFBRCxFQUFXcE0sR0FBWCxFQUFtQztBQUNqQyxjQUFNcU0sT0FBZ0IsR0FBRzFFLGVBQWUsQ0FBQ3lFLFFBQUQsRUFBVy9ILEtBQUEsQ0FBV3FELEdBQVgsQ0FBWCxDQUF4QztBQUNBLGNBQU12SSxDQUFDLEdBQUdrTixPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVcsQ0FBWCxDQUFWO0FBQ0EsY0FBTWhOLENBQUMsR0FBR2dOLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBVyxDQUFYLENBQVY7O0FBRUEsdUNBQXdCck4sb0JBQW9CLENBQUNxTixPQUFELENBQTVDO0FBQUE7QUFBQSxjQUFPOUosS0FBUDtBQUFBLGNBQWNDLE1BQWQ7O0FBRUEsY0FBTStJLGNBQWMsR0FBR2MsT0FBTyxDQUFDck8sR0FBUixDQUNyQjtBQUFBO0FBQUEsZ0JBQUV3TixFQUFGO0FBQUEsZ0JBQU1DLEVBQU47O0FBQUEsbUJBQXFCLENBQUNELEVBQUUsR0FBR3JNLENBQU4sRUFBU3NNLEVBQUUsR0FBR3BNLENBQWQsQ0FBckI7QUFBQSxXQURxQixDQUF2QjtBQUlBLGNBQU1rTixZQUFZLEdBQUczTSxlQUFlLENBQUMyTCxjQUFELENBQXBDOztBQUNBLGNBQUl2TCxHQUFHLEtBQUssQ0FBWixFQUFlO0FBQ2JtTSxZQUFBQSxtQkFBbUIsR0FBR0ksWUFBdEI7QUFDQUwsWUFBQUEsVUFBVSxHQUFHdk4sUUFBUSxFQUFyQjtBQUNEOztBQUVELGNBQUltRCxlQUFlLEdBQUdrSyxTQUF0Qjs7QUFDQSxjQUFJRyxtQkFBbUIsS0FBS0ksWUFBNUIsRUFBMEM7QUFDeEN6SyxZQUFBQSxlQUFlLEdBQUcsU0FBbEI7QUFDRDs7QUFFRCxpRkFDS3FDLFlBQVksRUFEakI7QUFFRXRDLFlBQUFBLFdBQVcsRUFBRSxDQUZmO0FBR0VELFlBQUFBLFdBQVcsRUFBRTtBQUhmLGFBSUtOLGdCQUFTLENBQUNyRCxFQUFELEVBQUs2RSxNQUFMLENBSmQ7QUFLRTdELFlBQUFBLE1BQU0sRUFBRXNNLGNBTFY7QUFNRXpKLFlBQUFBLGVBQWUsRUFBZkEsZUFORjtBQU9FUyxZQUFBQSxLQUFLLEVBQUxBLEtBUEY7QUFRRUMsWUFBQUEsTUFBTSxFQUFOQSxNQVJGO0FBU0VyRCxZQUFBQSxDQUFDLEVBQUVBLENBQUMsR0FBR2dDLE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxHQUFMLEVBQVUsQ0FBVixDQVRmO0FBVUVvQixZQUFBQSxDQUFDLEVBQUVBLENBQUMsR0FBRzhCLE1BQU0sQ0FBQ2xELEVBQUQsRUFBSyxHQUFMLEVBQVUsQ0FBVixDQVZmO0FBV0U0RixZQUFBQSxRQUFRLEVBQUUsQ0FBQ3FJLFVBQUQ7QUFYWjtBQWFELFNBcENRLENBQVg7QUFzQ0E7O0FBQ0YsV0FBSyxTQUFMO0FBQ0VuTyxRQUFBQSxRQUFRLEdBQUdrQixNQUFNLENBQUNqQixHQUFQLENBQ1QsVUFBQ29PLFFBQUQsRUFBV3BNLEdBQVgsRUFBbUM7QUFDakMsY0FBTXFNLE9BQWdCLEdBQUcxRSxlQUFlLENBQUN5RSxRQUFELEVBQVcvSCxLQUFBLENBQVdxRCxHQUFYLENBQVgsQ0FBeEM7QUFDQSxjQUFNdkksQ0FBQyxHQUFHa04sT0FBTyxDQUFDLENBQUQsQ0FBUCxDQUFXLENBQVgsQ0FBVjtBQUNBLGNBQU1oTixDQUFDLEdBQUdnTixPQUFPLENBQUMsQ0FBRCxDQUFQLENBQVcsQ0FBWCxDQUFWOztBQUVBLHVDQUF3QnJOLG9CQUFvQixDQUFDcU4sT0FBRCxDQUE1QztBQUFBO0FBQUEsY0FBTzlKLEtBQVA7QUFBQSxjQUFjQyxNQUFkOztBQUVBLGNBQU0rSSxjQUFjLEdBQUdjLE9BQU8sQ0FBQ3JPLEdBQVIsQ0FDckI7QUFBQTtBQUFBLGdCQUFFd04sRUFBRjtBQUFBLGdCQUFNQyxFQUFOOztBQUFBLG1CQUFxQixDQUFDRCxFQUFFLEdBQUdyTSxDQUFOLEVBQVNzTSxFQUFFLEdBQUdwTSxDQUFkLENBQXJCO0FBQUEsV0FEcUIsQ0FBdkI7O0FBSUEsY0FBSVcsR0FBRyxLQUFLLENBQVosRUFBZTtBQUNia00sWUFBQUEsVUFBVSxHQUFHdk4sUUFBUSxFQUFyQjtBQUNEOztBQUVELGlGQUNLd0YsWUFBWSxFQURqQixHQUVLN0MsZ0JBQVMsQ0FBQ3JELEVBQUQsRUFBSzZFLE1BQUwsQ0FGZDtBQUdFN0QsWUFBQUEsTUFBTSxFQUFFc00sY0FIVjtBQUlFaEosWUFBQUEsS0FBSyxFQUFMQSxLQUpGO0FBS0VDLFlBQUFBLE1BQU0sRUFBTkEsTUFMRjtBQU1FckQsWUFBQUEsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnQyxNQUFNLENBQUNsRCxFQUFELEVBQUssR0FBTCxFQUFVLENBQVYsQ0FOZjtBQU9Fb0IsWUFBQUEsQ0FBQyxFQUFFQSxDQUFDLEdBQUc4QixNQUFNLENBQUNsRCxFQUFELEVBQUssR0FBTCxFQUFVLENBQVY7QUFQZjtBQVNELFNBekJRLENBQVg7QUEyQkE7O0FBQ0Y7QUF4RUY7O0FBMkVBaU0sSUFBQUEsS0FBSyxDQUFDbk0sUUFBTixHQUFpQm1NLEtBQUssQ0FBQ25NLFFBQU4sQ0FBZTBKLE1BQWYsQ0FBc0IxSixRQUF0QixDQUFqQjtBQUVBMEwsSUFBQUEsSUFBSSxDQUFDRCxJQUFELEVBQU9FLEVBQUUsQ0FBQ0MsUUFBSCxFQUFQLENBQUo7QUFDRDtBQWpWYSxDQUFoQjtBQW9WTyxTQUFTRixJQUFULENBQWNELElBQWQsRUFBZ0NHLFFBQWhDLEVBQTZEO0FBQ2xFLE1BQUksQ0FBQ0EsUUFBTCxFQUFlO0FBQ2I7QUFDRDs7QUFFRCxNQUFNNkMsUUFBUSxHQUFHN0MsUUFBUSxDQUFDNkMsUUFBMUI7O0FBQ0EsTUFBSWxELE9BQU8sQ0FBQ2tELFFBQUQsQ0FBWCxFQUF1QjtBQUNyQmxELElBQUFBLE9BQU8sQ0FBQ2tELFFBQUQsQ0FBUCxDQUFrQmhELElBQWxCO0FBQ0Q7QUFDRixDOzs7Ozs7Ozs7Ozs7OztBQ2pkRDtBQUVBO0FBUU8sSUFBTWlELE9BQU8sR0FBRyxTQUFWQSxPQUFVLENBQUNDLFNBQUQsRUFBeUM7QUFDOUQsTUFBTUMsTUFBTSxHQUFHLElBQUlDLFNBQUosRUFBZjtBQUNBLE1BQU1DLE1BQU0sR0FBR0YsTUFBTSxDQUFDRyxlQUFQLENBQXVCSixTQUF2QixFQUFrQyxlQUFsQyxDQUFmLENBRjhELENBSTlEOztBQUNBLE1BQU1LLGNBQWMsR0FBR0YsTUFBTSxDQUFDRyxnQkFBUCxDQUF3QixhQUF4QixDQUF2QjtBQUNBLE1BQU1DLFNBQVMsR0FBR0YsY0FBYyxDQUFDcEcsTUFBZixHQUF3QixDQUExQztBQUNBLE1BQUl1RyxPQUFPLEdBQUcsSUFBZDs7QUFFQSxNQUFJRCxTQUFKLEVBQWU7QUFDYkUsSUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQ0UsaURBREYsRUFFRSx5QkFBSUwsY0FBSixFQUFvQi9PLEdBQXBCLENBQXdCLFVBQUNDLEVBQUQ7QUFBQSxhQUFRQSxFQUFFLENBQUNvUCxTQUFYO0FBQUEsS0FBeEIsQ0FGRjtBQUlELEdBTEQsTUFLTztBQUNMLFFBQU0zRCxFQUFFLEdBQUdqQixnQkFBZ0IsQ0FBQ29FLE1BQUQsQ0FBM0I7QUFDQSxRQUFNM0MsS0FBSyxHQUFHLElBQUlwTSx3QkFBSixFQUFkO0FBQ0EsUUFBTWdGLE1BQWUsR0FBRyxFQUF4QjtBQUVBMkcsSUFBQUEsSUFBSSxDQUFDO0FBQUVDLE1BQUFBLEVBQUUsRUFBRkEsRUFBRjtBQUFNUSxNQUFBQSxLQUFLLEVBQUxBLEtBQU47QUFBYXBILE1BQUFBLE1BQU0sRUFBTkEsTUFBYjtBQUFxQm1ILE1BQUFBLElBQUksRUFBRTRDO0FBQTNCLEtBQUQsRUFBc0NuRCxFQUFFLENBQUNDLFFBQUgsRUFBdEMsQ0FBSjtBQUVBdUQsSUFBQUEsT0FBTyxHQUFHaEQsS0FBSyxDQUFDb0QsUUFBTixFQUFWO0FBQ0Q7O0FBRUQsU0FBTztBQUNMTCxJQUFBQSxTQUFTLEVBQVRBLFNBREs7QUFFTE0sSUFBQUEsTUFBTSxFQUFFTixTQUFTLEdBQUdGLGNBQUgsR0FBb0IsSUFGaEM7QUFHTEcsSUFBQUEsT0FBTyxFQUFQQTtBQUhLLEdBQVA7QUFLRCxDQTdCTSxDOztBQ1ZQO0FBRUEsMENBQWVQLDBCQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lLnRzPzFjNDQiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanM/Yzk0ZCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL21hdDQuanM/NjVhMSIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9yb3VnaGpzL2Jpbi9tYXRoLmpzPzIxMmIiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvbmFub2lkL2luZGV4LnByb2QuanM/NmQ3NyIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy91dGlscy50cz83ZGRhIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2F0dHJpYnV0ZXMudHM/M2Q5NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL3NyYy9lbGVtZW50cy9Hcm91cC50cz9hNzI3Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50LnRzP2QzNWEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzPzlmZTciLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9zcmMvdHJhbnNmb3JtLnRzPzVjZmEiLCJ3ZWJwYWNrOi8vc3ZnLXRvLWV4Y2FsaWRyYXcvLi9ub2RlX21vZHVsZXMvcG9pbnRzLW9uLWN1cnZlL2xpYi9pbmRleC5qcz9mNDQ4Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL3BhcnNlci5qcz8xOWQ5Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BhdGgtZGF0YS1wYXJzZXIvbGliL2Fic29sdXRpemUuanM/YzMwNiIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9ub3JtYWxpemUuanM/MzA4NCIsIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9wYXRoLWRhdGEtcGFyc2VyL2xpYi9pbmRleC5qcz85ZDg2Iiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vbm9kZV9tb2R1bGVzL3BvaW50cy1vbi1wYXRoL2xpYi9pbmRleC5qcz9mMTkxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3dhbGtlci50cz8wMWRjIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL3BhcnNlci50cz9iOTcxIiwid2VicGFjazovL3N2Zy10by1leGNhbGlkcmF3Ly4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhjYWxpZHJhd0dlbmVyaWNFbGVtZW50IH0gZnJvbSBcIi4vRXhjYWxpZHJhd0VsZW1lbnRcIjtcblxuY2xhc3MgRXhjYWxpZHJhd1NjZW5lIHtcbiAgdHlwZSA9IFwiZXhjYWxpZHJhd1wiO1xuICB2ZXJzaW9uID0gMjtcbiAgc291cmNlID0gXCJodHRwczovL2V4Y2FsaWRyYXcuY29tXCI7XG4gIGVsZW1lbnRzOiBFeGNhbGlkcmF3R2VuZXJpY0VsZW1lbnRbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gW10pIHtcbiAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gIH1cblxuICB0b0V4SlNPTigpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLFxuICAgICAgZWxlbWVudHM6IHRoaXMuZWxlbWVudHMubWFwKChlbCkgPT4gKHsgLi4uZWwgfSkpLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhjYWxpZHJhd1NjZW5lO1xuIiwiLyoqXHJcbiAqIENvbW1vbiB1dGlsaXRpZXNcclxuICogQG1vZHVsZSBnbE1hdHJpeFxyXG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXHJcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKSB7XG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xufVxudmFyIGRlZ3JlZSA9IE1hdGguUEkgLyAxODA7XG4vKipcclxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXHJcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcclxuICogb3IgcmVsYXRpdmUgdG9sZXJhbmNlIG9mIGdsTWF0cml4LkVQU0lMT04gKGFuIGFic29sdXRlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciB2YWx1ZXMgbGVzc1xyXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBmaXJzdCBudW1iZXIgdG8gdGVzdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEpLCBNYXRoLmFicyhiKSk7XG59XG5pZiAoIU1hdGguaHlwb3QpIE1hdGguaHlwb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB5ID0gMCxcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XG59OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxyXG4gKiBAbW9kdWxlIG1hdDRcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcclxuICpcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEludmVydHMgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG5cbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls0XTtcbiAgYjEgPSBiWzVdO1xuICBiMiA9IGJbNl07XG4gIGIzID0gYls3XTtcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls4XTtcbiAgYjEgPSBiWzldO1xuICBiMiA9IGJbMTBdO1xuICBiMyA9IGJbMTFdO1xuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbMTJdO1xuICBiMSA9IGJbMTNdO1xuICBiMiA9IGJbMTRdO1xuICBiMyA9IGJbMTVdO1xuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gLXM7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cclxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcclxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcbiAgb3V0WzBdID0gbWF0WzEyXTtcbiAgb3V0WzFdID0gbWF0WzEzXTtcbiAgb3V0WzJdID0gbWF0WzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxyXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcclxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxyXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXHJcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcclxuICogQHJldHVybiB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XHJcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxyXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXHJcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xyXG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xyXG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cclxuICpcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cclxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxyXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXHJcbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgICAgZXlleSA9IGV5ZVsxXSxcbiAgICAgIGV5ZXogPSBleWVbMl0sXG4gICAgICB1cHggPSB1cFswXSxcbiAgICAgIHVweSA9IHVwWzFdLFxuICAgICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cblxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geDE7XG4gIG91dFsyXSA9IHgyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6MDtcbiAgb3V0WzldID0gejE7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSBleWV4O1xuICBvdXRbMTNdID0gZXlleTtcbiAgb3V0WzE0XSA9IGV5ZXo7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGE4ID0gYVs4XSxcbiAgICAgIGE5ID0gYVs5XSxcbiAgICAgIGExMCA9IGFbMTBdLFxuICAgICAgYTExID0gYVsxMV07XG4gIHZhciBhMTIgPSBhWzEyXSxcbiAgICAgIGExMyA9IGFbMTNdLFxuICAgICAgYTE0ID0gYVsxNF0sXG4gICAgICBhMTUgPSBhWzE1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgdmFyIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgdmFyIGI4ID0gYls4XSxcbiAgICAgIGI5ID0gYls5XSxcbiAgICAgIGIxMCA9IGJbMTBdLFxuICAgICAgYjExID0gYlsxMV07XG4gIHZhciBiMTIgPSBiWzEyXSxcbiAgICAgIGIxMyA9IGJbMTNdLFxuICAgICAgYjE0ID0gYlsxNF0sXG4gICAgICBiMTUgPSBiWzE1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcbn1cbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tU2VlZCgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMiAqKiAzMSk7XG59XG5leHBvcnQgY2xhc3MgUmFuZG9tIHtcbiAgICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgICAgIHRoaXMuc2VlZCA9IHNlZWQ7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoKDIgKiogMzEgLSAxKSAmICh0aGlzLnNlZWQgPSBNYXRoLmltdWwoNDgyNzEsIHRoaXMuc2VlZCkpKSAvIDIgKiogMzE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIFRoaXMgZmlsZSByZXBsYWNlcyBgaW5kZXguanNgIGluIGJ1bmRsZXJzIGxpa2Ugd2VicGFjayBvciBSb2xsdXAsXG4vLyBhY2NvcmRpbmcgdG8gYGJyb3dzZXJgIGNvbmZpZyBpbiBgcGFja2FnZS5qc29uYC5cblxuaW1wb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcblxuaWYgKGZhbHNlKSB7XG4gIC8vIEFsbCBidW5kbGVycyB3aWxsIHJlbW92ZSB0aGlzIGJsb2NrIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cbiAgaWYgKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgJiZcbiAgICB0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnUmVhY3QgTmF0aXZlIGRvZXMgbm90IGhhdmUgYSBidWlsdC1pbiBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzIHVzZSBgbmFub2lkL25vbi1zZWN1cmVgLiAnICtcbiAgICAgICAgJ0ZvciBzZWN1cmUgSURzLCBpbXBvcnQgYHJlYWN0LW5hdGl2ZS1nZXQtcmFuZG9tLXZhbHVlc2AgJyArXG4gICAgICAgICdiZWZvcmUgTmFubyBJRC4nXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0ltcG9ydCBmaWxlIHdpdGggYGlmICghd2luZG93LmNyeXB0bykgd2luZG93LmNyeXB0byA9IHdpbmRvdy5tc0NyeXB0b2AnICtcbiAgICAgICAgJyBiZWZvcmUgaW1wb3J0aW5nIE5hbm8gSUQgdG8gZml4IElFIDExIHN1cHBvcnQnXG4gICAgKVxuICB9XG4gIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBzZWN1cmUgcmFuZG9tIGdlbmVyYXRvci4gJyArXG4gICAgICAgICdJZiB5b3UgZG9u4oCZdCBuZWVkIHVucHJlZGljdGFibGUgSURzLCB5b3UgY2FuIHVzZSBuYW5vaWQvbm9uLXNlY3VyZS4nXG4gICAgKVxuICB9XG59XG5cbmxldCByYW5kb20gPSBieXRlcyA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KGJ5dGVzKSlcblxubGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgc2l6ZSwgZ2V0UmFuZG9tKSA9PiB7XG4gIC8vIEZpcnN0LCBhIGJpdG1hc2sgaXMgbmVjZXNzYXJ5IHRvIGdlbmVyYXRlIHRoZSBJRC4gVGhlIGJpdG1hc2sgbWFrZXMgYnl0ZXNcbiAgLy8gdmFsdWVzIGNsb3NlciB0byB0aGUgYWxwaGFiZXQgc2l6ZS4gVGhlIGJpdG1hc2sgY2FsY3VsYXRlcyB0aGUgY2xvc2VzdFxuICAvLyBgMl4zMSAtIDFgIG51bWJlciwgd2hpY2ggZXhjZWVkcyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgLy8gRm9yIGV4YW1wbGUsIHRoZSBiaXRtYXNrIGZvciB0aGUgYWxwaGFiZXQgc2l6ZSAzMCBpcyAzMSAoMDAwMTExMTEpLlxuICAvLyBgTWF0aC5jbHozMmAgaXMgbm90IHVzZWQsIGJlY2F1c2UgaXQgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2Vycy5cbiAgbGV0IG1hc2sgPSAoMiA8PCAoTWF0aC5sb2coYWxwaGFiZXQubGVuZ3RoIC0gMSkgLyBNYXRoLkxOMikpIC0gMVxuICAvLyBUaG91Z2gsIHRoZSBiaXRtYXNrIHNvbHV0aW9uIGlzIG5vdCBwZXJmZWN0IHNpbmNlIHRoZSBieXRlcyBleGNlZWRpbmdcbiAgLy8gdGhlIGFscGhhYmV0IHNpemUgYXJlIHJlZnVzZWQuIFRoZXJlZm9yZSwgdG8gcmVsaWFibHkgZ2VuZXJhdGUgdGhlIElELFxuICAvLyB0aGUgcmFuZG9tIGJ5dGVzIHJlZHVuZGFuY3kgaGFzIHRvIGJlIHNhdGlzZmllZC5cblxuICAvLyBOb3RlOiBldmVyeSBoYXJkd2FyZSByYW5kb20gZ2VuZXJhdG9yIGNhbGwgaXMgcGVyZm9ybWFuY2UgZXhwZW5zaXZlLFxuICAvLyBiZWNhdXNlIHRoZSBzeXN0ZW0gY2FsbCBmb3IgZW50cm9weSBjb2xsZWN0aW9uIHRha2VzIGEgbG90IG9mIHRpbWUuXG4gIC8vIFNvLCB0byBhdm9pZCBhZGRpdGlvbmFsIHN5c3RlbSBjYWxscywgZXh0cmEgYnl0ZXMgYXJlIHJlcXVlc3RlZCBpbiBhZHZhbmNlLlxuXG4gIC8vIE5leHQsIGEgc3RlcCBkZXRlcm1pbmVzIGhvdyBtYW55IHJhbmRvbSBieXRlcyB0byBnZW5lcmF0ZS5cbiAgLy8gVGhlIG51bWJlciBvZiByYW5kb20gYnl0ZXMgZ2V0cyBkZWNpZGVkIHVwb24gdGhlIElEIHNpemUsIG1hc2ssXG4gIC8vIGFscGhhYmV0IHNpemUsIGFuZCBtYWdpYyBudW1iZXIgMS42ICh1c2luZyAxLjYgcGVha3MgYXQgcGVyZm9ybWFuY2VcbiAgLy8gYWNjb3JkaW5nIHRvIGJlbmNobWFya3MpLlxuXG4gIC8vIGAtfmYgPT4gTWF0aC5jZWlsKGYpYCBpZiBmIGlzIGEgZmxvYXRcbiAgLy8gYC1+aSA9PiBpICsgMWAgaWYgaSBpcyBhbiBpbnRlZ2VyXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBzaXplKSAvIGFscGhhYmV0Lmxlbmd0aClcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBpZCA9ICcnXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBieXRlcyA9IGdldFJhbmRvbShzdGVwKVxuICAgICAgLy8gQSBjb21wYWN0IGFsdGVybmF0aXZlIGZvciBgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwOyBpKyspYC5cbiAgICAgIGxldCBqID0gc3RlcFxuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAvLyBBZGRpbmcgYHx8ICcnYCByZWZ1c2VzIGEgcmFuZG9tIGJ5dGUgdGhhdCBleGNlZWRzIHRoZSBhbHBoYWJldCBzaXplLlxuICAgICAgICBpZCArPSBhbHBoYWJldFtieXRlc1tqXSAmIG1hc2tdIHx8ICcnXG4gICAgICAgIGlmIChpZC5sZW5ndGggPT09IHNpemUpIHJldHVybiBpZFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5sZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUpID0+IGN1c3RvbVJhbmRvbShhbHBoYWJldCwgc2l6ZSwgcmFuZG9tKVxuXG5sZXQgbmFub2lkID0gKHNpemUgPSAyMSkgPT4ge1xuICBsZXQgaWQgPSAnJ1xuICBsZXQgYnl0ZXMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKVxuXG4gIC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG4gIHdoaWxlIChzaXplLS0pIHtcbiAgICAvLyBJdCBpcyBpbmNvcnJlY3QgdG8gdXNlIGJ5dGVzIGV4Y2VlZGluZyB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICAvLyBUaGUgZm9sbG93aW5nIG1hc2sgcmVkdWNlcyB0aGUgcmFuZG9tIGJ5dGUgaW4gdGhlIDAtMjU1IHZhbHVlXG4gICAgLy8gcmFuZ2UgdG8gdGhlIDAtNjMgdmFsdWUgcmFuZ2UuIFRoZXJlZm9yZSwgYWRkaW5nIGhhY2tzLCBzdWNoXG4gICAgLy8gYXMgZW1wdHkgc3RyaW5nIGZhbGxiYWNrIG9yIG1hZ2ljIG51bWJlcnMsIGlzIHVubmVjY2Vzc2FyeSBiZWNhdXNlXG4gICAgLy8gdGhlIGJpdG1hc2sgdHJpbXMgYnl0ZXMgZG93biB0byB0aGUgYWxwaGFiZXQgc2l6ZS5cbiAgICBsZXQgYnl0ZSA9IGJ5dGVzW3NpemVdICYgNjNcbiAgICBpZiAoYnl0ZSA8IDM2KSB7XG4gICAgICAvLyBgMC05YS16YFxuICAgICAgaWQgKz0gYnl0ZS50b1N0cmluZygzNilcbiAgICB9IGVsc2UgaWYgKGJ5dGUgPCA2Mikge1xuICAgICAgLy8gYEEtWmBcbiAgICAgIGlkICs9IChieXRlIC0gMjYpLnRvU3RyaW5nKDM2KS50b1VwcGVyQ2FzZSgpXG4gICAgfSBlbHNlIGlmIChieXRlIDwgNjMpIHtcbiAgICAgIGlkICs9ICdfJ1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCArPSAnLSdcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlkXG59XG5cbmV4cG9ydCB7IG5hbm9pZCwgY3VzdG9tQWxwaGFiZXQsIGN1c3RvbVJhbmRvbSwgdXJsQWxwaGFiZXQsIHJhbmRvbSB9XG4iLCJpbXBvcnQgeyBSYW5kb20gfSBmcm9tIFwicm91Z2hqcy9iaW4vbWF0aFwiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5jb25zdCByYW5kb20gPSBuZXcgUmFuZG9tKERhdGUubm93KCkpO1xuXG5leHBvcnQgY29uc3QgcmFuZG9tSW50ZWdlciA9ICgpOiBudW1iZXIgPT4gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogMiAqKiAzMSk7XG5cbmV4cG9ydCBjb25zdCByYW5kb21JZCA9ICgpOiBzdHJpbmcgPT4gbmFub2lkKCk7XG5cbmV4cG9ydCBjb25zdCBzYWZlTnVtYmVyID0gKG51bWJlcjogbnVtYmVyKTogbnVtYmVyID0+IE51bWJlcihudW1iZXIudG9GaXhlZCgyKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkaW1lbnNpb25zRnJvbVBvaW50cyhwb2ludHM6IG51bWJlcltdW10pOiBudW1iZXJbXSB7XG4gIGNvbnN0IHhDb29yZHMgPSBwb2ludHMubWFwKChbeF0pID0+IHgpO1xuICBjb25zdCB5Q29vcmRzID0gcG9pbnRzLm1hcCgoWywgeV0pID0+IHkpO1xuXG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbiguLi54Q29vcmRzKTtcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLnlDb29yZHMpO1xuICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueENvb3Jkcyk7XG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heCguLi55Q29vcmRzKTtcblxuICByZXR1cm4gW21heFggLSBtaW5YLCBtYXhZIC0gbWluWV07XG59XG5cbi8vIHdpbmRpbmcgb3JkZXIgaXMgY2xvY2t3aXNlIHZhbHVlcyBpcyBwb3NpdGl2ZSwgY291bnRlciBjbG9ja3dpc2UgaWYgbmVnYXRpdmUuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZGluZ09yZGVyKFxuICBwb2ludHM6IFBvaW50W10sXG4pOiBcImNsb2Nrd2lzZVwiIHwgXCJjb3VudGVyY2xvY2t3aXNlXCIge1xuICBjb25zdCB0b3RhbCA9IHBvaW50cy5yZWR1Y2UoKGFjYywgW3gxLCB5MV0sIGlkeCwgYXJyKSA9PiB7XG4gICAgY29uc3QgcDIgPSBhcnJbaWR4ICsgMV07XG4gICAgY29uc3QgeDIgPSBwMiA/IHAyWzBdIDogMDtcbiAgICBjb25zdCB5MiA9IHAyID8gcDJbMV0gOiAwO1xuXG4gICAgY29uc3QgZSA9ICh4MiAtIHgxKSAqICh5MiArIHkxKTtcblxuICAgIHJldHVybiBlICsgYWNjO1xuICB9LCAwKTtcblxuICByZXR1cm4gdG90YWwgPiAwID8gXCJjbG9ja3dpc2VcIiA6IFwiY291bnRlcmNsb2Nrd2lzZVwiO1xufVxuIiwiaW1wb3J0IGNocm9tYSBmcm9tIFwiY2hyb21hLWpzXCI7XG5pbXBvcnQgeyBFeGNhbGlkcmF3RWxlbWVudEJhc2UgfSBmcm9tIFwiLi9lbGVtZW50cy9FeGNhbGlkcmF3RWxlbWVudFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGV4V2l0aEFscGhhKGNvbG9yOiBzdHJpbmcsIGFscGhhOiBudW1iZXIpOiBzdHJpbmcge1xuICByZXR1cm4gY2hyb21hKGNvbG9yKS5hbHBoYShhbHBoYSkuY3NzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXMoZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKGF0dHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGVsOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcsIGJhY2t1cD86IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoYXR0cikgfHwgYmFja3VwIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROdW0oZWw6IEVsZW1lbnQsIGF0dHI6IHN0cmluZywgYmFja3VwPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgbnVtVmFsID0gTnVtYmVyKGdldChlbCwgYXR0cikpO1xuICByZXR1cm4gbnVtVmFsID09PSBOYU4gPyBiYWNrdXAgfHwgMCA6IG51bVZhbDtcbn1cblxuY29uc3QgcHJlc0F0dHJzID0ge1xuICBzdHJva2U6IFwic3Ryb2tlXCIsXG4gIFwic3Ryb2tlLW9wYWNpdHlcIjogXCJzdHJva2Utb3BhY2l0eVwiLFxuICBcInN0cm9rZS13aWR0aFwiOiBcInN0cm9rZS13aWR0aFwiLFxuICBmaWxsOiBcImZpbGxcIixcbiAgXCJmaWxsLW9wYWNpdHlcIjogXCJmaWxsLW9wYWNpdHlcIixcbiAgb3BhY2l0eTogXCJvcGFjaXR5XCIsXG59IGFzIGNvbnN0O1xuXG50eXBlIEV4UGFydGlhbEVsZW1lbnQgPSBQYXJ0aWFsPEV4Y2FsaWRyYXdFbGVtZW50QmFzZT47XG5cbnR5cGUgQXR0ckhhbmRsZXJBcmdzID0ge1xuICBlbDogRWxlbWVudDtcbiAgZXhWYWxzOiBFeFBhcnRpYWxFbGVtZW50O1xufTtcblxudHlwZSBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBba2V5IGluIGtleW9mIHR5cGVvZiBwcmVzQXR0cnNdOiAoYXJnczogQXR0ckhhbmRsZXJBcmdzKSA9PiB2b2lkO1xufTtcblxuY29uc3QgYXR0ckhhbmRsZXJzOiBQcmVzQXR0ckhhbmRsZXJzID0ge1xuICBzdHJva2U6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gZ2V0KGVsLCBcInN0cm9rZVwiKTtcblxuICAgIGV4VmFscy5zdHJva2VDb2xvciA9IGhhcyhlbCwgXCJzdHJva2Utb3BhY2l0eVwiKVxuICAgICAgPyBoZXhXaXRoQWxwaGEoc3Ryb2tlQ29sb3IsIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSlcbiAgICAgIDogc3Ryb2tlQ29sb3I7XG4gIH0sXG5cbiAgXCJzdHJva2Utb3BhY2l0eVwiOiAoeyBlbCwgZXhWYWxzIH0pID0+IHtcbiAgICBleFZhbHMuc3Ryb2tlQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwic3Ryb2tlXCIsIFwiIzAwMDAwMFwiKSxcbiAgICAgIGdldE51bShlbCwgXCJzdHJva2Utb3BhY2l0eVwiKSxcbiAgICApO1xuICB9LFxuXG4gIFwic3Ryb2tlLXdpZHRoXCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5zdHJva2VXaWR0aCA9IGdldE51bShlbCwgXCJzdHJva2Utd2lkdGhcIik7XG4gIH0sXG5cbiAgZmlsbDogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgYGZpbGxgKTtcblxuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBmaWxsID09PSBcIm5vbmVcIiA/IFwiIzAwMDAwMDAwXCIgOiBmaWxsO1xuICB9LFxuXG4gIFwiZmlsbC1vcGFjaXR5XCI6ICh7IGVsLCBleFZhbHMgfSkgPT4ge1xuICAgIGV4VmFscy5iYWNrZ3JvdW5kQ29sb3IgPSBoZXhXaXRoQWxwaGEoXG4gICAgICBnZXQoZWwsIFwiZmlsbFwiLCBcIiMwMDAwMDBcIiksXG4gICAgICBnZXROdW0oZWwsIFwiZmlsbC1vcGFjaXR5XCIpLFxuICAgICk7XG4gIH0sXG5cbiAgb3BhY2l0eTogKHsgZWwsIGV4VmFscyB9KSA9PiB7XG4gICAgZXhWYWxzLm9wYWNpdHkgPSBnZXROdW0oZWwsIFwib3BhY2l0eVwiLCAxMDApO1xuICB9LFxufTtcblxuLy8gUHJlc2VudGF0aW9uIEF0dHJpYnV0ZXMgZm9yIFNWRyBFbGVtZW50czpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvUHJlc2VudGF0aW9uXG5leHBvcnQgZnVuY3Rpb24gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKFxuICBlbDogRWxlbWVudCxcbik6IFBhcnRpYWw8RXhjYWxpZHJhd0VsZW1lbnRCYXNlPiB7XG4gIGNvbnN0IGV4VmFscyA9IFsuLi5lbC5hdHRyaWJ1dGVzXS5yZWR1Y2UoKGV4VmFscywgYXR0cikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBhdHRyLm5hbWU7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoYXR0ckhhbmRsZXJzKS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgYXR0ckhhbmRsZXJzW25hbWUgYXMga2V5b2YgUHJlc0F0dHJIYW5kbGVyc10oeyBlbCwgZXhWYWxzIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBleFZhbHM7XG4gIH0sIHt9IGFzIEV4UGFydGlhbEVsZW1lbnQpO1xuXG4gIHJldHVybiBleFZhbHM7XG59XG5cbnR5cGUgRmlsdGVyQXR0cnMgPSBQYXJ0aWFsPFxuICBQaWNrPEV4Y2FsaWRyYXdFbGVtZW50QmFzZSwgXCJ4XCIgfCBcInlcIiB8IFwid2lkdGhcIiB8IFwiaGVpZ2h0XCI+XG4+O1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWw6IEVsZW1lbnQpOiBGaWx0ZXJBdHRycyB7XG4gIGNvbnN0IGZpbHRlclZhbHM6IEZpbHRlckF0dHJzID0ge307XG5cbiAgaWYgKGhhcyhlbCwgXCJ4XCIpKSB7XG4gICAgZmlsdGVyVmFscy54ID0gZ2V0TnVtKGVsLCBcInhcIik7XG4gIH1cblxuICBpZiAoaGFzKGVsLCBcInlcIikpIHtcbiAgICBmaWx0ZXJWYWxzLnkgPSBnZXROdW0oZWwsIFwieVwiKTtcbiAgfVxuXG4gIGlmIChoYXMoZWwsIFwid2lkdGhcIikpIHtcbiAgICBmaWx0ZXJWYWxzLndpZHRoID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIpO1xuICB9XG5cbiAgaWYgKGhhcyhlbCwgXCJoZWlnaHRcIikpIHtcbiAgICBmaWx0ZXJWYWxzLmhlaWdodCA9IGdldE51bShlbCwgXCJoZWlnaHRcIik7XG4gIH1cblxuICByZXR1cm4gZmlsdGVyVmFscztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c0F0dHJUb1BvaW50cyhlbDogRWxlbWVudCk6IG51bWJlcltdW10ge1xuICBsZXQgcG9pbnRzOiBudW1iZXJbXVtdID0gW107XG5cbiAgaWYgKGhhcyhlbCwgXCJwb2ludHNcIikpIHtcbiAgICBwb2ludHMgPSBnZXQoZWwsIFwicG9pbnRzXCIpXG4gICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAubWFwKChwKSA9PiBwLnNwbGl0KFwiLFwiKS5tYXAocGFyc2VGbG9hdCkpO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50cztcbn1cbiIsImltcG9ydCB7IHJhbmRvbUlkIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5pbXBvcnQgeyBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMgfSBmcm9tIFwiLi4vYXR0cmlidXRlc1wiO1xuaW1wb3J0IHsgRXhjYWxpZHJhd0VsZW1lbnRCYXNlIH0gZnJvbSBcIi4uL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRHcm91cEF0dHJzKGdyb3VwczogR3JvdXBbXSk6IGFueSB7XG4gIHJldHVybiBncm91cHMucmVkdWNlKChhY2MsIHsgZWxlbWVudCB9KSA9PiB7XG4gICAgY29uc3QgZWxWYWxzID0gcHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHsgLi4uYWNjLCAuLi5lbFZhbHMgfTtcbiAgfSwge30gYXMgUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+KTtcbn1cblxuY2xhc3MgR3JvdXAge1xuICBpZCA9IHJhbmRvbUlkKCk7XG5cbiAgZWxlbWVudDogRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cDtcbiIsImltcG9ydCB7IHJhbmRvbUlkLCByYW5kb21JbnRlZ2VyIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmltcG9ydCB7XG4gIEdyb3VwSWQsXG4gIEZpbGxTdHlsZSxcbiAgU3Ryb2tlU3R5bGUsXG4gIFN0cm9rZVNoYXJwbmVzcyxcbiAgRXhjYWxpZHJhd0xpbmVhckVsZW1lbnQsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBQb2ludCA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGVtZW50QmFzZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHN0cm9rZUNvbG9yOiBzdHJpbmc7XG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICBmaWxsU3R5bGU6IEZpbGxTdHlsZTtcbiAgc3Ryb2tlV2lkdGg6IG51bWJlcjtcbiAgc3Ryb2tlU3R5bGU6IFN0cm9rZVN0eWxlO1xuICBzdHJva2VTaGFycG5lc3M6IFN0cm9rZVNoYXJwbmVzcztcbiAgcm91Z2huZXNzOiBudW1iZXI7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIGFuZ2xlOiBudW1iZXI7XG4gIC8qKiBSYW5kb20gaW50ZWdlciB1c2VkIHRvIHNlZWQgc2hhcGUgZ2VuZXJhdGlvbiBzbyB0aGF0IHRoZSByb3VnaGpzIHNoYXBlXG4gICAgICBkb2Vzbid0IGRpZmZlciBhY3Jvc3MgcmVuZGVycy4gKi9cbiAgc2VlZDogbnVtYmVyO1xuICAvKiogSW50ZWdlciB0aGF0IGlzIHNlcXVlbnRpYWxseSBpbmNyZW1lbnRlZCBvbiBlYWNoIGNoYW5nZS4gVXNlZCB0byByZWNvbmNpbGVcbiAgICAgIGVsZW1lbnRzIGR1cmluZyBjb2xsYWJvcmF0aW9uIG9yIHdoZW4gc2F2aW5nIHRvIHNlcnZlci4gKi9cbiAgdmVyc2lvbjogbnVtYmVyO1xuICAvKiogUmFuZG9tIGludGVnZXIgdGhhdCBpcyByZWdlbmVyYXRlZCBvbiBlYWNoIGNoYW5nZS5cbiAgICAgIFVzZWQgZm9yIGRldGVybWluaXN0aWMgcmVjb25jaWxpYXRpb24gb2YgdXBkYXRlcyBkdXJpbmcgY29sbGFib3JhdGlvbixcbiAgICAgIGluIGNhc2UgdGhlIHZlcnNpb25zIChzZWUgYWJvdmUpIGFyZSBpZGVudGljYWwuICovXG4gIHZlcnNpb25Ob25jZTogbnVtYmVyO1xuICBpc0RlbGV0ZWQ6IGJvb2xlYW47XG4gIC8qKiBMaXN0IG9mIGdyb3VwcyB0aGUgZWxlbWVudCBiZWxvbmdzIHRvLlxuICAgICAgT3JkZXJlZCBmcm9tIGRlZXBlc3QgdG8gc2hhbGxvd2VzdC4gKi9cbiAgZ3JvdXBJZHM6IEdyb3VwSWRbXTtcbiAgLyoqIElkcyBvZiAobGluZWFyKSBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCB0byB0aGlzIGVsZW1lbnQuICovXG4gIGJvdW5kRWxlbWVudElkczogRXhjYWxpZHJhd0xpbmVhckVsZW1lbnRbXCJpZFwiXVtdIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwicmVjdGFuZ2xlXCI7XG59O1xuXG5leHBvcnQgdHlwZSBFeGNhbGlkcmF3TGluZSA9IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSAmIHtcbiAgdHlwZTogXCJsaW5lXCI7XG4gIHBvaW50czogcmVhZG9ubHkgUG9pbnRbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdFbGxpcHNlID0gRXhjYWxpZHJhd0VsZW1lbnRCYXNlICYge1xuICB0eXBlOiBcImVsbGlwc2VcIjtcbn07XG5cbmV4cG9ydCB0eXBlIEV4Y2FsaWRyYXdHZW5lcmljRWxlbWVudCA9XG4gIHwgRXhjYWxpZHJhd1JlY3RhbmdsZVxuICB8IEV4Y2FsaWRyYXdFbGxpcHNlXG4gIHwgRXhjYWxpZHJhd0xpbmVcbiAgfCBFeGNhbGlkcmF3RHJhdztcblxuZXhwb3J0IHR5cGUgRXhjYWxpZHJhd0RyYXcgPSBFeGNhbGlkcmF3RWxlbWVudEJhc2UgJiB7XG4gIHR5cGU6IFwiZHJhd1wiO1xuICBwb2ludHM6IHJlYWRvbmx5IFBvaW50W107XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGVtZW50KCk6IEV4Y2FsaWRyYXdFbGVtZW50QmFzZSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJhbmRvbUlkKCksXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHN0cm9rZUNvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxuICAgIGZpbGxTdHlsZTogXCJzb2xpZFwiLFxuICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgIHN0cm9rZVN0eWxlOiBcInNvbGlkXCIsXG4gICAgc3Ryb2tlU2hhcnBuZXNzOiBcInNoYXJwXCIsXG4gICAgcm91Z2huZXNzOiAwLFxuICAgIG9wYWNpdHk6IDEwMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgYW5nbGU6IDAsXG4gICAgc2VlZDogcmFuZG9tSW50ZWdlcigpLFxuICAgIHZlcnNpb246IDAsXG4gICAgdmVyc2lvbk5vbmNlOiAwLFxuICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgZ3JvdXBJZHM6IFtdLFxuICAgIGJvdW5kRWxlbWVudElkczogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4UmVjdCgpOiBFeGNhbGlkcmF3UmVjdGFuZ2xlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcInJlY3RhbmdsZVwiLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhMaW5lKCk6IEV4Y2FsaWRyYXdMaW5lIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImxpbmVcIixcbiAgICBwb2ludHM6IFtdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXhFbGxpcHNlKCk6IEV4Y2FsaWRyYXdFbGxpcHNlIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jcmVhdGVFeEVsZW1lbnQoKSxcbiAgICB0eXBlOiBcImVsbGlwc2VcIixcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV4RHJhdygpOiBFeGNhbGlkcmF3RHJhdyB7XG4gIHJldHVybiB7XG4gICAgLi4uY3JlYXRlRXhFbGVtZW50KCksXG4gICAgdHlwZTogXCJkcmF3XCIsXG4gICAgcG9pbnRzOiBbXSxcbiAgfTtcbn1cbiIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXHJcbiAqIDMgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjM1xyXG4gKi9cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcclxuICpcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNsb25lXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBmbG9vclxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG59XG4vKipcclxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIG91dFsyXSA9IC1hWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgfVxuXG4gIG91dFswXSA9IGFbMF0gKiBsZW47XG4gIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XG59XG4vKipcclxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdO1xuICB2YXIgYXkgPSBhWzFdO1xuICB2YXIgYXogPSBhWzJdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQ0LlxyXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHRoZSAzeDMgbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIHF1YXRcclxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHktYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzJdICogTWF0aC5zaW4ocmFkKSArIHBbMF0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzFdID0gcFsxXTtcbiAgclsyXSA9IHBbMl0gKiBNYXRoLmNvcyhyYWQpIC0gcFswXSAqIE1hdGguc2luKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZShhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl0sXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXG4gICAgICBtYWcyID0gTWF0aC5zcXJ0KGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiksXG4gICAgICBtYWcgPSBtYWcxICogbWFnMixcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XG4gIHJldHVybiBNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoY29zaW5lLCAtMSksIDEpKTtcbn1cbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcclxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE51bWJlciBvZiBlbGVtZW50cyB0byBza2lwIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2FyZ10gYWRkaXRpb25hbCBhcmd1bWVudCB0byBwYXNzIHRvIGZuXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gYVxyXG4gKiBAZnVuY3Rpb25cclxuICovXG5cbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZlYyA9IGNyZWF0ZSgpO1xuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xuICAgIHZhciBpLCBsO1xuXG4gICAgaWYgKCFzdHJpZGUpIHtcbiAgICAgIHN0cmlkZSA9IDM7XG4gICAgfVxuXG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IGEubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvciAoaSA9IG9mZnNldDsgaSA8IGw7IGkgKz0gc3RyaWRlKSB7XG4gICAgICB2ZWNbMF0gPSBhW2ldO1xuICAgICAgdmVjWzFdID0gYVtpICsgMV07XG4gICAgICB2ZWNbMl0gPSBhW2kgKyAyXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IEdyb3VwIGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQgeyB2ZWMzLCBtYXQ0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xuXG4vKlxuU1ZHIHRyYW5zZm9ybSBhdHRyIGlzIGEgYml0IHN0cmFuZ2UgaW4gdGhhdCBpdCBjYW4gYWNjZXB0IHRyYWRpdGlvbmFsXG5jc3MgdHJhbnNmb3JtIHN0cmluZyAoYXQgbGVhc3QgcGVyIHNwZWMpIGFzIHdlbGwgYXMgYSBpdCdzIG93biBcInVuaXRsZXNzXCJcbnZlcnNpb24gb2YgdHJhbnNmb3JtIGZ1bmN0aW9ucy5cblxuaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS90cmFuc2Zvcm1cbiovXG5cbmNvbnN0IHRyYW5zZm9ybUZ1bmN0aW9ucyA9IHtcbiAgbWF0cml4OiBcIm1hdHJpeFwiLFxuICBtYXRyaXgzZDogXCJtYXRyaXgzZFwiLFxuICBwZXJzcGVjdGl2ZTogXCJwZXJzcGVjdGl2ZVwiLFxuICByb3RhdGU6IFwicm90YXRlXCIsXG4gIHJvdGF0ZTNkOiBcInJvdGF0ZTNkXCIsXG4gIHJvdGF0ZVg6IFwicm90YXRlWFwiLFxuICByb3RhdGVZOiBcInJvdGF0ZVlcIixcbiAgcm90YXRlWjogXCJyb3RhdGVaXCIsXG4gIHNjYWxlOiBcInNjYWxlXCIsXG4gIHNjYWxlM2Q6IFwic2NhbGUzZFwiLFxuICBzY2FsZVg6IFwic2NhbGVYXCIsXG4gIHNjYWxlWTogXCJzY2FsZVlcIixcbiAgc2NhbGVaOiBcInNjYWxlWlwiLFxuICBza2V3OiBcInNrZXdcIixcbiAgc2tld1g6IFwic2tld1hcIixcbiAgc2tld1k6IFwic2tld1lcIixcbiAgdHJhbnNsYXRlOiBcInRyYW5zbGF0ZVwiLFxuICB0cmFuc2xhdGUzZDogXCJ0cmFuc2xhdGUzZFwiLFxuICB0cmFuc2xhdGVYOiBcInRyYW5zbGF0ZVhcIixcbiAgdHJhbnNsYXRlWTogXCJ0cmFuc2xhdGVZXCIsXG4gIHRyYW5zbGF0ZVo6IFwidHJhbnNsYXRlWlwiLFxufSBhcyBjb25zdDtcblxuY29uc3QgdHJhbnNmb3JtRnVuY3Rpb25zQXJyID0gT2JqZWN0LmtleXModHJhbnNmb3JtRnVuY3Rpb25zKTtcblxuLy8gdHlwZSBUcmFuc2Zvcm1cblxudHlwZSBUcmFuc2Zvcm1GdW5jVmFsdWUgPSB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIHVuaXQ6IHN0cmluZztcbn07XG5cbnR5cGUgVHJhbnNmb3JtRnVuYyA9IHtcbiAgdHlwZToga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgdmFsdWVzOiBUcmFuc2Zvcm1GdW5jVmFsdWVbXTtcbn07XG5cbmNvbnN0IGRlZmF1bHRVbml0cyA9IHtcbiAgbWF0cml4OiBcIlwiLFxuICBtYXRyaXgzZDogXCJcIixcbiAgcGVyc3BlY3RpdmU6IFwicGVyc3BlY3RpdmVcIixcbiAgcm90YXRlOiBcImRlZ1wiLFxuICByb3RhdGUzZDogXCJkZWdcIixcbiAgcm90YXRlWDogXCJkZWdcIixcbiAgcm90YXRlWTogXCJkZWdcIixcbiAgcm90YXRlWjogXCJkZWdcIixcbiAgc2NhbGU6IFwiXCIsXG4gIHNjYWxlM2Q6IFwiXCIsXG4gIHNjYWxlWDogXCJcIixcbiAgc2NhbGVZOiBcIlwiLFxuICBzY2FsZVo6IFwiXCIsXG4gIHNrZXc6IFwic2tld1wiLFxuICBza2V3WDogXCJkZWdcIixcbiAgc2tld1k6IFwiZGVnXCIsXG4gIHRyYW5zbGF0ZTogXCJweFwiLFxuICB0cmFuc2xhdGUzZDogXCJweFwiLFxuICB0cmFuc2xhdGVYOiBcInB4XCIsXG4gIHRyYW5zbGF0ZVk6IFwicHhcIixcbiAgdHJhbnNsYXRlWjogXCJweFwiLFxufTtcblxuLy8gQ29udmVydCBiZXR3ZWVuIHBvc3NpYmxlIHN2ZyB0cmFuc2Zvcm0gYXR0cmlidXRlIHZhbHVlcyB0byBjc3MgdHJhbnNmb3JtIGF0dHJpYnV0ZSB2YWx1ZXMuXG5jb25zdCBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybSA9IChzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIC8vIENyZWF0ZSB0cmFuc2Zvcm0gZnVuY3Rpb24gc3RyaW5nIFwiY2h1bmtzXCIsIGUuZyBcInJvdGF0ZSg5MGRlZylcIlxuICBjb25zdCB0RnVuY3MgPSBzdmdUcmFuc2Zvcm1TdHIubWF0Y2goLyhcXHcrKVxcKChbXildKilcXCkvZyk7XG4gIGlmICghdEZ1bmNzKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBjb25zdCB0RnVuY1ZhbHVlczogVHJhbnNmb3JtRnVuY1tdID0gdEZ1bmNzLm1hcChcbiAgICAodEZ1bmNTdHIpOiBUcmFuc2Zvcm1GdW5jID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSB0RnVuY1N0ci5zcGxpdChcIihcIilbMF0gYXMga2V5b2YgdHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9ucztcbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCB0cmFuc2Zvcm0gbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNmb3JtRnVuY3Rpb25zQXJyLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdHJhbnNmb3JtIGZ1bmN0aW9uIG5hbWUgXCIke3R5cGV9XCIgaXMgbm90IHZhbGlkYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGdldCB0aGUgYXJnL3Byb3BzIG9mIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24sIGUuZyBcIjkwZGVnXCIuXG4gICAgICBjb25zdCB0RnVuY1BhcnRzID0gdEZ1bmNTdHIubWF0Y2goLyhbLStdP1swLTldKlxcLj9bMC05XSspKFthLXpdKSovZyk7XG4gICAgICBpZiAoIXRGdW5jUGFydHMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZSwgdmFsdWVzOiBbXSB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgdmFsdWVzID0gdEZ1bmNQYXJ0cy5tYXAoXG4gICAgICAgIChhKTogVHJhbnNmb3JtRnVuY1ZhbHVlID0+IHtcbiAgICAgICAgICAvLyBTZXBhcmF0ZSB0aGUgYXJnIHZhbHVlIGFuZCB1bml0LiBlLmcgW1wiOTBcIiwgXCJkZWdcIl1cbiAgICAgICAgICBjb25zdCBbdmFsdWUsIHVuaXRdID0gYS5tYXRjaEFsbCgvKFstK10/WzAtOV0qXFwuP1swLTldKyl8KFthLXpdKSovZyk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5pdDogdW5pdFswXSB8fCBkZWZhdWx0VW5pdHNbdHlwZV0sXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVbMF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIC8vIE5vdCBzdXBwb3J0aW5nIHgsIHkgYXJncyBvZiBzdmcgcm90YXRlIHRyYW5zZm9ybSB5ZXQuLi5cbiAgICAgIGlmICh2YWx1ZXMgJiYgdHlwZSA9PT0gXCJyb3RhdGVcIiAmJiB2YWx1ZXM/Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFsdWVzID0gW3ZhbHVlc1swXV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHZhbHVlcyxcbiAgICAgIH07XG4gICAgfSxcbiAgKTtcblxuICAvLyBHZW5lcmF0ZSBhIHN0cmluZyBvZiB0cmFuc2Zvcm0gZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHNldCBhcyBhIENTUyBUcmFuc2Zvcm0uXG4gIGNvbnN0IGNzc3RyYW5zZm9ybVN0ciA9IHRGdW5jVmFsdWVzXG4gICAgLm1hcCgoeyB0eXBlLCB2YWx1ZXMgfSkgPT4ge1xuICAgICAgY29uc3QgdmFsU3RyID0gdmFsdWVzXG4gICAgICAgIC5tYXAoKHsgdW5pdCwgdmFsdWUgfSkgPT4gYCR7dmFsdWV9JHt1bml0fWApXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICByZXR1cm4gYCR7dHlwZX0oJHt2YWxTdHJ9KWA7XG4gICAgfSlcbiAgICAuam9pbihcIiBcIik7XG5cbiAgcmV0dXJuIGNzc3RyYW5zZm9ybVN0cjtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVET01NYXRyaXhGcm9tU1ZHU3RyID0gKFxuICBzdmdUcmFuc2Zvcm1TdHI6IHN0cmluZyxcbik6IERPTU1hdHJpeCA9PiB7XG4gIGNvbnN0IGNzc1RyYW5zZm9ybVN0ciA9IHN2Z1RyYW5zZm9ybVRvQ1NTVHJhbnNmb3JtKHN2Z1RyYW5zZm9ybVN0cik7XG5cbiAgcmV0dXJuIG5ldyBET01NYXRyaXgoY3NzVHJhbnNmb3JtU3RyKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50TWF0cml4KGVsOiBFbGVtZW50KTogbWF0NCB7XG4gIGlmIChlbC5oYXNBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikpIHtcbiAgICBjb25zdCBlbE1hdCA9IG5ldyBET01NYXRyaXgoXG4gICAgICBzdmdUcmFuc2Zvcm1Ub0NTU1RyYW5zZm9ybShlbC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikgfHwgXCJcIiksXG4gICAgKTtcblxuICAgIHJldHVybiBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdDQuY3JlYXRlKCksIGVsTWF0LnRvRmxvYXQzMkFycmF5KCkpO1xuICB9XG5cbiAgcmV0dXJuIG1hdDQuY3JlYXRlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1NYXRyaXgoZWw6IEVsZW1lbnQsIGdyb3VwczogR3JvdXBbXSk6IG1hdDQge1xuICBjb25zdCBhY2N1bU1hdCA9IGdyb3Vwc1xuICAgIC5tYXAoKHsgZWxlbWVudCB9KSA9PiBnZXRFbGVtZW50TWF0cml4KGVsZW1lbnQpKVxuICAgIC5jb25jYXQoW2dldEVsZW1lbnRNYXRyaXgoZWwpXSlcbiAgICAucmVkdWNlKChhY2MsIG1hdCkgPT4gbWF0NC5tdWx0aXBseShhY2MsIGFjYywgbWF0KSwgbWF0NC5jcmVhdGUoKSk7XG5cbiAgcmV0dXJuIGFjY3VtTWF0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnRzKFxuICBwb2ludHM6IG51bWJlcltdW10sXG4gIHRyYW5zZm9ybTogbWF0NCxcbik6IFtudW1iZXIsIG51bWJlcl1bXSB7XG4gIHJldHVybiBwb2ludHMubWFwKChbeCwgeV0pID0+IHtcbiAgICBjb25zdCBbbmV3WCwgbmV3WV0gPSB2ZWMzLnRyYW5zZm9ybU1hdDQoXG4gICAgICB2ZWMzLmNyZWF0ZSgpLFxuICAgICAgdmVjMy5mcm9tVmFsdWVzKHgsIHksIDEpLFxuICAgICAgdHJhbnNmb3JtLFxuICAgICk7XG5cbiAgICByZXR1cm4gW25ld1gsIG5ld1ldO1xuICB9KTtcbn1cbiIsIi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbmZ1bmN0aW9uIGRpc3RhbmNlKHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcShwMSwgcDIpKTtcbn1cbi8vIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHMgc3F1YXJlZFxuZnVuY3Rpb24gZGlzdGFuY2VTcShwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDFbMF0gLSBwMlswXSwgMikgKyBNYXRoLnBvdyhwMVsxXSAtIHAyWzFdLCAyKTtcbn1cbi8vIFNpc3RhbmNlIHNxdWFyZWQgZnJvbSBhIHBvaW50IHAgdG8gdGhlIGxpbmUgc2VnbWVudCB2d1xuZnVuY3Rpb24gZGlzdGFuY2VUb1NlZ21lbnRTcShwLCB2LCB3KSB7XG4gICAgY29uc3QgbDIgPSBkaXN0YW5jZVNxKHYsIHcpO1xuICAgIGlmIChsMiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGlzdGFuY2VTcShwLCB2KTtcbiAgICB9XG4gICAgbGV0IHQgPSAoKHBbMF0gLSB2WzBdKSAqICh3WzBdIC0gdlswXSkgKyAocFsxXSAtIHZbMV0pICogKHdbMV0gLSB2WzFdKSkgLyBsMjtcbiAgICB0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdCkpO1xuICAgIHJldHVybiBkaXN0YW5jZVNxKHAsIGxlcnAodiwgdywgdCkpO1xufVxuZnVuY3Rpb24gbGVycChhLCBiLCB0KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYVswXSArIChiWzBdIC0gYVswXSkgKiB0LFxuICAgICAgICBhWzFdICsgKGJbMV0gLSBhWzFdKSAqIHQsXG4gICAgXTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3NlYW50MjMud29yZHByZXNzLmNvbS8yMDEwLzExLzEyL29mZnNldC1iZXppZXItY3VydmVzL1xuZnVuY3Rpb24gZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIHtcbiAgICBjb25zdCBwMSA9IHBvaW50c1tvZmZzZXQgKyAwXTtcbiAgICBjb25zdCBwMiA9IHBvaW50c1tvZmZzZXQgKyAxXTtcbiAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICBjb25zdCBwNCA9IHBvaW50c1tvZmZzZXQgKyAzXTtcbiAgICBsZXQgdXggPSAzICogcDJbMF0gLSAyICogcDFbMF0gLSBwNFswXTtcbiAgICB1eCAqPSB1eDtcbiAgICBsZXQgdXkgPSAzICogcDJbMV0gLSAyICogcDFbMV0gLSBwNFsxXTtcbiAgICB1eSAqPSB1eTtcbiAgICBsZXQgdnggPSAzICogcDNbMF0gLSAyICogcDRbMF0gLSBwMVswXTtcbiAgICB2eCAqPSB2eDtcbiAgICBsZXQgdnkgPSAzICogcDNbMV0gLSAyICogcDRbMV0gLSBwMVsxXTtcbiAgICB2eSAqPSB2eTtcbiAgICBpZiAodXggPCB2eCkge1xuICAgICAgICB1eCA9IHZ4O1xuICAgIH1cbiAgICBpZiAodXkgPCB2eSkge1xuICAgICAgICB1eSA9IHZ5O1xuICAgIH1cbiAgICByZXR1cm4gdXggKyB1eTtcbn1cbmZ1bmN0aW9uIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cykge1xuICAgIGNvbnN0IG91dFBvaW50cyA9IG5ld1BvaW50cyB8fCBbXTtcbiAgICBpZiAoZmxhdG5lc3MocG9pbnRzLCBvZmZzZXQpIDwgdG9sZXJhbmNlKSB7XG4gICAgICAgIGNvbnN0IHAwID0gcG9pbnRzW29mZnNldCArIDBdO1xuICAgICAgICBpZiAob3V0UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGRpc3RhbmNlKG91dFBvaW50c1tvdXRQb2ludHMubGVuZ3RoIC0gMV0sIHAwKTtcbiAgICAgICAgICAgIGlmIChkID4gMSkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dFBvaW50cy5wdXNoKHAwKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChwb2ludHNbb2Zmc2V0ICsgM10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3ViZGl2aWRlXG4gICAgICAgIGNvbnN0IHQgPSAuNTtcbiAgICAgICAgY29uc3QgcDEgPSBwb2ludHNbb2Zmc2V0ICsgMF07XG4gICAgICAgIGNvbnN0IHAyID0gcG9pbnRzW29mZnNldCArIDFdO1xuICAgICAgICBjb25zdCBwMyA9IHBvaW50c1tvZmZzZXQgKyAyXTtcbiAgICAgICAgY29uc3QgcDQgPSBwb2ludHNbb2Zmc2V0ICsgM107XG4gICAgICAgIGNvbnN0IHExID0gbGVycChwMSwgcDIsIHQpO1xuICAgICAgICBjb25zdCBxMiA9IGxlcnAocDIsIHAzLCB0KTtcbiAgICAgICAgY29uc3QgcTMgPSBsZXJwKHAzLCBwNCwgdCk7XG4gICAgICAgIGNvbnN0IHIxID0gbGVycChxMSwgcTIsIHQpO1xuICAgICAgICBjb25zdCByMiA9IGxlcnAocTIsIHEzLCB0KTtcbiAgICAgICAgY29uc3QgcmVkID0gbGVycChyMSwgcjIsIHQpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcDEsIHExLCByMSwgcmVkXSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgICAgICBnZXRQb2ludHNPbkJlemllckN1cnZlV2l0aFNwbGl0dGluZyhbcmVkLCByMiwgcTMsIHA0XSwgMCwgdG9sZXJhbmNlLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0UG9pbnRzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5KHBvaW50cywgZGlzdGFuY2UpIHtcbiAgICByZXR1cm4gc2ltcGxpZnlQb2ludHMocG9pbnRzLCAwLCBwb2ludHMubGVuZ3RoLCBkaXN0YW5jZSk7XG59XG4vLyBSYW1lcuKAk0RvdWdsYXPigJNQZXVja2VyIGFsZ29yaXRobVxuLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUmFtZXIlRTIlODAlOTNEb3VnbGFzJUUyJTgwJTkzUGV1Y2tlcl9hbGdvcml0aG1cbmZ1bmN0aW9uIHNpbXBsaWZ5UG9pbnRzKHBvaW50cywgc3RhcnQsIGVuZCwgZXBzaWxvbiwgbmV3UG9pbnRzKSB7XG4gICAgY29uc3Qgb3V0UG9pbnRzID0gbmV3UG9pbnRzIHx8IFtdO1xuICAgIC8vIGZpbmQgdGhlIG1vc3QgZGlzdGFuY2UgcG9pbnQgZnJvbSB0aGUgZW5kcG9pbnRzXG4gICAgY29uc3QgcyA9IHBvaW50c1tzdGFydF07XG4gICAgY29uc3QgZSA9IHBvaW50c1tlbmQgLSAxXTtcbiAgICBsZXQgbWF4RGlzdFNxID0gMDtcbiAgICBsZXQgbWF4TmR4ID0gMTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQgKyAxOyBpIDwgZW5kIC0gMTsgKytpKSB7XG4gICAgICAgIGNvbnN0IGRpc3RTcSA9IGRpc3RhbmNlVG9TZWdtZW50U3EocG9pbnRzW2ldLCBzLCBlKTtcbiAgICAgICAgaWYgKGRpc3RTcSA+IG1heERpc3RTcSkge1xuICAgICAgICAgICAgbWF4RGlzdFNxID0gZGlzdFNxO1xuICAgICAgICAgICAgbWF4TmR4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiB0aGF0IHBvaW50IGlzIHRvbyBmYXIsIHNwbGl0XG4gICAgaWYgKE1hdGguc3FydChtYXhEaXN0U3EpID4gZXBzaWxvbikge1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIHN0YXJ0LCBtYXhOZHggKyAxLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgICAgICBzaW1wbGlmeVBvaW50cyhwb2ludHMsIG1heE5keCwgZW5kLCBlcHNpbG9uLCBvdXRQb2ludHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFvdXRQb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXRQb2ludHMucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRQb2ludHMucHVzaChlKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dFBvaW50cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNPbkJlemllckN1cnZlcyhwb2ludHMsIHRvbGVyYW5jZSA9IDAuMTUsIGRpc3RhbmNlKSB7XG4gICAgY29uc3QgbmV3UG9pbnRzID0gW107XG4gICAgY29uc3QgbnVtU2VnbWVudHMgPSAocG9pbnRzLmxlbmd0aCAtIDEpIC8gMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVNlZ21lbnRzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIDM7XG4gICAgICAgIGdldFBvaW50c09uQmV6aWVyQ3VydmVXaXRoU3BsaXR0aW5nKHBvaW50cywgb2Zmc2V0LCB0b2xlcmFuY2UsIG5ld1BvaW50cyk7XG4gICAgfVxuICAgIGlmIChkaXN0YW5jZSAmJiBkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHNpbXBsaWZ5UG9pbnRzKG5ld1BvaW50cywgMCwgbmV3UG9pbnRzLmxlbmd0aCwgZGlzdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3UG9pbnRzO1xufVxuIiwiY29uc3QgQ09NTUFORCA9IDA7XG5jb25zdCBOVU1CRVIgPSAxO1xuY29uc3QgRU9EID0gMjtcbmNvbnN0IFBBUkFNUyA9IHsgQTogNywgYTogNywgQzogNiwgYzogNiwgSDogMSwgaDogMSwgTDogMiwgbDogMiwgTTogMiwgbTogMiwgUTogNCwgcTogNCwgUzogNCwgczogNCwgVDogMiwgdDogMiwgVjogMSwgdjogMSwgWjogMCwgejogMCB9O1xuZnVuY3Rpb24gdG9rZW5pemUoZCkge1xuICAgIGNvbnN0IHRva2VucyA9IG5ldyBBcnJheSgpO1xuICAgIHdoaWxlIChkICE9PSAnJykge1xuICAgICAgICBpZiAoZC5tYXRjaCgvXihbIFxcdFxcclxcbixdKykvKSkge1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGQubWF0Y2goL14oW2FBY0NoSGxMbU1xUXNTdFR2VnpaXSkvKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2Vucy5sZW5ndGhdID0geyB0eXBlOiBDT01NQU5ELCB0ZXh0OiBSZWdFeHAuJDEgfTtcbiAgICAgICAgICAgIGQgPSBkLnN1YnN0cihSZWdFeHAuJDEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkLm1hdGNoKC9eKChbLStdP1swLTldKyhcXC5bMC05XSopP3xbLStdP1xcLlswLTldKykoW2VFXVstK10/WzAtOV0rKT8pLykpIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogTlVNQkVSLCB0ZXh0OiBgJHtwYXJzZUZsb2F0KFJlZ0V4cC4kMSl9YCB9O1xuICAgICAgICAgICAgZCA9IGQuc3Vic3RyKFJlZ0V4cC4kMS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHsgdHlwZTogRU9ELCB0ZXh0OiAnJyB9O1xuICAgIHJldHVybiB0b2tlbnM7XG59XG5mdW5jdGlvbiBpc1R5cGUodG9rZW4sIHR5cGUpIHtcbiAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gdHlwZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgoZCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgY29uc3QgdG9rZW5zID0gdG9rZW5pemUoZCk7XG4gICAgbGV0IG1vZGUgPSAnQk9EJztcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgd2hpbGUgKCFpc1R5cGUodG9rZW4sIEVPRCkpIHtcbiAgICAgICAgbGV0IHBhcmFtc0NvdW50ID0gMDtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgIGlmIChtb2RlID09PSAnQk9EJykge1xuICAgICAgICAgICAgaWYgKHRva2VuLnRleHQgPT09ICdNJyB8fCB0b2tlbi50ZXh0ID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgICAgIG1vZGUgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlUGF0aCgnTTAsMCcgKyBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1R5cGUodG9rZW4sIE5VTUJFUikpIHtcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW21vZGVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHBhcmFtc0NvdW50ID0gUEFSQU1TW3Rva2VuLnRleHRdO1xuICAgICAgICAgICAgbW9kZSA9IHRva2VuLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChpbmRleCArIHBhcmFtc0NvdW50KSA8IHRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGluZGV4ICsgcGFyYW1zQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bWJlVG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzVHlwZShudW1iZVRva2VuLCBOVU1CRVIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1twYXJhbXMubGVuZ3RoXSA9ICtudW1iZVRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtIG5vdCBhIG51bWJlcjogJyArIG1vZGUgKyAnLCcgKyBudW1iZVRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgUEFSQU1TW21vZGVdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB7IGtleTogbW9kZSwgZGF0YTogcGFyYW1zIH07XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSBwYXJhbXNDb3VudDtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdNJylcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9ICdMJztcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ20nKVxuICAgICAgICAgICAgICAgICAgICBtb2RlID0gJ2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudDogJyArIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIGRhdGEgZW5kZWQgc2hvcnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKHNlZ21lbnRzKSB7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgZm9yIChjb25zdCB7IGtleSwgZGF0YSB9IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKGtleSk7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGRhdGFbMF0sIGAke2RhdGFbMV19LGAsIGRhdGFbMl0sIGAke2RhdGFbM119LGAsIGRhdGFbNF0sIGRhdGFbNV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goZGF0YVswXSwgYCR7ZGF0YVsxXX0sYCwgZGF0YVsyXSwgZGF0YVszXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKC4uLmRhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b2tlbnMuam9pbignICcpO1xufVxuIiwiLy8gVHJhbnNsYXRlIHJlbGF0aXZlIGNvbW1hbmRzIHRvIGFic29sdXRlIGNvbW1hbmRzXG5leHBvcnQgZnVuY3Rpb24gYWJzb2x1dGl6ZShzZWdtZW50cykge1xuICAgIGxldCBjeCA9IDAsIGN5ID0gMDtcbiAgICBsZXQgc3VieCA9IDAsIHN1YnkgPSAwO1xuICAgIGNvbnN0IG91dCA9IFtdO1xuICAgIGZvciAoY29uc3QgeyBrZXksIGRhdGEgfSBvZiBzZWdtZW50cykge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdNJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIFtjeCwgY3ldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBbc3VieCwgc3VieV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIHN1YnggPSBjeDtcbiAgICAgICAgICAgICAgICBzdWJ5ID0gY3k7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0wnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgW2N4LCBjeV0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVs0XTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzRdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVs1XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1EnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdkYXRhID0gZGF0YS5tYXAoKGQsIGkpID0+IChpICUgMikgPyAoZCArIGN5KSA6IChkICsgY3gpKTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1EnLCBkYXRhOiBuZXdkYXRhIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gbmV3ZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IG5ld2RhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGN5ID0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIGN4ICs9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVs2XTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ0EnLCBkYXRhOiBbZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSwgZGF0YVs0XSwgY3gsIGN5XSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICBjeCArPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnSCcsIGRhdGE6IFtjeF0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgY3kgKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1YnLCBkYXRhOiBbY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdTJywgZGF0YTogWy4uLmRhdGFdIH0pO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld2RhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gKGkgJSAyKSA/IChkICsgY3kpIDogKGQgKyBjeCkpO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnUycsIGRhdGE6IG5ld2RhdGEgfSk7XG4gICAgICAgICAgICAgICAgY3ggPSBuZXdkYXRhWzJdO1xuICAgICAgICAgICAgICAgIGN5ID0gbmV3ZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgY3ggKz0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBjeSArPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnVCcsIGRhdGE6IFtjeCwgY3ldIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBOb3JtYWxpemUgcGF0aCB0byBpbmNsdWRlIG9ubHkgTSwgTCwgQywgYW5kIFogY29tbWFuZHNcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoc2VnbWVudHMpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBsZXQgbGFzdFR5cGUgPSAnJztcbiAgICBsZXQgY3ggPSAwLCBjeSA9IDA7XG4gICAgbGV0IHN1YnggPSAwLCBzdWJ5ID0gMDtcbiAgICBsZXQgbGN4ID0gMCwgbGN5ID0gMDtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTScsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgW3N1YngsIHN1YnldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY3kgPSBkYXRhWzVdO1xuICAgICAgICAgICAgICAgIGxjeCA9IGRhdGFbMl07XG4gICAgICAgICAgICAgICAgbGN5ID0gZGF0YVszXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnTCcsIGRhdGE6IFsuLi5kYXRhXSB9KTtcbiAgICAgICAgICAgICAgICBbY3gsIGN5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICBjeCA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdMJywgZGF0YTogW2N4LCBjeV0gfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTJzoge1xuICAgICAgICAgICAgICAgIGxldCBjeDEgPSAwLCBjeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ0MnIHx8IGxhc3RUeXBlID09PSAnUycpIHtcbiAgICAgICAgICAgICAgICAgICAgY3gxID0gY3ggKyAoY3ggLSBsY3gpO1xuICAgICAgICAgICAgICAgICAgICBjeTEgPSBjeSArIChjeSAtIGxjeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgY3kxID0gY3k7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgLi4uZGF0YV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICBsY3kgPSBkYXRhWzFdO1xuICAgICAgICAgICAgICAgIGN4ID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IGRhdGFbM107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdUJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHgxID0gMCwgeTEgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0VHlwZSA9PT0gJ1EnIHx8IGxhc3RUeXBlID09PSAnVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeCArIChjeCAtIGxjeCk7XG4gICAgICAgICAgICAgICAgICAgIHkxID0gY3kgKyAoY3kgLSBsY3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBjeDtcbiAgICAgICAgICAgICAgICAgICAgeTEgPSBjeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3gxID0gY3ggKyAyICogKHgxIC0gY3gpIC8gMztcbiAgICAgICAgICAgICAgICBjb25zdCBjeTEgPSBjeSArIDIgKiAoeTEgLSBjeSkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN4MiA9IHggKyAyICogKHgxIC0geCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MiA9IHkgKyAyICogKHkxIC0geSkgLyAzO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeDEsIGN5MSwgY3gyLCBjeTIsIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgIGxjeCA9IHgxO1xuICAgICAgICAgICAgICAgIGxjeSA9IHkxO1xuICAgICAgICAgICAgICAgIGN4ID0geDtcbiAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdRJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt4MSwgeTEsIHgsIHldID0gZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBjeDEgPSBjeCArIDIgKiAoeDEgLSBjeCkgLyAzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN5MSA9IGN5ICsgMiAqICh5MSAtIGN5KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3gyID0geCArIDIgKiAoeDEgLSB4KSAvIDM7XG4gICAgICAgICAgICAgICAgY29uc3QgY3kyID0geSArIDIgKiAoeTEgLSB5KSAvIDM7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goeyBrZXk6ICdDJywgZGF0YTogW2N4MSwgY3kxLCBjeDIsIGN5MiwgeCwgeV0gfSk7XG4gICAgICAgICAgICAgICAgbGN4ID0geDE7XG4gICAgICAgICAgICAgICAgbGN5ID0geTE7XG4gICAgICAgICAgICAgICAgY3ggPSB4O1xuICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0EnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcjEgPSBNYXRoLmFicyhkYXRhWzBdKTtcbiAgICAgICAgICAgICAgICBjb25zdCByMiA9IE1hdGguYWJzKGRhdGFbMV0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBkYXRhWzNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN3ZWVwRmxhZyA9IGRhdGFbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGRhdGFbNV07XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbNl07XG4gICAgICAgICAgICAgICAgaWYgKHIxID09PSAwIHx8IHIyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IFtjeCwgY3ksIHgsIHksIHgsIHldIH0pO1xuICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGN5ID0geTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjeCAhPT0geCB8fCBjeSAhPT0geSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VydmVzID0gYXJjVG9DdWJpY0N1cnZlcyhjeCwgY3ksIHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJ2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKHsga2V5OiAnQycsIGRhdGE6IGN1cnZlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7IGtleTogJ1onLCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICBjeCA9IHN1Yng7XG4gICAgICAgICAgICAgICAgY3kgPSBzdWJ5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUeXBlID0ga2V5O1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcykge1xuICAgIHJldHVybiAoTWF0aC5QSSAqIGRlZ3JlZXMpIC8gMTgwO1xufVxuZnVuY3Rpb24gcm90YXRlKHgsIHksIGFuZ2xlUmFkKSB7XG4gICAgY29uc3QgWCA9IHggKiBNYXRoLmNvcyhhbmdsZVJhZCkgLSB5ICogTWF0aC5zaW4oYW5nbGVSYWQpO1xuICAgIGNvbnN0IFkgPSB4ICogTWF0aC5zaW4oYW5nbGVSYWQpICsgeSAqIE1hdGguY29zKGFuZ2xlUmFkKTtcbiAgICByZXR1cm4gW1gsIFldO1xufVxuZnVuY3Rpb24gYXJjVG9DdWJpY0N1cnZlcyh4MSwgeTEsIHgyLCB5MiwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcsIHJlY3Vyc2l2ZSkge1xuICAgIGNvbnN0IGFuZ2xlUmFkID0gZGVnVG9SYWQoYW5nbGUpO1xuICAgIGxldCBwYXJhbXMgPSBbXTtcbiAgICBsZXQgZjEgPSAwLCBmMiA9IDAsIGN4ID0gMCwgY3kgPSAwO1xuICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgW2YxLCBmMiwgY3gsIGN5XSA9IHJlY3Vyc2l2ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFt4MSwgeTFdID0gcm90YXRlKHgxLCB5MSwgLWFuZ2xlUmFkKTtcbiAgICAgICAgW3gyLCB5Ml0gPSByb3RhdGUoeDIsIHkyLCAtYW5nbGVSYWQpO1xuICAgICAgICBjb25zdCB4ID0gKHgxIC0geDIpIC8gMjtcbiAgICAgICAgY29uc3QgeSA9ICh5MSAtIHkyKSAvIDI7XG4gICAgICAgIGxldCBoID0gKHggKiB4KSAvIChyMSAqIHIxKSArICh5ICogeSkgLyAocjIgKiByMik7XG4gICAgICAgIGlmIChoID4gMSkge1xuICAgICAgICAgICAgaCA9IE1hdGguc3FydChoKTtcbiAgICAgICAgICAgIHIxID0gaCAqIHIxO1xuICAgICAgICAgICAgcjIgPSBoICogcjI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbiA9IChsYXJnZUFyY0ZsYWcgPT09IHN3ZWVwRmxhZykgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHIxUG93ID0gcjEgKiByMTtcbiAgICAgICAgY29uc3QgcjJQb3cgPSByMiAqIHIyO1xuICAgICAgICBjb25zdCBsZWZ0ID0gcjFQb3cgKiByMlBvdyAtIHIxUG93ICogeSAqIHkgLSByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCByaWdodCA9IHIxUG93ICogeSAqIHkgKyByMlBvdyAqIHggKiB4O1xuICAgICAgICBjb25zdCBrID0gc2lnbiAqIE1hdGguc3FydChNYXRoLmFicyhsZWZ0IC8gcmlnaHQpKTtcbiAgICAgICAgY3ggPSBrICogcjEgKiB5IC8gcjIgKyAoeDEgKyB4MikgLyAyO1xuICAgICAgICBjeSA9IGsgKiAtcjIgKiB4IC8gcjEgKyAoeTEgKyB5MikgLyAyO1xuICAgICAgICBmMSA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTEgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBmMiA9IE1hdGguYXNpbihwYXJzZUZsb2F0KCgoeTIgLSBjeSkgLyByMikudG9GaXhlZCg5KSkpO1xuICAgICAgICBpZiAoeDEgPCBjeCkge1xuICAgICAgICAgICAgZjEgPSBNYXRoLlBJIC0gZjE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHgyIDwgY3gpIHtcbiAgICAgICAgICAgIGYyID0gTWF0aC5QSSAtIGYyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmMSA8IDApIHtcbiAgICAgICAgICAgIGYxID0gTWF0aC5QSSAqIDIgKyBmMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZjIgPCAwKSB7XG4gICAgICAgICAgICBmMiA9IE1hdGguUEkgKiAyICsgZjI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN3ZWVwRmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICAgICAgICBmMSA9IGYxIC0gTWF0aC5QSSAqIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzd2VlcEZsYWcgJiYgZjIgPiBmMSkge1xuICAgICAgICAgICAgZjIgPSBmMiAtIE1hdGguUEkgKiAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBkZiA9IGYyIC0gZjE7XG4gICAgaWYgKE1hdGguYWJzKGRmKSA+IChNYXRoLlBJICogMTIwIC8gMTgwKSkge1xuICAgICAgICBjb25zdCBmMm9sZCA9IGYyO1xuICAgICAgICBjb25zdCB4Mm9sZCA9IHgyO1xuICAgICAgICBjb25zdCB5Mm9sZCA9IHkyO1xuICAgICAgICBpZiAoc3dlZXBGbGFnICYmIGYyID4gZjEpIHtcbiAgICAgICAgICAgIGYyID0gZjEgKyAoTWF0aC5QSSAqIDEyMCAvIDE4MCkgKiAoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmMiA9IGYxICsgKE1hdGguUEkgKiAxMjAgLyAxODApICogKC0xKTtcbiAgICAgICAgfVxuICAgICAgICB4MiA9IGN4ICsgcjEgKiBNYXRoLmNvcyhmMik7XG4gICAgICAgIHkyID0gY3kgKyByMiAqIE1hdGguc2luKGYyKTtcbiAgICAgICAgcGFyYW1zID0gYXJjVG9DdWJpY0N1cnZlcyh4MiwgeTIsIHgyb2xkLCB5Mm9sZCwgcjEsIHIyLCBhbmdsZSwgMCwgc3dlZXBGbGFnLCBbZjIsIGYyb2xkLCBjeCwgY3ldKTtcbiAgICB9XG4gICAgZGYgPSBmMiAtIGYxO1xuICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoZjEpO1xuICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oZjEpO1xuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoZjIpO1xuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oZjIpO1xuICAgIGNvbnN0IHQgPSBNYXRoLnRhbihkZiAvIDQpO1xuICAgIGNvbnN0IGh4ID0gNCAvIDMgKiByMSAqIHQ7XG4gICAgY29uc3QgaHkgPSA0IC8gMyAqIHIyICogdDtcbiAgICBjb25zdCBtMSA9IFt4MSwgeTFdO1xuICAgIGNvbnN0IG0yID0gW3gxICsgaHggKiBzMSwgeTEgLSBoeSAqIGMxXTtcbiAgICBjb25zdCBtMyA9IFt4MiArIGh4ICogczIsIHkyIC0gaHkgKiBjMl07XG4gICAgY29uc3QgbTQgPSBbeDIsIHkyXTtcbiAgICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICAgIG0yWzFdID0gMiAqIG0xWzFdIC0gbTJbMV07XG4gICAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgICAgICByZXR1cm4gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyYW1zID0gW20yLCBtMywgbTRdLmNvbmNhdChwYXJhbXMpO1xuICAgICAgICBjb25zdCBjdXJ2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIxID0gcm90YXRlKHBhcmFtc1tpXVswXSwgcGFyYW1zW2ldWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMiA9IHJvdGF0ZShwYXJhbXNbaSArIDFdWzBdLCBwYXJhbXNbaSArIDFdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjb25zdCByMyA9IHJvdGF0ZShwYXJhbXNbaSArIDJdWzBdLCBwYXJhbXNbaSArIDJdWzFdLCBhbmdsZVJhZCk7XG4gICAgICAgICAgICBjdXJ2ZXMucHVzaChbcjFbMF0sIHIxWzFdLCByMlswXSwgcjJbMV0sIHIzWzBdLCByM1sxXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJ2ZXM7XG4gICAgfVxufVxuIiwiZXhwb3J0IHsgcGFyc2VQYXRoLCBzZXJpYWxpemUgfSBmcm9tICcuL3BhcnNlci5qcyc7XG5leHBvcnQgeyBhYnNvbHV0aXplIH0gZnJvbSAnLi9hYnNvbHV0aXplLmpzJztcbmV4cG9ydCB7IG5vcm1hbGl6ZSB9IGZyb20gJy4vbm9ybWFsaXplLmpzJztcbiIsImltcG9ydCB7IHBvaW50c09uQmV6aWVyQ3VydmVzLCBzaW1wbGlmeSB9IGZyb20gJ3BvaW50cy1vbi1jdXJ2ZSc7XG5pbXBvcnQgeyBwYXJzZVBhdGgsIGFic29sdXRpemUsIG5vcm1hbGl6ZSB9IGZyb20gJ3BhdGgtZGF0YS1wYXJzZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHBvaW50c09uUGF0aChwYXRoLCB0b2xlcmFuY2UsIGRpc3RhbmNlKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZShhYnNvbHV0aXplKHNlZ21lbnRzKSk7XG4gICAgY29uc3Qgc2V0cyA9IFtdO1xuICAgIGxldCBjdXJyZW50UG9pbnRzID0gW107XG4gICAgbGV0IHN0YXJ0ID0gWzAsIDBdO1xuICAgIGxldCBwZW5kaW5nQ3VydmUgPSBbXTtcbiAgICBjb25zdCBhcHBlbmRQZW5kaW5nQ3VydmUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwZW5kaW5nQ3VydmUubGVuZ3RoID49IDQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaCguLi5wb2ludHNPbkJlemllckN1cnZlcyhwZW5kaW5nQ3VydmUsIHRvbGVyYW5jZSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdDdXJ2ZSA9IFtdO1xuICAgIH07XG4gICAgY29uc3QgYXBwZW5kUGVuZGluZ1BvaW50cyA9ICgpID0+IHtcbiAgICAgICAgYXBwZW5kUGVuZGluZ0N1cnZlKCk7XG4gICAgICAgIGlmIChjdXJyZW50UG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0cy5wdXNoKGN1cnJlbnRQb2ludHMpO1xuICAgICAgICAgICAgY3VycmVudFBvaW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBkYXRhIH0gb2Ygbm9ybWFsaXplZCkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgYXBwZW5kUGVuZGluZ1BvaW50cygpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gW2RhdGFbMF0sIGRhdGFbMV1dO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb2ludHMucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ0N1cnZlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UG9pbnQgPSBjdXJyZW50UG9pbnRzLmxlbmd0aCA/IGN1cnJlbnRQb2ludHNbY3VycmVudFBvaW50cy5sZW5ndGggLSAxXSA6IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbbGFzdFBvaW50WzBdLCBsYXN0UG9pbnRbMV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVuZGluZ0N1cnZlLnB1c2goW2RhdGFbMF0sIGRhdGFbMV1dKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nQ3VydmUucHVzaChbZGF0YVsyXSwgZGF0YVszXV0pO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdDdXJ2ZS5wdXNoKFtkYXRhWzRdLCBkYXRhWzVdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICBhcHBlbmRQZW5kaW5nQ3VydmUoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRzLnB1c2goW3N0YXJ0WzBdLCBzdGFydFsxXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZFBlbmRpbmdQb2ludHMoKTtcbiAgICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBzZXRzO1xuICAgIH1cbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNldCBvZiBzZXRzKSB7XG4gICAgICAgIGNvbnN0IHNpbXBsaWZpZWRTZXQgPSBzaW1wbGlmeShzZXQsIGRpc3RhbmNlKTtcbiAgICAgICAgaWYgKHNpbXBsaWZpZWRTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICBvdXQucHVzaChzaW1wbGlmaWVkU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiaW1wb3J0IHsgbWF0NCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcbmltcG9ydCB7IGRpbWVuc2lvbnNGcm9tUG9pbnRzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAsIHsgZ2V0R3JvdXBBdHRycyB9IGZyb20gXCIuL2VsZW1lbnRzL0dyb3VwXCI7XG5pbXBvcnQge1xuICBFeGNhbGlkcmF3RWxlbWVudEJhc2UsXG4gIEV4Y2FsaWRyYXdSZWN0YW5nbGUsXG4gIEV4Y2FsaWRyYXdFbGxpcHNlLFxuICBFeGNhbGlkcmF3TGluZSxcbiAgRXhjYWxpZHJhd0RyYXcsXG4gIGNyZWF0ZUV4UmVjdCxcbiAgY3JlYXRlRXhFbGxpcHNlLFxuICBjcmVhdGVFeExpbmUsXG4gIGNyZWF0ZUV4RHJhdyxcbiAgUG9pbnQsXG59IGZyb20gXCIuL2VsZW1lbnRzL0V4Y2FsaWRyYXdFbGVtZW50XCI7XG5pbXBvcnQge1xuICBwcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMsXG4gIGZpbHRlckF0dHJzVG9FbGVtZW50VmFsdWVzLFxuICBwb2ludHNBdHRyVG9Qb2ludHMsXG4gIGhhcyxcbiAgZ2V0LFxuICBnZXROdW0sXG59IGZyb20gXCIuL2F0dHJpYnV0ZXNcIjtcbmltcG9ydCB7IGdldFRyYW5zZm9ybU1hdHJpeCwgdHJhbnNmb3JtUG9pbnRzIH0gZnJvbSBcIi4vdHJhbnNmb3JtXCI7XG5pbXBvcnQgeyBwb2ludHNPblBhdGggfSBmcm9tIFwicG9pbnRzLW9uLXBhdGhcIjtcbmltcG9ydCB7IHJhbmRvbUlkLCBnZXRXaW5kaW5nT3JkZXIgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jb25zdCBTVVBQT1JURURfVEFHUyA9IFtcbiAgXCJzdmdcIixcbiAgXCJwYXRoXCIsXG4gIFwiZ1wiLFxuICBcInVzZVwiLFxuICBcImNpcmNsZVwiLFxuICBcImVsbGlwc2VcIixcbiAgXCJyZWN0XCIsXG4gIFwicG9seWxpbmVcIixcbiAgXCJwb2x5Z29uXCIsXG5dO1xuXG5jb25zdCBub2RlVmFsaWRhdG9yID0gKG5vZGU6IEVsZW1lbnQpOiBudW1iZXIgPT4ge1xuICBpZiAoU1VQUE9SVEVEX1RBR1MuaW5jbHVkZXMobm9kZS50YWdOYW1lKSkge1xuICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gIH1cblxuICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyZWVXYWxrZXIoZG9tOiBOb2RlKTogVHJlZVdhbGtlciB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGRvbSwgTm9kZUZpbHRlci5TSE9XX0FMTCwge1xuICAgIGFjY2VwdE5vZGU6IG5vZGVWYWxpZGF0b3IsXG4gIH0pO1xufVxuXG50eXBlIFdhbGtlckFyZ3MgPSB7XG4gIHJvb3Q6IERvY3VtZW50O1xuICB0dzogVHJlZVdhbGtlcjtcbiAgc2NlbmU6IEV4Y2FsaWRyYXdTY2VuZTtcbiAgZ3JvdXBzOiBHcm91cFtdO1xufTtcblxuY29uc3QgcHJlc0F0dHJzID0gKFxuICBlbDogRWxlbWVudCxcbiAgZ3JvdXBzOiBHcm91cFtdLFxuKTogUGFydGlhbDxFeGNhbGlkcmF3RWxlbWVudEJhc2U+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgLi4ucHJlc0F0dHJzVG9FbGVtZW50VmFsdWVzKGVsKSxcbiAgICAuLi5maWx0ZXJBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gIH07XG59O1xuXG5jb25zdCBza2lwcGVkVXNlQXR0cnMgPSBbXCJpZFwiXTtcbmNvbnN0IGFsbHdheXNQYXNzZWRVc2VBdHRycyA9IFtcbiAgXCJ4XCIsXG4gIFwieVwiLFxuICBcIndpZHRoXCIsXG4gIFwiaGVpZ2h0XCIsXG4gIFwiaHJlZlwiLFxuICBcInhsaW5rOmhyZWZcIixcbl07XG5cbi8qXG4gIFwiTW9zdCBhdHRyaWJ1dGVzIG9uIHVzZSBkbyBub3Qgb3ZlcnJpZGUgdGhvc2UgYWxyZWFkeSBvbiB0aGUgZWxlbWVudFxuICByZWZlcmVuY2VkIGJ5IHVzZS4gKFRoaXMgZGlmZmVycyBmcm9tIGhvdyBDU1Mgc3R5bGUgYXR0cmlidXRlcyBvdmVycmlkZVxuICB0aG9zZSBzZXQgJ2VhcmxpZXInIGluIHRoZSBjYXNjYWRlKS4gT25seSB0aGUgYXR0cmlidXRlcyB4LCB5LCB3aWR0aCxcbiAgaGVpZ2h0IGFuZCBocmVmIG9uIHRoZSB1c2UgZWxlbWVudCB3aWxsIG92ZXJyaWRlIHRob3NlIHNldCBvbiB0aGVcbiAgcmVmZXJlbmNlZCBlbGVtZW50LiBIb3dldmVyLCBhbnkgb3RoZXIgYXR0cmlidXRlcyBub3Qgc2V0IG9uIHRoZSByZWZlcmVuY2VkXG4gIGVsZW1lbnQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSB1c2UgZWxlbWVudC5cIlxuXG4gIFNpdHVhdGlvbiAxOiBBdHRyIGlzIHNldCBvbiBkZWZFbCwgTk9UIG9uIHVzZUVsXG4gICAgLSByZXN1bHQ6IHVzZSBkZWZFbCBhdHRyXG4gIFNpdHVhdGlvbiAyOiBBdHRyIGlzIG9uIHVzZUVsLCBOT1Qgb24gZGVmRWxcbiAgICAtIHJlc3VsdDogdXNlIHRoZSB1c2VFbCBhdHRyXG4gIFNpdHVhdGlvbiAzOiBBdHRyIGlzIG9uIGJvdGggdXNlRWwgYW5kIGRlZkVsXG4gICAgLSByZXN1bHQ6IHVzZSB0aGUgZGVmRWwgYXR0ciAoVW5sZXNzIHgsIHksIHdpZHRoLCBoZWlnaHQsIGhyZWYsIHhsaW5rOmhyZWYpXG4qL1xuY29uc3QgZ2V0RGVmRWxXaXRoQ29ycmVjdEF0dHJzID0gKGRlZkVsOiBFbGVtZW50LCB1c2VFbDogRWxlbWVudCk6IEVsZW1lbnQgPT4ge1xuICBjb25zdCBmaW5hbEVsID0gWy4uLnVzZUVsLmF0dHJpYnV0ZXNdLnJlZHVjZSgoZWwsIGF0dHIpID0+IHtcbiAgICBpZiAoc2tpcHBlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLy8gRG9lcyBkZWZFbCBoYXZlIHRoZSBhdHRyPyBJZiBzbywgdXNlIGl0LCBlbHNlIHVzZSB0aGUgdXNlRWwgYXR0clxuICAgIGlmIChcbiAgICAgICFkZWZFbC5oYXNBdHRyaWJ1dGUoYXR0ci5uYW1lKSB8fFxuICAgICAgYWxsd2F5c1Bhc3NlZFVzZUF0dHJzLmluY2x1ZGVzKGF0dHIubmFtZSlcbiAgICApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsIHVzZUVsLmdldEF0dHJpYnV0ZShhdHRyLm5hbWUpIHx8IFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sIGRlZkVsLmNsb25lTm9kZSgpIGFzIEVsZW1lbnQpO1xuXG4gIHJldHVybiBmaW5hbEVsO1xufTtcblxuY29uc3Qgd2Fsa2VycyA9IHtcbiAgc3ZnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICBnOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IG5leHRBcmdzID0ge1xuICAgICAgLi4uYXJncyxcbiAgICAgIHR3OiBjcmVhdGVUcmVlV2Fsa2VyKGFyZ3MudHcuY3VycmVudE5vZGUpLFxuICAgICAgZ3JvdXBzOiBbLi4uYXJncy5ncm91cHMsIG5ldyBHcm91cChhcmdzLnR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQpXSxcbiAgICB9O1xuXG4gICAgd2FsayhuZXh0QXJncywgbmV4dEFyZ3MudHcubmV4dE5vZGUoKSk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dFNpYmxpbmcoKSk7XG4gIH0sXG5cbiAgdXNlOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgcm9vdCwgdHcsIHNjZW5lIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVzZUVsID0gdHcuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcblxuICAgIGNvbnN0IGlkID0gdXNlRWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fCB1c2VFbC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5hYmxlIHRvIGdldCBpZCBvZiB1c2UgZWxlbWVudFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZFbCA9IHJvb3QucXVlcnlTZWxlY3RvcihpZCk7XG5cbiAgICBpZiAoIWRlZkVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuYWJsZSB0byBmaW5kIGRlZiBlbGVtZW50IHdpdGggaWQ6ICR7aWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcFNjZW5lID0gbmV3IEV4Y2FsaWRyYXdTY2VuZSgpO1xuXG4gICAgY29uc3QgZmluYWxFbCA9IGdldERlZkVsV2l0aENvcnJlY3RBdHRycyhkZWZFbCwgdXNlRWwpO1xuXG4gICAgd2FsayhcbiAgICAgIHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgc2NlbmU6IHRlbXBTY2VuZSxcbiAgICAgICAgdHc6IGNyZWF0ZVRyZWVXYWxrZXIoZmluYWxFbCksXG4gICAgICB9LFxuICAgICAgZmluYWxFbCxcbiAgICApO1xuXG4gICAgY29uc3QgZXhFbCA9IHRlbXBTY2VuZS5lbGVtZW50cy5wb3AoKTtcblxuICAgIGlmICghZXhFbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBleCBlbGVtZW50XCIpO1xuICAgIH1cblxuICAgIHNjZW5lLmVsZW1lbnRzLnB1c2goZXhFbCk7XG5cbiAgICB3YWxrKGFyZ3MsIGFyZ3MudHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgY2lyY2xlOiAoYXJnczogV2Fsa2VyQXJncyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgciA9IGdldE51bShlbCwgXCJyXCIsIDApO1xuICAgIGNvbnN0IGQgPSByICogMjtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBnZXROdW0oZWwsIFwiY3hcIiwgMCkgLSByO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGdldE51bShlbCwgXCJjeVwiLCAwKSAtIHI7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyhkLCAwLCAwLCAwLCAwLCBkLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGNpcmNsZTogRXhjYWxpZHJhd0VsbGlwc2UgPSB7XG4gICAgICAuLi5jcmVhdGVFeEVsbGlwc2UoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgZ3JvdXBJZHM6IGdyb3Vwcy5tYXAoKGcpID0+IGcuaWQpLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGNpcmNsZSk7XG5cbiAgICB3YWxrKGFyZ3MsIHR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIGVsbGlwc2U6IChhcmdzOiBXYWxrZXJBcmdzKTogdm9pZCA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCByeCA9IGdldE51bShlbCwgXCJyeFwiLCAwKTtcbiAgICBjb25zdCByeSA9IGdldE51bShlbCwgXCJyeVwiLCAwKTtcbiAgICBjb25zdCBjeCA9IGdldE51bShlbCwgXCJjeFwiLCAwKTtcbiAgICBjb25zdCBjeSA9IGdldE51bShlbCwgXCJjeVwiLCAwKTtcbiAgICBjb25zdCB4ID0gZ2V0TnVtKGVsLCBcInhcIiwgMCkgKyBjeCAtIHJ4O1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKSArIGN5IC0gcnk7XG4gICAgY29uc3QgdyA9IHJ4ICogMjtcbiAgICBjb25zdCBoID0gcnkgKiAyO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgbSA9IG1hdDQuZnJvbVZhbHVlcyh3LCAwLCAwLCAwLCAwLCBoLCAwLCAwLCAwLCAwLCAxLCAwLCB4LCB5LCAwLCAxKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IG1hdDQubXVsdGlwbHkobWF0NC5jcmVhdGUoKSwgbWF0LCBtKTtcblxuICAgIGNvbnN0IGVsbGlwc2U6IEV4Y2FsaWRyYXdFbGxpcHNlID0ge1xuICAgICAgLi4uY3JlYXRlRXhFbGxpcHNlKCksXG4gICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICB4OiByZXN1bHRbMTJdLFxuICAgICAgeTogcmVzdWx0WzEzXSxcbiAgICAgIHdpZHRoOiByZXN1bHRbMF0sXG4gICAgICBoZWlnaHQ6IHJlc3VsdFs1XSxcbiAgICAgIGdyb3VwSWRzOiBncm91cHMubWFwKChnKSA9PiBnLmlkKSxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChlbGxpcHNlKTtcblxuICAgIHdhbGsoYXJncywgdHcubmV4dE5vZGUoKSk7XG4gIH0sXG5cbiAgbGluZTogKGFyZ3M6IFdhbGtlckFyZ3MpID0+IHtcbiAgICAvLyB1bmltcGxlbWVudGVkXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlnb246IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNBdHRyVG9Qb2ludHMoZWwpO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtZWRQb2ludHMgPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRzLCBtYXQpO1xuXG4gICAgLy8gVGhlIGZpcnN0IHBvaW50IG5lZWRzIHRvIGJlIDAsIDAsIGFuZCBhbGwgZm9sbG93aW5nIHBvaW50c1xuICAgIC8vIGFyZSByZWxhdGl2ZSB0byB0aGUgZmlyc3QgcG9pbnQuXG4gICAgY29uc3QgeCA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzBdO1xuICAgIGNvbnN0IHkgPSB0cmFuc2Zvcm1lZFBvaW50c1swXVsxXTtcblxuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRzID0gdHJhbnNmb3JtZWRQb2ludHMubWFwKChbX3gsIF95XSkgPT4gW1xuICAgICAgX3ggLSB4LFxuICAgICAgX3kgLSB5LFxuICAgIF0pO1xuXG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gZGltZW5zaW9uc0Zyb21Qb2ludHMocmVsYXRpdmVQb2ludHMpO1xuXG4gICAgY29uc3QgbGluZTogRXhjYWxpZHJhd0xpbmUgPSB7XG4gICAgICAuLi5jcmVhdGVFeExpbmUoKSxcbiAgICAgIC4uLmdldEdyb3VwQXR0cnMoZ3JvdXBzKSxcbiAgICAgIC4uLnByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyhlbCksXG4gICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLmNvbmNhdChbWzAsIDBdXSksXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKGxpbmUpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBvbHlsaW5lOiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzQXR0clRvUG9pbnRzKGVsKTtcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFBvaW50cyA9IHRyYW5zZm9ybVBvaW50cyhwb2ludHMsIG1hdCk7XG5cbiAgICAvLyBUaGUgZmlyc3QgcG9pbnQgbmVlZHMgdG8gYmUgMCwgMCwgYW5kIGFsbCBmb2xsb3dpbmcgcG9pbnRzXG4gICAgLy8gYXJlIHJlbGF0aXZlIHRvIHRoZSBmaXJzdCBwb2ludC5cbiAgICBjb25zdCB4ID0gdHJhbnNmb3JtZWRQb2ludHNbMF1bMF07XG4gICAgY29uc3QgeSA9IHRyYW5zZm9ybWVkUG9pbnRzWzBdWzFdO1xuXG4gICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0cmFuc2Zvcm1lZFBvaW50cy5tYXAoKFtfeCwgX3ldKSA9PiBbXG4gICAgICBfeCAtIHgsXG4gICAgICBfeSAtIHksXG4gICAgXSk7XG5cbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyhyZWxhdGl2ZVBvaW50cyk7XG5cbiAgICBjb25zdCBoYXNGaWxsID0gaGFzKGVsLCBcImZpbGxcIik7XG4gICAgY29uc3QgZmlsbCA9IGdldChlbCwgXCJmaWxsXCIpO1xuXG4gICAgY29uc3Qgc2hvdWxkRmlsbCA9ICFoYXNGaWxsIHx8IChoYXNGaWxsICYmIGZpbGwgIT09IFwibm9uZVwiKTtcblxuICAgIGNvbnN0IGxpbmU6IEV4Y2FsaWRyYXdMaW5lID0ge1xuICAgICAgLi4uY3JlYXRlRXhMaW5lKCksXG4gICAgICAuLi5nZXRHcm91cEF0dHJzKGdyb3VwcyksXG4gICAgICAuLi5wcmVzQXR0cnNUb0VsZW1lbnRWYWx1ZXMoZWwpLFxuICAgICAgcG9pbnRzOiByZWxhdGl2ZVBvaW50cy5jb25jYXQoc2hvdWxkRmlsbCA/IFtbMCwgMF1dIDogW10pLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICB9O1xuXG4gICAgc2NlbmUuZWxlbWVudHMucHVzaChsaW5lKTtcblxuICAgIHdhbGsoYXJncywgYXJncy50dy5uZXh0Tm9kZSgpKTtcbiAgfSxcblxuICByZWN0OiAoYXJnczogV2Fsa2VyQXJncykgPT4ge1xuICAgIGNvbnN0IHsgdHcsIHNjZW5lLCBncm91cHMgfSA9IGFyZ3M7XG4gICAgY29uc3QgZWwgPSB0dy5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuXG4gICAgY29uc3QgeCA9IGdldE51bShlbCwgXCJ4XCIsIDApO1xuICAgIGNvbnN0IHkgPSBnZXROdW0oZWwsIFwieVwiLCAwKTtcbiAgICBjb25zdCB3ID0gZ2V0TnVtKGVsLCBcIndpZHRoXCIsIDApO1xuICAgIGNvbnN0IGggPSBnZXROdW0oZWwsIFwiaGVpZ2h0XCIsIDApO1xuXG4gICAgY29uc3QgbWF0ID0gZ2V0VHJhbnNmb3JtTWF0cml4KGVsLCBncm91cHMpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG0gPSBtYXQ0LmZyb21WYWx1ZXModywgMCwgMCwgMCwgMCwgaCwgMCwgMCwgMCwgMCwgMSwgMCwgeCwgeSwgMCwgMSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBtYXQ0Lm11bHRpcGx5KG1hdDQuY3JlYXRlKCksIG1hdCwgbSk7XG5cbiAgICAvKlxuICAgIE5PVEU6IEN1cnJlbnRseSB0aGVyZSBkb2Vzbid0IHNlZW0gdG8gYmUgYSB3YXkgdG8gc3BlY2lmeSB0aGUgYm9yZGVyXG4gICAgICAgICAgcmFkaXVzIG9mIGEgcmVjdCB3aXRoaW4gRXhjYWxpZHJhdy4gVGhpcyBtZWFucyB0aGF0IGF0dHJpYnV0ZXNcbiAgICAgICAgICByeCBhbmQgcnkgY2FuJ3QgYmUgdXNlZC5cbiAgICAqL1xuICAgIGNvbnN0IGlzUm91bmQgPSBlbC5oYXNBdHRyaWJ1dGUoXCJyeFwiKSB8fCBlbC5oYXNBdHRyaWJ1dGUoXCJyeVwiKTtcblxuICAgIGNvbnN0IHJlY3Q6IEV4Y2FsaWRyYXdSZWN0YW5nbGUgPSB7XG4gICAgICAuLi5jcmVhdGVFeFJlY3QoKSxcbiAgICAgIC4uLnByZXNBdHRycyhlbCwgZ3JvdXBzKSxcbiAgICAgIHg6IHJlc3VsdFsxMl0sXG4gICAgICB5OiByZXN1bHRbMTNdLFxuICAgICAgd2lkdGg6IHJlc3VsdFswXSxcbiAgICAgIGhlaWdodDogcmVzdWx0WzVdLFxuICAgICAgc3Ryb2tlU2hhcnBuZXNzOiBpc1JvdW5kID8gXCJyb3VuZFwiIDogXCJzaGFycFwiLFxuICAgIH07XG5cbiAgICBzY2VuZS5lbGVtZW50cy5wdXNoKHJlY3QpO1xuXG4gICAgd2FsayhhcmdzLCBhcmdzLnR3Lm5leHROb2RlKCkpO1xuICB9LFxuXG4gIHBhdGg6IChhcmdzOiBXYWxrZXJBcmdzKSA9PiB7XG4gICAgY29uc3QgeyB0dywgc2NlbmUsIGdyb3VwcyB9ID0gYXJncztcbiAgICBjb25zdCBlbCA9IHR3LmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG5cbiAgICBjb25zdCBtYXQgPSBnZXRUcmFuc2Zvcm1NYXRyaXgoZWwsIGdyb3Vwcyk7XG5cbiAgICBjb25zdCBwb2ludHMgPSBwb2ludHNPblBhdGgoZ2V0KGVsLCBcImRcIikpO1xuXG4gICAgY29uc3QgZmlsbENvbG9yID0gZ2V0KGVsLCBcImZpbGxcIiwgXCJibGFja1wiKTtcbiAgICBjb25zdCBmaWxsUnVsZSA9IGdldChlbCwgXCJmaWxsLXJ1bGVcIiwgXCJub256ZXJvXCIpO1xuXG4gICAgbGV0IGVsZW1lbnRzOiBFeGNhbGlkcmF3RHJhd1tdID0gW107XG4gICAgbGV0IGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuXG4gICAgc3dpdGNoIChmaWxsUnVsZSkge1xuICAgICAgY2FzZSBcIm5vbnplcm9cIjpcbiAgICAgICAgbGV0IGluaXRpYWxXaW5kaW5nT3JkZXIgPSBcImNsb2Nrd2lzZVwiO1xuXG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpbmRpbmdPcmRlciA9IGdldFdpbmRpbmdPcmRlcihyZWxhdGl2ZVBvaW50cyk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XG4gICAgICAgICAgICAgIGluaXRpYWxXaW5kaW5nT3JkZXIgPSB3aW5kaW5nT3JkZXI7XG4gICAgICAgICAgICAgIGxvY2FsR3JvdXAgPSByYW5kb21JZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gZmlsbENvbG9yO1xuICAgICAgICAgICAgaWYgKGluaXRpYWxXaW5kaW5nT3JkZXIgIT09IHdpbmRpbmdPcmRlcikge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcIiNGRkZGRkZcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uY3JlYXRlRXhEcmF3KCksXG4gICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgICAgICAgICAgICBzdHJva2VDb2xvcjogXCIjMDAwMDAwMDBcIixcbiAgICAgICAgICAgICAgLi4ucHJlc0F0dHJzKGVsLCBncm91cHMpLFxuICAgICAgICAgICAgICBwb2ludHM6IHJlbGF0aXZlUG9pbnRzLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgICBncm91cElkczogW2xvY2FsR3JvdXBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJldmVub2RkXCI6XG4gICAgICAgIGVsZW1lbnRzID0gcG9pbnRzLm1hcChcbiAgICAgICAgICAocG9pbnRBcnIsIGlkeCk6IEV4Y2FsaWRyYXdEcmF3ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRQb2ludHM6IFBvaW50W10gPSB0cmFuc2Zvcm1Qb2ludHMocG9pbnRBcnIsIG1hdDQuY2xvbmUobWF0KSk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdFBvaW50c1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0UG9pbnRzWzBdWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBkaW1lbnNpb25zRnJvbVBvaW50cyh0UG9pbnRzKTtcblxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQb2ludHMgPSB0UG9pbnRzLm1hcChcbiAgICAgICAgICAgICAgKFtfeCwgX3ldKTogUG9pbnQgPT4gW194IC0geCwgX3kgLSB5XSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgbG9jYWxHcm91cCA9IHJhbmRvbUlkKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNyZWF0ZUV4RHJhdygpLFxuICAgICAgICAgICAgICAuLi5wcmVzQXR0cnMoZWwsIGdyb3VwcyksXG4gICAgICAgICAgICAgIHBvaW50czogcmVsYXRpdmVQb2ludHMsXG4gICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgIHg6IHggKyBnZXROdW0oZWwsIFwieFwiLCAwKSxcbiAgICAgICAgICAgICAgeTogeSArIGdldE51bShlbCwgXCJ5XCIsIDApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgc2NlbmUuZWxlbWVudHMgPSBzY2VuZS5lbGVtZW50cy5jb25jYXQoZWxlbWVudHMpO1xuXG4gICAgd2FsayhhcmdzLCB0dy5uZXh0Tm9kZSgpKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWxrKGFyZ3M6IFdhbGtlckFyZ3MsIG5leHROb2RlOiBOb2RlIHwgbnVsbCk6IHZvaWQge1xuICBpZiAoIW5leHROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgbm9kZU5hbWUgPSBuZXh0Tm9kZS5ub2RlTmFtZSBhcyBrZXlvZiB0eXBlb2Ygd2Fsa2VycztcbiAgaWYgKHdhbGtlcnNbbm9kZU5hbWVdKSB7XG4gICAgd2Fsa2Vyc1tub2RlTmFtZV0oYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCBFeGNhbGlkcmF3U2NlbmUgZnJvbSBcIi4vZWxlbWVudHMvRXhjYWxpZHJhd1NjZW5lXCI7XG5pbXBvcnQgR3JvdXAgZnJvbSBcIi4vZWxlbWVudHMvR3JvdXBcIjtcbmltcG9ydCB7IGNyZWF0ZVRyZWVXYWxrZXIsIHdhbGsgfSBmcm9tIFwiLi93YWxrZXJcIjtcblxuZXhwb3J0IHR5cGUgQ29udmVyc2lvblJlc3VsdCA9IHtcbiAgaGFzRXJyb3JzOiBib29sZWFuO1xuICBlcnJvcnM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBudWxsO1xuICBjb250ZW50OiBhbnk7IC8vIFNlcmlhbGl6ZWQgRXhjYWxpZHJhdyBKU09OXG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydCA9IChzdmdTdHJpbmc6IHN0cmluZyk6IENvbnZlcnNpb25SZXN1bHQgPT4ge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHN2Z0RPTSA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnU3RyaW5nLCBcImltYWdlL3N2Zyt4bWxcIik7XG5cbiAgLy8gd2FzIHRoZXJlIGEgcGFyc2luZyBlcnJvcj9cbiAgY29uc3QgZXJyb3JzRWxlbWVudHMgPSBzdmdET00ucXVlcnlTZWxlY3RvckFsbChcInBhcnNlcmVycm9yXCIpO1xuICBjb25zdCBoYXNFcnJvcnMgPSBlcnJvcnNFbGVtZW50cy5sZW5ndGggPiAwO1xuICBsZXQgY29udGVudCA9IG51bGw7XG5cbiAgaWYgKGhhc0Vycm9ycykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlRoZXJlIHdlcmUgZXJyb3JzIHdoaWxlIHBhcnNpbmcgdGhlIGdpdmVuIFNWRzogXCIsXG4gICAgICBbLi4uZXJyb3JzRWxlbWVudHNdLm1hcCgoZWwpID0+IGVsLmlubmVySFRNTCksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0dyA9IGNyZWF0ZVRyZWVXYWxrZXIoc3ZnRE9NKTtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBFeGNhbGlkcmF3U2NlbmUoKTtcbiAgICBjb25zdCBncm91cHM6IEdyb3VwW10gPSBbXTtcblxuICAgIHdhbGsoeyB0dywgc2NlbmUsIGdyb3Vwcywgcm9vdDogc3ZnRE9NIH0sIHR3Lm5leHROb2RlKCkpO1xuXG4gICAgY29udGVudCA9IHNjZW5lLnRvRXhKU09OKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhhc0Vycm9ycyxcbiAgICBlcnJvcnM6IGhhc0Vycm9ycyA/IGVycm9yc0VsZW1lbnRzIDogbnVsbCxcbiAgICBjb250ZW50LFxuICB9O1xufTtcbiIsImltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwiLi9wYXJzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgcGFyc2VyO1xuIl0sIm5hbWVzIjpbIkV4Y2FsaWRyYXdTY2VuZSIsImVsZW1lbnRzIiwibWFwIiwiZWwiLCJSYW5kb20iLCJuYW5vaWQiLCJyYW5kb20iLCJEYXRlIiwibm93IiwicmFuZG9tSW50ZWdlciIsIk1hdGgiLCJmbG9vciIsIm5leHQiLCJyYW5kb21JZCIsInNhZmVOdW1iZXIiLCJudW1iZXIiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwiZGltZW5zaW9uc0Zyb21Qb2ludHMiLCJwb2ludHMiLCJ4Q29vcmRzIiwieCIsInlDb29yZHMiLCJ5IiwibWluWCIsIm1pbiIsIm1pblkiLCJtYXhYIiwibWF4IiwibWF4WSIsImdldFdpbmRpbmdPcmRlciIsInRvdGFsIiwicmVkdWNlIiwiYWNjIiwiaWR4IiwiYXJyIiwieDEiLCJ5MSIsInAyIiwieDIiLCJ5MiIsImUiLCJjaHJvbWEiLCJoZXhXaXRoQWxwaGEiLCJjb2xvciIsImFscGhhIiwiY3NzIiwiaGFzIiwiYXR0ciIsImhhc0F0dHJpYnV0ZSIsImdldCIsImJhY2t1cCIsImdldEF0dHJpYnV0ZSIsImdldE51bSIsIm51bVZhbCIsIk5hTiIsInByZXNBdHRycyIsInN0cm9rZSIsImZpbGwiLCJvcGFjaXR5IiwiYXR0ckhhbmRsZXJzIiwiZXhWYWxzIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCIsImJhY2tncm91bmRDb2xvciIsInByZXNBdHRyc1RvRWxlbWVudFZhbHVlcyIsImF0dHJpYnV0ZXMiLCJuYW1lIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZmlsdGVyQXR0cnNUb0VsZW1lbnRWYWx1ZXMiLCJmaWx0ZXJWYWxzIiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludHNBdHRyVG9Qb2ludHMiLCJzcGxpdCIsInAiLCJwYXJzZUZsb2F0IiwiZ2V0R3JvdXBBdHRycyIsImdyb3VwcyIsImVsZW1lbnQiLCJlbFZhbHMiLCJHcm91cCIsImNyZWF0ZUV4RWxlbWVudCIsImlkIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VTaGFycG5lc3MiLCJyb3VnaG5lc3MiLCJhbmdsZSIsInNlZWQiLCJ2ZXJzaW9uIiwidmVyc2lvbk5vbmNlIiwiaXNEZWxldGVkIiwiZ3JvdXBJZHMiLCJib3VuZEVsZW1lbnRJZHMiLCJjcmVhdGVFeFJlY3QiLCJ0eXBlIiwiY3JlYXRlRXhMaW5lIiwiY3JlYXRlRXhFbGxpcHNlIiwiY3JlYXRlRXhEcmF3IiwidmVjMyIsIm1hdDQiLCJ0cmFuc2Zvcm1GdW5jdGlvbnMiLCJtYXRyaXgiLCJtYXRyaXgzZCIsInBlcnNwZWN0aXZlIiwicm90YXRlIiwicm90YXRlM2QiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJzY2FsZSIsInNjYWxlM2QiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJza2V3Iiwic2tld1giLCJza2V3WSIsInRyYW5zbGF0ZSIsInRyYW5zbGF0ZTNkIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwidHJhbnNmb3JtRnVuY3Rpb25zQXJyIiwiZGVmYXVsdFVuaXRzIiwic3ZnVHJhbnNmb3JtVG9DU1NUcmFuc2Zvcm0iLCJzdmdUcmFuc2Zvcm1TdHIiLCJ0RnVuY3MiLCJtYXRjaCIsInRGdW5jVmFsdWVzIiwidEZ1bmNTdHIiLCJFcnJvciIsInRGdW5jUGFydHMiLCJ2YWx1ZXMiLCJhIiwibWF0Y2hBbGwiLCJ2YWx1ZSIsInVuaXQiLCJsZW5ndGgiLCJjc3N0cmFuc2Zvcm1TdHIiLCJ2YWxTdHIiLCJqb2luIiwiY3JlYXRlRE9NTWF0cml4RnJvbVNWR1N0ciIsImNzc1RyYW5zZm9ybVN0ciIsIkRPTU1hdHJpeCIsImdldEVsZW1lbnRNYXRyaXgiLCJlbE1hdCIsIm11bHRpcGx5IiwiY3JlYXRlIiwidG9GbG9hdDMyQXJyYXkiLCJnZXRUcmFuc2Zvcm1NYXRyaXgiLCJhY2N1bU1hdCIsImNvbmNhdCIsIm1hdCIsInRyYW5zZm9ybVBvaW50cyIsInRyYW5zZm9ybSIsInRyYW5zZm9ybU1hdDQiLCJmcm9tVmFsdWVzIiwibmV3WCIsIm5ld1kiLCJwb2ludHNPblBhdGgiLCJTVVBQT1JURURfVEFHUyIsIm5vZGVWYWxpZGF0b3IiLCJub2RlIiwidGFnTmFtZSIsIk5vZGVGaWx0ZXIiLCJGSUxURVJfQUNDRVBUIiwiRklMVEVSX1JFSkVDVCIsImNyZWF0ZVRyZWVXYWxrZXIiLCJkb20iLCJkb2N1bWVudCIsIlNIT1dfQUxMIiwiYWNjZXB0Tm9kZSIsInNraXBwZWRVc2VBdHRycyIsImFsbHdheXNQYXNzZWRVc2VBdHRycyIsImdldERlZkVsV2l0aENvcnJlY3RBdHRycyIsImRlZkVsIiwidXNlRWwiLCJmaW5hbEVsIiwic2V0QXR0cmlidXRlIiwiY2xvbmVOb2RlIiwid2Fsa2VycyIsInN2ZyIsImFyZ3MiLCJ3YWxrIiwidHciLCJuZXh0Tm9kZSIsImciLCJuZXh0QXJncyIsImN1cnJlbnROb2RlIiwibmV4dFNpYmxpbmciLCJ1c2UiLCJyb290Iiwic2NlbmUiLCJxdWVyeVNlbGVjdG9yIiwidGVtcFNjZW5lIiwiZXhFbCIsInBvcCIsInB1c2giLCJjaXJjbGUiLCJyIiwiZCIsIm0iLCJyZXN1bHQiLCJlbGxpcHNlIiwicngiLCJyeSIsImN4IiwiY3kiLCJ3IiwiaCIsImxpbmUiLCJwb2x5Z29uIiwidHJhbnNmb3JtZWRQb2ludHMiLCJyZWxhdGl2ZVBvaW50cyIsIl94IiwiX3kiLCJwb2x5bGluZSIsImhhc0ZpbGwiLCJzaG91bGRGaWxsIiwicmVjdCIsImlzUm91bmQiLCJwYXRoIiwiZmlsbENvbG9yIiwiZmlsbFJ1bGUiLCJsb2NhbEdyb3VwIiwiaW5pdGlhbFdpbmRpbmdPcmRlciIsInBvaW50QXJyIiwidFBvaW50cyIsImNsb25lIiwid2luZGluZ09yZGVyIiwibm9kZU5hbWUiLCJjb252ZXJ0Iiwic3ZnU3RyaW5nIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwic3ZnRE9NIiwicGFyc2VGcm9tU3RyaW5nIiwiZXJyb3JzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFzRXJyb3JzIiwiY29udGVudCIsImNvbnNvbGUiLCJlcnJvciIsImlubmVySFRNTCIsInRvRXhKU09OIiwiZXJyb3JzIl0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///773
`)},792:function(module){eval(`/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */

(function (global, factory) {
     true ? module.exports = factory() :
    0;
}(this, (function () { 'use strict';

    var limit = function (x, min, max) {
        if ( min === void 0 ) min=0;
        if ( max === void 0 ) max=1;

        return x < min ? min : x > max ? max : x;
    };

    var clip_rgb = function (rgb) {
        rgb._clipped = false;
        rgb._unclipped = rgb.slice(0);
        for (var i=0; i<=3; i++) {
            if (i < 3) {
                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }
                rgb[i] = limit(rgb[i], 0, 255);
            } else if (i === 3) {
                rgb[i] = limit(rgb[i], 0, 1);
            }
        }
        return rgb;
    };

    // ported from jQuery's $.type
    var classToType = {};
    for (var i = 0, list = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i < list.length; i += 1) {
        var name = list[i];

        classToType[("[object " + name + "]")] = name.toLowerCase();
    }
    var type = function(obj) {
        return classToType[Object.prototype.toString.call(obj)] || "object";
    };

    var unpack = function (args, keyOrder) {
        if ( keyOrder === void 0 ) keyOrder=null;

    	// if called with more than 3 arguments, we return the arguments
        if (args.length >= 3) { return Array.prototype.slice.call(args); }
        // with less than 3 args we check if first arg is object
        // and use the keyOrder string to extract and sort properties
    	if (type(args[0]) == 'object' && keyOrder) {
    		return keyOrder.split('')
    			.filter(function (k) { return args[0][k] !== undefined; })
    			.map(function (k) { return args[0][k]; });
    	}
    	// otherwise we just return the first argument
    	// (which we suppose is an array of args)
        return args[0];
    };

    var last = function (args) {
        if (args.length < 2) { return null; }
        var l = args.length-1;
        if (type(args[l]) == 'string') { return args[l].toLowerCase(); }
        return null;
    };

    var PI = Math.PI;

    var utils = {
    	clip_rgb: clip_rgb,
    	limit: limit,
    	type: type,
    	unpack: unpack,
    	last: last,
    	PI: PI,
    	TWOPI: PI*2,
    	PITHIRD: PI/3,
    	DEG2RAD: PI / 180,
    	RAD2DEG: 180 / PI
    };

    var input = {
    	format: {},
    	autodetect: []
    };

    var last$1 = utils.last;
    var clip_rgb$1 = utils.clip_rgb;
    var type$1 = utils.type;


    var Color = function Color() {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var me = this;
        if (type$1(args[0]) === 'object' &&
            args[0].constructor &&
            args[0].constructor === this.constructor) {
            // the argument is already a Color instance
            return args[0];
        }

        // last argument could be the mode
        var mode = last$1(args);
        var autodetect = false;

        if (!mode) {
            autodetect = true;
            if (!input.sorted) {
                input.autodetect = input.autodetect.sort(function (a,b) { return b.p - a.p; });
                input.sorted = true;
            }
            // auto-detect format
            for (var i = 0, list = input.autodetect; i < list.length; i += 1) {
                var chk = list[i];

                mode = chk.test.apply(chk, args);
                if (mode) { break; }
            }
        }

        if (input.format[mode]) {
            var rgb = input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));
            me._rgb = clip_rgb$1(rgb);
        } else {
            throw new Error('unknown format: '+args);
        }

        // add alpha channel
        if (me._rgb.length === 3) { me._rgb.push(1); }
    };

    Color.prototype.toString = function toString () {
        if (type$1(this.hex) == 'function') { return this.hex(); }
        return ("[" + (this._rgb.join(',')) + "]");
    };

    var Color_1 = Color;

    var chroma = function () {
    	var args = [], len = arguments.length;
    	while ( len-- ) args[ len ] = arguments[ len ];

    	return new (Function.prototype.bind.apply( chroma.Color, [ null ].concat( args) ));
    };

    chroma.Color = Color_1;
    chroma.version = '2.1.2';

    var chroma_1 = chroma;

    var unpack$1 = utils.unpack;
    var max = Math.max;

    var rgb2cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$1(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r = r / 255;
        g = g / 255;
        b = b / 255;
        var k = 1 - max(r,max(g,b));
        var f = k < 1 ? 1 / (1-k) : 0;
        var c = (1-r-k) * f;
        var m = (1-g-k) * f;
        var y = (1-b-k) * f;
        return [c,m,y,k];
    };

    var rgb2cmyk_1 = rgb2cmyk;

    var unpack$2 = utils.unpack;

    var cmyk2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$2(args, 'cmyk');
        var c = args[0];
        var m = args[1];
        var y = args[2];
        var k = args[3];
        var alpha = args.length > 4 ? args[4] : 1;
        if (k === 1) { return [0,0,0,alpha]; }
        return [
            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r
            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g
            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b
            alpha
        ];
    };

    var cmyk2rgb_1 = cmyk2rgb;

    var unpack$3 = utils.unpack;
    var type$2 = utils.type;



    Color_1.prototype.cmyk = function() {
        return rgb2cmyk_1(this._rgb);
    };

    chroma_1.cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['cmyk']) ));
    };

    input.format.cmyk = cmyk2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$3(args, 'cmyk');
            if (type$2(args) === 'array' && args.length === 4) {
                return 'cmyk';
            }
        }
    });

    var unpack$4 = utils.unpack;
    var last$2 = utils.last;
    var rnd = function (a) { return Math.round(a*100)/100; };

    /*
     * supported arguments:
     * - hsl2css(h,s,l)
     * - hsl2css(h,s,l,a)
     * - hsl2css([h,s,l], mode)
     * - hsl2css([h,s,l,a], mode)
     * - hsl2css({h,s,l,a}, mode)
     */
    var hsl2css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hsla = unpack$4(args, 'hsla');
        var mode = last$2(args) || 'lsa';
        hsla[0] = rnd(hsla[0] || 0);
        hsla[1] = rnd(hsla[1]*100) + '%';
        hsla[2] = rnd(hsla[2]*100) + '%';
        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {
            hsla[3] = hsla.length > 3 ? hsla[3] : 1;
            mode = 'hsla';
        } else {
            hsla.length = 3;
        }
        return (mode + "(" + (hsla.join(',')) + ")");
    };

    var hsl2css_1 = hsl2css;

    var unpack$5 = utils.unpack;

    /*
     * supported arguments:
     * - rgb2hsl(r,g,b)
     * - rgb2hsl(r,g,b,a)
     * - rgb2hsl([r,g,b])
     * - rgb2hsl([r,g,b,a])
     * - rgb2hsl({r,g,b,a})
     */
    var rgb2hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$5(args, 'rgba');
        var r = args[0];
        var g = args[1];
        var b = args[2];

        r /= 255;
        g /= 255;
        b /= 255;

        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);

        var l = (max + min) / 2;
        var s, h;

        if (max === min){
            s = 0;
            h = Number.NaN;
        } else {
            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
        }

        if (r == max) { h = (g - b) / (max - min); }
        else if (g == max) { h = 2 + (b - r) / (max - min); }
        else if (b == max) { h = 4 + (r - g) / (max - min); }

        h *= 60;
        if (h < 0) { h += 360; }
        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }
        return [h,s,l];
    };

    var rgb2hsl_1 = rgb2hsl;

    var unpack$6 = utils.unpack;
    var last$3 = utils.last;


    var round = Math.round;

    /*
     * supported arguments:
     * - rgb2css(r,g,b)
     * - rgb2css(r,g,b,a)
     * - rgb2css([r,g,b], mode)
     * - rgb2css([r,g,b,a], mode)
     * - rgb2css({r,g,b,a}, mode)
     */
    var rgb2css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$6(args, 'rgba');
        var mode = last$3(args) || 'rgb';
        if (mode.substr(0,3) == 'hsl') {
            return hsl2css_1(rgb2hsl_1(rgba), mode);
        }
        rgba[0] = round(rgba[0]);
        rgba[1] = round(rgba[1]);
        rgba[2] = round(rgba[2]);
        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {
            rgba[3] = rgba.length > 3 ? rgba[3] : 1;
            mode = 'rgba';
        }
        return (mode + "(" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + ")");
    };

    var rgb2css_1 = rgb2css;

    var unpack$7 = utils.unpack;
    var round$1 = Math.round;

    var hsl2rgb = function () {
        var assign;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$7(args, 'hsl');
        var h = args[0];
        var s = args[1];
        var l = args[2];
        var r,g,b;
        if (s === 0) {
            r = g = b = l*255;
        } else {
            var t3 = [0,0,0];
            var c = [0,0,0];
            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;
            var t1 = 2 * l - t2;
            var h_ = h / 360;
            t3[0] = h_ + 1/3;
            t3[1] = h_;
            t3[2] = h_ - 1/3;
            for (var i=0; i<3; i++) {
                if (t3[i] < 0) { t3[i] += 1; }
                if (t3[i] > 1) { t3[i] -= 1; }
                if (6 * t3[i] < 1)
                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }
                else if (2 * t3[i] < 1)
                    { c[i] = t2; }
                else if (3 * t3[i] < 2)
                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }
                else
                    { c[i] = t1; }
            }
            (assign = [round$1(c[0]*255),round$1(c[1]*255),round$1(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);
        }
        if (args.length > 3) {
            // keep alpha channel
            return [r,g,b,args[3]];
        }
        return [r,g,b,1];
    };

    var hsl2rgb_1 = hsl2rgb;

    var RE_RGB = /^rgb\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*\\)$/;
    var RE_RGBA = /^rgba\\(\\s*(-?\\d+),\\s*(-?\\d+)\\s*,\\s*(-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;
    var RE_RGB_PCT = /^rgb\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;
    var RE_RGBA_PCT = /^rgba\\(\\s*(-?\\d+(?:\\.\\d+)?)%,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;
    var RE_HSL = /^hsl\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*\\)$/;
    var RE_HSLA = /^hsla\\(\\s*(-?\\d+(?:\\.\\d+)?),\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)$/;

    var round$2 = Math.round;

    var css2rgb = function (css) {
        css = css.toLowerCase().trim();
        var m;

        if (input.format.named) {
            try {
                return input.format.named(css);
            } catch (e) {
                // eslint-disable-next-line
            }
        }

        // rgb(250,20,0)
        if ((m = css.match(RE_RGB))) {
            var rgb = m.slice(1,4);
            for (var i=0; i<3; i++) {
                rgb[i] = +rgb[i];
            }
            rgb[3] = 1;  // default alpha
            return rgb;
        }

        // rgba(250,20,0,0.4)
        if ((m = css.match(RE_RGBA))) {
            var rgb$1 = m.slice(1,5);
            for (var i$1=0; i$1<4; i$1++) {
                rgb$1[i$1] = +rgb$1[i$1];
            }
            return rgb$1;
        }

        // rgb(100%,0%,0%)
        if ((m = css.match(RE_RGB_PCT))) {
            var rgb$2 = m.slice(1,4);
            for (var i$2=0; i$2<3; i$2++) {
                rgb$2[i$2] = round$2(rgb$2[i$2] * 2.55);
            }
            rgb$2[3] = 1;  // default alpha
            return rgb$2;
        }

        // rgba(100%,0%,0%,0.4)
        if ((m = css.match(RE_RGBA_PCT))) {
            var rgb$3 = m.slice(1,5);
            for (var i$3=0; i$3<3; i$3++) {
                rgb$3[i$3] = round$2(rgb$3[i$3] * 2.55);
            }
            rgb$3[3] = +rgb$3[3];
            return rgb$3;
        }

        // hsl(0,100%,50%)
        if ((m = css.match(RE_HSL))) {
            var hsl = m.slice(1,4);
            hsl[1] *= 0.01;
            hsl[2] *= 0.01;
            var rgb$4 = hsl2rgb_1(hsl);
            rgb$4[3] = 1;
            return rgb$4;
        }

        // hsla(0,100%,50%,0.5)
        if ((m = css.match(RE_HSLA))) {
            var hsl$1 = m.slice(1,4);
            hsl$1[1] *= 0.01;
            hsl$1[2] *= 0.01;
            var rgb$5 = hsl2rgb_1(hsl$1);
            rgb$5[3] = +m[4];  // default alpha = 1
            return rgb$5;
        }
    };

    css2rgb.test = function (s) {
        return RE_RGB.test(s) ||
            RE_RGBA.test(s) ||
            RE_RGB_PCT.test(s) ||
            RE_RGBA_PCT.test(s) ||
            RE_HSL.test(s) ||
            RE_HSLA.test(s);
    };

    var css2rgb_1 = css2rgb;

    var type$3 = utils.type;




    Color_1.prototype.css = function(mode) {
        return rgb2css_1(this._rgb, mode);
    };

    chroma_1.css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['css']) ));
    };

    input.format.css = css2rgb_1;

    input.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$3(h) === 'string' && css2rgb_1.test(h)) {
                return 'css';
            }
        }
    });

    var unpack$8 = utils.unpack;

    input.format.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$8(args, 'rgba');
        rgb[0] *= 255;
        rgb[1] *= 255;
        rgb[2] *= 255;
        return rgb;
    };

    chroma_1.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['gl']) ));
    };

    Color_1.prototype.gl = function() {
        var rgb = this._rgb;
        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];
    };

    var unpack$9 = utils.unpack;

    var rgb2hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$9(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var c = delta * 100 / 255;
        var _g = min / (255 - delta) * 100;
        var h;
        if (delta === 0) {
            h = Number.NaN;
        } else {
            if (r === max) { h = (g - b) / delta; }
            if (g === max) { h = 2+(b - r) / delta; }
            if (b === max) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, c, _g];
    };

    var rgb2hcg_1 = rgb2hcg;

    var unpack$a = utils.unpack;
    var floor = Math.floor;

    /*
     * this is basically just HSV with some minor tweaks
     *
     * hue.. [0..360]
     * chroma .. [0..1]
     * grayness .. [0..1]
     */

    var hcg2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$a(args, 'hcg');
        var h = args[0];
        var c = args[1];
        var _g = args[2];
        var r,g,b;
        _g = _g * 255;
        var _c = c * 255;
        if (c === 0) {
            r = g = b = _g;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;
            var i = floor(h);
            var f = h - i;
            var p = _g * (1 - c);
            var q = p + _c * (1 - f);
            var t = p + _c * f;
            var v = p + _c;
            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var hcg2rgb_1 = hcg2rgb;

    var unpack$b = utils.unpack;
    var type$4 = utils.type;






    Color_1.prototype.hcg = function() {
        return rgb2hcg_1(this._rgb);
    };

    chroma_1.hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcg']) ));
    };

    input.format.hcg = hcg2rgb_1;

    input.autodetect.push({
        p: 1,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$b(args, 'hcg');
            if (type$4(args) === 'array' && args.length === 3) {
                return 'hcg';
            }
        }
    });

    var unpack$c = utils.unpack;
    var last$4 = utils.last;
    var round$3 = Math.round;

    var rgb2hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$c(args, 'rgba');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var a = ref[3];
        var mode = last$4(args) || 'auto';
        if (a === undefined) { a = 1; }
        if (mode === 'auto') {
            mode = a < 1 ? 'rgba' : 'rgb';
        }
        r = round$3(r);
        g = round$3(g);
        b = round$3(b);
        var u = r << 16 | g << 8 | b;
        var str = "000000" + u.toString(16); //#.toUpperCase();
        str = str.substr(str.length - 6);
        var hxa = '0' + round$3(a * 255).toString(16);
        hxa = hxa.substr(hxa.length - 2);
        switch (mode.toLowerCase()) {
            case 'rgba': return ("#" + str + hxa);
            case 'argb': return ("#" + hxa + str);
            default: return ("#" + str);
        }
    };

    var rgb2hex_1 = rgb2hex;

    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;
    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;

    var hex2rgb = function (hex) {
        if (hex.match(RE_HEX)) {
            // remove optional leading #
            if (hex.length === 4 || hex.length === 7) {
                hex = hex.substr(1);
            }
            // expand short-notation to full six-digit
            if (hex.length === 3) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
            }
            var u = parseInt(hex, 16);
            var r = u >> 16;
            var g = u >> 8 & 0xFF;
            var b = u & 0xFF;
            return [r,g,b,1];
        }

        // match rgba hex format, eg #FF000077
        if (hex.match(RE_HEXA)) {
            if (hex.length === 5 || hex.length === 9) {
                // remove optional leading #
                hex = hex.substr(1);
            }
            // expand short-notation to full eight-digit
            if (hex.length === 4) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];
            }
            var u$1 = parseInt(hex, 16);
            var r$1 = u$1 >> 24 & 0xFF;
            var g$1 = u$1 >> 16 & 0xFF;
            var b$1 = u$1 >> 8 & 0xFF;
            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;
            return [r$1,g$1,b$1,a];
        }

        // we used to check for css colors here
        // if _input.css? and rgb = _input.css hex
        //     return rgb

        throw new Error(("unknown hex color: " + hex));
    };

    var hex2rgb_1 = hex2rgb;

    var type$5 = utils.type;




    Color_1.prototype.hex = function(mode) {
        return rgb2hex_1(this._rgb, mode);
    };

    chroma_1.hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hex']) ));
    };

    input.format.hex = hex2rgb_1;
    input.autodetect.push({
        p: 4,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$5(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {
                return 'hex';
            }
        }
    });

    var unpack$d = utils.unpack;
    var TWOPI = utils.TWOPI;
    var min = Math.min;
    var sqrt = Math.sqrt;
    var acos = Math.acos;

    var rgb2hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp
        */
        var ref = unpack$d(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r /= 255;
        g /= 255;
        b /= 255;
        var h;
        var min_ = min(r,g,b);
        var i = (r+g+b) / 3;
        var s = i > 0 ? 1 - min_/i : 0;
        if (s === 0) {
            h = NaN;
        } else {
            h = ((r-g)+(r-b)) / 2;
            h /= sqrt((r-g)*(r-g) + (r-b)*(g-b));
            h = acos(h);
            if (b > g) {
                h = TWOPI - h;
            }
            h /= TWOPI;
        }
        return [h*360,s,i];
    };

    var rgb2hsi_1 = rgb2hsi;

    var unpack$e = utils.unpack;
    var limit$1 = utils.limit;
    var TWOPI$1 = utils.TWOPI;
    var PITHIRD = utils.PITHIRD;
    var cos = Math.cos;

    /*
     * hue [0..360]
     * saturation [0..1]
     * intensity [0..1]
     */
    var hsi2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp
        */
        args = unpack$e(args, 'hsi');
        var h = args[0];
        var s = args[1];
        var i = args[2];
        var r,g,b;

        if (isNaN(h)) { h = 0; }
        if (isNaN(s)) { s = 0; }
        // normalize hue
        if (h > 360) { h -= 360; }
        if (h < 0) { h += 360; }
        h /= 360;
        if (h < 1/3) {
            b = (1-s)/3;
            r = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            g = 1 - (b+r);
        } else if (h < 2/3) {
            h -= 1/3;
            r = (1-s)/3;
            g = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            b = 1 - (r+g);
        } else {
            h -= 2/3;
            g = (1-s)/3;
            b = (1+s*cos(TWOPI$1*h)/cos(PITHIRD-TWOPI$1*h))/3;
            r = 1 - (g+b);
        }
        r = limit$1(i*r*3);
        g = limit$1(i*g*3);
        b = limit$1(i*b*3);
        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];
    };

    var hsi2rgb_1 = hsi2rgb;

    var unpack$f = utils.unpack;
    var type$6 = utils.type;






    Color_1.prototype.hsi = function() {
        return rgb2hsi_1(this._rgb);
    };

    chroma_1.hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsi']) ));
    };

    input.format.hsi = hsi2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$f(args, 'hsi');
            if (type$6(args) === 'array' && args.length === 3) {
                return 'hsi';
            }
        }
    });

    var unpack$g = utils.unpack;
    var type$7 = utils.type;






    Color_1.prototype.hsl = function() {
        return rgb2hsl_1(this._rgb);
    };

    chroma_1.hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsl']) ));
    };

    input.format.hsl = hsl2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$g(args, 'hsl');
            if (type$7(args) === 'array' && args.length === 3) {
                return 'hsl';
            }
        }
    });

    var unpack$h = utils.unpack;
    var min$1 = Math.min;
    var max$1 = Math.max;

    /*
     * supported arguments:
     * - rgb2hsv(r,g,b)
     * - rgb2hsv([r,g,b])
     * - rgb2hsv({r,g,b})
     */
    var rgb2hsl$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$h(args, 'rgb');
        var r = args[0];
        var g = args[1];
        var b = args[2];
        var min_ = min$1(r, g, b);
        var max_ = max$1(r, g, b);
        var delta = max_ - min_;
        var h,s,v;
        v = max_ / 255.0;
        if (max_ === 0) {
            h = Number.NaN;
            s = 0;
        } else {
            s = delta / max_;
            if (r === max_) { h = (g - b) / delta; }
            if (g === max_) { h = 2+(b - r) / delta; }
            if (b === max_) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, s, v]
    };

    var rgb2hsv = rgb2hsl$1;

    var unpack$i = utils.unpack;
    var floor$1 = Math.floor;

    var hsv2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$i(args, 'hsv');
        var h = args[0];
        var s = args[1];
        var v = args[2];
        var r,g,b;
        v *= 255;
        if (s === 0) {
            r = g = b = v;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;

            var i = floor$1(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r,g,b,args.length > 3?args[3]:1];
    };

    var hsv2rgb_1 = hsv2rgb;

    var unpack$j = utils.unpack;
    var type$8 = utils.type;






    Color_1.prototype.hsv = function() {
        return rgb2hsv(this._rgb);
    };

    chroma_1.hsv = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hsv']) ));
    };

    input.format.hsv = hsv2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$j(args, 'hsv');
            if (type$8(args) === 'array' && args.length === 3) {
                return 'hsv';
            }
        }
    });

    var labConstants = {
        // Corresponds roughly to RGB brighter/darker
        Kn: 18,

        // D65 standard referent
        Xn: 0.950470,
        Yn: 1,
        Zn: 1.088830,

        t0: 0.137931034,  // 4 / 29
        t1: 0.206896552,  // 6 / 29
        t2: 0.12841855,   // 3 * t1 * t1
        t3: 0.008856452,  // t1 * t1 * t1
    };

    var unpack$k = utils.unpack;
    var pow = Math.pow;

    var rgb2lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$k(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2xyz(r,g,b);
        var x = ref$1[0];
        var y = ref$1[1];
        var z = ref$1[2];
        var l = 116 * y - 16;
        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];
    };

    var rgb_xyz = function (r) {
        if ((r /= 255) <= 0.04045) { return r / 12.92; }
        return pow((r + 0.055) / 1.055, 2.4);
    };

    var xyz_lab = function (t) {
        if (t > labConstants.t3) { return pow(t, 1 / 3); }
        return t / labConstants.t2 + labConstants.t0;
    };

    var rgb2xyz = function (r,g,b) {
        r = rgb_xyz(r);
        g = rgb_xyz(g);
        b = rgb_xyz(b);
        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / labConstants.Xn);
        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / labConstants.Yn);
        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / labConstants.Zn);
        return [x,y,z];
    };

    var rgb2lab_1 = rgb2lab;

    var unpack$l = utils.unpack;
    var pow$1 = Math.pow;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var lab2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$l(args, 'lab');
        var l = args[0];
        var a = args[1];
        var b = args[2];
        var x,y,z, r,g,b_;

        y = (l + 16) / 116;
        x = isNaN(a) ? y : y + a / 500;
        z = isNaN(b) ? y : y - b / 200;

        y = labConstants.Yn * lab_xyz(y);
        x = labConstants.Xn * lab_xyz(x);
        z = labConstants.Zn * lab_xyz(z);

        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB
        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);
        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);

        return [r,g,b_,args.length > 3 ? args[3] : 1];
    };

    var xyz_rgb = function (r) {
        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$1(r, 1 / 2.4) - 0.055)
    };

    var lab_xyz = function (t) {
        return t > labConstants.t1 ? t * t * t : labConstants.t2 * (t - labConstants.t0)
    };

    var lab2rgb_1 = lab2rgb;

    var unpack$m = utils.unpack;
    var type$9 = utils.type;






    Color_1.prototype.lab = function() {
        return rgb2lab_1(this._rgb);
    };

    chroma_1.lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lab']) ));
    };

    input.format.lab = lab2rgb_1;

    input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$m(args, 'lab');
            if (type$9(args) === 'array' && args.length === 3) {
                return 'lab';
            }
        }
    });

    var unpack$n = utils.unpack;
    var RAD2DEG = utils.RAD2DEG;
    var sqrt$1 = Math.sqrt;
    var atan2 = Math.atan2;
    var round$4 = Math.round;

    var lab2lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$n(args, 'lab');
        var l = ref[0];
        var a = ref[1];
        var b = ref[2];
        var c = sqrt$1(a * a + b * b);
        var h = (atan2(b, a) * RAD2DEG + 360) % 360;
        if (round$4(c*10000) === 0) { h = Number.NaN; }
        return [l, c, h];
    };

    var lab2lch_1 = lab2lch;

    var unpack$o = utils.unpack;



    var rgb2lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$o(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2lab_1(r,g,b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch_1(l,a,b_);
    };

    var rgb2lch_1 = rgb2lch;

    var unpack$p = utils.unpack;
    var DEG2RAD = utils.DEG2RAD;
    var sin = Math.sin;
    var cos$1 = Math.cos;

    var lch2lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.
        These formulas were invented by David Dalrymple to obtain maximum contrast without going
        out of gamut if the parameters are in the range 0-1.

        A saturation multiplier was added by Gregor Aisch
        */
        var ref = unpack$p(args, 'lch');
        var l = ref[0];
        var c = ref[1];
        var h = ref[2];
        if (isNaN(h)) { h = 0; }
        h = h * DEG2RAD;
        return [l, cos$1(h) * c, sin(h) * c]
    };

    var lch2lab_1 = lch2lab;

    var unpack$q = utils.unpack;



    var lch2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$q(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab_1 (l,c,h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = lab2rgb_1 (L,a,b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var lch2rgb_1 = lch2rgb;

    var unpack$r = utils.unpack;


    var hcl2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hcl = unpack$r(args, 'hcl').reverse();
        return lch2rgb_1.apply(void 0, hcl);
    };

    var hcl2rgb_1 = hcl2rgb;

    var unpack$s = utils.unpack;
    var type$a = utils.type;






    Color_1.prototype.lch = function() { return rgb2lch_1(this._rgb); };
    Color_1.prototype.hcl = function() { return rgb2lch_1(this._rgb).reverse(); };

    chroma_1.lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['lch']) ));
    };
    chroma_1.hcl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['hcl']) ));
    };

    input.format.lch = lch2rgb_1;
    input.format.hcl = hcl2rgb_1;

    ['lch','hcl'].forEach(function (m) { return input.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$s(args, m);
            if (type$a(args) === 'array' && args.length === 3) {
                return m;
            }
        }
    }); });

    /**
    	X11 color names

    	http://www.w3.org/TR/css3-color/#svg-color
    */

    var w3cx11 = {
        aliceblue: '#f0f8ff',
        antiquewhite: '#faebd7',
        aqua: '#00ffff',
        aquamarine: '#7fffd4',
        azure: '#f0ffff',
        beige: '#f5f5dc',
        bisque: '#ffe4c4',
        black: '#000000',
        blanchedalmond: '#ffebcd',
        blue: '#0000ff',
        blueviolet: '#8a2be2',
        brown: '#a52a2a',
        burlywood: '#deb887',
        cadetblue: '#5f9ea0',
        chartreuse: '#7fff00',
        chocolate: '#d2691e',
        coral: '#ff7f50',
        cornflower: '#6495ed',
        cornflowerblue: '#6495ed',
        cornsilk: '#fff8dc',
        crimson: '#dc143c',
        cyan: '#00ffff',
        darkblue: '#00008b',
        darkcyan: '#008b8b',
        darkgoldenrod: '#b8860b',
        darkgray: '#a9a9a9',
        darkgreen: '#006400',
        darkgrey: '#a9a9a9',
        darkkhaki: '#bdb76b',
        darkmagenta: '#8b008b',
        darkolivegreen: '#556b2f',
        darkorange: '#ff8c00',
        darkorchid: '#9932cc',
        darkred: '#8b0000',
        darksalmon: '#e9967a',
        darkseagreen: '#8fbc8f',
        darkslateblue: '#483d8b',
        darkslategray: '#2f4f4f',
        darkslategrey: '#2f4f4f',
        darkturquoise: '#00ced1',
        darkviolet: '#9400d3',
        deeppink: '#ff1493',
        deepskyblue: '#00bfff',
        dimgray: '#696969',
        dimgrey: '#696969',
        dodgerblue: '#1e90ff',
        firebrick: '#b22222',
        floralwhite: '#fffaf0',
        forestgreen: '#228b22',
        fuchsia: '#ff00ff',
        gainsboro: '#dcdcdc',
        ghostwhite: '#f8f8ff',
        gold: '#ffd700',
        goldenrod: '#daa520',
        gray: '#808080',
        green: '#008000',
        greenyellow: '#adff2f',
        grey: '#808080',
        honeydew: '#f0fff0',
        hotpink: '#ff69b4',
        indianred: '#cd5c5c',
        indigo: '#4b0082',
        ivory: '#fffff0',
        khaki: '#f0e68c',
        laserlemon: '#ffff54',
        lavender: '#e6e6fa',
        lavenderblush: '#fff0f5',
        lawngreen: '#7cfc00',
        lemonchiffon: '#fffacd',
        lightblue: '#add8e6',
        lightcoral: '#f08080',
        lightcyan: '#e0ffff',
        lightgoldenrod: '#fafad2',
        lightgoldenrodyellow: '#fafad2',
        lightgray: '#d3d3d3',
        lightgreen: '#90ee90',
        lightgrey: '#d3d3d3',
        lightpink: '#ffb6c1',
        lightsalmon: '#ffa07a',
        lightseagreen: '#20b2aa',
        lightskyblue: '#87cefa',
        lightslategray: '#778899',
        lightslategrey: '#778899',
        lightsteelblue: '#b0c4de',
        lightyellow: '#ffffe0',
        lime: '#00ff00',
        limegreen: '#32cd32',
        linen: '#faf0e6',
        magenta: '#ff00ff',
        maroon: '#800000',
        maroon2: '#7f0000',
        maroon3: '#b03060',
        mediumaquamarine: '#66cdaa',
        mediumblue: '#0000cd',
        mediumorchid: '#ba55d3',
        mediumpurple: '#9370db',
        mediumseagreen: '#3cb371',
        mediumslateblue: '#7b68ee',
        mediumspringgreen: '#00fa9a',
        mediumturquoise: '#48d1cc',
        mediumvioletred: '#c71585',
        midnightblue: '#191970',
        mintcream: '#f5fffa',
        mistyrose: '#ffe4e1',
        moccasin: '#ffe4b5',
        navajowhite: '#ffdead',
        navy: '#000080',
        oldlace: '#fdf5e6',
        olive: '#808000',
        olivedrab: '#6b8e23',
        orange: '#ffa500',
        orangered: '#ff4500',
        orchid: '#da70d6',
        palegoldenrod: '#eee8aa',
        palegreen: '#98fb98',
        paleturquoise: '#afeeee',
        palevioletred: '#db7093',
        papayawhip: '#ffefd5',
        peachpuff: '#ffdab9',
        peru: '#cd853f',
        pink: '#ffc0cb',
        plum: '#dda0dd',
        powderblue: '#b0e0e6',
        purple: '#800080',
        purple2: '#7f007f',
        purple3: '#a020f0',
        rebeccapurple: '#663399',
        red: '#ff0000',
        rosybrown: '#bc8f8f',
        royalblue: '#4169e1',
        saddlebrown: '#8b4513',
        salmon: '#fa8072',
        sandybrown: '#f4a460',
        seagreen: '#2e8b57',
        seashell: '#fff5ee',
        sienna: '#a0522d',
        silver: '#c0c0c0',
        skyblue: '#87ceeb',
        slateblue: '#6a5acd',
        slategray: '#708090',
        slategrey: '#708090',
        snow: '#fffafa',
        springgreen: '#00ff7f',
        steelblue: '#4682b4',
        tan: '#d2b48c',
        teal: '#008080',
        thistle: '#d8bfd8',
        tomato: '#ff6347',
        turquoise: '#40e0d0',
        violet: '#ee82ee',
        wheat: '#f5deb3',
        white: '#ffffff',
        whitesmoke: '#f5f5f5',
        yellow: '#ffff00',
        yellowgreen: '#9acd32'
    };

    var w3cx11_1 = w3cx11;

    var type$b = utils.type;





    Color_1.prototype.name = function() {
        var hex = rgb2hex_1(this._rgb, 'rgb');
        for (var i = 0, list = Object.keys(w3cx11_1); i < list.length; i += 1) {
            var n = list[i];

            if (w3cx11_1[n] === hex) { return n.toLowerCase(); }
        }
        return hex;
    };

    input.format.named = function (name) {
        name = name.toLowerCase();
        if (w3cx11_1[name]) { return hex2rgb_1(w3cx11_1[name]); }
        throw new Error('unknown color name: '+name);
    };

    input.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$b(h) === 'string' && w3cx11_1[h.toLowerCase()]) {
                return 'named';
            }
        }
    });

    var unpack$t = utils.unpack;

    var rgb2num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$t(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        return (r << 16) + (g << 8) + b;
    };

    var rgb2num_1 = rgb2num;

    var type$c = utils.type;

    var num2rgb = function (num) {
        if (type$c(num) == "number" && num >= 0 && num <= 0xFFFFFF) {
            var r = num >> 16;
            var g = (num >> 8) & 0xFF;
            var b = num & 0xFF;
            return [r,g,b,1];
        }
        throw new Error("unknown num color: "+num);
    };

    var num2rgb_1 = num2rgb;

    var type$d = utils.type;



    Color_1.prototype.num = function() {
        return rgb2num_1(this._rgb);
    };

    chroma_1.num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['num']) ));
    };

    input.format.num = num2rgb_1;

    input.autodetect.push({
        p: 5,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            if (args.length === 1 && type$d(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {
                return 'num';
            }
        }
    });

    var unpack$u = utils.unpack;
    var type$e = utils.type;
    var round$5 = Math.round;

    Color_1.prototype.rgb = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        if (rnd === false) { return this._rgb.slice(0,3); }
        return this._rgb.slice(0,3).map(round$5);
    };

    Color_1.prototype.rgba = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        return this._rgb.slice(0,4).map(function (v,i) {
            return i<3 ? (rnd === false ? v : round$5(v)) : v;
        });
    };

    chroma_1.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['rgb']) ));
    };

    input.format.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$u(args, 'rgba');
        if (rgba[3] === undefined) { rgba[3] = 1; }
        return rgba;
    };

    input.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$u(args, 'rgba');
            if (type$e(args) === 'array' && (args.length === 3 ||
                args.length === 4 && type$e(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {
                return 'rgb';
            }
        }
    });

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     */

    var log = Math.log;

    var temperature2rgb = function (kelvin) {
        var temp = kelvin / 100;
        var r,g,b;
        if (temp < 66) {
            r = 255;
            g = -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log(g);
            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log(b);
        } else {
            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log(r);
            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log(g);
            b = 255;
        }
        return [r,g,b,1];
    };

    var temperature2rgb_1 = temperature2rgb;

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     **/


    var unpack$v = utils.unpack;
    var round$6 = Math.round;

    var rgb2temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$v(args, 'rgb');
        var r = rgb[0], b = rgb[2];
        var minTemp = 1000;
        var maxTemp = 40000;
        var eps = 0.4;
        var temp;
        while (maxTemp - minTemp > eps) {
            temp = (maxTemp + minTemp) * 0.5;
            var rgb$1 = temperature2rgb_1(temp);
            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {
                maxTemp = temp;
            } else {
                minTemp = temp;
            }
        }
        return round$6(temp);
    };

    var rgb2temperature_1 = rgb2temperature;

    Color_1.prototype.temp =
    Color_1.prototype.kelvin =
    Color_1.prototype.temperature = function() {
        return rgb2temperature_1(this._rgb);
    };

    chroma_1.temp =
    chroma_1.kelvin =
    chroma_1.temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color_1, [ null ].concat( args, ['temp']) ));
    };

    input.format.temp =
    input.format.kelvin =
    input.format.temperature = temperature2rgb_1;

    var type$f = utils.type;

    Color_1.prototype.alpha = function(a, mutate) {
        if ( mutate === void 0 ) mutate=false;

        if (a !== undefined && type$f(a) === 'number') {
            if (mutate) {
                this._rgb[3] = a;
                return this;
            }
            return new Color_1([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');
        }
        return this._rgb[3];
    };

    Color_1.prototype.clipped = function() {
        return this._rgb._clipped || false;
    };

    Color_1.prototype.darken = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lab = me.lab();
    	lab[0] -= labConstants.Kn * amount;
    	return new Color_1(lab, 'lab').alpha(me.alpha(), true);
    };

    Color_1.prototype.brighten = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.darken(-amount);
    };

    Color_1.prototype.darker = Color_1.prototype.darken;
    Color_1.prototype.brighter = Color_1.prototype.brighten;

    Color_1.prototype.get = function(mc) {
        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel);
            if (i > -1) { return src[i]; }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var type$g = utils.type;
    var pow$2 = Math.pow;

    var EPS = 1e-7;
    var MAX_ITER = 20;

    Color_1.prototype.luminance = function(lum) {
        if (lum !== undefined && type$g(lum) === 'number') {
            if (lum === 0) {
                // return pure black
                return new Color_1([0,0,0,this._rgb[3]], 'rgb');
            }
            if (lum === 1) {
                // return pure white
                return new Color_1([255,255,255,this._rgb[3]], 'rgb');
            }
            // compute new color using...
            var cur_lum = this.luminance();
            var mode = 'rgb';
            var max_iter = MAX_ITER;

            var test = function (low, high) {
                var mid = low.interpolate(high, 0.5, mode);
                var lm = mid.luminance();
                if (Math.abs(lum - lm) < EPS || !max_iter--) {
                    // close enough
                    return mid;
                }
                return lm > lum ? test(low, mid) : test(mid, high);
            };

            var rgb = (cur_lum > lum ? test(new Color_1([0,0,0]), this) : test(this, new Color_1([255,255,255]))).rgb();
            return new Color_1(rgb.concat( [this._rgb[3]]));
        }
        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));
    };


    var rgb2luminance = function (r,g,b) {
        // relative luminance
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        r = luminance_x(r);
        g = luminance_x(g);
        b = luminance_x(b);
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
    };

    var luminance_x = function (x) {
        x /= 255;
        return x <= 0.03928 ? x/12.92 : pow$2((x+0.055)/1.055, 2.4);
    };

    var interpolator = {};

    var type$h = utils.type;


    var mix = function (col1, col2, f) {
        if ( f === void 0 ) f=0.5;
        var rest = [], len = arguments.length - 3;
        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];

        var mode = rest[0] || 'lrgb';
        if (!interpolator[mode] && !rest.length) {
            // fall back to the first supported mode
            mode = Object.keys(interpolator)[0];
        }
        if (!interpolator[mode]) {
            throw new Error(("interpolation mode " + mode + " is not defined"));
        }
        if (type$h(col1) !== 'object') { col1 = new Color_1(col1); }
        if (type$h(col2) !== 'object') { col2 = new Color_1(col2); }
        return interpolator[mode](col1, col2, f)
            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));
    };

    Color_1.prototype.mix =
    Color_1.prototype.interpolate = function(col2, f) {
    	if ( f === void 0 ) f=0.5;
    	var rest = [], len = arguments.length - 2;
    	while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];

    	return mix.apply(void 0, [ this, col2, f ].concat( rest ));
    };

    Color_1.prototype.premultiply = function(mutate) {
    	if ( mutate === void 0 ) mutate=false;

    	var rgb = this._rgb;
    	var a = rgb[3];
    	if (mutate) {
    		this._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];
    		return this;
    	} else {
    		return new Color_1([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');
    	}
    };

    Color_1.prototype.saturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lch = me.lch();
    	lch[1] += labConstants.Kn * amount;
    	if (lch[1] < 0) { lch[1] = 0; }
    	return new Color_1(lch, 'lch').alpha(me.alpha(), true);
    };

    Color_1.prototype.desaturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.saturate(-amount);
    };

    var type$i = utils.type;

    Color_1.prototype.set = function(mc, value, mutate) {
        if ( mutate === void 0 ) mutate=false;

        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel);
            if (i > -1) {
                if (type$i(value) == 'string') {
                    switch(value.charAt(0)) {
                        case '+': src[i] += +value; break;
                        case '-': src[i] += +value; break;
                        case '*': src[i] *= +(value.substr(1)); break;
                        case '/': src[i] /= +(value.substr(1)); break;
                        default: src[i] = +value;
                    }
                } else if (type$i(value) === 'number') {
                    src[i] = value;
                } else {
                    throw new Error("unsupported value for Color.set");
                }
                var out = new Color_1(src, mode);
                if (mutate) {
                    this._rgb = out._rgb;
                    return this;
                }
                return out;
            }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var rgb$1 = function (col1, col2, f) {
        var xyz0 = col1._rgb;
        var xyz1 = col2._rgb;
        return new Color_1(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'rgb'
        )
    };

    // register interpolator
    interpolator.rgb = rgb$1;

    var sqrt$2 = Math.sqrt;
    var pow$3 = Math.pow;

    var lrgb = function (col1, col2, f) {
        var ref = col1._rgb;
        var x1 = ref[0];
        var y1 = ref[1];
        var z1 = ref[2];
        var ref$1 = col2._rgb;
        var x2 = ref$1[0];
        var y2 = ref$1[1];
        var z2 = ref$1[2];
        return new Color_1(
            sqrt$2(pow$3(x1,2) * (1-f) + pow$3(x2,2) * f),
            sqrt$2(pow$3(y1,2) * (1-f) + pow$3(y2,2) * f),
            sqrt$2(pow$3(z1,2) * (1-f) + pow$3(z2,2) * f),
            'rgb'
        )
    };

    // register interpolator
    interpolator.lrgb = lrgb;

    var lab$1 = function (col1, col2, f) {
        var xyz0 = col1.lab();
        var xyz1 = col2.lab();
        return new Color_1(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'lab'
        )
    };

    // register interpolator
    interpolator.lab = lab$1;

    var _hsx = function (col1, col2, f, m) {
        var assign, assign$1;

        var xyz0, xyz1;
        if (m === 'hsl') {
            xyz0 = col1.hsl();
            xyz1 = col2.hsl();
        } else if (m === 'hsv') {
            xyz0 = col1.hsv();
            xyz1 = col2.hsv();
        } else if (m === 'hcg') {
            xyz0 = col1.hcg();
            xyz1 = col2.hcg();
        } else if (m === 'hsi') {
            xyz0 = col1.hsi();
            xyz1 = col2.hsi();
        } else if (m === 'lch' || m === 'hcl') {
            m = 'hcl';
            xyz0 = col1.hcl();
            xyz1 = col2.hcl();
        }

        var hue0, hue1, sat0, sat1, lbv0, lbv1;
        if (m.substr(0, 1) === 'h') {
            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);
            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);
        }

        var sat, hue, lbv, dh;

        if (!isNaN(hue0) && !isNaN(hue1)) {
            // both colors have hue
            if (hue1 > hue0 && hue1 - hue0 > 180) {
                dh = hue1-(hue0+360);
            } else if (hue1 < hue0 && hue0 - hue1 > 180) {
                dh = hue1+360-hue0;
            } else{
                dh = hue1 - hue0;
            }
            hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
            hue = hue0;
            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }
        } else if (!isNaN(hue1)) {
            hue = hue1;
            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }
        } else {
            hue = Number.NaN;
        }

        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }
        lbv = lbv0 + f * (lbv1-lbv0);
        return new Color_1([hue, sat, lbv], m);
    };

    var lch$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'lch');
    };

    // register interpolator
    interpolator.lch = lch$1;
    interpolator.hcl = lch$1;

    var num$1 = function (col1, col2, f) {
        var c1 = col1.num();
        var c2 = col2.num();
        return new Color_1(c1 + f * (c2-c1), 'num')
    };

    // register interpolator
    interpolator.num = num$1;

    var hcg$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hcg');
    };

    // register interpolator
    interpolator.hcg = hcg$1;

    var hsi$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsi');
    };

    // register interpolator
    interpolator.hsi = hsi$1;

    var hsl$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsl');
    };

    // register interpolator
    interpolator.hsl = hsl$1;

    var hsv$1 = function (col1, col2, f) {
    	return _hsx(col1, col2, f, 'hsv');
    };

    // register interpolator
    interpolator.hsv = hsv$1;

    var clip_rgb$2 = utils.clip_rgb;
    var pow$4 = Math.pow;
    var sqrt$3 = Math.sqrt;
    var PI$1 = Math.PI;
    var cos$2 = Math.cos;
    var sin$1 = Math.sin;
    var atan2$1 = Math.atan2;

    var average = function (colors, mode, weights) {
        if ( mode === void 0 ) mode='lrgb';
        if ( weights === void 0 ) weights=null;

        var l = colors.length;
        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }
        // normalize weights
        var k = l / weights.reduce(function(a, b) { return a + b; });
        weights.forEach(function (w,i) { weights[i] *= k; });
        // convert colors to Color objects
        colors = colors.map(function (c) { return new Color_1(c); });
        if (mode === 'lrgb') {
            return _average_lrgb(colors, weights)
        }
        var first = colors.shift();
        var xyz = first.get(mode);
        var cnt = [];
        var dx = 0;
        var dy = 0;
        // initial color
        for (var i=0; i<xyz.length; i++) {
            xyz[i] = (xyz[i] || 0) * weights[0];
            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);
            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {
                var A = xyz[i] / 180 * PI$1;
                dx += cos$2(A) * weights[0];
                dy += sin$1(A) * weights[0];
            }
        }

        var alpha = first.alpha() * weights[0];
        colors.forEach(function (c,ci) {
            var xyz2 = c.get(mode);
            alpha += c.alpha() * weights[ci+1];
            for (var i=0; i<xyz.length; i++) {
                if (!isNaN(xyz2[i])) {
                    cnt[i] += weights[ci+1];
                    if (mode.charAt(i) === 'h') {
                        var A = xyz2[i] / 180 * PI$1;
                        dx += cos$2(A) * weights[ci+1];
                        dy += sin$1(A) * weights[ci+1];
                    } else {
                        xyz[i] += xyz2[i] * weights[ci+1];
                    }
                }
            }
        });

        for (var i$1=0; i$1<xyz.length; i$1++) {
            if (mode.charAt(i$1) === 'h') {
                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;
                while (A$1 < 0) { A$1 += 360; }
                while (A$1 >= 360) { A$1 -= 360; }
                xyz[i$1] = A$1;
            } else {
                xyz[i$1] = xyz[i$1]/cnt[i$1];
            }
        }
        alpha /= l;
        return (new Color_1(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);
    };


    var _average_lrgb = function (colors, weights) {
        var l = colors.length;
        var xyz = [0,0,0,0];
        for (var i=0; i < colors.length; i++) {
            var col = colors[i];
            var f = weights[i] / l;
            var rgb = col._rgb;
            xyz[0] += pow$4(rgb[0],2) * f;
            xyz[1] += pow$4(rgb[1],2) * f;
            xyz[2] += pow$4(rgb[2],2) * f;
            xyz[3] += rgb[3] * f;
        }
        xyz[0] = sqrt$3(xyz[0]);
        xyz[1] = sqrt$3(xyz[1]);
        xyz[2] = sqrt$3(xyz[2]);
        if (xyz[3] > 0.9999999) { xyz[3] = 1; }
        return new Color_1(clip_rgb$2(xyz));
    };

    // minimal multi-purpose interface

    // @requires utils color analyze


    var type$j = utils.type;

    var pow$5 = Math.pow;

    var scale = function(colors) {

        // constructor
        var _mode = 'rgb';
        var _nacol = chroma_1('#ccc');
        var _spread = 0;
        // const _fixed = false;
        var _domain = [0, 1];
        var _pos = [];
        var _padding = [0,0];
        var _classes = false;
        var _colors = [];
        var _out = false;
        var _min = 0;
        var _max = 1;
        var _correctLightness = false;
        var _colorCache = {};
        var _useCache = true;
        var _gamma = 1;

        // private methods

        var setColors = function(colors) {
            colors = colors || ['#fff', '#000'];
            if (colors && type$j(colors) === 'string' && chroma_1.brewer &&
                chroma_1.brewer[colors.toLowerCase()]) {
                colors = chroma_1.brewer[colors.toLowerCase()];
            }
            if (type$j(colors) === 'array') {
                // handle single color
                if (colors.length === 1) {
                    colors = [colors[0], colors[0]];
                }
                // make a copy of the colors
                colors = colors.slice(0);
                // convert to chroma classes
                for (var c=0; c<colors.length; c++) {
                    colors[c] = chroma_1(colors[c]);
                }
                // auto-fill color position
                _pos.length = 0;
                for (var c$1=0; c$1<colors.length; c$1++) {
                    _pos.push(c$1/(colors.length-1));
                }
            }
            resetCache();
            return _colors = colors;
        };

        var getClass = function(value) {
            if (_classes != null) {
                var n = _classes.length-1;
                var i = 0;
                while (i < n && value >= _classes[i]) {
                    i++;
                }
                return i-1;
            }
            return 0;
        };

        var tMapLightness = function (t) { return t; };
        var tMapDomain = function (t) { return t; };

        // const classifyValue = function(value) {
        //     let val = value;
        //     if (_classes.length > 2) {
        //         const n = _classes.length-1;
        //         const i = getClass(value);
        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class
        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class
        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));
        //     }
        //     return val;
        // };

        var getColor = function(val, bypassMap) {
            var col, t;
            if (bypassMap == null) { bypassMap = false; }
            if (isNaN(val) || (val === null)) { return _nacol; }
            if (!bypassMap) {
                if (_classes && (_classes.length > 2)) {
                    // find the class
                    var c = getClass(val);
                    t = c / (_classes.length-2);
                } else if (_max !== _min) {
                    // just interpolate between min/max
                    t = (val - _min) / (_max - _min);
                } else {
                    t = 1;
                }
            } else {
                t = val;
            }

            // domain map
            t = tMapDomain(t);

            if (!bypassMap) {
                t = tMapLightness(t);  // lightness correction
            }

            if (_gamma !== 1) { t = pow$5(t, _gamma); }

            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));

            t = Math.min(1, Math.max(0, t));

            var k = Math.floor(t * 10000);

            if (_useCache && _colorCache[k]) {
                col = _colorCache[k];
            } else {
                if (type$j(_colors) === 'array') {
                    //for i in [0.._pos.length-1]
                    for (var i=0; i<_pos.length; i++) {
                        var p = _pos[i];
                        if (t <= p) {
                            col = _colors[i];
                            break;
                        }
                        if ((t >= p) && (i === (_pos.length-1))) {
                            col = _colors[i];
                            break;
                        }
                        if (t > p && t < _pos[i+1]) {
                            t = (t-p)/(_pos[i+1]-p);
                            col = chroma_1.interpolate(_colors[i], _colors[i+1], t, _mode);
                            break;
                        }
                    }
                } else if (type$j(_colors) === 'function') {
                    col = _colors(t);
                }
                if (_useCache) { _colorCache[k] = col; }
            }
            return col;
        };

        var resetCache = function () { return _colorCache = {}; };

        setColors(colors);

        // public interface

        var f = function(v) {
            var c = chroma_1(getColor(v));
            if (_out && c[_out]) { return c[_out](); } else { return c; }
        };

        f.classes = function(classes) {
            if (classes != null) {
                if (type$j(classes) === 'array') {
                    _classes = classes;
                    _domain = [classes[0], classes[classes.length-1]];
                } else {
                    var d = chroma_1.analyze(_domain);
                    if (classes === 0) {
                        _classes = [d.min, d.max];
                    } else {
                        _classes = chroma_1.limits(d, 'e', classes);
                    }
                }
                return f;
            }
            return _classes;
        };


        f.domain = function(domain) {
            if (!arguments.length) {
                return _domain;
            }
            _min = domain[0];
            _max = domain[domain.length-1];
            _pos = [];
            var k = _colors.length;
            if ((domain.length === k) && (_min !== _max)) {
                // update positions
                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {
                    var d = list[i];

                  _pos.push((d-_min) / (_max-_min));
                }
            } else {
                for (var c=0; c<k; c++) {
                    _pos.push(c/(k-1));
                }
                if (domain.length > 2) {
                    // set domain map
                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });
                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });
                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {
                        tMapDomain = function (t) {
                            if (t <= 0 || t >= 1) { return t; }
                            var i = 0;
                            while (t >= tBreaks[i+1]) { i++; }
                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);
                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);
                            return out;
                        };
                    }

                }
            }
            _domain = [_min, _max];
            return f;
        };

        f.mode = function(_m) {
            if (!arguments.length) {
                return _mode;
            }
            _mode = _m;
            resetCache();
            return f;
        };

        f.range = function(colors, _pos) {
            setColors(colors, _pos);
            return f;
        };

        f.out = function(_o) {
            _out = _o;
            return f;
        };

        f.spread = function(val) {
            if (!arguments.length) {
                return _spread;
            }
            _spread = val;
            return f;
        };

        f.correctLightness = function(v) {
            if (v == null) { v = true; }
            _correctLightness = v;
            resetCache();
            if (_correctLightness) {
                tMapLightness = function(t) {
                    var L0 = getColor(0, true).lab()[0];
                    var L1 = getColor(1, true).lab()[0];
                    var pol = L0 > L1;
                    var L_actual = getColor(t, true).lab()[0];
                    var L_ideal = L0 + ((L1 - L0) * t);
                    var L_diff = L_actual - L_ideal;
                    var t0 = 0;
                    var t1 = 1;
                    var max_iter = 20;
                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {
                        (function() {
                            if (pol) { L_diff *= -1; }
                            if (L_diff < 0) {
                                t0 = t;
                                t += (t1 - t) * 0.5;
                            } else {
                                t1 = t;
                                t += (t0 - t) * 0.5;
                            }
                            L_actual = getColor(t, true).lab()[0];
                            return L_diff = L_actual - L_ideal;
                        })();
                    }
                    return t;
                };
            } else {
                tMapLightness = function (t) { return t; };
            }
            return f;
        };

        f.padding = function(p) {
            if (p != null) {
                if (type$j(p) === 'number') {
                    p = [p,p];
                }
                _padding = p;
                return f;
            } else {
                return _padding;
            }
        };

        f.colors = function(numColors, out) {
            // If no arguments are given, return the original colors that were provided
            if (arguments.length < 2) { out = 'hex'; }
            var result = [];

            if (arguments.length === 0) {
                result = _colors.slice(0);

            } else if (numColors === 1) {
                result = [f(0.5)];

            } else if (numColors > 1) {
                var dm = _domain[0];
                var dd = _domain[1] - dm;
                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });

            } else { // returns all colors based on the defined classes
                colors = [];
                var samples = [];
                if (_classes && (_classes.length > 2)) {
                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {
                        samples.push((_classes[i-1]+_classes[i])*0.5);
                    }
                } else {
                    samples = _domain;
                }
                result = samples.map(function (v) { return f(v); });
            }

            if (chroma_1[out]) {
                result = result.map(function (c) { return c[out](); });
            }
            return result;
        };

        f.cache = function(c) {
            if (c != null) {
                _useCache = c;
                return f;
            } else {
                return _useCache;
            }
        };

        f.gamma = function(g) {
            if (g != null) {
                _gamma = g;
                return f;
            } else {
                return _gamma;
            }
        };

        f.nodata = function(d) {
            if (d != null) {
                _nacol = chroma_1(d);
                return f;
            } else {
                return _nacol;
            }
        };

        return f;
    };

    function __range__(left, right, inclusive) {
      var range = [];
      var ascending = left < right;
      var end = !inclusive ? right : ascending ? right + 1 : right - 1;
      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {
        range.push(i);
      }
      return range;
    }

    //
    // interpolates between a set of colors uzing a bezier spline
    //

    // @requires utils lab




    var bezier = function(colors) {
        var assign, assign$1, assign$2;

        var I, lab0, lab1, lab2;
        colors = colors.map(function (c) { return new Color_1(c); });
        if (colors.length === 2) {
            // linear interpolation
            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 3) {
            // quadratic bezier interpolation
            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 4) {
            // cubic bezier interpolation
            var lab3;
            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));
                return new Color_1(lab, 'lab');
            };
        } else if (colors.length === 5) {
            var I0 = bezier(colors.slice(0, 3));
            var I1 = bezier(colors.slice(2, 5));
            I = function(t) {
                if (t < 0.5) {
                    return I0(t*2);
                } else {
                    return I1((t-0.5)*2);
                }
            };
        }
        return I;
    };

    var bezier_1 = function (colors) {
        var f = bezier(colors);
        f.scale = function () { return scale(f); };
        return f;
    };

    /*
     * interpolates between a set of colors uzing a bezier spline
     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/
     */




    var blend = function (bottom, top, mode) {
        if (!blend[mode]) {
            throw new Error('unknown blend mode ' + mode);
        }
        return blend[mode](bottom, top);
    };

    var blend_f = function (f) { return function (bottom,top) {
            var c0 = chroma_1(top).rgb();
            var c1 = chroma_1(bottom).rgb();
            return chroma_1.rgb(f(c0, c1));
        }; };

    var each = function (f) { return function (c0, c1) {
            var out = [];
            out[0] = f(c0[0], c1[0]);
            out[1] = f(c0[1], c1[1]);
            out[2] = f(c0[2], c1[2]);
            return out;
        }; };

    var normal = function (a) { return a; };
    var multiply = function (a,b) { return a * b / 255; };
    var darken$1 = function (a,b) { return a > b ? b : a; };
    var lighten = function (a,b) { return a > b ? a : b; };
    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };
    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };
    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };
    var dodge = function (a,b) {
        if (a === 255) { return 255; }
        a = 255 * (b / 255) / (1 - a / 255);
        return a > 255 ? 255 : a
    };

    // # add = (a,b) ->
    // #     if (a + b > 255) then 255 else a + b

    blend.normal = blend_f(each(normal));
    blend.multiply = blend_f(each(multiply));
    blend.screen = blend_f(each(screen));
    blend.overlay = blend_f(each(overlay));
    blend.darken = blend_f(each(darken$1));
    blend.lighten = blend_f(each(lighten));
    blend.dodge = blend_f(each(dodge));
    blend.burn = blend_f(each(burn));
    // blend.add = blend_f(each(add));

    var blend_1 = blend;

    // cubehelix interpolation
    // based on D.A. Green "A colour scheme for the display of astronomical intensity images"
    // http://astron-soc.in/bulletin/11June/289392011.pdf

    var type$k = utils.type;
    var clip_rgb$3 = utils.clip_rgb;
    var TWOPI$2 = utils.TWOPI;
    var pow$6 = Math.pow;
    var sin$2 = Math.sin;
    var cos$3 = Math.cos;


    var cubehelix = function(start, rotations, hue, gamma, lightness) {
        if ( start === void 0 ) start=300;
        if ( rotations === void 0 ) rotations=-1.5;
        if ( hue === void 0 ) hue=1;
        if ( gamma === void 0 ) gamma=1;
        if ( lightness === void 0 ) lightness=[0,1];

        var dh = 0, dl;
        if (type$k(lightness) === 'array') {
            dl = lightness[1] - lightness[0];
        } else {
            dl = 0;
            lightness = [lightness, lightness];
        }

        var f = function(fract) {
            var a = TWOPI$2 * (((start+120)/360) + (rotations * fract));
            var l = pow$6(lightness[0] + (dl * fract), gamma);
            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;
            var amp = (h * l * (1-l)) / 2;
            var cos_a = cos$3(a);
            var sin_a = sin$2(a);
            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));
            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));
            var b = l + (amp * (+1.97294 * cos_a));
            return chroma_1(clip_rgb$3([r*255,g*255,b*255,1]));
        };

        f.start = function(s) {
            if ((s == null)) { return start; }
            start = s;
            return f;
        };

        f.rotations = function(r) {
            if ((r == null)) { return rotations; }
            rotations = r;
            return f;
        };

        f.gamma = function(g) {
            if ((g == null)) { return gamma; }
            gamma = g;
            return f;
        };

        f.hue = function(h) {
            if ((h == null)) { return hue; }
            hue = h;
            if (type$k(hue) === 'array') {
                dh = hue[1] - hue[0];
                if (dh === 0) { hue = hue[1]; }
            } else {
                dh = 0;
            }
            return f;
        };

        f.lightness = function(h) {
            if ((h == null)) { return lightness; }
            if (type$k(h) === 'array') {
                lightness = h;
                dl = h[1] - h[0];
            } else {
                lightness = [h,h];
                dl = 0;
            }
            return f;
        };

        f.scale = function () { return chroma_1.scale(f); };

        f.hue(hue);

        return f;
    };

    var digits = '0123456789abcdef';

    var floor$2 = Math.floor;
    var random = Math.random;

    var random_1 = function () {
        var code = '#';
        for (var i=0; i<6; i++) {
            code += digits.charAt(floor$2(random() * 16));
        }
        return new Color_1(code, 'hex');
    };

    var log$1 = Math.log;
    var pow$7 = Math.pow;
    var floor$3 = Math.floor;
    var abs = Math.abs;


    var analyze = function (data, key) {
        if ( key === void 0 ) key=null;

        var r = {
            min: Number.MAX_VALUE,
            max: Number.MAX_VALUE*-1,
            sum: 0,
            values: [],
            count: 0
        };
        if (type(data) === 'object') {
            data = Object.values(data);
        }
        data.forEach(function (val) {
            if (key && type(val) === 'object') { val = val[key]; }
            if (val !== undefined && val !== null && !isNaN(val)) {
                r.values.push(val);
                r.sum += val;
                if (val < r.min) { r.min = val; }
                if (val > r.max) { r.max = val; }
                r.count += 1;
            }
        });

        r.domain = [r.min, r.max];

        r.limits = function (mode, num) { return limits(r, mode, num); };

        return r;
    };


    var limits = function (data, mode, num) {
        if ( mode === void 0 ) mode='equal';
        if ( num === void 0 ) num=7;

        if (type(data) == 'array') {
            data = analyze(data);
        }
        var min = data.min;
        var max = data.max;
        var values = data.values.sort(function (a,b) { return a-b; });

        if (num === 1) { return [min,max]; }

        var limits = [];

        if (mode.substr(0,1) === 'c') { // continuous
            limits.push(min);
            limits.push(max);
        }

        if (mode.substr(0,1) === 'e') { // equal interval
            limits.push(min);
            for (var i=1; i<num; i++) {
                limits.push(min+((i/num)*(max-min)));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'l') { // log scale
            if (min <= 0) {
                throw new Error('Logarithmic scales are only possible for values > 0');
            }
            var min_log = Math.LOG10E * log$1(min);
            var max_log = Math.LOG10E * log$1(max);
            limits.push(min);
            for (var i$1=1; i$1<num; i$1++) {
                limits.push(pow$7(10, min_log + ((i$1/num) * (max_log - min_log))));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'q') { // quantile scale
            limits.push(min);
            for (var i$2=1; i$2<num; i$2++) {
                var p = ((values.length-1) * i$2)/num;
                var pb = floor$3(p);
                if (pb === p) {
                    limits.push(values[pb]);
                } else { // p > pb
                    var pr = p - pb;
                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));
                }
            }
            limits.push(max);

        }

        else if (mode.substr(0,1) === 'k') { // k-means clustering
            /*
            implementation based on
            http://code.google.com/p/figue/source/browse/trunk/figue.js#336
            simplified for 1-d input values
            */
            var cluster;
            var n = values.length;
            var assignments = new Array(n);
            var clusterSizes = new Array(num);
            var repeat = true;
            var nb_iters = 0;
            var centroids = null;

            // get seed values
            centroids = [];
            centroids.push(min);
            for (var i$3=1; i$3<num; i$3++) {
                centroids.push(min + ((i$3/num) * (max-min)));
            }
            centroids.push(max);

            while (repeat) {
                // assignment step
                for (var j=0; j<num; j++) {
                    clusterSizes[j] = 0;
                }
                for (var i$4=0; i$4<n; i$4++) {
                    var value = values[i$4];
                    var mindist = Number.MAX_VALUE;
                    var best = (void 0);
                    for (var j$1=0; j$1<num; j$1++) {
                        var dist = abs(centroids[j$1]-value);
                        if (dist < mindist) {
                            mindist = dist;
                            best = j$1;
                        }
                        clusterSizes[best]++;
                        assignments[i$4] = best;
                    }
                }

                // update centroids step
                var newCentroids = new Array(num);
                for (var j$2=0; j$2<num; j$2++) {
                    newCentroids[j$2] = null;
                }
                for (var i$5=0; i$5<n; i$5++) {
                    cluster = assignments[i$5];
                    if (newCentroids[cluster] === null) {
                        newCentroids[cluster] = values[i$5];
                    } else {
                        newCentroids[cluster] += values[i$5];
                    }
                }
                for (var j$3=0; j$3<num; j$3++) {
                    newCentroids[j$3] *= 1/clusterSizes[j$3];
                }

                // check convergence
                repeat = false;
                for (var j$4=0; j$4<num; j$4++) {
                    if (newCentroids[j$4] !== centroids[j$4]) {
                        repeat = true;
                        break;
                    }
                }

                centroids = newCentroids;
                nb_iters++;

                if (nb_iters > 200) {
                    repeat = false;
                }
            }

            // finished k-means clustering
            // the next part is borrowed from gabrielflor.it
            var kClusters = {};
            for (var j$5=0; j$5<num; j$5++) {
                kClusters[j$5] = [];
            }
            for (var i$6=0; i$6<n; i$6++) {
                cluster = assignments[i$6];
                kClusters[cluster].push(values[i$6]);
            }
            var tmpKMeansBreaks = [];
            for (var j$6=0; j$6<num; j$6++) {
                tmpKMeansBreaks.push(kClusters[j$6][0]);
                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);
            }
            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });
            limits.push(tmpKMeansBreaks[0]);
            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {
                var v = tmpKMeansBreaks[i$7];
                if (!isNaN(v) && (limits.indexOf(v) === -1)) {
                    limits.push(v);
                }
            }
        }
        return limits;
    };

    var analyze_1 = {analyze: analyze, limits: limits};

    var contrast = function (a, b) {
        // WCAG contrast ratio
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef
        a = new Color_1(a);
        b = new Color_1(b);
        var l1 = a.luminance();
        var l2 = b.luminance();
        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);
    };

    var sqrt$4 = Math.sqrt;
    var atan2$2 = Math.atan2;
    var abs$1 = Math.abs;
    var cos$4 = Math.cos;
    var PI$2 = Math.PI;

    var deltaE = function(a, b, L, C) {
        if ( L === void 0 ) L=1;
        if ( C === void 0 ) C=1;

        // Delta E (CMC)
        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html
        a = new Color_1(a);
        b = new Color_1(b);
        var ref = Array.from(a.lab());
        var L1 = ref[0];
        var a1 = ref[1];
        var b1 = ref[2];
        var ref$1 = Array.from(b.lab());
        var L2 = ref$1[0];
        var a2 = ref$1[1];
        var b2 = ref$1[2];
        var c1 = sqrt$4((a1 * a1) + (b1 * b1));
        var c2 = sqrt$4((a2 * a2) + (b2 * b2));
        var sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + (0.01765 * L1));
        var sc = ((0.0638 * c1) / (1.0 + (0.0131 * c1))) + 0.638;
        var h1 = c1 < 0.000001 ? 0.0 : (atan2$2(b1, a1) * 180.0) / PI$2;
        while (h1 < 0) { h1 += 360; }
        while (h1 >= 360) { h1 -= 360; }
        var t = (h1 >= 164.0) && (h1 <= 345.0) ? (0.56 + abs$1(0.2 * cos$4((PI$2 * (h1 + 168.0)) / 180.0))) : (0.36 + abs$1(0.4 * cos$4((PI$2 * (h1 + 35.0)) / 180.0)));
        var c4 = c1 * c1 * c1 * c1;
        var f = sqrt$4(c4 / (c4 + 1900.0));
        var sh = sc * (((f * t) + 1.0) - f);
        var delL = L1 - L2;
        var delC = c1 - c2;
        var delA = a1 - a2;
        var delB = b1 - b2;
        var dH2 = ((delA * delA) + (delB * delB)) - (delC * delC);
        var v1 = delL / (L * sl);
        var v2 = delC / (C * sc);
        var v3 = sh;
        return sqrt$4((v1 * v1) + (v2 * v2) + (dH2 / (v3 * v3)));
    };

    // simple Euclidean distance
    var distance = function(a, b, mode) {
        if ( mode === void 0 ) mode='lab';

        // Delta E (CIE 1976)
        // see http://www.brucelindbloom.com/index.html?Equations.html
        a = new Color_1(a);
        b = new Color_1(b);
        var l1 = a.get(mode);
        var l2 = b.get(mode);
        var sum_sq = 0;
        for (var i in l1) {
            var d = (l1[i] || 0) - (l2[i] || 0);
            sum_sq += d*d;
        }
        return Math.sqrt(sum_sq);
    };

    var valid = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        try {
            new (Function.prototype.bind.apply( Color_1, [ null ].concat( args) ));
            return true;
        } catch (e) {
            return false;
        }
    };

    // some pre-defined color scales:




    var scales = {
    	cool: function cool() { return scale([chroma_1.hsl(180,1,.9), chroma_1.hsl(250,.7,.4)]) },
    	hot: function hot() { return scale(['#000','#f00','#ff0','#fff'], [0,.25,.75,1]).mode('rgb') }
    };

    /**
        ColorBrewer colors for chroma.js

        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The
        Pennsylvania State University.

        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software distributed
        under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
        CONDITIONS OF ANY KIND, either express or implied. See the License for the
        specific language governing permissions and limitations under the License.
    */

    var colorbrewer = {
        // sequential
        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],
        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],
        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],
        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],
        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],
        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],
        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],
        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],
        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],
        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],
        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],
        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],
        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],
        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],
        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],
        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],
        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],
        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],
        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],

        // diverging

        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],
        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],
        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],
        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],
        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],
        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],
        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],
        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],

        // qualitative

        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],
        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],
        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],
        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],
        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],
        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],
        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],
        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],
    };

    // add lowercase aliases for case-insensitive matches
    for (var i$1 = 0, list$1 = Object.keys(colorbrewer); i$1 < list$1.length; i$1 += 1) {
        var key = list$1[i$1];

        colorbrewer[key.toLowerCase()] = colorbrewer[key];
    }

    var colorbrewer_1 = colorbrewer;

    // feel free to comment out anything to rollup
    // a smaller chroma.js built

    // io --> convert colors















    // operators --> modify existing Colors










    // interpolators










    // generators -- > create new colors
    chroma_1.average = average;
    chroma_1.bezier = bezier_1;
    chroma_1.blend = blend_1;
    chroma_1.cubehelix = cubehelix;
    chroma_1.mix = chroma_1.interpolate = mix;
    chroma_1.random = random_1;
    chroma_1.scale = scale;

    // other utility methods
    chroma_1.analyze = analyze_1.analyze;
    chroma_1.contrast = contrast;
    chroma_1.deltaE = deltaE;
    chroma_1.distance = distance;
    chroma_1.limits = analyze_1.limits;
    chroma_1.valid = valid;

    // scale
    chroma_1.scales = scales;

    // colors
    chroma_1.colors = w3cx11_1;
    chroma_1.brewer = colorbrewer_1;

    var chroma_js = chroma_1;

    return chroma_js;

})));
//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxLQUE0RDtBQUNoRSxJQUFJLENBQzJCO0FBQy9CLENBQUMsc0JBQXNCOztBQUV2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsTUFBTTtBQUM1QjtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3SEFBd0gsaUJBQWlCO0FBQ3pJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEUsMkJBQTJCLG9CQUFvQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxtQkFBbUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0EscURBQXFELGlCQUFpQjtBQUN0RTs7QUFFQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQSx3QkFBd0I7QUFDeEIsNkJBQTZCO0FBQzdCLDZCQUE2Qjs7QUFFN0I7QUFDQSxxQkFBcUI7QUFDckIsb0RBQW9EO0FBQ3BEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsS0FBSztBQUMvQixpQ0FBaUM7QUFDakMsaUNBQWlDO0FBQ2pDO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLEtBQUs7QUFDL0I7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkJBQTZCO0FBQzdCLDJCQUEyQjtBQUMzQix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRyxtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsa0NBQWtDLEVBQUUsYUFBYSxFQUFFO0FBQ25ELG1DQUFtQyxFQUFFLGFBQWEsRUFBRTs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEI7QUFDQSx1QkFBdUI7QUFDdkIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsTUFBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZCQUE2QjtBQUM3QiwyQkFBMkI7QUFDM0IseUJBQXlCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyRkFBMkY7QUFDM0YsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRyxtR0FBbUc7QUFDbkcsbUdBQW1HO0FBQ25HLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUVBQXFFO0FBQ3JFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7QUFPQSx5Q0FBeUM7QUFDekMseUNBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQ0Esc0RBQXNELGlCQUFpQjtBQUN2RTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2QkFBNkI7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BELG9EQUFvRDtBQUNwRCxnRUFBZ0U7QUFDaEUsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLDBEQUEwRDtBQUMxRCxVQUFVO0FBQ1Y7QUFDQSwwREFBMEQ7QUFDMUQsVUFBVTtBQUNWO0FBQ0E7O0FBRUEsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IscURBQXFELFdBQVc7QUFDeEY7QUFDQSxvREFBb0QsZUFBZTtBQUNuRSx5Q0FBeUMsa0JBQWtCO0FBQzNEO0FBQ0EsMkNBQTJDLHdCQUF3QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVCx3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMscUNBQXFDO0FBQ3JDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1CQUFtQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixpQkFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUJBQW1CO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJDQUEyQztBQUMzQyx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvR0FBb0c7QUFDcEcsd0dBQXdHO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QztBQUN2Qzs7QUFFQSxnQ0FBZ0M7O0FBRWhDOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGtDQUFrQyxlQUFlO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUM7O0FBRXZDOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUMsb0JBQW9CLE9BQU87QUFDOUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGlCQUFpQjtBQUM1RTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkLDhCQUE4QixLQUFLO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDZCQUE2QjtBQUN4Riw0REFBNEQsb0NBQW9DO0FBQ2hHLDJEQUEyRCx5QkFBeUI7QUFDcEY7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDOztBQUVBO0FBQ0E7O0FBRUEsY0FBYztBQUNkOztBQUVBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsMkVBQTJFLDRDQUE0Qzs7QUFFdkgsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSx5QkFBeUI7QUFDcEc7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esb0RBQW9ELGNBQWM7QUFDbEU7O0FBRUE7QUFDQSxtREFBbUQsa0JBQWtCO0FBQ3JFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtCQUErQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7O0FBS0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyx3QkFBd0I7QUFDbkU7QUFDQTtBQUNBLGdEQUFnRCxpQkFBaUI7QUFDakU7QUFDQSx3REFBd0QsNkNBQTZDO0FBQ3JHO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxrREFBa0QsaUJBQWlCO0FBQ25FO0FBQ0Esd0RBQXdELGlGQUFpRjtBQUN6STtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxrREFBa0QsaUJBQWlCO0FBQ25FO0FBQ0Esd0RBQXdELCtIQUErSDtBQUN2TDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDO0FBQ2hDLG9DQUFvQztBQUNwQyxvQ0FBb0M7QUFDcEMsbUNBQW1DO0FBQ25DLGtDQUFrQztBQUNsQyxtQ0FBbUM7QUFDbkMsZ0NBQWdDO0FBQ2hDO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0M7O0FBRWhDOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLEtBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBLDBDQUEwQzs7QUFFMUM7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsYUFBYTs7QUFFcEUseUJBQXlCOztBQUV6Qjs7QUFFQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBOztBQUVBLHdDQUF3QztBQUN4QztBQUNBLDBCQUEwQixPQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7QUFDN0M7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsU0FBUztBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQyxTQUFTO0FBQ3pDO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFNBQVM7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLFNBQVM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxhQUFhO0FBQ2hGO0FBQ0EsNEJBQTRCLDhCQUE4QjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBOzs7OztBQUtBO0FBQ0EsNkJBQTZCLGlFQUFpRTtBQUM5RiwyQkFBMkI7QUFDM0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5REFBeUQscUJBQXFCO0FBQzlFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTs7Ozs7Ozs7Ozs7QUFXQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdmctdG8tZXhjYWxpZHJhdy8uL25vZGVfbW9kdWxlcy9jaHJvbWEtanMvY2hyb21hLmpzPzYxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbC5jaHJvbWEgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiAoeCwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKCBtaW4gPT09IHZvaWQgMCApIG1pbj0wO1xuICAgICAgICBpZiAoIG1heCA9PT0gdm9pZCAwICkgbWF4PTE7XG5cbiAgICAgICAgcmV0dXJuIHggPCBtaW4gPyBtaW4gOiB4ID4gbWF4ID8gbWF4IDogeDtcbiAgICB9O1xuXG4gICAgdmFyIGNsaXBfcmdiID0gZnVuY3Rpb24gKHJnYikge1xuICAgICAgICByZ2IuX2NsaXBwZWQgPSBmYWxzZTtcbiAgICAgICAgcmdiLl91bmNsaXBwZWQgPSByZ2Iuc2xpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw9MzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IDMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmdiW2ldIDwgMCB8fCByZ2JbaV0gPiAyNTUpIHsgcmdiLl9jbGlwcGVkID0gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0KHJnYltpXSwgMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjtcbiAgICB9O1xuXG4gICAgLy8gcG9ydGVkIGZyb20galF1ZXJ5J3MgJC50eXBlXG4gICAgdmFyIGNsYXNzVG9UeXBlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3RbaV07XG5cbiAgICAgICAgY2xhc3NUb1R5cGVbKFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIildID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2sgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUoYXJnc1swXSkgPT0gJ29iamVjdCcgJiYga2V5T3JkZXIpIHtcbiAgICBcdFx0cmV0dXJuIGtleU9yZGVyLnNwbGl0KCcnKVxuICAgIFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba10gIT09IHVuZGVmaW5lZDsgfSlcbiAgICBcdFx0XHQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBhcmdzWzBdW2tdOyB9KTtcbiAgICBcdH1cbiAgICBcdC8vIG90aGVyd2lzZSB3ZSBqdXN0IHJldHVybiB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICBcdC8vICh3aGljaCB3ZSBzdXBwb3NlIGlzIGFuIGFycmF5IG9mIGFyZ3MpXG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBhcmdzLmxlbmd0aC0xO1xuICAgICAgICBpZiAodHlwZShhcmdzW2xdKSA9PSAnc3RyaW5nJykgeyByZXR1cm4gYXJnc1tsXS50b0xvd2VyQ2FzZSgpOyB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiLFxuICAgIFx0bGltaXQ6IGxpbWl0LFxuICAgIFx0dHlwZTogdHlwZSxcbiAgICBcdHVucGFjazogdW5wYWNrLFxuICAgIFx0bGFzdDogbGFzdCxcbiAgICBcdFBJOiBQSSxcbiAgICBcdFRXT1BJOiBQSSoyLFxuICAgIFx0UElUSElSRDogUEkvMyxcbiAgICBcdERFRzJSQUQ6IFBJIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUElcbiAgICB9O1xuXG4gICAgdmFyIGlucHV0ID0ge1xuICAgIFx0Zm9ybWF0OiB7fSxcbiAgICBcdGF1dG9kZXRlY3Q6IFtdXG4gICAgfTtcblxuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBjbGlwX3JnYiQxID0gdXRpbHMuY2xpcF9yZ2I7XG4gICAgdmFyIHR5cGUkMSA9IHV0aWxzLnR5cGU7XG5cblxuICAgIHZhciBDb2xvciA9IGZ1bmN0aW9uIENvbG9yKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlJDEoYXJnc1swXSkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICBhcmdzWzBdLmNvbnN0cnVjdG9yID09PSB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAvLyB0aGUgYXJndW1lbnQgaXMgYWxyZWFkeSBhIENvbG9yIGluc3RhbmNlXG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxhc3QgYXJndW1lbnQgY291bGQgYmUgdGhlIG1vZGVcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDEoYXJncyk7XG4gICAgICAgIHZhciBhdXRvZGV0ZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFtb2RlKSB7XG4gICAgICAgICAgICBhdXRvZGV0ZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaW5wdXQuc29ydGVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2RldGVjdCA9IGlucHV0LmF1dG9kZXRlY3Quc29ydChmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiLnAgLSBhLnA7IH0pO1xuICAgICAgICAgICAgICAgIGlucHV0LnNvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhdXRvLWRldGVjdCBmb3JtYXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQuZm9ybWF0W21vZGVdKSB7XG4gICAgICAgICAgICB2YXIgcmdiID0gaW5wdXQuZm9ybWF0W21vZGVdLmFwcGx5KG51bGwsIGF1dG9kZXRlY3QgPyBhcmdzIDogYXJncy5zbGljZSgwLC0xKSk7XG4gICAgICAgICAgICBtZS5fcmdiID0gY2xpcF9yZ2IkMShyZ2IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGZvcm1hdDogJythcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBhbHBoYSBjaGFubmVsXG4gICAgICAgIGlmIChtZS5fcmdiLmxlbmd0aCA9PT0gMykgeyBtZS5fcmdiLnB1c2goMSk7IH1cbiAgICB9O1xuXG4gICAgQ29sb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICBpZiAodHlwZSQxKHRoaXMuaGV4KSA9PSAnZnVuY3Rpb24nKSB7IHJldHVybiB0aGlzLmhleCgpOyB9XG4gICAgICAgIHJldHVybiAoXCJbXCIgKyAodGhpcy5fcmdiLmpvaW4oJywnKSkgKyBcIl1cIik7XG4gICAgfTtcblxuICAgIHZhciBDb2xvcl8xID0gQ29sb3I7XG5cbiAgICB2YXIgY2hyb21hID0gZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBcdHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBcdHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBjaHJvbWEuQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgfTtcblxuICAgIGNocm9tYS5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hLnZlcnNpb24gPSAnMi4xLjInO1xuXG4gICAgdmFyIGNocm9tYV8xID0gY2hyb21hO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDEoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICByID0gciAvIDI1NTtcbiAgICAgICAgZyA9IGcgLyAyNTU7XG4gICAgICAgIGIgPSBiIC8gMjU1O1xuICAgICAgICB2YXIgayA9IDEgLSBtYXgocixtYXgoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIGNteWsycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skMihhcmdzLCAnY215aycpO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBtID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgayA9IGFyZ3NbM107XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbNF0gOiAxO1xuICAgICAgICBpZiAoayA9PT0gMSkgeyByZXR1cm4gWzAsMCwwLGFscGhhXTsgfVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYyA+PSAxID8gMCA6IDI1NSAqICgxLWMpICogKDEtayksIC8vIHJcbiAgICAgICAgICAgIG0gPj0gMSA/IDAgOiAyNTUgKiAoMS1tKSAqICgxLWspLCAvLyBnXG4gICAgICAgICAgICB5ID49IDEgPyAwIDogMjU1ICogKDEteSkgKiAoMS1rKSwgLy8gYlxuICAgICAgICAgICAgYWxwaGFcbiAgICAgICAgXTtcbiAgICB9O1xuXG4gICAgdmFyIGNteWsycmdiXzEgPSBjbXlrMnJnYjtcblxuICAgIHZhciB1bnBhY2skMyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQyID0gdXRpbHMudHlwZTtcblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5jbXlrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyY215a18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmNteWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjbXlrJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuY215ayA9IGNteWsycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQzKGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQyKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ0ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhzbGEgPSB1bnBhY2skNChhcmdzLCAnaHNsYScpO1xuICAgICAgICB2YXIgbW9kZSA9IGxhc3QkMihhcmdzKSB8fCAnbHNhJztcbiAgICAgICAgaHNsYVswXSA9IHJuZChoc2xhWzBdIHx8IDApO1xuICAgICAgICBoc2xhWzFdID0gcm5kKGhzbGFbMV0qMTAwKSArICclJztcbiAgICAgICAgaHNsYVsyXSA9IHJuZChoc2xhWzJdKjEwMCkgKyAnJSc7XG4gICAgICAgIGlmIChtb2RlID09PSAnaHNsYScgfHwgKGhzbGEubGVuZ3RoID4gMyAmJiBoc2xhWzNdPDEpKSB7XG4gICAgICAgICAgICBoc2xhWzNdID0gaHNsYS5sZW5ndGggPiAzID8gaHNsYVszXSA6IDE7XG4gICAgICAgICAgICBtb2RlID0gJ2hzbGEnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHNsYS5sZW5ndGggPSAzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobW9kZSArIFwiKFwiICsgKGhzbGEuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJjc3NfMSA9IGhzbDJjc3M7XG5cbiAgICB2YXIgdW5wYWNrJDUgPSB1dGlscy51bnBhY2s7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHNsKHIsZyxiKVxuICAgICAqIC0gcmdiMmhzbChyLGcsYixhKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzbChbcixnLGIsYV0pXG4gICAgICogLSByZ2IyaHNsKHtyLGcsYixhfSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbDtcblxuICAgIHZhciB1bnBhY2skNiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcblxuXG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIC8qXG4gICAgICogc3VwcG9ydGVkIGFyZ3VtZW50czpcbiAgICAgKiAtIHJnYjJjc3MocixnLGIpXG4gICAgICogLSByZ2IyY3NzKHIsZyxiLGEpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYl0sIG1vZGUpXG4gICAgICogLSByZ2IyY3NzKFtyLGcsYixhXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3Moe3IsZyxiLGF9LCBtb2RlKVxuICAgICAqL1xuICAgIHZhciByZ2IyY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDYoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDMoYXJncykgfHwgJ3JnYic7XG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDMpID09ICdoc2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gaHNsMmNzc18xKHJnYjJoc2xfMShyZ2JhKSwgbW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmdiYVswXSA9IHJvdW5kKHJnYmFbMF0pO1xuICAgICAgICByZ2JhWzFdID0gcm91bmQocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZChyZ2JhWzJdKTtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdyZ2JhJyB8fCAocmdiYS5sZW5ndGggPiAzICYmIHJnYmFbM108MSkpIHtcbiAgICAgICAgICAgIHJnYmFbM10gPSByZ2JhLmxlbmd0aCA+IDMgPyByZ2JhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAncmdiYSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAocmdiYS5zbGljZSgwLG1vZGU9PT0ncmdiJz8zOjQpLmpvaW4oJywnKSkgKyBcIilcIik7XG4gICAgfTtcblxuICAgIHZhciByZ2IyY3NzXzEgPSByZ2IyY3NzO1xuXG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBoc2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skNyhhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkMShjWzBdKjI1NSkscm91bmQkMShjWzFdKjI1NSkscm91bmQkMShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2I7XG5cbiAgICB2YXIgUkVfUkdCID0gL15yZ2JcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqXFwpJC87XG4gICAgdmFyIFJFX1JHQkEgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyksXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX1JHQl9QQ1QgPSAvXnJnYlxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQV9QQ1QgPSAvXnJnYmFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooWzAxXXxbMDFdP1xcLlxcZCspXFwpJC87XG4gICAgdmFyIFJFX0hTTCA9IC9eaHNsXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqLFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSVcXHMqXFwpJC87XG4gICAgdmFyIFJFX0hTTEEgPSAvXmhzbGFcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcblxuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBjc3MycmdiID0gZnVuY3Rpb24gKGNzcykge1xuICAgICAgICBjc3MgPSBjc3MudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIHZhciBtO1xuXG4gICAgICAgIGlmIChpbnB1dC5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmZvcm1hdC5uYW1lZChjc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiKDI1MCwyMCwwKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmdiW2ldID0gK3JnYltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYlszXSA9IDE7ICAvLyBkZWZhdWx0IGFscGhhXG4gICAgICAgICAgICByZXR1cm4gcmdiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgyNTAsMjAsMCwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMT0wOyBpJDE8NDsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkMVtpJDFdID0gK3JnYiQxW2kkMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmdiJDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMTAwJSwwJSwwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQl9QQ1QpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQyID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQyPTA7IGkkMjwzOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHJnYiQyW2kkMl0gPSByb3VuZCQyKHJnYiQyW2kkMl0gKiAyLjU1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJnYiQyWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2IkMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYmEoMTAwJSwwJSwwJSwwLjQpXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0JBX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDMgPSBtLnNsaWNlKDEsNSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDM9MDsgaSQzPDM7IGkkMysrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDNbaSQzXSA9IHJvdW5kJDIocmdiJDNbaSQzXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDNbM10gPSArcmdiJDNbM107XG4gICAgICAgICAgICByZXR1cm4gcmdiJDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoc2woMCwxMDAlLDUwJSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTCkpKSB7XG4gICAgICAgICAgICB2YXIgaHNsID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsWzFdICo9IDAuMDE7XG4gICAgICAgICAgICBoc2xbMl0gKj0gMC4wMTtcbiAgICAgICAgICAgIHZhciByZ2IkNCA9IGhzbDJyZ2JfMShoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiXzEoaHNsJDEpO1xuICAgICAgICAgICAgcmdiJDVbM10gPSArbVs0XTsgIC8vIGRlZmF1bHQgYWxwaGEgPSAxXG4gICAgICAgICAgICByZXR1cm4gcmdiJDU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY3NzMnJnYi50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2I7XG5cbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3NfMSh0aGlzLl9yZ2IsIG1vZGUpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5jc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yXzEsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydjc3MnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5jc3MgPSBjc3MycmdiXzE7XG5cbiAgICBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSQzKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiXzEudGVzdChoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnY3NzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQ4ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQuZm9ybWF0LmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2IgPSB1bnBhY2skOChhcmdzLCAncmdiYScpO1xuICAgICAgICByZ2JbMF0gKj0gMjU1O1xuICAgICAgICByZ2JbMV0gKj0gMjU1O1xuICAgICAgICByZ2JbMl0gKj0gMjU1O1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS5nbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2dsJ10pICkpO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmdiID0gdGhpcy5fcmdiO1xuICAgICAgICByZXR1cm4gW3JnYlswXS8yNTUsIHJnYlsxXS8yNTUsIHJnYlsyXS8yNTUsIHJnYlszXV07XG4gICAgfTtcblxuICAgIHZhciB1bnBhY2skOSA9IHV0aWxzLnVucGFjaztcblxuICAgIHZhciByZ2IyaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXggLSBtaW47XG4gICAgICAgIHZhciBjID0gZGVsdGEgKiAxMDAgLyAyNTU7XG4gICAgICAgIHZhciBfZyA9IG1pbiAvICgyNTUgLSBkZWx0YSkgKiAxMDA7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heCkgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4KSB7IGggPSAyKyhiIC0gcikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGIgPT09IG1heCkgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIGMsIF9nXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoY2dfMSA9IHJnYjJoY2c7XG5cbiAgICB2YXIgdW5wYWNrJGEgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuICAgIC8qXG4gICAgICogdGhpcyBpcyBiYXNpY2FsbHkganVzdCBIU1Ygd2l0aCBzb21lIG1pbm9yIHR3ZWFrc1xuICAgICAqXG4gICAgICogaHVlLi4gWzAuLjM2MF1cbiAgICAgKiBjaHJvbWEgLi4gWzAuLjFdXG4gICAgICogZ3JheW5lc3MgLi4gWzAuLjFdXG4gICAgICovXG5cbiAgICB2YXIgaGNnMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFzc2lnbiwgYXNzaWduJDEsIGFzc2lnbiQyLCBhc3NpZ24kMywgYXNzaWduJDQsIGFzc2lnbiQ1O1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYShhcmdzLCAnaGNnJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgX2cgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIF9nID0gX2cgKiAyNTU7XG4gICAgICAgIHZhciBfYyA9IGMgKiAyNTU7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSBfZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yKGgpO1xuICAgICAgICAgICAgdmFyIGYgPSBoIC0gaTtcbiAgICAgICAgICAgIHZhciBwID0gX2cgKiAoMSAtIGMpO1xuICAgICAgICAgICAgdmFyIHEgPSBwICsgX2MgKiAoMSAtIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSBwICsgX2MgKiBmO1xuICAgICAgICAgICAgdmFyIHYgPSBwICsgX2M7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IChhc3NpZ24gPSBbdiwgdCwgcF0sIHIgPSBhc3NpZ25bMF0sIGcgPSBhc3NpZ25bMV0sIGIgPSBhc3NpZ25bMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMTogKGFzc2lnbiQxID0gW3EsIHYsIHBdLCByID0gYXNzaWduJDFbMF0sIGcgPSBhc3NpZ24kMVsxXSwgYiA9IGFzc2lnbiQxWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDI6IChhc3NpZ24kMiA9IFtwLCB2LCB0XSwgciA9IGFzc2lnbiQyWzBdLCBnID0gYXNzaWduJDJbMV0sIGIgPSBhc3NpZ24kMlsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAoYXNzaWduJDMgPSBbcCwgcSwgdl0sIHIgPSBhc3NpZ24kM1swXSwgZyA9IGFzc2lnbiQzWzFdLCBiID0gYXNzaWduJDNbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNDogKGFzc2lnbiQ0ID0gW3QsIHAsIHZdLCByID0gYXNzaWduJDRbMF0sIGcgPSBhc3NpZ24kNFsxXSwgYiA9IGFzc2lnbiQ0WzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IChhc3NpZ24kNSA9IFt2LCBwLCBxXSwgciA9IGFzc2lnbiQ1WzBdLCBnID0gYXNzaWduJDVbMV0sIGIgPSBhc3NpZ24kNVsyXSk7IGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiLCBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciBoY2cycmdiXzEgPSBoY2cycmdiO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDQgPSB1dGlscy50eXBlO1xuXG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLmhjZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhjZ18xKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYV8xLmhjZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjZyddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmhjZyA9IGhjZzJyZ2JfMTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGIoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkNChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRjID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDQgPSB1dGlscy5sYXN0O1xuICAgIHZhciByb3VuZCQzID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IyaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skYyhhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0JDQoYXJncykgfHwgJ2F1dG8nO1xuICAgICAgICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7IGEgPSAxOyB9XG4gICAgICAgIGlmIChtb2RlID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIG1vZGUgPSBhIDwgMSA/ICdyZ2JhJyA6ICdyZ2InO1xuICAgICAgICB9XG4gICAgICAgIHIgPSByb3VuZCQzKHIpO1xuICAgICAgICBnID0gcm91bmQkMyhnKTtcbiAgICAgICAgYiA9IHJvdW5kJDMoYik7XG4gICAgICAgIHZhciB1ID0gciA8PCAxNiB8IGcgPDwgOCB8IGI7XG4gICAgICAgIHZhciBzdHIgPSBcIjAwMDAwMFwiICsgdS50b1N0cmluZygxNik7IC8vIy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKHN0ci5sZW5ndGggLSA2KTtcbiAgICAgICAgdmFyIGh4YSA9ICcwJyArIHJvdW5kJDMoYSAqIDI1NSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBoeGEgPSBoeGEuc3Vic3RyKGh4YS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3dpdGNoIChtb2RlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JnYmEnOiByZXR1cm4gKFwiI1wiICsgc3RyICsgaHhhKTtcbiAgICAgICAgICAgIGNhc2UgJ2FyZ2InOiByZXR1cm4gKFwiI1wiICsgaHhhICsgc3RyKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAoXCIjXCIgKyBzdHIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGV4XzEgPSByZ2IyaGV4O1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IgPSBmdW5jdGlvbiAoaGV4KSB7XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9wdGlvbmFsIGxlYWRpbmcgI1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDQgfHwgaGV4Lmxlbmd0aCA9PT0gNykge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBleHBhbmQgc2hvcnQtbm90YXRpb24gdG8gZnVsbCBzaXgtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgICAgICAgICB2YXIgciA9IHUgPj4gMTY7XG4gICAgICAgICAgICB2YXIgZyA9IHUgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiA9IHUgJiAweEZGO1xuICAgICAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hdGNoIHJnYmEgaGV4IGZvcm1hdCwgZWcgI0ZGMDAwMDc3XG4gICAgICAgIGlmIChoZXgubWF0Y2goUkVfSEVYQSkpIHtcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA1IHx8IGhleC5sZW5ndGggPT09IDkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIGVpZ2h0LWRpZ2l0XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGhleCA9IGhleC5zcGxpdCgnJyk7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4WzBdK2hleFswXStoZXhbMV0raGV4WzFdK2hleFsyXStoZXhbMl0raGV4WzNdK2hleFszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1JDEgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByJDEgPSB1JDEgPj4gMjQgJiAweEZGO1xuICAgICAgICAgICAgdmFyIGckMSA9IHUkMSA+PiAxNiAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYiQxID0gdSQxID4+IDggJiAweEZGO1xuICAgICAgICAgICAgdmFyIGEgPSBNYXRoLnJvdW5kKCh1JDEgJiAweEZGKSAvIDB4RkYgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgcmV0dXJuIFtyJDEsZyQxLGIkMSxhXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIHVzZWQgdG8gY2hlY2sgZm9yIGNzcyBjb2xvcnMgaGVyZVxuICAgICAgICAvLyBpZiBfaW5wdXQuY3NzPyBhbmQgcmdiID0gX2lucHV0LmNzcyBoZXhcbiAgICAgICAgLy8gICAgIHJldHVybiByZ2JcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBoZXggY29sb3I6IFwiICsgaGV4KSk7XG4gICAgfTtcblxuICAgIHZhciBoZXgycmdiXzEgPSBoZXgycmdiO1xuXG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oZXggPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgICAgIHJldHVybiByZ2IyaGV4XzEodGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGV4J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDQsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJDUoaCkgPT09ICdzdHJpbmcnICYmIFszLDQsNSw2LDcsOCw5XS5pbmRleE9mKGgubGVuZ3RoKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoZXgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGQgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFRXT1BJID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICAgIHZhciBhY29zID0gTWF0aC5hY29zO1xuXG4gICAgdmFyIHJnYjJoc2kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvcmdiMmhzaS5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRkKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgciAvPSAyNTU7XG4gICAgICAgIGcgLz0gMjU1O1xuICAgICAgICBiIC89IDI1NTtcbiAgICAgICAgdmFyIGg7XG4gICAgICAgIHZhciBtaW5fID0gbWluKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCgoci1nKSooci1nKSArIChyLWIpKihnLWIpKTtcbiAgICAgICAgICAgIGggPSBhY29zKGgpO1xuICAgICAgICAgICAgaWYgKGIgPiBnKSB7XG4gICAgICAgICAgICAgICAgaCA9IFRXT1BJIC0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggLz0gVFdPUEk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaTtcblxuICAgIHZhciB1bnBhY2skZSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbGltaXQkMSA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcztcblxuICAgIC8qXG4gICAgICogaHVlIFswLi4zNjBdXG4gICAgICogc2F0dXJhdGlvbiBbMC4uMV1cbiAgICAgKiBpbnRlbnNpdHkgWzAuLjFdXG4gICAgICovXG4gICAgdmFyIGhzaTJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLypcbiAgICAgICAgYm9ycm93ZWQgZnJvbSBoZXJlOlxuICAgICAgICBodHRwOi8vaHVtbWVyLnN0YW5mb3JkLmVkdS9tdXNlaW5mby9kb2MvZXhhbXBsZXMvaHVtZHJ1bS9rZXlzY2FwZTIvaHNpMnJnYi5jcHBcbiAgICAgICAgKi9cbiAgICAgICAgYXJncyA9IHVucGFjayRlKGFyZ3MsICdoc2knKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBpID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuXG4gICAgICAgIGlmIChpc05hTihoKSkgeyBoID0gMDsgfVxuICAgICAgICBpZiAoaXNOYU4ocykpIHsgcyA9IDA7IH1cbiAgICAgICAgLy8gbm9ybWFsaXplIGh1ZVxuICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgIGlmIChoIDwgMS8zKSB7XG4gICAgICAgICAgICBiID0gKDEtcykvMztcbiAgICAgICAgICAgIHIgPSAoMStzKmNvcyhUV09QSSQxKmgpL2NvcyhQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgYiA9IDEgLSAocitnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggLT0gMi8zO1xuICAgICAgICAgICAgZyA9ICgxLXMpLzM7XG4gICAgICAgICAgICBiID0gKDErcypjb3MoVFdPUEkkMSpoKS9jb3MoUElUSElSRC1UV09QSSQxKmgpKS8zO1xuICAgICAgICAgICAgciA9IDEgLSAoZytiKTtcbiAgICAgICAgfVxuICAgICAgICByID0gbGltaXQkMShpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdCQxKGkqZyozKTtcbiAgICAgICAgYiA9IGxpbWl0JDEoaSpiKjMpO1xuICAgICAgICByZXR1cm4gW3IqMjU1LCBnKjI1NSwgYioyNTUsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzaTJyZ2JfMSA9IGhzaTJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNpXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNpID0gaHNpMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnaHNpJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ2KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2knO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGcgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkNyA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHNsID0gaHNsMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZyhhcmdzLCAnaHNsJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc2wnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIG1pbiQxID0gTWF0aC5taW47XG4gICAgdmFyIG1heCQxID0gTWF0aC5tYXg7XG5cbiAgICAvKlxuICAgICAqIHN1cHBvcnRlZCBhcmd1bWVudHM6XG4gICAgICogLSByZ2IyaHN2KHIsZyxiKVxuICAgICAqIC0gcmdiMmhzdihbcixnLGJdKVxuICAgICAqIC0gcmdiMmhzdih7cixnLGJ9KVxuICAgICAqL1xuICAgIHZhciByZ2IyaHNsJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRoKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIG1pbl8gPSBtaW4kMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heF8gPSBtYXgkMShyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4XyAtIG1pbl87XG4gICAgICAgIHZhciBoLHMsdjtcbiAgICAgICAgdiA9IG1heF8gLyAyNTUuMDtcbiAgICAgICAgaWYgKG1heF8gPT09IDApIHtcbiAgICAgICAgICAgIGggPSBOdW1iZXIuTmFOO1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gZGVsdGEgLyBtYXhfO1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heF8pIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heF8pIHsgaCA9IDIrKGIgLSByKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoYiA9PT0gbWF4XykgeyBoID0gNCsociAtIGcpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2gsIHMsIHZdXG4gICAgfTtcblxuICAgIHZhciByZ2IyaHN2ID0gcmdiMmhzbCQxO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBmbG9vciQxID0gTWF0aC5mbG9vcjtcblxuICAgIHZhciBoc3YycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRpKGFyZ3MsICdoc3YnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgcyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciB2ID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHIsZyxiO1xuICAgICAgICB2ICo9IDI1NTtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IHY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaCA9PT0gMzYwKSB7IGggPSAwOyB9XG4gICAgICAgICAgICBpZiAoaCA+IDM2MCkgeyBoIC09IDM2MDsgfVxuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgICAgICBoIC89IDYwO1xuXG4gICAgICAgICAgICB2YXIgaSA9IGZsb29yJDEoaCk7XG4gICAgICAgICAgICB2YXIgZiA9IGggLSBpO1xuICAgICAgICAgICAgdmFyIHAgPSB2ICogKDEgLSBzKTtcbiAgICAgICAgICAgIHZhciBxID0gdiAqICgxIC0gcyAqIGYpO1xuICAgICAgICAgICAgdmFyIHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogKGFzc2lnbiA9IFt2LCB0LCBwXSwgciA9IGFzc2lnblswXSwgZyA9IGFzc2lnblsxXSwgYiA9IGFzc2lnblsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAoYXNzaWduJDEgPSBbcSwgdiwgcF0sIHIgPSBhc3NpZ24kMVswXSwgZyA9IGFzc2lnbiQxWzFdLCBiID0gYXNzaWduJDFbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMjogKGFzc2lnbiQyID0gW3AsIHYsIHRdLCByID0gYXNzaWduJDJbMF0sIGcgPSBhc3NpZ24kMlsxXSwgYiA9IGFzc2lnbiQyWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDM6IChhc3NpZ24kMyA9IFtwLCBxLCB2XSwgciA9IGFzc2lnbiQzWzBdLCBnID0gYXNzaWduJDNbMV0sIGIgPSBhc3NpZ24kM1syXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA0OiAoYXNzaWduJDQgPSBbdCwgcCwgdl0sIHIgPSBhc3NpZ24kNFswXSwgZyA9IGFzc2lnbiQ0WzFdLCBiID0gYXNzaWduJDRbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgNTogKGFzc2lnbiQ1ID0gW3YsIHAsIHFdLCByID0gYXNzaWduJDVbMF0sIGcgPSBhc3NpZ24kNVsxXSwgYiA9IGFzc2lnbiQ1WzJdKTsgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLGFyZ3MubGVuZ3RoID4gMz9hcmdzWzNdOjFdO1xuICAgIH07XG5cbiAgICB2YXIgaHN2MnJnYl8xID0gaHN2MnJnYjtcblxuICAgIHZhciB1bnBhY2skaiA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ4ID0gdXRpbHMudHlwZTtcblxuXG5cblxuXG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oc3YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc3YodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEuaHN2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHN2J10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQuaHN2ID0gaHN2MnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaihhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ4KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBwb3cgPSBNYXRoLnBvdztcblxuICAgIHZhciByZ2IybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skayhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdygociArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X2xhYiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0ID4gbGFiQ29uc3RhbnRzLnQzKSB7IHJldHVybiBwb3codCwgMSAvIDMpOyB9XG4gICAgICAgIHJldHVybiB0IC8gbGFiQ29uc3RhbnRzLnQyICsgbGFiQ29uc3RhbnRzLnQwO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnh5eiA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICByID0gcmdiX3h5eihyKTtcbiAgICAgICAgZyA9IHJnYl94eXooZyk7XG4gICAgICAgIGIgPSByZ2JfeHl6KGIpO1xuICAgICAgICB2YXIgeCA9IHh5el9sYWIoKDAuNDEyNDU2NCAqIHIgKyAwLjM1NzU3NjEgKiBnICsgMC4xODA0Mzc1ICogYikgLyBsYWJDb25zdGFudHMuWG4pO1xuICAgICAgICB2YXIgeSA9IHh5el9sYWIoKDAuMjEyNjcyOSAqIHIgKyAwLjcxNTE1MjIgKiBnICsgMC4wNzIxNzUwICogYikgLyBsYWJDb25zdGFudHMuWW4pO1xuICAgICAgICB2YXIgeiA9IHh5el9sYWIoKDAuMDE5MzMzOSAqIHIgKyAwLjExOTE5MjAgKiBnICsgMC45NTAzMDQxICogYikgLyBsYWJDb25zdGFudHMuWm4pO1xuICAgICAgICByZXR1cm4gW3gseSx6XTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsYWJfMSA9IHJnYjJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJGwgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyQxID0gTWF0aC5wb3c7XG5cbiAgICAvKlxuICAgICAqIEwqIFswLi4xMDBdXG4gICAgICogYSBbLTEwMC4uMTAwXVxuICAgICAqIGIgWy0xMDAuLjEwMF1cbiAgICAgKi9cbiAgICB2YXIgbGFiMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgeCx5LHosIHIsZyxiXztcblxuICAgICAgICB5ID0gKGwgKyAxNikgLyAxMTY7XG4gICAgICAgIHggPSBpc05hTihhKSA/IHkgOiB5ICsgYSAvIDUwMDtcbiAgICAgICAgeiA9IGlzTmFOKGIpID8geSA6IHkgLSBiIC8gMjAwO1xuXG4gICAgICAgIHkgPSBsYWJDb25zdGFudHMuWW4gKiBsYWJfeHl6KHkpO1xuICAgICAgICB4ID0gbGFiQ29uc3RhbnRzLlhuICogbGFiX3h5eih4KTtcbiAgICAgICAgeiA9IGxhYkNvbnN0YW50cy5abiAqIGxhYl94eXooeik7XG5cbiAgICAgICAgciA9IHh5el9yZ2IoMy4yNDA0NTQyICogeCAtIDEuNTM3MTM4NSAqIHkgLSAwLjQ5ODUzMTQgKiB6KTsgIC8vIEQ2NSAtPiBzUkdCXG4gICAgICAgIGcgPSB4eXpfcmdiKC0wLjk2OTI2NjAgKiB4ICsgMS44NzYwMTA4ICogeSArIDAuMDQxNTU2MCAqIHopO1xuICAgICAgICBiXyA9IHh5el9yZ2IoMC4wNTU2NDM0ICogeCAtIDAuMjA0MDI1OSAqIHkgKyAxLjA1NzIyNTIgKiB6KTtcblxuICAgICAgICByZXR1cm4gW3IsZyxiXyxhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMV07XG4gICAgfTtcblxuICAgIHZhciB4eXpfcmdiID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIDI1NSAqIChyIDw9IDAuMDAzMDQgPyAxMi45MiAqIHIgOiAxLjA1NSAqIHBvdyQxKHIsIDEgLyAyLjQpIC0gMC4wNTUpXG4gICAgfTtcblxuICAgIHZhciBsYWJfeHl6ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgPiBsYWJDb25zdGFudHMudDEgPyB0ICogdCAqIHQgOiBsYWJDb25zdGFudHMudDIgKiAodCAtIGxhYkNvbnN0YW50cy50MClcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJyZ2JfMSA9IGxhYjJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJG0gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkOSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybGFiXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGFiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubGFiID0gbGFiMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skbShhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJG4gPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yID0gTWF0aC5hdGFuMjtcbiAgICB2YXIgcm91bmQkNCA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgbGFiMmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJG4oYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYyA9IHNxcnQkMShhICogYSArIGIgKiBiKTtcbiAgICAgICAgdmFyIGggPSAoYXRhbjIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDQoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJG8gPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIHJnYjJsY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRvKGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gcmdiMmxhYl8xKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoXzEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2g7XG5cbiAgICB2YXIgdW5wYWNrJHAgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIERFRzJSQUQgPSB1dGlscy5ERUcyUkFEO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcblxuICAgIHZhciBsY2gybGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHAoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQxKGgpICogYywgc2luKGgpICogY11cbiAgICB9O1xuXG4gICAgdmFyIGxjaDJsYWJfMSA9IGxjaDJsYWI7XG5cbiAgICB2YXIgdW5wYWNrJHEgPSB1dGlscy51bnBhY2s7XG5cblxuXG4gICAgdmFyIGxjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWJfMSAobCxjLGgpO1xuICAgICAgICB2YXIgTCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGEgPSByZWZbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZlsyXTtcbiAgICAgICAgdmFyIHJlZiQxID0gbGFiMnJnYl8xIChMLGEsYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIGxjaDJyZ2JfMSA9IGxjaDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG5cblxuICAgIHZhciBoY2wycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciBoY2wgPSB1bnBhY2skcihhcmdzLCAnaGNsJykucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gbGNoMnJnYl8xLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJHMgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkYSA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoXzEodGhpcy5fcmdiKTsgfTtcbiAgICBDb2xvcl8xLnByb3RvdHlwZS5oY2wgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHJnYjJsY2hfMSh0aGlzLl9yZ2IpLnJldmVyc2UoKTsgfTtcblxuICAgIGNocm9tYV8xLmxjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2xjaCddKSApKTtcbiAgICB9O1xuICAgIGNocm9tYV8xLmhjbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hjbCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LmxjaCA9IGxjaDJyZ2JfMTtcbiAgICBpbnB1dC5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayRzKGFyZ3MsIG0pO1xuICAgICAgICAgICAgaWYgKHR5cGUkYShhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7IH0pO1xuXG4gICAgLyoqXG4gICAgXHRYMTEgY29sb3IgbmFtZXNcblxuICAgIFx0aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yXG4gICAgKi9cblxuICAgIHZhciB3M2N4MTEgPSB7XG4gICAgICAgIGFsaWNlYmx1ZTogJyNmMGY4ZmYnLFxuICAgICAgICBhbnRpcXVld2hpdGU6ICcjZmFlYmQ3JyxcbiAgICAgICAgYXF1YTogJyMwMGZmZmYnLFxuICAgICAgICBhcXVhbWFyaW5lOiAnIzdmZmZkNCcsXG4gICAgICAgIGF6dXJlOiAnI2YwZmZmZicsXG4gICAgICAgIGJlaWdlOiAnI2Y1ZjVkYycsXG4gICAgICAgIGJpc3F1ZTogJyNmZmU0YzQnLFxuICAgICAgICBibGFjazogJyMwMDAwMDAnLFxuICAgICAgICBibGFuY2hlZGFsbW9uZDogJyNmZmViY2QnLFxuICAgICAgICBibHVlOiAnIzAwMDBmZicsXG4gICAgICAgIGJsdWV2aW9sZXQ6ICcjOGEyYmUyJyxcbiAgICAgICAgYnJvd246ICcjYTUyYTJhJyxcbiAgICAgICAgYnVybHl3b29kOiAnI2RlYjg4NycsXG4gICAgICAgIGNhZGV0Ymx1ZTogJyM1ZjllYTAnLFxuICAgICAgICBjaGFydHJldXNlOiAnIzdmZmYwMCcsXG4gICAgICAgIGNob2NvbGF0ZTogJyNkMjY5MWUnLFxuICAgICAgICBjb3JhbDogJyNmZjdmNTAnLFxuICAgICAgICBjb3JuZmxvd2VyOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5mbG93ZXJibHVlOiAnIzY0OTVlZCcsXG4gICAgICAgIGNvcm5zaWxrOiAnI2ZmZjhkYycsXG4gICAgICAgIGNyaW1zb246ICcjZGMxNDNjJyxcbiAgICAgICAgY3lhbjogJyMwMGZmZmYnLFxuICAgICAgICBkYXJrYmx1ZTogJyMwMDAwOGInLFxuICAgICAgICBkYXJrY3lhbjogJyMwMDhiOGInLFxuICAgICAgICBkYXJrZ29sZGVucm9kOiAnI2I4ODYwYicsXG4gICAgICAgIGRhcmtncmF5OiAnI2E5YTlhOScsXG4gICAgICAgIGRhcmtncmVlbjogJyMwMDY0MDAnLFxuICAgICAgICBkYXJrZ3JleTogJyNhOWE5YTknLFxuICAgICAgICBkYXJra2hha2k6ICcjYmRiNzZiJyxcbiAgICAgICAgZGFya21hZ2VudGE6ICcjOGIwMDhiJyxcbiAgICAgICAgZGFya29saXZlZ3JlZW46ICcjNTU2YjJmJyxcbiAgICAgICAgZGFya29yYW5nZTogJyNmZjhjMDAnLFxuICAgICAgICBkYXJrb3JjaGlkOiAnIzk5MzJjYycsXG4gICAgICAgIGRhcmtyZWQ6ICcjOGIwMDAwJyxcbiAgICAgICAgZGFya3NhbG1vbjogJyNlOTk2N2EnLFxuICAgICAgICBkYXJrc2VhZ3JlZW46ICcjOGZiYzhmJyxcbiAgICAgICAgZGFya3NsYXRlYmx1ZTogJyM0ODNkOGInLFxuICAgICAgICBkYXJrc2xhdGVncmF5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmtzbGF0ZWdyZXk6ICcjMmY0ZjRmJyxcbiAgICAgICAgZGFya3R1cnF1b2lzZTogJyMwMGNlZDEnLFxuICAgICAgICBkYXJrdmlvbGV0OiAnIzk0MDBkMycsXG4gICAgICAgIGRlZXBwaW5rOiAnI2ZmMTQ5MycsXG4gICAgICAgIGRlZXBza3libHVlOiAnIzAwYmZmZicsXG4gICAgICAgIGRpbWdyYXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZGltZ3JleTogJyM2OTY5NjknLFxuICAgICAgICBkb2RnZXJibHVlOiAnIzFlOTBmZicsXG4gICAgICAgIGZpcmVicmljazogJyNiMjIyMjInLFxuICAgICAgICBmbG9yYWx3aGl0ZTogJyNmZmZhZjAnLFxuICAgICAgICBmb3Jlc3RncmVlbjogJyMyMjhiMjInLFxuICAgICAgICBmdWNoc2lhOiAnI2ZmMDBmZicsXG4gICAgICAgIGdhaW5zYm9ybzogJyNkY2RjZGMnLFxuICAgICAgICBnaG9zdHdoaXRlOiAnI2Y4ZjhmZicsXG4gICAgICAgIGdvbGQ6ICcjZmZkNzAwJyxcbiAgICAgICAgZ29sZGVucm9kOiAnI2RhYTUyMCcsXG4gICAgICAgIGdyYXk6ICcjODA4MDgwJyxcbiAgICAgICAgZ3JlZW46ICcjMDA4MDAwJyxcbiAgICAgICAgZ3JlZW55ZWxsb3c6ICcjYWRmZjJmJyxcbiAgICAgICAgZ3JleTogJyM4MDgwODAnLFxuICAgICAgICBob25leWRldzogJyNmMGZmZjAnLFxuICAgICAgICBob3RwaW5rOiAnI2ZmNjliNCcsXG4gICAgICAgIGluZGlhbnJlZDogJyNjZDVjNWMnLFxuICAgICAgICBpbmRpZ286ICcjNGIwMDgyJyxcbiAgICAgICAgaXZvcnk6ICcjZmZmZmYwJyxcbiAgICAgICAga2hha2k6ICcjZjBlNjhjJyxcbiAgICAgICAgbGFzZXJsZW1vbjogJyNmZmZmNTQnLFxuICAgICAgICBsYXZlbmRlcjogJyNlNmU2ZmEnLFxuICAgICAgICBsYXZlbmRlcmJsdXNoOiAnI2ZmZjBmNScsXG4gICAgICAgIGxhd25ncmVlbjogJyM3Y2ZjMDAnLFxuICAgICAgICBsZW1vbmNoaWZmb246ICcjZmZmYWNkJyxcbiAgICAgICAgbGlnaHRibHVlOiAnI2FkZDhlNicsXG4gICAgICAgIGxpZ2h0Y29yYWw6ICcjZjA4MDgwJyxcbiAgICAgICAgbGlnaHRjeWFuOiAnI2UwZmZmZicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9kOiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI2ZhZmFkMicsXG4gICAgICAgIGxpZ2h0Z3JheTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodGdyZWVuOiAnIzkwZWU5MCcsXG4gICAgICAgIGxpZ2h0Z3JleTogJyNkM2QzZDMnLFxuICAgICAgICBsaWdodHBpbms6ICcjZmZiNmMxJyxcbiAgICAgICAgbGlnaHRzYWxtb246ICcjZmZhMDdhJyxcbiAgICAgICAgbGlnaHRzZWFncmVlbjogJyMyMGIyYWEnLFxuICAgICAgICBsaWdodHNreWJsdWU6ICcjODdjZWZhJyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyYXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzbGF0ZWdyZXk6ICcjNzc4ODk5JyxcbiAgICAgICAgbGlnaHRzdGVlbGJsdWU6ICcjYjBjNGRlJyxcbiAgICAgICAgbGlnaHR5ZWxsb3c6ICcjZmZmZmUwJyxcbiAgICAgICAgbGltZTogJyMwMGZmMDAnLFxuICAgICAgICBsaW1lZ3JlZW46ICcjMzJjZDMyJyxcbiAgICAgICAgbGluZW46ICcjZmFmMGU2JyxcbiAgICAgICAgbWFnZW50YTogJyNmZjAwZmYnLFxuICAgICAgICBtYXJvb246ICcjODAwMDAwJyxcbiAgICAgICAgbWFyb29uMjogJyM3ZjAwMDAnLFxuICAgICAgICBtYXJvb24zOiAnI2IwMzA2MCcsXG4gICAgICAgIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZjZGFhJyxcbiAgICAgICAgbWVkaXVtYmx1ZTogJyMwMDAwY2QnLFxuICAgICAgICBtZWRpdW1vcmNoaWQ6ICcjYmE1NWQzJyxcbiAgICAgICAgbWVkaXVtcHVycGxlOiAnIzkzNzBkYicsXG4gICAgICAgIG1lZGl1bXNlYWdyZWVuOiAnIzNjYjM3MScsXG4gICAgICAgIG1lZGl1bXNsYXRlYmx1ZTogJyM3YjY4ZWUnLFxuICAgICAgICBtZWRpdW1zcHJpbmdncmVlbjogJyMwMGZhOWEnLFxuICAgICAgICBtZWRpdW10dXJxdW9pc2U6ICcjNDhkMWNjJyxcbiAgICAgICAgbWVkaXVtdmlvbGV0cmVkOiAnI2M3MTU4NScsXG4gICAgICAgIG1pZG5pZ2h0Ymx1ZTogJyMxOTE5NzAnLFxuICAgICAgICBtaW50Y3JlYW06ICcjZjVmZmZhJyxcbiAgICAgICAgbWlzdHlyb3NlOiAnI2ZmZTRlMScsXG4gICAgICAgIG1vY2Nhc2luOiAnI2ZmZTRiNScsXG4gICAgICAgIG5hdmFqb3doaXRlOiAnI2ZmZGVhZCcsXG4gICAgICAgIG5hdnk6ICcjMDAwMDgwJyxcbiAgICAgICAgb2xkbGFjZTogJyNmZGY1ZTYnLFxuICAgICAgICBvbGl2ZTogJyM4MDgwMDAnLFxuICAgICAgICBvbGl2ZWRyYWI6ICcjNmI4ZTIzJyxcbiAgICAgICAgb3JhbmdlOiAnI2ZmYTUwMCcsXG4gICAgICAgIG9yYW5nZXJlZDogJyNmZjQ1MDAnLFxuICAgICAgICBvcmNoaWQ6ICcjZGE3MGQ2JyxcbiAgICAgICAgcGFsZWdvbGRlbnJvZDogJyNlZWU4YWEnLFxuICAgICAgICBwYWxlZ3JlZW46ICcjOThmYjk4JyxcbiAgICAgICAgcGFsZXR1cnF1b2lzZTogJyNhZmVlZWUnLFxuICAgICAgICBwYWxldmlvbGV0cmVkOiAnI2RiNzA5MycsXG4gICAgICAgIHBhcGF5YXdoaXA6ICcjZmZlZmQ1JyxcbiAgICAgICAgcGVhY2hwdWZmOiAnI2ZmZGFiOScsXG4gICAgICAgIHBlcnU6ICcjY2Q4NTNmJyxcbiAgICAgICAgcGluazogJyNmZmMwY2InLFxuICAgICAgICBwbHVtOiAnI2RkYTBkZCcsXG4gICAgICAgIHBvd2RlcmJsdWU6ICcjYjBlMGU2JyxcbiAgICAgICAgcHVycGxlOiAnIzgwMDA4MCcsXG4gICAgICAgIHB1cnBsZTI6ICcjN2YwMDdmJyxcbiAgICAgICAgcHVycGxlMzogJyNhMDIwZjAnLFxuICAgICAgICByZWJlY2NhcHVycGxlOiAnIzY2MzM5OScsXG4gICAgICAgIHJlZDogJyNmZjAwMDAnLFxuICAgICAgICByb3N5YnJvd246ICcjYmM4ZjhmJyxcbiAgICAgICAgcm95YWxibHVlOiAnIzQxNjllMScsXG4gICAgICAgIHNhZGRsZWJyb3duOiAnIzhiNDUxMycsXG4gICAgICAgIHNhbG1vbjogJyNmYTgwNzInLFxuICAgICAgICBzYW5keWJyb3duOiAnI2Y0YTQ2MCcsXG4gICAgICAgIHNlYWdyZWVuOiAnIzJlOGI1NycsXG4gICAgICAgIHNlYXNoZWxsOiAnI2ZmZjVlZScsXG4gICAgICAgIHNpZW5uYTogJyNhMDUyMmQnLFxuICAgICAgICBzaWx2ZXI6ICcjYzBjMGMwJyxcbiAgICAgICAgc2t5Ymx1ZTogJyM4N2NlZWInLFxuICAgICAgICBzbGF0ZWJsdWU6ICcjNmE1YWNkJyxcbiAgICAgICAgc2xhdGVncmF5OiAnIzcwODA5MCcsXG4gICAgICAgIHNsYXRlZ3JleTogJyM3MDgwOTAnLFxuICAgICAgICBzbm93OiAnI2ZmZmFmYScsXG4gICAgICAgIHNwcmluZ2dyZWVuOiAnIzAwZmY3ZicsXG4gICAgICAgIHN0ZWVsYmx1ZTogJyM0NjgyYjQnLFxuICAgICAgICB0YW46ICcjZDJiNDhjJyxcbiAgICAgICAgdGVhbDogJyMwMDgwODAnLFxuICAgICAgICB0aGlzdGxlOiAnI2Q4YmZkOCcsXG4gICAgICAgIHRvbWF0bzogJyNmZjYzNDcnLFxuICAgICAgICB0dXJxdW9pc2U6ICcjNDBlMGQwJyxcbiAgICAgICAgdmlvbGV0OiAnI2VlODJlZScsXG4gICAgICAgIHdoZWF0OiAnI2Y1ZGViMycsXG4gICAgICAgIHdoaXRlOiAnI2ZmZmZmZicsXG4gICAgICAgIHdoaXRlc21va2U6ICcjZjVmNWY1JyxcbiAgICAgICAgeWVsbG93OiAnI2ZmZmYwMCcsXG4gICAgICAgIHllbGxvd2dyZWVuOiAnIzlhY2QzMidcbiAgICB9O1xuXG4gICAgdmFyIHczY3gxMV8xID0gdzNjeDExO1xuXG4gICAgdmFyIHR5cGUkYiA9IHV0aWxzLnR5cGU7XG5cblxuXG5cblxuICAgIENvbG9yXzEucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXhfMSh0aGlzLl9yZ2IsICdyZ2InKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBPYmplY3Qua2V5cyh3M2N4MTFfMSk7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgIGlmICh3M2N4MTFfMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubmFtZWQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAodzNjeDExXzFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2JfMSh3M2N4MTFfMVtuYW1lXSk7IH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGNvbG9yIG5hbWU6ICcrbmFtZSk7XG4gICAgfTtcblxuICAgIGlucHV0LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDUsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgICAgICAgICAgaWYgKCFyZXN0Lmxlbmd0aCAmJiB0eXBlJGIoaCkgPT09ICdzdHJpbmcnICYmIHczY3gxMV8xW2gudG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25hbWVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJudW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayR0KGFyZ3MsICdyZ2InKTtcbiAgICAgICAgdmFyIHIgPSByZWZbMF07XG4gICAgICAgIHZhciBnID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgcmV0dXJuIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJudW1fMSA9IHJnYjJudW07XG5cbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRjKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG5cblxuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtXzEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEubnVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbnVtJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNSxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlJGQoYXJnc1swXSkgPT09ICdudW1iZXInICYmIGFyZ3NbMF0gPj0gMCAmJiBhcmdzWzBdIDw9IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdudW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJHUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHJvdW5kJDUgPSBNYXRoLnJvdW5kO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiID0gZnVuY3Rpb24ocm5kKSB7XG4gICAgICAgIGlmICggcm5kID09PSB2b2lkIDAgKSBybmQ9dHJ1ZTtcblxuICAgICAgICBpZiAocm5kID09PSBmYWxzZSkgeyByZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyk7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpLm1hcChyb3VuZCQ1KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucmdiYSA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDQpLm1hcChmdW5jdGlvbiAodixpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTwzID8gKHJuZCA9PT0gZmFsc2UgPyB2IDogcm91bmQkNSh2KSkgOiB2O1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2hyb21hXzEucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsncmdiJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dC5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJHUoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAncmdiYScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZShhcmdzKSA9PT0gJ2FycmF5JyAmJiAoYXJncy5sZW5ndGggPT09IDMgfHxcbiAgICAgICAgICAgICAgICBhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlJGUoYXJnc1szXSkgPT0gJ251bWJlcicgJiYgYXJnc1szXSA+PSAwICYmIGFyZ3NbM10gPD0gMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qXG4gICAgICogQmFzZWQgb24gaW1wbGVtZW50YXRpb24gYnkgTmVpbCBCYXJ0bGV0dFxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZWlsYmFydGxldHQvY29sb3ItdGVtcGVyYXR1cmVcbiAgICAgKi9cblxuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2coZyk7XG4gICAgICAgICAgICBiID0gdGVtcCA8IDIwID8gMCA6IC0yNTQuNzY5MzUxODQxMjA5MDIgKyAwLjgyNzQwOTYwNjQwMDczOTUgKiAoYiA9IHRlbXAtMTApICsgMTE1LjY3OTk0NDAxMDY2MTQ3ICogbG9nKGIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IDM1MS45NzY5MDU2NjgwNTY5MyArIDAuMTE0MjA2NDUzNzg0MTY1ICogKHIgPSB0ZW1wLTU1KSAtIDQwLjI1MzY2MzA5MzMyMTI3ICogbG9nKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nKGcpO1xuICAgICAgICAgICAgYiA9IDI1NTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgIH07XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiXzEgPSB0ZW1wZXJhdHVyZTJyZ2I7XG5cbiAgICAvKlxuICAgICAqIEJhc2VkIG9uIGltcGxlbWVudGF0aW9uIGJ5IE5laWwgQmFydGxldHRcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbmVpbGJhcnRsZXR0L2NvbG9yLXRlbXBlcmF0dXJlXG4gICAgICoqL1xuXG5cbiAgICB2YXIgdW5wYWNrJHYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIHJnYjJ0ZW1wZXJhdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJHYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYl8xKHRlbXApO1xuICAgICAgICAgICAgaWYgKChyZ2IkMVsyXSAvIHJnYiQxWzBdKSA+PSAoYiAvIHIpKSB7XG4gICAgICAgICAgICAgICAgbWF4VGVtcCA9IHRlbXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3VuZCQ2KHRlbXApO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMnRlbXBlcmF0dXJlXzEgPSByZ2IydGVtcGVyYXR1cmU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS50ZW1wID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5rZWx2aW4gPVxuICAgIENvbG9yXzEucHJvdG90eXBlLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IydGVtcGVyYXR1cmVfMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWFfMS50ZW1wID1cbiAgICBjaHJvbWFfMS5rZWx2aW4gPVxuICAgIGNocm9tYV8xLnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvcl8xLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQuZm9ybWF0LnRlbXAgPVxuICAgIGlucHV0LmZvcm1hdC5rZWx2aW4gPVxuICAgIGlucHV0LmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHR5cGUkZiA9IHV0aWxzLnR5cGU7XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5hbHBoYSA9IGZ1bmN0aW9uKGEsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlPWZhbHNlO1xuXG4gICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQgJiYgdHlwZSRmKGEpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JnYlszXSA9IGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoW3RoaXMuX3JnYlswXSwgdGhpcy5fcmdiWzFdLCB0aGlzLl9yZ2JbMl0sIGFdLCAncmdiJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JnYlszXTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuY2xpcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmdiLl9jbGlwcGVkIHx8IGZhbHNlO1xuICAgIH07XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5kYXJrZW4gPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsYWIgPSBtZS5sYWIoKTtcbiAgICBcdGxhYlswXSAtPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGFiLCAnbGFiJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHJldHVybiB0aGlzLmRhcmtlbigtYW1vdW50KTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuZGFya2VyID0gQ29sb3JfMS5wcm90b3R5cGUuZGFya2VuO1xuICAgIENvbG9yXzEucHJvdG90eXBlLmJyaWdodGVyID0gQ29sb3JfMS5wcm90b3R5cGUuYnJpZ2h0ZW47XG5cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihtYykge1xuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7IHJldHVybiBzcmNbaV07IH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR5cGUkZyA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQyID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSRnKGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yXzEoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3JfMShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDIoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yID0ge307XG5cbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcblxuXG4gICAgdmFyIG1peCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAzIF07XG5cbiAgICAgICAgdmFyIG1vZGUgPSByZXN0WzBdIHx8ICdscmdiJztcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0gJiYgIXJlc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gdGhlIGZpcnN0IHN1cHBvcnRlZCBtb2RlXG4gICAgICAgICAgICBtb2RlID0gT2JqZWN0LmtleXMoaW50ZXJwb2xhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWludGVycG9sYXRvclttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImludGVycG9sYXRpb24gbW9kZSBcIiArIG1vZGUgKyBcIiBpcyBub3QgZGVmaW5lZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUkaChjb2wxKSAhPT0gJ29iamVjdCcpIHsgY29sMSA9IG5ldyBDb2xvcl8xKGNvbDEpOyB9XG4gICAgICAgIGlmICh0eXBlJGgoY29sMikgIT09ICdvYmplY3QnKSB7IGNvbDIgPSBuZXcgQ29sb3JfMShjb2wyKTsgfVxuICAgICAgICByZXR1cm4gaW50ZXJwb2xhdG9yW21vZGVdKGNvbDEsIGNvbDIsIGYpXG4gICAgICAgICAgICAuYWxwaGEoY29sMS5hbHBoYSgpICsgZiAqIChjb2wyLmFscGhhKCkgLSBjb2wxLmFscGhhKCkpKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUubWl4ID1cbiAgICBDb2xvcl8xLnByb3RvdHlwZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKGNvbDIsIGYpIHtcbiAgICBcdGlmICggZiA9PT0gdm9pZCAwICkgZj0wLjU7XG4gICAgXHR2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBcdHdoaWxlICggbGVuLS0gPiAwICkgcmVzdFsgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDIgXTtcblxuICAgIFx0cmV0dXJuIG1peC5hcHBseSh2b2lkIDAsIFsgdGhpcywgY29sMiwgZiBdLmNvbmNhdCggcmVzdCApKTtcbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUucHJlbXVsdGlwbHkgPSBmdW5jdGlvbihtdXRhdGUpIHtcbiAgICBcdGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICBcdHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgXHR2YXIgYSA9IHJnYlszXTtcbiAgICBcdGlmIChtdXRhdGUpIHtcbiAgICBcdFx0dGhpcy5fcmdiID0gW3JnYlswXSphLCByZ2JbMV0qYSwgcmdiWzJdKmEsIGFdO1xuICAgIFx0XHRyZXR1cm4gdGhpcztcbiAgICBcdH0gZWxzZSB7XG4gICAgXHRcdHJldHVybiBuZXcgQ29sb3JfMShbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV0sICdyZ2InKTtcbiAgICBcdH1cbiAgICB9O1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0dmFyIG1lID0gdGhpcztcbiAgICBcdHZhciBsY2ggPSBtZS5sY2goKTtcbiAgICBcdGxjaFsxXSArPSBsYWJDb25zdGFudHMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yXzEobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yXzEucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJGkgPSB1dGlscy50eXBlO1xuXG4gICAgQ29sb3JfMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obWMsIHZhbHVlLCBtdXRhdGUpIHtcbiAgICAgICAgaWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgICAgICB2YXIgcmVmID0gbWMuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG1vZGUgPSByZWZbMF07XG4gICAgICAgIHZhciBjaGFubmVsID0gcmVmWzFdO1xuICAgICAgICB2YXIgc3JjID0gdGhpc1ttb2RlXSgpO1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtb2RlLmluZGV4T2YoY2hhbm5lbCk7XG4gICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaSh2YWx1ZSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHZhbHVlLmNoYXJBdCgwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKyc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6IHNyY1tpXSArPSArdmFsdWU7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnKic6IHNyY1tpXSAqPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6IHNyY1tpXSAvPSArKHZhbHVlLnN1YnN0cigxKSk7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogc3JjW2ldID0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlJGkodmFsdWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzcmNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCB2YWx1ZSBmb3IgQ29sb3Iuc2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb3V0ID0gbmV3IENvbG9yXzEoc3JjLCBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JnYiA9IG91dC5fcmdiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGNoYW5uZWwgXCIgKyBjaGFubmVsICsgXCIgaW4gbW9kZSBcIiArIG1vZGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzcmM7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJnYiQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIHh5ejAgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5fcmdiO1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoXG4gICAgICAgICAgICB4eXowWzBdICsgZiAqICh4eXoxWzBdLXh5ejBbMF0pLFxuICAgICAgICAgICAgeHl6MFsxXSArIGYgKiAoeHl6MVsxXS14eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0teHl6MFsyXSksXG4gICAgICAgICAgICAncmdiJ1xuICAgICAgICApXG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvci5yZ2IgPSByZ2IkMTtcblxuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQzID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHgxLDIpICogKDEtZikgKyBwb3ckMyh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHkxLDIpICogKDEtZikgKyBwb3ckMyh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQzKHoxLDIpICogKDEtZikgKyBwb3ckMyh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubHJnYiA9IGxyZ2I7XG5cbiAgICB2YXIgbGFiJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGFiID0gbGFiJDE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaHVlMCwgaHVlMSwgc2F0MCwgc2F0MSwgbGJ2MCwgbGJ2MTtcbiAgICAgICAgaWYgKG0uc3Vic3RyKDAsIDEpID09PSAnaCcpIHtcbiAgICAgICAgICAgIChhc3NpZ24gPSB4eXowLCBodWUwID0gYXNzaWduWzBdLCBzYXQwID0gYXNzaWduWzFdLCBsYnYwID0gYXNzaWduWzJdKTtcbiAgICAgICAgICAgIChhc3NpZ24kMSA9IHh5ejEsIGh1ZTEgPSBhc3NpZ24kMVswXSwgc2F0MSA9IGFzc2lnbiQxWzFdLCBsYnYxID0gYXNzaWduJDFbMl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNhdCwgaHVlLCBsYnYsIGRoO1xuXG4gICAgICAgIGlmICghaXNOYU4oaHVlMCkgJiYgIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICAvLyBib3RoIGNvbG9ycyBoYXZlIGh1ZVxuICAgICAgICAgICAgaWYgKGh1ZTEgPiBodWUwICYmIGh1ZTEgLSBodWUwID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxLShodWUwKzM2MCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGh1ZTEgPCBodWUwICYmIGh1ZTAgLSBodWUxID4gMTgwKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWUxKzM2MC1odWUwO1xuICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIGh1ZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBodWUgPSBodWUwICsgZiAqIGRoO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUwKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMDtcbiAgICAgICAgICAgIGlmICgobGJ2MSA9PSAxIHx8IGxidjEgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQwOyB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKGh1ZTEpKSB7XG4gICAgICAgICAgICBodWUgPSBodWUxO1xuICAgICAgICAgICAgaWYgKChsYnYwID09IDEgfHwgbGJ2MCA9PSAwKSAmJiBtICE9ICdoc3YnKSB7IHNhdCA9IHNhdDE7IH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh1ZSA9IE51bWJlci5OYU47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2F0ID09PSB1bmRlZmluZWQpIHsgc2F0ID0gc2F0MCArIGYgKiAoc2F0MSAtIHNhdDApOyB9XG4gICAgICAgIGxidiA9IGxidjAgKyBmICogKGxidjEtbGJ2MCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShbaHVlLCBzYXQsIGxidl0sIG0pO1xuICAgIH07XG5cbiAgICB2YXIgbGNoJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2xjaCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubGNoID0gbGNoJDE7XG4gICAgaW50ZXJwb2xhdG9yLmhjbCA9IGxjaCQxO1xuXG4gICAgdmFyIG51bSQxID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IubnVtID0gbnVtJDE7XG5cbiAgICB2YXIgaGNnJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaGNnID0gaGNnJDE7XG5cbiAgICB2YXIgaHNpJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNpID0gaHNpJDE7XG5cbiAgICB2YXIgaHNsJDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHNsID0gaHNsJDE7XG5cbiAgICB2YXIgaHN2JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgIFx0cmV0dXJuIF9oc3goY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IuaHN2ID0gaHN2JDE7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMSA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yXzEoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDEoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQxKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yXzEoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQzKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMyh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDMoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShjbGlwX3JnYiQyKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG5cbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBwb3ckNSA9IE1hdGgucG93O1xuXG4gICAgdmFyIHNjYWxlID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWFfMSgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkaihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWFfMS5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWFfMS5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hXzEuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJGooY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYV8xKGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQ1KHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSRqKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hXzEoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSRqKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYV8xLmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWFfMS5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMsIF9wb3MpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkaihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYV8xW291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hXzEoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuXG5cblxuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvcl8xKGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JfMShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcl8xKGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICB2YXIgSTAgPSBiZXppZXIoY29sb3JzLnNsaWNlKDAsIDMpKTtcbiAgICAgICAgICAgIHZhciBJMSA9IGJlemllcihjb2xvcnMuc2xpY2UoMiwgNSkpO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodCA8IDAuNSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTAodCoyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSTEoKHQtMC41KSoyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJO1xuICAgIH07XG5cbiAgICB2YXIgYmV6aWVyXzEgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG4gICAgICAgIHZhciBmID0gYmV6aWVyKGNvbG9ycyk7XG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzY2FsZShmKTsgfTtcbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogaW50ZXJwb2xhdGVzIGJldHdlZW4gYSBzZXQgb2YgY29sb3JzIHV6aW5nIGEgYmV6aWVyIHNwbGluZVxuICAgICAqIGJsZW5kIG1vZGUgZm9ybXVsYXMgdGFrZW4gZnJvbSBodHRwOi8vd3d3LnZlbnR1cmUtd2FyZS5jb20va2V2aW4vY29kaW5nL2xldHMtbGVhcm4tbWF0aC1waG90b3Nob3AtYmxlbmQtbW9kZXMvXG4gICAgICovXG5cblxuXG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWFfMSh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hXzEoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMS5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiQxID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSA+IGIgPyBiIDogYTsgfTtcbiAgICB2YXIgbGlnaHRlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYSA6IGI7IH07XG4gICAgdmFyIHNjcmVlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIDI1NSAqICgxIC0gKDEtYS8yNTUpICogKDEtYi8yNTUpKTsgfTtcbiAgICB2YXIgb3ZlcmxheSA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGIgPCAxMjggPyAyICogYSAqIGIgLyAyNTUgOiAyNTUgKiAoMSAtIDIgKiAoMSAtIGEgLyAyNTUgKSAqICggMSAtIGIgLyAyNTUgKSk7IH07XG4gICAgdmFyIGJ1cm4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxIC0gYiAvIDI1NSkgLyAoYS8yNTUpKTsgfTtcbiAgICB2YXIgZG9kZ2UgPSBmdW5jdGlvbiAoYSxiKSB7XG4gICAgICAgIGlmIChhID09PSAyNTUpIHsgcmV0dXJuIDI1NTsgfVxuICAgICAgICBhID0gMjU1ICogKGIgLyAyNTUpIC8gKDEgLSBhIC8gMjU1KTtcbiAgICAgICAgcmV0dXJuIGEgPiAyNTUgPyAyNTUgOiBhXG4gICAgfTtcblxuICAgIC8vICMgYWRkID0gKGEsYikgLT5cbiAgICAvLyAjICAgICBpZiAoYSArIGIgPiAyNTUpIHRoZW4gMjU1IGVsc2UgYSArIGJcblxuICAgIGJsZW5kLm5vcm1hbCA9IGJsZW5kX2YoZWFjaChub3JtYWwpKTtcbiAgICBibGVuZC5tdWx0aXBseSA9IGJsZW5kX2YoZWFjaChtdWx0aXBseSkpO1xuICAgIGJsZW5kLnNjcmVlbiA9IGJsZW5kX2YoZWFjaChzY3JlZW4pKTtcbiAgICBibGVuZC5vdmVybGF5ID0gYmxlbmRfZihlYWNoKG92ZXJsYXkpKTtcbiAgICBibGVuZC5kYXJrZW4gPSBibGVuZF9mKGVhY2goZGFya2VuJDEpKTtcbiAgICBibGVuZC5saWdodGVuID0gYmxlbmRfZihlYWNoKGxpZ2h0ZW4pKTtcbiAgICBibGVuZC5kb2RnZSA9IGJsZW5kX2YoZWFjaChkb2RnZSkpO1xuICAgIGJsZW5kLmJ1cm4gPSBibGVuZF9mKGVhY2goYnVybikpO1xuICAgIC8vIGJsZW5kLmFkZCA9IGJsZW5kX2YoZWFjaChhZGQpKTtcblxuICAgIHZhciBibGVuZF8xID0gYmxlbmQ7XG5cbiAgICAvLyBjdWJlaGVsaXggaW50ZXJwb2xhdGlvblxuICAgIC8vIGJhc2VkIG9uIEQuQS4gR3JlZW4gXCJBIGNvbG91ciBzY2hlbWUgZm9yIHRoZSBkaXNwbGF5IG9mIGFzdHJvbm9taWNhbCBpbnRlbnNpdHkgaW1hZ2VzXCJcbiAgICAvLyBodHRwOi8vYXN0cm9uLXNvYy5pbi9idWxsZXRpbi8xMUp1bmUvMjg5MzkyMDExLnBkZlxuXG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNsaXBfcmdiJDMgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBwb3ckNiA9IE1hdGgucG93O1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBjb3MkMyA9IE1hdGguY29zO1xuXG5cbiAgICB2YXIgY3ViZWhlbGl4ID0gZnVuY3Rpb24oc3RhcnQsIHJvdGF0aW9ucywgaHVlLCBnYW1tYSwgbGlnaHRuZXNzKSB7XG4gICAgICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0PTMwMDtcbiAgICAgICAgaWYgKCByb3RhdGlvbnMgPT09IHZvaWQgMCApIHJvdGF0aW9ucz0tMS41O1xuICAgICAgICBpZiAoIGh1ZSA9PT0gdm9pZCAwICkgaHVlPTE7XG4gICAgICAgIGlmICggZ2FtbWEgPT09IHZvaWQgMCApIGdhbW1hPTE7XG4gICAgICAgIGlmICggbGlnaHRuZXNzID09PSB2b2lkIDAgKSBsaWdodG5lc3M9WzAsMV07XG5cbiAgICAgICAgdmFyIGRoID0gMCwgZGw7XG4gICAgICAgIGlmICh0eXBlJGsobGlnaHRuZXNzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgZGwgPSBsaWdodG5lc3NbMV0gLSBsaWdodG5lc3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICBsaWdodG5lc3MgPSBbbGlnaHRuZXNzLCBsaWdodG5lc3NdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihmcmFjdCkge1xuICAgICAgICAgICAgdmFyIGEgPSBUV09QSSQyICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQ2KGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDMoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMihhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWFfMShjbGlwX3JnYiQzKFtyKjI1NSxnKjI1NSxiKjI1NSwxXSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc3RhcnQgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBpZiAoKHMgPT0gbnVsbCkpIHsgcmV0dXJuIHN0YXJ0OyB9XG4gICAgICAgICAgICBzdGFydCA9IHM7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnJvdGF0aW9ucyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIGlmICgociA9PSBudWxsKSkgeyByZXR1cm4gcm90YXRpb25zOyB9XG4gICAgICAgICAgICByb3RhdGlvbnMgPSByO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5nYW1tYSA9IGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICAgIGlmICgoZyA9PSBudWxsKSkgeyByZXR1cm4gZ2FtbWE7IH1cbiAgICAgICAgICAgIGdhbW1hID0gZztcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuaHVlID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBodWU7IH1cbiAgICAgICAgICAgIGh1ZSA9IGg7XG4gICAgICAgICAgICBpZiAodHlwZSRrKGh1ZSkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZVsxXSAtIGh1ZVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZGggPT09IDApIHsgaHVlID0gaHVlWzFdOyB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYubGlnaHRuZXNzID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgaWYgKChoID09IG51bGwpKSB7IHJldHVybiBsaWdodG5lc3M7IH1cbiAgICAgICAgICAgIGlmICh0eXBlJGsoaCkgPT09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBoO1xuICAgICAgICAgICAgICAgIGRsID0gaFsxXSAtIGhbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtoLGhdO1xuICAgICAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuc2NhbGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjaHJvbWFfMS5zY2FsZShmKTsgfTtcblxuICAgICAgICBmLmh1ZShodWUpO1xuXG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICB2YXIgZGlnaXRzID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuICAgIHZhciByYW5kb21fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvZGUgPSAnIyc7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw2OyBpKyspIHtcbiAgICAgICAgICAgIGNvZGUgKz0gZGlnaXRzLmNoYXJBdChmbG9vciQyKHJhbmRvbSgpICogMTYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbG9yXzEoY29kZSwgJ2hleCcpO1xuICAgIH07XG5cbiAgICB2YXIgbG9nJDEgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IkMyA9IE1hdGguZmxvb3I7XG4gICAgdmFyIGFicyA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2ckMShtaW4pO1xuICAgICAgICAgICAgdmFyIG1heF9sb2cgPSBNYXRoLkxPRzEwRSAqIGxvZyQxKG1heCk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTE7IGkkMTxudW07IGkkMSsrKSB7XG4gICAgICAgICAgICAgICAgbGltaXRzLnB1c2gocG93JDcoMTAsIG1pbl9sb2cgKyAoKGkkMS9udW0pICogKG1heF9sb2cgLSBtaW5fbG9nKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAncScpIHsgLy8gcXVhbnRpbGUgc2NhbGVcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MTsgaSQyPG51bTsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9ICgodmFsdWVzLmxlbmd0aC0xKSAqIGkkMikvbnVtO1xuICAgICAgICAgICAgICAgIHZhciBwYiA9IGZsb29yJDMocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzKGNlbnRyb2lkc1tqJDFdLXZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbWluZGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmRpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3QgPSBqJDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHVzdGVyU2l6ZXNbYmVzdF0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzW2kkNF0gPSBiZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNlbnRyb2lkcyBzdGVwXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NlbnRyb2lkcyA9IG5ldyBBcnJheShudW0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMj0wOyBqJDI8bnVtOyBqJDIrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQyXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkkNT0wOyBpJDU8bjsgaSQ1KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbY2x1c3Rlcl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdICs9IHZhbHVlc1tpJDVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGokMz0wOyBqJDM8bnVtOyBqJDMrKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbaiQzXSAqPSAxL2NsdXN0ZXJTaXplc1tqJDNdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGNvbnZlcmdlbmNlXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQ0PTA7IGokNDxudW07IGokNCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZW50cm9pZHNbaiQ0XSAhPT0gY2VudHJvaWRzW2okNF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNlbnRyb2lkcyA9IG5ld0NlbnRyb2lkcztcbiAgICAgICAgICAgICAgICBuYl9pdGVycysrO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5iX2l0ZXJzID4gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmluaXNoZWQgay1tZWFucyBjbHVzdGVyaW5nXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBwYXJ0IGlzIGJvcnJvd2VkIGZyb20gZ2FicmllbGZsb3IuaXRcbiAgICAgICAgICAgIHZhciBrQ2x1c3RlcnMgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGokNT0wOyBqJDU8bnVtOyBqJDUrKykge1xuICAgICAgICAgICAgICAgIGtDbHVzdGVyc1tqJDVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpJDY9MDsgaSQ2PG47IGkkNisrKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlciA9IGFzc2lnbm1lbnRzW2kkNl07XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2NsdXN0ZXJdLnB1c2godmFsdWVzW2kkNl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRtcEtNZWFuc0JyZWFrcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ2PTA7IGokNjxudW07IGokNisrKSB7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1bMF0pO1xuICAgICAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcy5wdXNoKGtDbHVzdGVyc1tqJDZdW2tDbHVzdGVyc1tqJDZdLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MgPSB0bXBLTWVhbnNCcmVha3Muc29ydChmdW5jdGlvbiAoYSxiKXsgcmV0dXJuIGEtYjsgfSk7XG4gICAgICAgICAgICBsaW1pdHMucHVzaCh0bXBLTWVhbnNCcmVha3NbMF0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ3PTE7IGkkNyA8IHRtcEtNZWFuc0JyZWFrcy5sZW5ndGg7IGkkNys9IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRtcEtNZWFuc0JyZWFrc1tpJDddO1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odikgJiYgKGxpbWl0cy5pbmRleE9mKHYpID09PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGltaXRzLnB1c2godik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfTtcblxuICAgIHZhciBhbmFseXplXzEgPSB7YW5hbHl6ZTogYW5hbHl6ZSwgbGltaXRzOiBsaW1pdHN9O1xuXG4gICAgdmFyIGNvbnRyYXN0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gV0NBRyBjb250cmFzdCByYXRpb1xuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyNjb250cmFzdC1yYXRpb2RlZlxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5sdW1pbmFuY2UoKTtcbiAgICAgICAgdmFyIGwyID0gYi5sdW1pbmFuY2UoKTtcbiAgICAgICAgcmV0dXJuIGwxID4gbDIgPyAobDEgKyAwLjA1KSAvIChsMiArIDAuMDUpIDogKGwyICsgMC4wNSkgLyAobDEgKyAwLjA1KTtcbiAgICB9O1xuXG4gICAgdmFyIHNxcnQkNCA9IE1hdGguc3FydDtcbiAgICB2YXIgYXRhbjIkMiA9IE1hdGguYXRhbjI7XG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG4gICAgdmFyIGNvcyQ0ID0gTWF0aC5jb3M7XG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEwsIEMpIHtcbiAgICAgICAgaWYgKCBMID09PSB2b2lkIDAgKSBMPTE7XG4gICAgICAgIGlmICggQyA9PT0gdm9pZCAwICkgQz0xO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENNQylcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DTUMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yXzEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3JfMShiKTtcbiAgICAgICAgdmFyIHJlZiA9IEFycmF5LmZyb20oYS5sYWIoKSk7XG4gICAgICAgIHZhciBMMSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGExID0gcmVmWzFdO1xuICAgICAgICB2YXIgYjEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IEFycmF5LmZyb20oYi5sYWIoKSk7XG4gICAgICAgIHZhciBMMiA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgYTIgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGIyID0gcmVmJDFbMl07XG4gICAgICAgIHZhciBjMSA9IHNxcnQkNCgoYTEgKiBhMSkgKyAoYjEgKiBiMSkpO1xuICAgICAgICB2YXIgYzIgPSBzcXJ0JDQoKGEyICogYTIpICsgKGIyICogYjIpKTtcbiAgICAgICAgdmFyIHNsID0gTDEgPCAxNi4wID8gMC41MTEgOiAoMC4wNDA5NzUgKiBMMSkgLyAoMS4wICsgKDAuMDE3NjUgKiBMMSkpO1xuICAgICAgICB2YXIgc2MgPSAoKDAuMDYzOCAqIGMxKSAvICgxLjAgKyAoMC4wMTMxICogYzEpKSkgKyAwLjYzODtcbiAgICAgICAgdmFyIGgxID0gYzEgPCAwLjAwMDAwMSA/IDAuMCA6IChhdGFuMiQyKGIxLCBhMSkgKiAxODAuMCkgLyBQSSQyO1xuICAgICAgICB3aGlsZSAoaDEgPCAwKSB7IGgxICs9IDM2MDsgfVxuICAgICAgICB3aGlsZSAoaDEgPj0gMzYwKSB7IGgxIC09IDM2MDsgfVxuICAgICAgICB2YXIgdCA9IChoMSA+PSAxNjQuMCkgJiYgKGgxIDw9IDM0NS4wKSA/ICgwLjU2ICsgYWJzJDEoMC4yICogY29zJDQoKFBJJDIgKiAoaDEgKyAxNjguMCkpIC8gMTgwLjApKSkgOiAoMC4zNiArIGFicyQxKDAuNCAqIGNvcyQ0KChQSSQyICogKGgxICsgMzUuMCkpIC8gMTgwLjApKSk7XG4gICAgICAgIHZhciBjNCA9IGMxICogYzEgKiBjMSAqIGMxO1xuICAgICAgICB2YXIgZiA9IHNxcnQkNChjNCAvIChjNCArIDE5MDAuMCkpO1xuICAgICAgICB2YXIgc2ggPSBzYyAqICgoKGYgKiB0KSArIDEuMCkgLSBmKTtcbiAgICAgICAgdmFyIGRlbEwgPSBMMSAtIEwyO1xuICAgICAgICB2YXIgZGVsQyA9IGMxIC0gYzI7XG4gICAgICAgIHZhciBkZWxBID0gYTEgLSBhMjtcbiAgICAgICAgdmFyIGRlbEIgPSBiMSAtIGIyO1xuICAgICAgICB2YXIgZEgyID0gKChkZWxBICogZGVsQSkgKyAoZGVsQiAqIGRlbEIpKSAtIChkZWxDICogZGVsQyk7XG4gICAgICAgIHZhciB2MSA9IGRlbEwgLyAoTCAqIHNsKTtcbiAgICAgICAgdmFyIHYyID0gZGVsQyAvIChDICogc2MpO1xuICAgICAgICB2YXIgdjMgPSBzaDtcbiAgICAgICAgcmV0dXJuIHNxcnQkNCgodjEgKiB2MSkgKyAodjIgKiB2MikgKyAoZEgyIC8gKHYzICogdjMpKSk7XG4gICAgfTtcblxuICAgIC8vIHNpbXBsZSBFdWNsaWRlYW4gZGlzdGFuY2VcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiLCBtb2RlKSB7XG4gICAgICAgIGlmICggbW9kZSA9PT0gdm9pZCAwICkgbW9kZT0nbGFiJztcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMTk3NilcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXF1YXRpb25zLmh0bWxcbiAgICAgICAgYSA9IG5ldyBDb2xvcl8xKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yXzEoYik7XG4gICAgICAgIHZhciBsMSA9IGEuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgbDIgPSBiLmdldChtb2RlKTtcbiAgICAgICAgdmFyIHN1bV9zcSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgaW4gbDEpIHtcbiAgICAgICAgICAgIHZhciBkID0gKGwxW2ldIHx8IDApIC0gKGwyW2ldIHx8IDApO1xuICAgICAgICAgICAgc3VtX3NxICs9IGQqZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHN1bV9zcSk7XG4gICAgfTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3JfMSwgWyBudWxsIF0uY29uY2F0KCBhcmdzKSApKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gc29tZSBwcmUtZGVmaW5lZCBjb2xvciBzY2FsZXM6XG5cblxuXG5cbiAgICB2YXIgc2NhbGVzID0ge1xuICAgIFx0Y29vbDogZnVuY3Rpb24gY29vbCgpIHsgcmV0dXJuIHNjYWxlKFtjaHJvbWFfMS5oc2woMTgwLDEsLjkpLCBjaHJvbWFfMS5oc2woMjUwLC43LC40KV0pIH0sXG4gICAgXHRob3Q6IGZ1bmN0aW9uIGhvdCgpIHsgcmV0dXJuIHNjYWxlKFsnIzAwMCcsJyNmMDAnLCcjZmYwJywnI2ZmZiddLCBbMCwuMjUsLjc1LDFdKS5tb2RlKCdyZ2InKSB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgICBDb2xvckJyZXdlciBjb2xvcnMgZm9yIGNocm9tYS5qc1xuXG4gICAgICAgIENvcHlyaWdodCAoYykgMjAwMiBDeW50aGlhIEJyZXdlciwgTWFyayBIYXJyb3dlciwgYW5kIFRoZVxuICAgICAgICBQZW5uc3lsdmFuaWEgU3RhdGUgVW5pdmVyc2l0eS5cblxuICAgICAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICAgICAgICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gICAgICAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICAgICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuICAgICAgICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlIGRpc3RyaWJ1dGVkXG4gICAgICAgIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SXG4gICAgICAgIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gICAgICAgIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICAgKi9cblxuICAgIHZhciBjb2xvcmJyZXdlciA9IHtcbiAgICAgICAgLy8gc2VxdWVudGlhbFxuICAgICAgICBPclJkOiBbJyNmZmY3ZWMnLCAnI2ZlZThjOCcsICcjZmRkNDllJywgJyNmZGJiODQnLCAnI2ZjOGQ1OScsICcjZWY2NTQ4JywgJyNkNzMwMWYnLCAnI2IzMDAwMCcsICcjN2YwMDAwJ10sXG4gICAgICAgIFB1QnU6IFsnI2ZmZjdmYicsICcjZWNlN2YyJywgJyNkMGQxZTYnLCAnI2E2YmRkYicsICcjNzRhOWNmJywgJyMzNjkwYzAnLCAnIzA1NzBiMCcsICcjMDQ1YThkJywgJyMwMjM4NTgnXSxcbiAgICAgICAgQnVQdTogWycjZjdmY2ZkJywgJyNlMGVjZjQnLCAnI2JmZDNlNicsICcjOWViY2RhJywgJyM4Yzk2YzYnLCAnIzhjNmJiMScsICcjODg0MTlkJywgJyM4MTBmN2MnLCAnIzRkMDA0YiddLFxuICAgICAgICBPcmFuZ2VzOiBbJyNmZmY1ZWInLCAnI2ZlZTZjZScsICcjZmRkMGEyJywgJyNmZGFlNmInLCAnI2ZkOGQzYycsICcjZjE2OTEzJywgJyNkOTQ4MDEnLCAnI2E2MzYwMycsICcjN2YyNzA0J10sXG4gICAgICAgIEJ1R246IFsnI2Y3ZmNmZCcsICcjZTVmNWY5JywgJyNjY2VjZTYnLCAnIzk5ZDhjOScsICcjNjZjMmE0JywgJyM0MWFlNzYnLCAnIzIzOGI0NScsICcjMDA2ZDJjJywgJyMwMDQ0MWInXSxcbiAgICAgICAgWWxPckJyOiBbJyNmZmZmZTUnLCAnI2ZmZjdiYycsICcjZmVlMzkxJywgJyNmZWM0NGYnLCAnI2ZlOTkyOScsICcjZWM3MDE0JywgJyNjYzRjMDInLCAnIzk5MzQwNCcsICcjNjYyNTA2J10sXG4gICAgICAgIFlsR246IFsnI2ZmZmZlNScsICcjZjdmY2I5JywgJyNkOWYwYTMnLCAnI2FkZGQ4ZScsICcjNzhjNjc5JywgJyM0MWFiNWQnLCAnIzIzODQ0MycsICcjMDA2ODM3JywgJyMwMDQ1MjknXSxcbiAgICAgICAgUmVkczogWycjZmZmNWYwJywgJyNmZWUwZDInLCAnI2ZjYmJhMScsICcjZmM5MjcyJywgJyNmYjZhNGEnLCAnI2VmM2IyYycsICcjY2IxODFkJywgJyNhNTBmMTUnLCAnIzY3MDAwZCddLFxuICAgICAgICBSZFB1OiBbJyNmZmY3ZjMnLCAnI2ZkZTBkZCcsICcjZmNjNWMwJywgJyNmYTlmYjUnLCAnI2Y3NjhhMScsICcjZGQzNDk3JywgJyNhZTAxN2UnLCAnIzdhMDE3NycsICcjNDkwMDZhJ10sXG4gICAgICAgIEdyZWVuczogWycjZjdmY2Y1JywgJyNlNWY1ZTAnLCAnI2M3ZTljMCcsICcjYTFkOTliJywgJyM3NGM0NzYnLCAnIzQxYWI1ZCcsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbEduQnU6IFsnI2ZmZmZkOScsICcjZWRmOGIxJywgJyNjN2U5YjQnLCAnIzdmY2RiYicsICcjNDFiNmM0JywgJyMxZDkxYzAnLCAnIzIyNWVhOCcsICcjMjUzNDk0JywgJyMwODFkNTgnXSxcbiAgICAgICAgUHVycGxlczogWycjZmNmYmZkJywgJyNlZmVkZjUnLCAnI2RhZGFlYicsICcjYmNiZGRjJywgJyM5ZTlhYzgnLCAnIzgwN2RiYScsICcjNmE1MWEzJywgJyM1NDI3OGYnLCAnIzNmMDA3ZCddLFxuICAgICAgICBHbkJ1OiBbJyNmN2ZjZjAnLCAnI2UwZjNkYicsICcjY2NlYmM1JywgJyNhOGRkYjUnLCAnIzdiY2NjNCcsICcjNGViM2QzJywgJyMyYjhjYmUnLCAnIzA4NjhhYycsICcjMDg0MDgxJ10sXG4gICAgICAgIEdyZXlzOiBbJyNmZmZmZmYnLCAnI2YwZjBmMCcsICcjZDlkOWQ5JywgJyNiZGJkYmQnLCAnIzk2OTY5NicsICcjNzM3MzczJywgJyM1MjUyNTInLCAnIzI1MjUyNScsICcjMDAwMDAwJ10sXG4gICAgICAgIFlsT3JSZDogWycjZmZmZmNjJywgJyNmZmVkYTAnLCAnI2ZlZDk3NicsICcjZmViMjRjJywgJyNmZDhkM2MnLCAnI2ZjNGUyYScsICcjZTMxYTFjJywgJyNiZDAwMjYnLCAnIzgwMDAyNiddLFxuICAgICAgICBQdVJkOiBbJyNmN2Y0ZjknLCAnI2U3ZTFlZicsICcjZDRiOWRhJywgJyNjOTk0YzcnLCAnI2RmNjViMCcsICcjZTcyOThhJywgJyNjZTEyNTYnLCAnIzk4MDA0MycsICcjNjcwMDFmJ10sXG4gICAgICAgIEJsdWVzOiBbJyNmN2ZiZmYnLCAnI2RlZWJmNycsICcjYzZkYmVmJywgJyM5ZWNhZTEnLCAnIzZiYWVkNicsICcjNDI5MmM2JywgJyMyMTcxYjUnLCAnIzA4NTE5YycsICcjMDgzMDZiJ10sXG4gICAgICAgIFB1QnVHbjogWycjZmZmN2ZiJywgJyNlY2UyZjAnLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM2N2E5Y2YnLCAnIzM2OTBjMCcsICcjMDI4MThhJywgJyMwMTZjNTknLCAnIzAxNDYzNiddLFxuICAgICAgICBWaXJpZGlzOiBbJyM0NDAxNTQnLCAnIzQ4Mjc3NycsICcjM2Y0YThhJywgJyMzMTY3OGUnLCAnIzI2ODM4ZicsICcjMWY5ZDhhJywgJyM2Y2NlNWEnLCAnI2I2ZGUyYicsICcjZmVlODI1J10sXG5cbiAgICAgICAgLy8gZGl2ZXJnaW5nXG5cbiAgICAgICAgU3BlY3RyYWw6IFsnIzllMDE0MicsICcjZDUzZTRmJywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDhiJywgJyNmZmZmYmYnLCAnI2U2ZjU5OCcsICcjYWJkZGE0JywgJyM2NmMyYTUnLCAnIzMyODhiZCcsICcjNWU0ZmEyJ10sXG4gICAgICAgIFJkWWxHbjogWycjYTUwMDI2JywgJyNkNzMwMjcnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZDllZjhiJywgJyNhNmQ5NmEnLCAnIzY2YmQ2MycsICcjMWE5ODUwJywgJyMwMDY4MzcnXSxcbiAgICAgICAgUmRCdTogWycjNjcwMDFmJywgJyNiMjE4MmInLCAnI2Q2NjA0ZCcsICcjZjRhNTgyJywgJyNmZGRiYzcnLCAnI2Y3ZjdmNycsICcjZDFlNWYwJywgJyM5MmM1ZGUnLCAnIzQzOTNjMycsICcjMjE2NmFjJywgJyMwNTMwNjEnXSxcbiAgICAgICAgUGlZRzogWycjOGUwMTUyJywgJyNjNTFiN2QnLCAnI2RlNzdhZScsICcjZjFiNmRhJywgJyNmZGUwZWYnLCAnI2Y3ZjdmNycsICcjZTZmNWQwJywgJyNiOGUxODYnLCAnIzdmYmM0MScsICcjNGQ5MjIxJywgJyMyNzY0MTknXSxcbiAgICAgICAgUFJHbjogWycjNDAwMDRiJywgJyM3NjJhODMnLCAnIzk5NzBhYicsICcjYzJhNWNmJywgJyNlN2Q0ZTgnLCAnI2Y3ZjdmNycsICcjZDlmMGQzJywgJyNhNmRiYTAnLCAnIzVhYWU2MScsICcjMWI3ODM3JywgJyMwMDQ0MWInXSxcbiAgICAgICAgUmRZbEJ1OiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA5MCcsICcjZmZmZmJmJywgJyNlMGYzZjgnLCAnI2FiZDllOScsICcjNzRhZGQxJywgJyM0NTc1YjQnLCAnIzMxMzY5NSddLFxuICAgICAgICBCckJHOiBbJyM1NDMwMDUnLCAnIzhjNTEwYScsICcjYmY4MTJkJywgJyNkZmMyN2QnLCAnI2Y2ZThjMycsICcjZjVmNWY1JywgJyNjN2VhZTUnLCAnIzgwY2RjMScsICcjMzU5NzhmJywgJyMwMTY2NWUnLCAnIzAwM2MzMCddLFxuICAgICAgICBSZEd5OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZmZmZmZmJywgJyNlMGUwZTAnLCAnI2JhYmFiYScsICcjODc4Nzg3JywgJyM0ZDRkNGQnLCAnIzFhMWExYSddLFxuICAgICAgICBQdU9yOiBbJyM3ZjNiMDgnLCAnI2IzNTgwNicsICcjZTA4MjE0JywgJyNmZGI4NjMnLCAnI2ZlZTBiNicsICcjZjdmN2Y3JywgJyNkOGRhZWInLCAnI2IyYWJkMicsICcjODA3M2FjJywgJyM1NDI3ODgnLCAnIzJkMDA0YiddLFxuXG4gICAgICAgIC8vIHF1YWxpdGF0aXZlXG5cbiAgICAgICAgU2V0MjogWycjNjZjMmE1JywgJyNmYzhkNjInLCAnIzhkYTBjYicsICcjZTc4YWMzJywgJyNhNmQ4NTQnLCAnI2ZmZDkyZicsICcjZTVjNDk0JywgJyNiM2IzYjMnXSxcbiAgICAgICAgQWNjZW50OiBbJyM3ZmM5N2YnLCAnI2JlYWVkNCcsICcjZmRjMDg2JywgJyNmZmZmOTknLCAnIzM4NmNiMCcsICcjZjAwMjdmJywgJyNiZjViMTcnLCAnIzY2NjY2NiddLFxuICAgICAgICBTZXQxOiBbJyNlNDFhMWMnLCAnIzM3N2ViOCcsICcjNGRhZjRhJywgJyM5ODRlYTMnLCAnI2ZmN2YwMCcsICcjZmZmZjMzJywgJyNhNjU2MjgnLCAnI2Y3ODFiZicsICcjOTk5OTk5J10sXG4gICAgICAgIFNldDM6IFsnIzhkZDNjNycsICcjZmZmZmIzJywgJyNiZWJhZGEnLCAnI2ZiODA3MicsICcjODBiMWQzJywgJyNmZGI0NjInLCAnI2IzZGU2OScsICcjZmNjZGU1JywgJyNkOWQ5ZDknLCAnI2JjODBiZCcsICcjY2NlYmM1JywgJyNmZmVkNmYnXSxcbiAgICAgICAgRGFyazI6IFsnIzFiOWU3NycsICcjZDk1ZjAyJywgJyM3NTcwYjMnLCAnI2U3Mjk4YScsICcjNjZhNjFlJywgJyNlNmFiMDInLCAnI2E2NzYxZCcsICcjNjY2NjY2J10sXG4gICAgICAgIFBhaXJlZDogWycjYTZjZWUzJywgJyMxZjc4YjQnLCAnI2IyZGY4YScsICcjMzNhMDJjJywgJyNmYjlhOTknLCAnI2UzMWExYycsICcjZmRiZjZmJywgJyNmZjdmMDAnLCAnI2NhYjJkNicsICcjNmEzZDlhJywgJyNmZmZmOTknLCAnI2IxNTkyOCddLFxuICAgICAgICBQYXN0ZWwyOiBbJyNiM2UyY2QnLCAnI2ZkY2RhYycsICcjY2JkNWU4JywgJyNmNGNhZTQnLCAnI2U2ZjVjOScsICcjZmZmMmFlJywgJyNmMWUyY2MnLCAnI2NjY2NjYyddLFxuICAgICAgICBQYXN0ZWwxOiBbJyNmYmI0YWUnLCAnI2IzY2RlMycsICcjY2NlYmM1JywgJyNkZWNiZTQnLCAnI2ZlZDlhNicsICcjZmZmZmNjJywgJyNlNWQ4YmQnLCAnI2ZkZGFlYycsICcjZjJmMmYyJ10sXG4gICAgfTtcblxuICAgIC8vIGFkZCBsb3dlcmNhc2UgYWxpYXNlcyBmb3IgY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaGVzXG4gICAgZm9yICh2YXIgaSQxID0gMCwgbGlzdCQxID0gT2JqZWN0LmtleXMoY29sb3JicmV3ZXIpOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdCQxW2kkMV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIG9wZXJhdG9ycyAtLT4gbW9kaWZ5IGV4aXN0aW5nIENvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gaW50ZXJwb2xhdG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG4gICAgLy8gZ2VuZXJhdG9ycyAtLSA+IGNyZWF0ZSBuZXcgY29sb3JzXG4gICAgY2hyb21hXzEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hXzEuYmV6aWVyID0gYmV6aWVyXzE7XG4gICAgY2hyb21hXzEuYmxlbmQgPSBibGVuZF8xO1xuICAgIGNocm9tYV8xLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWFfMS5taXggPSBjaHJvbWFfMS5pbnRlcnBvbGF0ZSA9IG1peDtcbiAgICBjaHJvbWFfMS5yYW5kb20gPSByYW5kb21fMTtcbiAgICBjaHJvbWFfMS5zY2FsZSA9IHNjYWxlO1xuXG4gICAgLy8gb3RoZXIgdXRpbGl0eSBtZXRob2RzXG4gICAgY2hyb21hXzEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYV8xLmNvbnRyYXN0ID0gY29udHJhc3Q7XG4gICAgY2hyb21hXzEuZGVsdGFFID0gZGVsdGFFO1xuICAgIGNocm9tYV8xLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hXzEubGltaXRzID0gYW5hbHl6ZV8xLmxpbWl0cztcbiAgICBjaHJvbWFfMS52YWxpZCA9IHZhbGlkO1xuXG4gICAgLy8gc2NhbGVcbiAgICBjaHJvbWFfMS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWFfMS5jb2xvcnMgPSB3M2N4MTFfMTtcbiAgICBjaHJvbWFfMS5icmV3ZXIgPSBjb2xvcmJyZXdlcl8xO1xuXG4gICAgdmFyIGNocm9tYV9qcyA9IGNocm9tYV8xO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///792
`)}},__webpack_module_cache__={};function __webpack_require__(i){var g=__webpack_module_cache__[i];if(g!==void 0)return g.exports;var j=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(j.exports,j,j.exports,__webpack_require__),j.exports}__webpack_require__.n=i=>{var g=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(g,{a:g}),g},__webpack_require__.d=(i,g)=>{for(var j in g)__webpack_require__.o(g,j)&&!__webpack_require__.o(i,j)&&Object.defineProperty(i,j,{enumerable:!0,get:g[j]})},__webpack_require__.o=(i,g)=>Object.prototype.hasOwnProperty.call(i,g),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(773);return __webpack_exports__})()})})(bundle);var bundleExports=bundle.exports;const svgToEx=getDefaultExportFromCjs(bundleExports);function Anime(){const i=reactExports.useRef(null),g=reactExports.useRef(null),j=`
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M 10,30
                    A 20,20 0,0,1 50,30
                    A 20,20 0,0,1 90,30
                    Q 90,60 50,90
                    Q 10,60 10,30 z"/>
        </svg>
    `,[et,rt]=reactExports.useState("Copy");reactExports.useEffect(()=>{g.current&&(g.current.innerText=j)},[]);const It=()=>{const{hasErrors:gn,errors:Xn,content:En}=svgToEx.convert(g.current.value);gn&&console.error(Xn),i.current&&(i.current.innerText=JSON.stringify(En))},_t=async()=>{let gn="";i.current&&(gn=i.current.value);try{await navigator.clipboard.writeText(gn),rt("Copied!"),setTimeout(()=>{rt("Copy")},2e3)}catch(Xn){console.error("Failed to copy text: ",Xn),rt("Copy Error")}};return jsxRuntimeExports.jsxs("div",{className:"SVG",children:[jsxRuntimeExports.jsxs("div",{className:"SVG-header",children:[jsxRuntimeExports.jsxs("h1",{children:[jsxRuntimeExports.jsx("a",{href:"https://github.com/excalidraw/svg-to-excalidraw",target:"_blank",children:"SVG to Excalidraw"}),"DEMO"]}),jsxRuntimeExports.jsx("h2",{children:"Steps"}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsx("li",{children:"Paste the raw string of your SVG in the textarea below."}),jsxRuntimeExports.jsx("li",{children:'Click the "Convert" button. This will generate raw JSON below the button'}),jsxRuntimeExports.jsx("li",{children:"Select and copy ALL the generated JSON"}),jsxRuntimeExports.jsx("li",{children:"Navigate to your excalidraw session. Paste (cmd/ctrl + v) into your session. You should see something that resembles your svg."}),jsxRuntimeExports.jsx("li",{children:"Rinse and Repeat as needed :)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"SVG-content",children:[jsxRuntimeExports.jsxs("div",{className:"inputarea",children:[jsxRuntimeExports.jsx("div",{className:"title",children:"SVG String:"}),jsxRuntimeExports.jsx("textarea",{ref:g,id:"svg-str-textarea",rows:"6",cols:"80"}),jsxRuntimeExports.jsx("div",{className:"btn",children:jsxRuntimeExports.jsx("button",{onClick:It,id:"convert-btn",children:"Convert"})})]}),jsxRuntimeExports.jsxs("div",{className:"inputarea",children:[jsxRuntimeExports.jsx("div",{className:"title",children:"Excalidraw Output:"}),jsxRuntimeExports.jsx("textarea",{ref:i,id:"svg-str-textarea",rows:"6",cols:"80"}),jsxRuntimeExports.jsx("div",{className:"btn",children:jsxRuntimeExports.jsx("button",{onClick:_t,id:"convert-btn",children:et})})]})]})]})}function App(){const[i,g]=reactExports.useState(0),[j,et]=reactExports.useState("zh-CN"),[rt,It]=reactExports.useState([]),[_t,gn]=reactExports.useState({}),[Xn,En]=reactExports.useState({}),[zn,er]=reactExports.useState(!0),[tr,$t]=reactExports.useState(null),[Vt,_]=reactExports.useState(0),[Et,ot]=reactExports.useState(!1),[it]=reactExports.useState([{code:"en",label:"English"},{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}]),nt=it.map(st=>jsxRuntimeExports.jsx("option",{value:st.code,children:st.label},st.label));reactExports.useEffect(()=>{const tt=new URLSearchParams(window.location.search).get("lang");tt&&ht(tt);const xt=localStorage.getItem("language");xt&&ht(xt);const St=JSON.parse(localStorage.getItem("excalidraw")+"");St!=""&&It(St);const Zt=JSON.parse(localStorage.getItem("files")+"");Zt!=""&&En(Zt);const Nt=JSON.parse(localStorage.getItem("appState")+"");Nt!=""&&gn(Nt),(Nt==null?void 0:Nt.collaborators)!=null&&delete Nt.collaborators;const Yt=new URLSearchParams(window.location.search).get("theme");Yt&&(Nt.theme=Yt)},[]),reactExports.useEffect(()=>{const st=tt=>{er(!1),console.log("页面即将关闭"),localStorage.setItem("excalidraw",JSON.stringify(tr.getSceneElements()));let xt=tr.getSceneElementsIncludingDeleted(),St=tr.getSceneElements();const Zt=xt.filter(dt=>!St.some(Yt=>dt.id===Yt.id)),Nt=JSON.parse(localStorage.getItem("files")+"");for(let dt in Nt)Zt.forEach(Yt=>{Yt.type=="image"&&Yt.fileId==dt&&delete Nt[dt]});localStorage.setItem("files",JSON.stringify(Nt))};return window.addEventListener("beforeunload",st),()=>{window.removeEventListener("beforeunload",st)}},[tr]);const ht=st=>{localStorage.setItem("language",st),et(st),g(i+1)},Bt=(st,tt,xt)=>{zn&&(localStorage.setItem("excalidraw",JSON.stringify(st)),localStorage.setItem("appState",JSON.stringify(tt)),localStorage.setItem("files",JSON.stringify(xt)))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Vt==0&&jsxRuntimeExports.jsx("div",{style:{height:"100vh",width:"100vw"},children:jsxRuntimeExports.jsxs(mainExports.Excalidraw,{excalidrawAPI:st=>$t(st),initialData:{elements:rt,appState:_t,files:Xn},langCode:j,onChange:Bt,children:[jsxRuntimeExports.jsx(mainExports.WelcomeScreen,{}),jsxRuntimeExports.jsxs(mainExports.MainMenu,{children:[jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.LoadScene,{}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.SaveToActiveFile,{}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.Export,{}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.SaveAsImage,{}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.Help,{}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.ClearCanvas,{}),jsxRuntimeExports.jsx("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:"0.5rem 0"}}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.Socials,{}),jsxRuntimeExports.jsx("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:"0.5rem 0"}}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.ToggleTheme,{}),jsxRuntimeExports.jsx("select",{className:"dropdown-select dropdown-select__language",value:j,onChange:({target:st})=>ht(st.value),style:{margin:"0.5rem 0",width:"100%"},children:nt}),jsxRuntimeExports.jsxs("button",{onClick:()=>_(1),"data-testid":"clear-canvas-button","aria-label":"Excalidraw Anime",type:"button",className:"dropdown-menu-item dropdown-menu-item-base",title:"Excalidraw Anime",children:[jsxRuntimeExports.jsx("div",{className:"dropdown-menu-item__icon",children:jsxRuntimeExports.jsx("svg",{className:"selfsvg",viewBox:"0 0 1024 1024","p-id":"5421",children:jsxRuntimeExports.jsx("path",{d:"M768 170.667l85.333 128h-128l-85.333-128h-85.333l85.333 128H512l-85.333-128h-85.334l85.334 128h-128l-85.334-128h-42.666c-46.934 0-84.907 38.4-84.907 85.333l-0.427 512c0 46.933 38.4 85.333 85.334 85.333h682.666c46.934 0 85.334-38.4 85.334-85.333V170.667H768z m-288 480L426.667 768l-53.334-117.333L256 597.333 373.333 544l53.334-117.333L480 544l117.333 53.333L480 650.667zM722.773 509.44l-40.106 87.893-40.107-87.893-87.893-40.107 87.893-40.106 40.107-87.894 40.106 87.894 87.894 40.106-87.894 40.107z","p-id":"5422"})})}),jsxRuntimeExports.jsx("div",{className:"dropdown-menu-item__text",children:"Excalidraw Anime"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>tr.toggleSidebar({name:"svg"}),"data-testid":"clear-canvas-button","aria-label":"Excalidraw SVG",type:"button",className:"dropdown-menu-item dropdown-menu-item-base",title:"Excalidraw SVG",children:[jsxRuntimeExports.jsx("div",{className:"dropdown-menu-item__icon",children:jsxRuntimeExports.jsx("svg",{className:"selfsvg",viewBox:"0 0 1024 1024","p-id":"4319",children:jsxRuntimeExports.jsx("path",{d:"M354.40128 0c-87.04 0-157.44 70.55872-157.44 157.59872v275.68128H78.72c-21.6576 0-39.36256 17.69984-39.36256 39.36256v236.31872c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.24128v118.08256c0 87.04 70.4 157.59872 157.44 157.59872h472.63744c87.04 0 157.59872-70.55872 157.59872-157.59872V315.0336c0-41.74848-38.9888-81.93024-107.52-149.27872l-29.11744-29.12256L818.87744 107.52C751.5392 38.9888 711.39328 0 669.59872 0H354.4064z m0 78.72h287.20128c28.35456 7.0912 27.99616 42.1376 27.99616 76.8v120.16128c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.07744c39.38816 0 78.87872-0.0256 78.87872 39.36256v512c0 43.32032-35.55328 78.87872-78.87872 78.87872H354.4064c-43.32544 0-78.72-35.5584-78.72-78.87872v-118.08256h393.91744c21.66272 0 39.36256-17.69472 39.36256-39.35744V472.64256c0-21.66272-17.69984-39.36256-39.36256-39.36256H275.68128V157.59872c0-43.32032 35.39456-78.87872 78.72-78.87872z m-115.2 426.72128c17.28 0 32.64 3.2 46.08 9.6l-7.68 18.23744c-13.44-5.76-26.24-8.63744-38.4-8.63744-10.24 0-17.92 2.23744-23.04 6.71744s-7.68 10.56256-7.68 18.24256c0 8.96 1.92 15.67744 5.76 20.15744 4.48 3.84 15.03744 9.6 31.67744 17.28 17.28 7.04 28.48256 14.40256 33.60256 22.08256 5.76 7.04 8.63744 16 8.63744 26.88 0 14.72-5.12 26.55744-15.36 35.51744s-24.96 13.44-44.16 13.44c-18.56 0-33.28-2.56-44.16-7.68v-21.12c15.36 6.4 30.08 9.6 44.16 9.6 12.8 0 22.08256-2.23744 27.84256-6.71744 6.4-4.48 9.6-11.52 9.6-21.12 0-7.68-2.24256-14.08-6.72256-19.2-3.2-3.2-15.03744-9.28256-35.51744-18.24256-13.44-6.4-23.04-13.44-28.8-21.12s-8.64256-17.59744-8.64256-29.75744c0-13.44 4.48-24.00256 13.44-31.68256 9.6-8.32 22.72256-12.47744 39.36256-12.47744z m295.68 0c17.92 0 33.92 3.2 48 9.6l-8.64256 20.15744c-14.08-7.04-27.83744-10.55744-41.27744-10.55744-18.56 0-33.28 6.07744-44.16 18.23744s-16.32256 29.76256-16.32256 52.80256c0 23.04 4.80256 40.63744 14.40256 52.79744 10.24 11.52 25.6 17.28 46.08 17.28 9.6 0 19.84-1.28 30.72-3.84v-51.84h-35.52256v-20.15744h57.6v86.4c-17.92 5.76-37.43744 8.63744-58.55744 8.63744-23.68 0-42.56256-7.68-56.64256-23.04s-21.12-37.76-21.12-67.2c0-28.16 7.36256-49.92 22.08256-65.28 15.36-16 36.48-23.99744 63.36-23.99744z m-235.20256 1.92h24.00256l35.51744 111.36c3.2 10.88 6.72256 24.32 10.56256 40.32 1.92-11.52 5.43744-25.28256 10.55744-41.28256l35.52256-110.39744h23.04L380.3136 683.03872H358.2464L299.6736 507.36128z","p-id":"4320"})})}),jsxRuntimeExports.jsx("div",{className:"dropdown-menu-item__text",children:"Excalidraw SVG"})]}),jsxRuntimeExports.jsx(mainExports.MainMenu.DefaultItems.ChangeCanvasBackground,{})]}),jsxRuntimeExports.jsxs(mainExports.Sidebar,{name:"svg",docked:Et,onDock:ot,style:{width:"100%"},children:[jsxRuntimeExports.jsx(mainExports.Sidebar.Header,{}),jsxRuntimeExports.jsx(Anime,{})]})]},i)}),Vt==1&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"back",onClick:()=>_(0),children:jsxRuntimeExports.jsx("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4364",width:"200",height:"200",children:jsxRuntimeExports.jsx("path",{d:"M608 736c-6.4 0-19.2 0-25.6-6.4l-192-192C384 524.8 384 499.2 390.4 486.4l192-192c12.8-12.8 32-12.8 44.8 0s12.8 32 0 44.8L460.8 512l166.4 166.4c12.8 12.8 12.8 32 0 44.8C627.2 736 614.4 736 608 736z",fill:"#272636","p-id":"4365"})})}),jsxRuntimeExports.jsx(Anime$1,{})]})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
